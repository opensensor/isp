[  336.086887] TX ISP driver initializing with new subdevice management system...
[  336.086910] *** Frame generation work queue initialized ***
[  336.086916] *** CREATING VIC DEVICE STRUCTURE AND LINKING TO ISP CORE ***
[  336.086922] *** tx_isp_create_vic_device: Creating VIC device structure ***
[  336.086930] *** VIC DEVICE ALLOCATED: 85219400 (size=0x21c bytes) ***
[  336.086936] *** VIC DEVICE: Set NV12 format magic number 0x3231564e at offset 0xc ***
[  336.086942] *** CRITICAL: Mapping DUAL VIC register spaces for complete VIC control ***
[  336.086948] *** Primary VIC registers mapped: b33e0000 (0x133e0000) ***
[  336.086954] *** Secondary VIC registers mapped: b0023000 (0x10023000) ***
[  336.086960] *** CRITICAL: VIC buffer allocation DEFERRED to prevent Wyze Cam memory exhaustion ***
[  336.086966] *** Buffers will be allocated on-demand during QBUF operations ***
[  336.086972] *** VIC: Buffer lists initialized - allocation deferred to prevent memory pressure ***
[  336.086978] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[  336.086983] *** tx_isp_get_sensor: No real sensor modules found - returning NULL ***
[  336.086989] *** CRITICAL: VIC DEVICE LINKED TO ISP CORE ***
[  336.086994]   isp_dev->vic_dev = 85219400
[  336.087000]   vic_dev->sd.isp = 80480000
[  336.087006]   vic_dev->sd.ops = c06a8bb4
[  336.087011]   vic_dev->vic_regs = b33e0000
[  336.087017]   vic_dev->state = 1
[  336.087022]   vic_dev dimensions = 1920x1080
[  336.087028] *** tx_isp_create_vic_device: VIC device creation complete ***
[  336.087033] *** NO MORE 'NO VIC DEVICE' ERROR SHOULD OCCUR ***
[  336.087039] *** VIN DEVICE CREATION DEFERRED TO tx_isp_core_probe (after memory mappings) ***
[  336.087044] *** This fixes the 'ISP core registers not available' error ***
[  336.092402] tx_isp_platform_probe called
[  336.102468] TX ISP driver initialized successfully
[  336.102480] Device nodes created:
[  336.102485]   /dev/tx-isp (major=10, minor=dynamic)
[  336.102490]   /proc/jz/isp/isp-w02
[  336.102495] I2C infrastructure prepared for dynamic sensor registration
[  336.102500] I2C devices will be created when sensors register via IOCTL
[  336.102506] *** INITIALIZING SUBDEVICE MANAGEMENT SYSTEM ***
[  336.102512] *** REGISTERING SUBDEVICES AT OFFSET 0x38 FOR tx_isp_video_link_stream ***
[  336.102518] *** REGISTERED VIC SUBDEV AT INDEX 0 WITH VIDEO OPS ***
[  336.102527] VIC subdev: 85219400, ops: c06a8bb4, video: c06a8bfc, s_stream: c0677398
[  336.102533] *** REGISTERED CORE SUBDEV AT INDEX 4 ***
[  336.102547] *** CORE DEV ALLOCATED AND LINKED DURING PROBE: 85f1e000 ***
[  336.102553] *** REGISTERING PLATFORM DEVICES FOR DUAL IRQ SETUP (37 + 38) ***
[  336.105752] *** CSI platform device registered for IRQ 38 (isp-w02) ***
[  336.108329] *** VIC platform device registered for IRQ 37 (isp-m0) ***
[  336.110816] *** VIN platform device registered for IRQ 37 (isp-m0) ***
[  336.116892] *** FS platform device registered for IRQ 38 (isp-w02) ***
[  336.119490] *** Core platform device registered for IRQ 37 (isp-m0) ***
[  336.119503] *** ALL PLATFORM DEVICES REGISTERED - SHOULD SEE IRQ 37 + 38 IN /proc/interrupts ***
[  336.119510] *** TX ISP SUBDEV PLATFORM DRIVERS REGISTRATION ***
[  336.119562] *** tx_isp_vic_probe: Starting VIC device probe ***
[  336.119571] *** tx_isp_subdev_init: CALLED for device 'isp-w02' ***
[  336.119580] *** tx_isp_subdev_init: pdev=c06a8058, sd=85f1e400, ops=c06a8bb4 ***
[  336.119586] *** tx_isp_subdev_init: ourISPdev=80480000 ***
[  336.119593] *** tx_isp_subdev_init: ops=c06a8bb4, ops->core=c06a8bc8 ***
[  336.119599] *** tx_isp_subdev_init: ops->core->init=c0660650 ***
[  336.119606] *** tx_isp_subdev_init: Set sd->dev=c06a8068, sd->pdev=c06a8058 ***
[  336.119613] *** tx_isp_subdev_init: VIC device linked and registered at slot 1 ***
[  336.119619] tx_isp_module_init: Module initialized for isp-w02
[  336.119625] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[  336.119634] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06a8058, sd=85f1e400, ourISPdev=80480000 ***
[  336.119641] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w02' to ourISPdev=80480000 ***
[  336.119647] *** DEBUG: Device name comparison - checking 'isp-w02' ***
[  336.119652] *** DEBUG: About to check device name matches ***
[  336.119658] *** DEBUG: VIC DEVICE NAME MATCHED! Processing VIC device linking ***
[  336.119664] *** DEBUG: Retrieved vic_dev from subdev data: 85f1e400 ***
[  336.119670] *** DEBUG: About to set ourISPdev->vic_dev = 85f1e400 ***
[  336.119676] *** DEBUG: ourISPdev before linking: 80480000 ***
[  336.119682] *** DEBUG: ourISPdev->vic_dev set to: 85f1e400 ***
[  336.119688] *** VIC AUTO-LINK: Registering VIC IRQ immediately after device linking ***
[  336.119695] *** tx_isp_request_irq: platform_get_irq returned 37 for device isp-w02 ***
[  336.119702] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 37 (device: isp-w02) ***
[  336.119708] *** tx_isp_request_irq: IRQ 37 LEFT ENABLED (working version behavior) ***
[  336.119715] *** tx_isp_request_irq: IRQ 37 registered successfully for isp-w02 ***
[  336.119720] *** VIC AUTO-LINK: VIC IRQ registered successfully ***
[  336.119726] *** VIC AUTO-LINK: Using existing VIC register mapping (0x133e0000) - NOT remapping ***
[  336.119732] *** VIC AUTO-LINK: Registers not mapped - cannot register interrupt ***
[  336.119738] *** tx_isp_vic_probe: VIC device initialized successfully ***
[  336.119744] VIC device: vic_dev=85f1e400, size=676
[  336.119750]   sd: 85f1e400
[  336.119755]   state: 1
[  336.126896] tx_isp_csi_probe
[  336.129374] VIN: vin_probe: starting VIN probe = 0x0
[  336.129389] VIN: vin_probe: registers mapped = 0x13300000
[  336.129395] VIN: vin_probe: IRQ obtained = 0x25
[  336.129400] VIN: vin_probe: VIN integrated into ISP core - no separate clock needed = 0x0
[  336.129407] *** tx_isp_subdev_init: CALLED for device 'isp-w01' ***
[  336.129416] *** tx_isp_subdev_init: pdev=c06a7e38, sd=80551400, ops=c06a9b74 ***
[  336.129422] *** tx_isp_subdev_init: ourISPdev=80480000 ***
[  336.129429] *** tx_isp_subdev_init: ops=c06a9b74, ops->core=c06a9b94 ***
[  336.129435] *** tx_isp_subdev_init: ops->core->init=c0682ffc ***
[  336.129442] *** tx_isp_subdev_init: Set sd->dev=c06a7e48, sd->pdev=c06a7e38 ***
[  336.129448] *** tx_isp_subdev_init: NOT A SENSOR - ops=c06a9b74 ***
[  336.129456] *** tx_isp_subdev_init: ops->sensor=  (null), csi_subdev_ops=c06a8c3c ***
[  336.129462] tx_isp_module_init: Module initialized for isp-w01
[  336.129468] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[  336.129476] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06a7e38, sd=80551400, ourISPdev=80480000 ***
[  336.129484] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w01' to ourISPdev=80480000 ***
[  336.129490] *** DEBUG: Device name comparison - checking 'isp-w01' ***
[  336.129495] *** DEBUG: About to check device name matches ***
[  336.129500] *** DEBUG: VIN device name matched! Setting up VIN device ***
[  336.129506] *** LINKED VIN device: 80551400 ***
[  336.129514] *** VIN SUBDEV OPS CONFIGURED: core=c06a9b94, video=c06a9b88, s_stream=c06833e4 ***
[  336.129521] *** REGISTERED VIN SUBDEV AT SLOT 2 WITH VIDEO OPS ***
[  336.129527] VIN: vin_probe: VIN probe completed successfully = 0x0
[  336.131994] *** tx_isp_fs_probe: Memory-safe implementation ***
[  336.132009] *** tx_isp_subdev_init: CALLED for device 'tx-isp-fs' ***
[  336.132018] *** tx_isp_subdev_init: pdev=c06a7cc0, sd=80551600, ops=c06a8cf4 ***
[  336.132024] *** tx_isp_subdev_init: ourISPdev=80480000 ***
[  336.132031] *** tx_isp_subdev_init: ops=c06a8cf4, ops->core=c06a8d14 ***
[  336.132037] *** tx_isp_subdev_init: ops->core->init=c06787bc ***
[  336.132044] *** tx_isp_subdev_init: Set sd->dev=c06a7cd0, sd->pdev=c06a7cc0 ***
[  336.132050] *** tx_isp_subdev_init: NOT A SENSOR - ops=c06a8cf4 ***
[  336.132058] *** tx_isp_subdev_init: ops->sensor=c06a8d08, csi_subdev_ops=c06a8c3c ***
[  336.132064] tx_isp_module_init: Module initialized for tx-isp-fs
[  336.132070] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[  336.132078] *** tx_isp_request_irq: platform_get_irq returned 38 for device tx-isp-fs ***
[  336.132085] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 38 (device: tx-isp-fs) ***
[  336.132091] *** tx_isp_request_irq: IRQ 38 LEFT ENABLED (working version behavior) ***
[  336.132098] *** tx_isp_request_irq: IRQ 38 registered successfully for tx-isp-fs ***
[  336.132105] tx_isp_subdev_init: platform_get_resource returned c06a7dfc for device tx-isp-fs
[  336.132113] tx_isp_subdev_init: Memory resource found: start=0x13310000, end=0x1331ffff, size=0x00010000
[  336.132125] tx_isp_fs_probe: channel_count=0
[  336.132132] *** tx_isp_fs_probe: FS device created successfully (size=436, channels=0) ***
[  336.132138] *** FS PROBE COMPLETE - /proc/jz/isp/isp-fs SHOULD NOW BE AVAILABLE ***
[  336.136891] *** tx_isp_core_probe: SAFE implementation using proper struct member access ***
[  336.136914] *** tx_isp_core_probe: SAFE platform device setup ***
[  336.136922] *** tx_isp_core_probe: Platform devices configured - count=5 ***
[  336.136928] *** tx_isp_core_probe: Created safe platform data structure ***
[  336.136934] *** tx_isp_core_probe: Initializing core subdev with operations ***
[  336.136939] *** tx_isp_core_probe: Global ISP device set early for linking ***
[  336.136947] *** tx_isp_core_probe: Core subdev initialized with ops=c06a89b8 ***
[  336.136954] ***   - Core ops: start=c06715e0, stop=c066fd38, set_format=c0671180 ***
[  336.136964] *** tx_isp_link_core_device: Linking core device 85f1e800 to ISP device 85f20000 ***
[  336.136970] *** tx_isp_link_core_device: Core device linked successfully ***
[  336.136976] *** Core subdev not found in subdev array - this may cause issues ***
[  336.136982] *** REGISTERED CORE SUBDEV AT INDEX 4 (sd=85f20000) ***
[  336.136988] *** tx_isp_subdev_init: CALLED for device 'isp-m0' ***
[  336.136996] *** tx_isp_subdev_init: pdev=c06a7bb0, sd=85f20000, ops=c06a89b8 ***
[  336.137002] *** tx_isp_subdev_init: ourISPdev=85f20000 ***
[  336.137008] *** tx_isp_subdev_init: ops=c06a89b8, ops->core=c06a89d8 ***
[  336.137014] *** tx_isp_subdev_init: ops->core->init=c065eac8 ***
[  336.137022] *** tx_isp_subdev_init: Set sd->dev=c06a7bc0, sd->pdev=c06a7bb0 ***
[  336.137028] *** tx_isp_subdev_init: Core ISP subdev registered at slot 0 ***
[  336.137034] tx_isp_module_init: Module initialized for isp-m0
[  336.137040] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[  336.137048] *** tx_isp_request_irq: platform_get_irq returned 37 for device isp-m0 ***
[  336.137055] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 37 (device: isp-m0) ***
[  336.137062] *** tx_isp_request_irq: IRQ 37 LEFT ENABLED (working version behavior) ***
[  336.137068] *** tx_isp_request_irq: IRQ 37 registered successfully for isp-m0 ***
[  336.137075] tx_isp_subdev_init: platform_get_resource returned c06a7c88 for device isp-m0
[  336.137083] tx_isp_subdev_init: Memory resource found: start=0x13300000, end=0x133fffff, size=0x00100000
[  336.137090] tx_isp_subdev_init: Skipping request_mem_region/ioremap for isp-m0; using shared core_regs when available
[  336.137096] *** tx_isp_core_probe: Subdev init SUCCESS ***
[  336.137101] *** tx_isp_core_probe: Channel count = 6 ***
[  336.137114] *** tx_isp_core_probe: Creating VIC device ***
[  336.137119] *** tx_isp_create_vic_device: Creating VIC device structure ***
[  336.137127] *** VIC DEVICE ALLOCATED: 85f1ec00 (size=0x21c bytes) ***
[  336.137132] *** VIC DEVICE: Set NV12 format magic number 0x3231564e at offset 0xc ***
[  336.137138] *** CRITICAL: Mapping DUAL VIC register spaces for complete VIC control ***
[  336.137144] *** Primary VIC registers mapped: b33e0000 (0x133e0000) ***
[  336.137151] *** Secondary VIC registers mapped: b0023000 (0x10023000) ***
[  336.137157] *** CRITICAL: VIC buffer allocation DEFERRED to prevent Wyze Cam memory exhaustion ***
[  336.137162] *** Buffers will be allocated on-demand during QBUF operations ***
[  336.137168] *** VIC: Buffer lists initialized - allocation deferred to prevent memory pressure ***
[  336.137174] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[  336.137180] *** tx_isp_get_sensor: No real sensor modules found - returning NULL ***
[  336.137186] *** CRITICAL: VIC DEVICE LINKED TO ISP CORE ***
[  336.137191]   isp_dev->vic_dev = 85f1ec00
[  336.137197]   vic_dev->sd.isp = 85f20000
[  336.137202]   vic_dev->sd.ops = c06a8bb4
[  336.137208]   vic_dev->vic_regs = b33e0000
[  336.137213]   vic_dev->state = 1
[  336.137219]   vic_dev dimensions = 1920x1080
[  336.137224] *** tx_isp_create_vic_device: VIC device creation complete ***
[  336.137230] *** NO MORE 'NO VIC DEVICE' ERROR SHOULD OCCUR ***
[  336.137235] *** tx_isp_core_probe: VIC device created successfully ***
[  336.137240] *** tx_isp_core_probe: Calling sensor_early_init ***
[  336.137246] sensor_early_init: Preparing sensor infrastructure
[  336.137251] *** tx_isp_core_probe: Basic initialization complete ***
[  336.137257] ***   - Core device size: 13464 bytes ***
[  336.137262] ***   - Channel count: 6 ***
[  336.137268] ***   - Global ISP device set: 85f20000 ***
[  336.137274] *** tx_isp_core_probe: Setting up ISP memory mappings FIRST ***
[  336.137279] Initializing ISP memory mappings
[  336.137284] ISP core registers mapped at 0x13300000
[  336.137289] VIC registers mapped at 0x10023000
[  336.137294] CSI registers mapped at 0x10022000
[  336.137299] PHY registers mapped at 0x10021000
[  336.137304] All ISP memory mappings initialized successfully
[  336.137310] *** tx_isp_core_probe: ISP memory mappings initialized successfully ***
[  336.137315] *** tx_isp_core_probe: Global ISP device updated with register base ***
[  336.137321] *** tx_isp_core_probe: Calling isp_core_tuning_init AFTER memory mappings ***
[  336.137327] isp_core_tuning_init: Initializing tuning data structure
[  336.137341] isp_core_tuning_init: Tuning data structure initialized at 84bf6000
[  336.137347] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[  336.137352] *** SAFE: mode_flag properly initialized using struct member access ***
[  336.137358] *** tx_isp_core_probe: Creating VIN device (after memory mappings) ***
[  336.137364] *** tx_isp_create_vin_device: Creating VIN device structure ***
[  336.137372] *** VIN USING ISP CORE REGISTERS: b3300000 (no separate mapping needed) ***
[  336.137378] *** VIN subdev operations set: c06a9b74 ***
[  336.137384] *** VIN DEVICE CREATED AND CONNECTED TO ISP DEVICE ***
[  336.137392] VIN device: 80551800, base: b3300000, irq: 37, state: 1
[  336.137398] *** CRITICAL: isp_dev->vin_dev = 80551800 (should not be null!) ***
[  336.137403] *** tx_isp_core_probe: VIN device created successfully ***
[  336.137408] *** tx_isp_core_probe: About to create frame sync workqueue ***
[  336.139646] *** tx_isp_core_probe: Frame sync workqueue created successfully at 85466500 ***
[  336.139657] *** tx_isp_core_probe: Frame sync work initialized at c06aa81c ***
[  336.139662] *** tx_isp_core_probe: Frame sync work queue initialized with dedicated workqueue ***
[  336.139668] *** tx_isp_core_probe: Skipping direct frame sync test during probe ***
[  336.139674] *** tx_isp_core_probe: Calling tx_isp_create_graph_and_nodes ***
[  336.139680] tx_isp_create_graph_and_nodes: Redirecting to new subdevice management system
[  336.139686] *** tx_isp_create_subdev_graph: Creating ISP processing graph ***
[  336.139692] tx_isp_create_subdev_graph: No subdevices registered, creating basic setup
[  336.139698] tx_isp_create_basic_pipeline: Creating basic CSI->VIC pipeline
[  336.139703] Initializing CSI device
[  336.139710] CSI device initialized
[  336.139715] Initializing VIC device
[  336.139720] VIC device initialized
[  336.139726] Setting up ISP processing pipeline: CSI -> VIC -> Output
[  336.139731] CSI device ready for configuration
[  336.139736] VIC device ready for configuration
[  336.139741] Setting up media entity links
[  336.139746] Initializing subdevice pads
[  336.139750] CSI pad 0: OUTPUT -> VIC pad 0
[  336.139756] VIC pad 0: INPUT <- CSI pad 0
[  336.139760] VIC pad 1: OUTPUT -> Capture interface
[  336.139766] Subdevice pads initialized
[  336.139770] Creating subdevice links
[  336.139778] Registering link: csi_output[0] -> vic_input[0] (flags=0x1)
[  336.139783] Link enabled and configured
[  336.139788] Created CSI->VIC link successfully
[  336.139792] Subdevice links created
[  336.139798] Media entity links setup completed
[  336.139802] Configuring default link routing
[  336.139808] Default routing: Sensor -> CSI -> VIC -> Capture
[  336.139812] Configuring format propagation
[  336.139818] Format propagation configured
[  336.139823] Default link routing configured
[  336.139828] ISP pipeline setup completed
[  336.139834] tx_isp_create_basic_pipeline: Basic pipeline created successfully
[  336.139839] *** tx_isp_core_probe: tx_isp_create_graph_and_nodes SUCCESS ***
[  336.139844] *** tx_isp_core_probe: Creating frame channel devices ***
[  336.139850] *** tx_isp_create_framechan_devices: Creating frame channel devices ***
[  336.142956] *** Created frame channel device: /dev/framechan0 (major=10, minor=54) ***
[  336.145502] *** Created frame channel device: /dev/framechan1 (major=10, minor=53) ***
[  336.150852] *** Created frame channel device: /dev/framechan2 (major=10, minor=52) ***
[  336.156846] *** Created frame channel device: /dev/framechan3 (major=10, minor=51) ***
[  336.156857] *** tx_isp_create_framechan_devices: All frame channel devices created ***
[  336.156862] *** tx_isp_core_probe: Frame channel devices created successfully ***
[  336.156868] *** tx_isp_core_probe: Creating ISP proc entries ***
[  336.156874] *** tx_isp_create_proc_entries: Creating proc entries to match reference driver ***
[  336.156900] Created proc entry: /proc/jz/isp/isp-w00
[  336.156908] Created proc entry: /proc/jz/isp/isp-w01
[  336.156916] *** CREATED PROC ENTRY: /proc/jz/isp/isp-w02 (CRITICAL FOR VIC FUNCTIONALITY) ***
[  336.156924] *** CREATED PROC ENTRY: /proc/jz/isp/isp-fs (CRITICAL FOR FS FUNCTIONALITY) ***
[  336.156933] *** CREATED PROC ENTRY: /proc/jz/isp/isp-m0 (CRITICAL FOR M0 FUNCTIONALITY) ***
[  336.156940] Created proc entry: /proc/jz/isp/csi
[  336.156948] Created proc entry: /proc/jz/isp/vic
[  336.156953] *** ALL PROC ENTRIES CREATED SUCCESSFULLY - MATCHES REFERENCE DRIVER LAYOUT ***
[  336.156959] *** /proc/jz/isp/ now contains: isp-w00, isp-w01, isp-w02, isp-fs, isp-m0, csi, vic ***
[  336.156964] *** tx_isp_core_probe: ISP proc entries created successfully ***
[  336.156970] *** tx_isp_core_probe: Creating ISP M0 tuning device node ***
[  336.156976] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[  336.156985] tisp_code_create_tuning_node: Allocated dynamic major 251
[  336.162398] *** ISP M0 TUNING DEVICE CREATED: /dev/isp-m0 (major=251, minor=0) ***
[  336.162409] *** tx_isp_core_probe: ISP M0 tuning device node created successfully ***
[  336.166832] All ISP subdev platform drivers registered successfully
[  336.166846] *** SUBDEV PLATFORM DRIVERS INITIALIZED - CSI/VIC/VIN/CORE DRIVERS REGISTERED ***
[  336.166852] *** tx_isp_init_subdev_registry: Initializing subdevice registry ***
[  336.166865] tx_isp_subdev_register: Registered subdevice 'tx-isp-csi' (type=1, id=0)
[  336.166872] Registered subdevice: tx-isp-csi (pdev=c06a7f48)
[  336.166881] tx_isp_subdev_register: Registered subdevice 'isp-w02' (type=1, id=1)
[  336.166888] Registered subdevice: isp-w02 (pdev=c06a8058)
[  336.166896] tx_isp_subdev_register: Registered subdevice 'tx-isp-vin' (type=1, id=2)
[  336.166903] Registered subdevice: tx-isp-vin (pdev=c06a7e38)
[  336.166912] tx_isp_subdev_register: Registered subdevice 'tx-isp-fs' (type=1, id=3)
[  336.166919] Registered subdevice: tx-isp-fs (pdev=c06a7cc0)
[  336.166930] tx_isp_subdev_register: Registered subdevice 'tx-isp-core' (type=2, id=4)
[  336.166937] Registered subdevice: tx-isp-core (pdev=c06a7bb0)
[  336.166944] *** tx_isp_init_subdev_registry: Registry initialized with 5 subdevices ***
[  336.166949] *** SUBDEVICE REGISTRY INITIALIZED SUCCESSFULLY ***
[  336.166954] *** INITIALIZING CSI AS PROPER SUBDEV FOR MIPI INTERFACE ***
[  336.166960] *** csi_device_probe: EXACT Binary Ninja tx_isp_csi_probe implementation ***
[  336.166970] *** CSI BASIC REGISTERS MAPPED: 0x10022000 -> b0022000 ***
[  336.166977] *** ISP CSI REGISTERS MAPPED: b0029600 (Binary Ninja +0x13c region) ***
[  336.166982] *** CSI device structure initialized: ***
[  336.166987]   Size: 0x148 bytes
[  336.166993]   Basic regs (+0xb8): b0022000 (0x10022000)
[  336.166999]   ISP CSI regs (+0x13c): b0029600
[  336.167004]   State (+0x128): 1
[  336.167009] *** CRITICAL: LINKING CSI DEVICE TO ISP DEVICE ***
[  336.167015] *** CSI DEVICE LINKED: isp_dev->csi_dev = 85f1f400 ***
[  336.167020] *** CRITICAL: INITIALIZING CSI HARDWARE AFTER DEVICE CREATION ***
[  336.167026] *** CSI: State updated to 2 for hardware initialization ***
[  336.167034] csi_core_ops_init: sd=85f1f400, csi_dev=85f1f400, enable=1
[  336.167040] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[  336.167046] *** tx_isp_get_sensor: No real sensor modules found - returning NULL ***
[  336.167052] csi_core_ops_init: No sensor attributes available; skipping CSI init.
[  336.167057] *** CSI: Hardware initialization completed successfully ***
[  336.167063] *** CSI: Final state = 2 ***
[  336.167068] *** csi_device_probe: Binary Ninja CSI device created successfully ***
[  336.167074] *** POPULATING SUBDEV ARRAY USING SAFE STRUCT MEMBER ACCESS ***
[  336.167079] *** REGISTERED VIC SUBDEV AT INDEX 0 WITH VIDEO OPS ***
[  336.167084] *** REGISTERED CSI SUBDEV AT INDEX 1 WITH VIDEO OPS ***
[  336.167093] CSI subdev: 85f1f400, ops=c06a8c3c, video=c06a8c64, s_stream=c0678490
[  336.167098] *** SUBDEV ARRAY POPULATED SAFELY - tx_isp_video_link_stream SHOULD NOW WORK! ***
[  336.167104] *** INITIALIZING HARDWARE INTERRUPTS FOR IRQ 37 AND 38 ***
[  336.167110] *** USING BINARY NINJA tx_isp_request_irq FOR HARDWARE INTERRUPTS ***
[  336.167118] *** tx_isp_request_irq: platform_get_irq returned 37 for device tx-isp ***
[  336.167125] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 37 (device: tx-isp) ***
[  336.167131] *** tx_isp_request_irq: IRQ 37 LEFT ENABLED (working version behavior) ***
[  336.167138] *** tx_isp_request_irq: IRQ 37 registered successfully for tx-isp ***
[  336.167144] *** Hardware interrupts initialized with Binary Ninja method (IRQ 0) ***
[  336.167149] *** HARDWARE INTERRUPT INITIALIZATION COMPLETE ***
[  336.167154] *** SHOULD SEE BOTH IRQ 37 AND 38 IN /proc/interrupts NOW ***
[  336.167160] *** REGISTERING BOTH IRQ HANDLERS (37 + 38) FOR COMPLETE INTERRUPT SUPPORT ***
[  336.173171] *** SUCCESS: IRQ 37 (isp-m0) REGISTERED ***
[  336.173252] *** SUCCESS: IRQ 38 (isp-w02) REGISTERED ***
[  336.173259] *** ENABLING HARDWARE INTERRUPT GENERATION ***
[  336.173264] *** WRITING VIC INTERRUPT ENABLE REGISTERS ***
[  336.173270] *** VIC INTERRUPT REGISTERS ENABLED - INTERRUPTS SHOULD NOW FIRE! ***
[  336.173276] *** ENABLING ISP CORE INTERRUPT REGISTERS FOR MIPI DATA ***
[  336.173282] *** ISP CORE INTERRUPT REGISTERS ENABLED at legacy(+0xb*) and new(+0x98b*) ***
[  336.173287] *** BOTH VIC AND ISP CORE INTERRUPTS NOW ENABLED! ***
[  336.173292] *** vic_start_ok SET TO 1 - INTERRUPTS WILL NOW BE PROCESSED! ***
[  336.173298] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[  336.173304] tisp_code_create_tuning_node: Device already created, skipping
[  336.173310] *** ISP M0 TUNING DEVICE NODE CREATED SUCCESSFULLY ***
[  336.173315] *** CREATING SUBDEVICE GRAPH WITH NEW MANAGEMENT SYSTEM ***
[  336.173321] *** tx_isp_create_subdev_graph: Creating ISP processing graph ***
[  336.173328] tx_isp_create_subdev_graph: Processing 5 registered subdevices
[  336.173336] tx_isp_init_source_subdev: tx-isp-csi stored at index 0
[  336.173342] tx_isp_init_source_subdev: isp-w02 stored at index 1
[  336.173349] tx_isp_init_source_subdev: tx-isp-vin stored at index 2
[  336.173356] tx_isp_init_source_subdev: tx-isp-fs stored at index 3
[  336.173364] tx_isp_create_subdev_link: Linking tx-isp-core (src=80551c00, dst=80491000)
[  336.173372] tx_isp_init_sink_subdev: Created link source[1] -> tx-isp-core[4]
[  336.173378] *** tx_isp_create_subdev_graph: Graph creation completed successfully ***
[  336.173383] *** SUBDEVICE GRAPH CREATED - FRAME DEVICES SHOULD NOW EXIST ***
[  336.173389] *** INITIALIZING V4L2 VIDEO DEVICES FOR ENCODER SUPPORT ***
[  336.173394] *** Initializing TX-ISP V4L2 video devices ***
[  336.173400] *** Creating V4L2 video device for channel 0 ***
[  336.176247] *** V4L2 video device created: /dev/video0 for channel 0 ***
[  336.176258] *** Creating V4L2 video device for channel 1 ***
[  336.183440] *** V4L2 video device created: /dev/video1 for channel 1 ***
[  336.183450] *** TX-ISP V4L2 devices initialized successfully ***
[  336.183457] *** V4L2 VIDEO DEVICES CREATED - /dev/video0, /dev/video1 NOW AVAILABLE ***
[  336.183462] TX ISP driver ready with new subdevice management system
[  337.223743] === gc2053 SENSOR MODULE INIT ===
[  337.226326] gc2053 I2C driver registered, waiting for device creation by ISP
[  339.520223] ISP opened successfully
[  339.520562] ISP IOCTL: cmd=0x805056c1 arg=0x770c7d60
[  339.520575] subdev_sensor_ops_ioctl: cmd=0x2000000
[  339.520581] *** subdev_sensor_ops_ioctl: IOCTL 0x2000000 - Creating I2C sensor device ***
[  339.520587] *** Creating I2C sensor device on adapter 0 ***
[  339.520596] *** Creating I2C device: gc2053 at 0x37 ***
[  339.520601] *** isp_i2c_new_subdev_board: MIPS-SAFE implementation - FIXED CRASH ***
[  339.520609] Creating I2C subdev: type=gc2053 addr=0x37 on adapter i2c0 (MIPS-safe)
[  339.520615] *** MIPS-SAFE: Requesting sensor module gc2053 ***
[  339.523824] *** MIPS-SAFE: Valid I2C address 0x37, creating device ***
[  339.524128] === GC2053 SENSOR PROBE START ===
[  339.524145] sensor_probe: client=85466d00, addr=0x37, adapter=84074c10 (i2c0)
[  339.524150] === PERFORMING GPIO RESET SEQUENCE BEFORE I2C ===
[  339.524157] Requesting reset GPIO 18
[  339.524165] GPIO reset sequence: HIGH -> LOW -> HIGH
[  339.746699] GPIO reset sequence completed successfully
[  339.746711] === GPIO INITIALIZATION COMPLETE ===
[  339.746722] sensor_probe: Initialized sensor info - name=gc2053, i2c_addr=0x37
[  339.746737] sensor_probe: data_interface=1, sensor_max_fps=30
[  339.746743] sensor_probe: MIPI 30fps
[  339.746751] *** tx_isp_subdev_init: CALLED for device 'gc2053' ***
[  339.746759] *** tx_isp_subdev_init: pdev=c06ca168, sd=85f16800, ops=c06ca248 ***
[  339.746765] *** tx_isp_subdev_init: ourISPdev=85f20000 ***
[  339.746772] *** tx_isp_subdev_init: ops=c06ca248, ops->core=c06ca274 ***
[  339.746778] *** tx_isp_subdev_init: ops->core->init=c06c76bc ***
[  339.746785] *** tx_isp_subdev_init: Set sd->dev=c06ca178, sd->pdev=c06ca168 ***
[  339.746792] *** tx_isp_subdev_init: DETECTED SENSOR SUBDEV - ops=c06ca248, ops->sensor=c06ca25c ***
[  339.746798] *** tx_isp_subdev_init: Set up sensor module notify handler ***
[  339.746805] *** tx_isp_subdev_init: SENSOR subdev registered at slot 2, sd=85f16800 ***
[  339.746812] *** tx_isp_subdev_init: SENSOR ops=c06ca248, ops->sensor=c06ca25c ***
[  339.746818] *** tx_isp_subdev_init: Core state transitions handled by slake_module ***
[  339.746824] tx_isp_module_init: Module initialized for (null)
[  339.746830] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[  339.746839] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06ca168, sd=85f16800, ourISPdev=85f20000 ***
[  339.746846] *** tx_isp_subdev_auto_link: Auto-linking device 'gc2053' to ourISPdev=85f20000 ***
[  339.746852] *** DEBUG: Device name comparison - checking 'gc2053' ***
[  339.746857] *** DEBUG: About to check device name matches ***
[  339.746864] *** DETECTED SENSOR DEVICE: 'gc2053' - checking for existing registration ***
[  339.746871] *** SENSOR 'gc2053' registered at subdev index 5 ***
[  339.746877] *** SENSOR subdev: 85f16800, ops: c06ca248 ***
[  339.746883] *** SENSOR ops->sensor: c06ca25c ***
[  339.746889] *** SENSOR REGISTERED: Caching sensor dimensions from /proc/jz/sensor/ ***
[  339.746895] *** cache_sensor_dimensions_from_proc: Reading sensor dimensions during probe ***
[  339.746967] read_sensor_dimensions: Successfully read 1920x1080 from /proc/jz/sensor/
[  339.746976] *** cache_sensor_dimensions_from_proc: Successfully cached 1920x1080 ***
[  339.746982] sensor_probe: I2C client association complete
[  339.746991]   sd=85f16800, client=85466d00, addr=0x37, adapter=i2c0
[  339.746997] === TESTING I2C COMMUNICATION AFTER GPIO RESET ===
[  339.747005] sensor_read: reg=0xf0, client=85466d00, adapter=i2c0, addr=0x37
[  339.747502] sensor_read: reg=0xf0 value=0x20 SUCCESS
[  339.747510] I2C test read (0xf0): ret=0, val=0x20 (expected 0x20)
[  339.747515] *** SUCCESS: I2C communication working after GPIO reset! ***
[  339.747524] sensor_read: reg=0xf1, client=85466d00, adapter=i2c0, addr=0x37
[  339.748010] sensor_read: reg=0xf1 value=0x53 SUCCESS
[  339.748017] I2C test read (0xf1): ret=0, val=0x53 (expected 0x53)
[  339.748023] === I2C COMMUNICATION TEST COMPLETE ===
[  339.748030] Registering gc2053 with ISP framework (sd=85f16800, sensor=85f16800)
[  339.748036] gc2053 registered with ISP framework successfully
[  339.748059] *** MIPS-SAFE: I2C device created successfully at 0x85466d00 ***
[  339.748066] *** MIPS-SAFE: Module reference acquired for gc2053 ***
[  339.748073] *** MIPS-SAFE: Sensor subdev data found, device ready ***
[  339.748079] *** I2C DEVICE READY: gc2053 at 0x37 (MIPS-safe) ***
[  339.748086] *** I2C sensor device created successfully: gc2053 at 0x37 ***
[  339.748122] ISP IOCTL: cmd=0xc050561a arg=0x7f9b7e08
[  339.748129] TX_ISP_SENSOR_ENUM_INPUT: Enumerating sensor at index 0
[  339.748136] TX_ISP_SENSOR_ENUM_INPUT: Returning sensor 'gc2053' at index 0
[  339.748145] ISP IOCTL: cmd=0xc050561a arg=0x7f9b7e08
[  339.748150] TX_ISP_SENSOR_ENUM_INPUT: Enumerating sensor at index 1
[  339.748157] TX_ISP_SENSOR_ENUM_INPUT: No sensor at index 1 - returning error to end enumeration
[  339.748165] ISP IOCTL: cmd=0xc0045627 arg=0x7f9b7e60
[  339.748171] TX_ISP_SENSOR_SET_INPUT
[  339.748181] ISP IOCTL: cmd=0x800856d5 arg=0x7f9b7e58
[  339.748189] ISP buffer calculation: width=1920 height=1080 memopt=0
[  339.748194] *** BUFFER: Using NV12 calculation (width*height*3/2) ***
[  339.748201] *** NV12 BUFFER: 1920 x 1080 -> 3110400 bytes -> 3110400 aligned ***
[  339.748208] ISP calculated buffer size: 3110400 bytes (0x2f7600)
[  339.823194] ISP IOCTL: cmd=0x800856d4 arg=0x7f9b7e58
[  339.823210] TX_ISP_SET_BUF(legacy) recorded base=0x6300000 frame_size=3110400 for channel 0
[  339.823217] TX_ISP_SET_BUF(legacy) global cache: ch=0 base=0x6300000 step=3110400
[  339.823225] *** TX_ISP_SET_BUF ch0: Pre-program VIC slots base=0x6300000 step=3110400 ***
[  339.823233] *** TX_ISP_SET_BUF ch0: Using VIC hardware stride calculation: w=1920 h=1080 vic_stride=3840 step=6220800 ***
[  339.823240] *** tx_isp_send_event_to_remote: MIPS-SAFE with VIC handler - event=0x3000008 ***
[  339.823246] *** ROUTING EVENT 0x3000008 TO VIC_EVENT_HANDLER ***
[  339.823253] *** vic_event_handler: Processing event 0x3000008 ***
[  339.823260] VIC EVENT: QBUF -> entry addr=0x6300000 idx=0 (calling ispvic_frame_channel_qbuf)
[  339.823268] *** VIC EVENT: DIRECT SLOT PROGRAMMING - Buffer 0x6300000 -> VIC[0x318] (slot 0) ***
[  339.823275] *** VIC EVENT: Buffer entry added to done_head for ISR matching ***
[  339.823281] *** VIC_EVENT_HANDLER RETURNED: 0 ***
[  339.823288] *** VIC HANDLER: Event 0x3000008 processed successfully ***
[  339.823294] *** tx_isp_send_event_to_remote: MIPS-SAFE with VIC handler - event=0x3000008 ***
[  339.823301] *** ROUTING EVENT 0x3000008 TO VIC_EVENT_HANDLER ***
[  339.823307] *** vic_event_handler: Processing event 0x3000008 ***
[  339.823313] VIC EVENT: QBUF -> entry addr=0x68eec00 idx=1 (calling ispvic_frame_channel_qbuf)
[  339.823321] *** VIC EVENT: DIRECT SLOT PROGRAMMING - Buffer 0x68eec00 -> VIC[0x31c] (slot 1) ***
[  339.823327] *** VIC EVENT: Buffer entry added to done_head for ISR matching ***
[  339.823333] *** VIC_EVENT_HANDLER RETURNED: 0 ***
[  339.823339] *** VIC HANDLER: Event 0x3000008 processed successfully ***
[  339.823345] *** tx_isp_send_event_to_remote: MIPS-SAFE with VIC handler - event=0x3000008 ***
[  339.823351] *** ROUTING EVENT 0x3000008 TO VIC_EVENT_HANDLER ***
[  339.823357] *** vic_event_handler: Processing event 0x3000008 ***
[  339.823364] VIC EVENT: QBUF -> entry addr=0x6edd800 idx=2 (calling ispvic_frame_channel_qbuf)
[  339.823372] *** VIC EVENT: DIRECT SLOT PROGRAMMING - Buffer 0x6edd800 -> VIC[0x320] (slot 2) ***
[  339.823378] *** VIC EVENT: Buffer entry added to done_head for ISR matching ***
[  339.823384] *** VIC_EVENT_HANDLER RETURNED: 0 ***
[  339.823390] *** VIC HANDLER: Event 0x3000008 processed successfully ***
[  339.823396] *** tx_isp_send_event_to_remote: MIPS-SAFE with VIC handler - event=0x3000008 ***
[  339.823403] *** ROUTING EVENT 0x3000008 TO VIC_EVENT_HANDLER ***
[  339.823409] *** vic_event_handler: Processing event 0x3000008 ***
[  339.823415] VIC EVENT: QBUF -> entry addr=0x74cc400 idx=3 (calling ispvic_frame_channel_qbuf)
[  339.823423] *** VIC EVENT: DIRECT SLOT PROGRAMMING - Buffer 0x74cc400 -> VIC[0x324] (slot 3) ***
[  339.823429] *** VIC EVENT: Buffer entry added to done_head for ISR matching ***
[  339.823435] *** VIC_EVENT_HANDLER RETURNED: 0 ***
[  339.823441] *** VIC HANDLER: Event 0x3000008 processed successfully ***
[  339.823447] *** tx_isp_send_event_to_remote: MIPS-SAFE with VIC handler - event=0x3000008 ***
[  339.823453] *** ROUTING EVENT 0x3000008 TO VIC_EVENT_HANDLER ***
[  339.823459] *** vic_event_handler: Processing event 0x3000008 ***
[  339.823466] VIC EVENT: QBUF -> entry addr=0x7abb000 idx=4 (calling ispvic_frame_channel_qbuf)
[  339.823474] *** VIC EVENT: DIRECT SLOT PROGRAMMING - Buffer 0x7abb000 -> VIC[0x328] (slot 4) ***
[  339.823480] *** VIC EVENT: Buffer entry added to done_head for ISR matching ***
[  339.823485] *** VIC_EVENT_HANDLER RETURNED: 0 ***
[  339.823491] *** VIC HANDLER: Event 0x3000008 processed successfully ***
[  339.823497] *** TX_ISP_SET_BUF ch0: Programmed all 5 VIC slots (C6-CA) with VIC stride calculation ***
[  339.823731] ISP IOCTL: cmd=0x40045626 arg=0x7f9b7e70
[  339.823745] subdev_sensor_ops_ioctl: cmd=0x2000003
[  339.823751] *** subdev_sensor_ops_ioctl: Handling 0x2000003 (sensor info) ***
[  339.823759] ISP IOCTL: cmd=0x80045612 arg=0x0
[  339.823766] *** tx_isp_video_s_stream: EXACT Binary Ninja reference implementation - enable=1 ***
[  339.823772] === ISP Subdevice Array Status ===
[  339.823779]   [0]: unknown (sd=85f22ecc)
[  339.823786]   [1]: unknown (sd=85f1f400)
[  339.823793]   [2]: gc2053 (sd=85f16800)
[  339.823799]   [3]: (empty)
[  339.823805]   [4]: isp-m0 (sd=85f20000)
[  339.823812]   [5]: gc2053 (sd=85f16800)
[  339.823817]   [6]: (empty)
[  339.823822]   [7]: (empty)
[  339.823827]   [8]: (empty)
[  339.823833]   [9]: (empty)
[  339.823837]   [10]: (empty)
[  339.823843]   [11]: (empty)
[  339.823848]   [12]: (empty)
[  339.823853]   [13]: (empty)
[  339.823859]   [14]: (empty)
[  339.823863]   [15]: (empty)
[  339.823869] === End Subdevice Array ===
[  339.823874] *** tx_isp_video_s_stream: STREAM ON - Initializing core first ***
[  339.823879] *** tx_isp_video_s_stream: VIC state is 1, calling activate_module ***
[  339.823885] *** ispcore_activate_module: Fixed for our struct layouts ***
[  339.823891] *** VIC device in state 1, proceeding with activation ***
[  339.823896] *** CLOCK CONFIGURATION SECTION ***
[  339.823901] *** SUBDEVICE VALIDATION SECTION ***
[  339.823907] VIC device state set to 2 (activated)
[  339.823911] *** CRITICAL FUNCTION POINTER CALL SECTION ***
[  339.823917] *** CALLING CRITICAL VIC INITIALIZATION FUNCTION ***
[  339.823923] *** VIC control register written with 0x4000000 to ISP+0x9a00 ***
[  339.823928] *** SUBDEVICE INITIALIZATION LOOP ***
[  339.823933] *** SUBDEVICE INITIALIZATION: Traversing backwards to initialize sensors first ***
[  339.823939] Calling subdev 5 initialization (REVERSE ORDER - sensors first)
[  339.823947] *** SENSOR_INIT: gc2053 enable=1 ***
[  339.823955] SENSOR_INIT: Configuring gc2053 (chip_id=0x2053, 1920x1080)
[  339.823962] *** CALLING SENSOR_WRITE_ARRAY WITH c06cae20 (should be 137 registers) ***
[  339.823973] sensor_write: reg=0xfe val=0x80, client=85466d00, adapter=i2c0, addr=0x37
[  339.824297] sensor_write: reg=0xfe val=0x80 SUCCESS
[  339.824305] sensor_write_array: reg[1] 0xfe=0x80 OK
[  339.824315] sensor_write: reg=0xfe val=0x80, client=85466d00, adapter=i2c0, addr=0x37
[  339.825672] sensor_write: reg=0xfe val=0x80 SUCCESS
[  339.825685] sensor_write_array: reg[2] 0xfe=0x80 OK
[  339.825696] sensor_write: reg=0xfe val=0x80, client=85466d00, adapter=i2c0, addr=0x37
[  339.826018] sensor_write: reg=0xfe val=0x80 SUCCESS
[  339.826025] sensor_write_array: reg[3] 0xfe=0x80 OK
[  339.826033] sensor_write: reg=0xfe val=0x00, client=85466d00, adapter=i2c0, addr=0x37
[  339.826351] sensor_write: reg=0xfe val=0x00 SUCCESS
[  339.826358] sensor_write_array: reg[4] 0xfe=0x00 OK
[  339.826367] sensor_write: reg=0xf2 val=0x00, client=85466d00, adapter=i2c0, addr=0x37
root@ing-wyze-cam3-a000 ~# ---- FPGA board is ready ----
  Board UID : 30AB6E51
  Board HW ID : 72000460
  Board rev.  : 5DE5A975
  Board date  : 20190326
-----------------------------
root@ing-wyze-cam3-a000 ~# dmesg [INFO:WS.cpp]: Server started on port 8089
[ERROR:IMPFramesource.cpp]: IMP_FrameSource_EnableChn(0) = -1

[  340.090805] *** SENSOR_INIT: This prevents register reset that disables ISP/VIC interrupts ***
[  340.090810] *** tx_isp_video_s_stream: Sensor init SUCCESS ***
[  340.090816] *** tx_isp_video_s_stream: All subdev initialization complete - proceeding with s_stream ***
[  340.090824] *** tx_isp_video_s_stream: Calling subdev[1]->ops->video->s_stream(1) ***
[  340.090830] *** csi_video_s_stream: EXACT Binary Ninja implementation - FIXED for MIPS ***
[  340.090837] csi_video_s_stream: sd=85f1f400, enable=1
[  340.090843] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[  340.090852] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f16800 (name=gc2053) ***
[  340.090859] *** tx_isp_get_sensor: Found real sensor: 85f16800 ***
[  340.090865] csi_video_s_stream: Stream ON - CSI state set to 4
[  340.090871] *** tx_isp_video_s_stream: subdev[1] s_stream SUCCESS ***
[  340.090878] *** tx_isp_video_s_stream: Calling subdev[2]->ops->video->s_stream(1) ***
[  340.090884] gc2053: s_stream called with enable=1
[  340.090891] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[  340.090898] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[  340.090904] gc2053: About to write streaming registers for interface 1
[  340.090910] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[  340.090920] sensor_write: reg=0xfe val=0x00, client=85466d00, adapter=i2c0, addr=0x37
[  340.091248] sensor_write: reg=0xfe val=0x00 SUCCESS
[  340.091256] sensor_write_array: reg[1] 0xfe=0x00 OK
[  340.091266] sensor_write: reg=0x3e val=0x91, client=85466d00, adapter=i2c0, addr=0x37
[  340.091577] sensor_write: reg=0x3e val=0x91 SUCCESS
[  340.091584] sensor_write_array: reg[2] 0x3e=0x91 OK
[  340.091591] sensor_write_array: Complete - wrote 2 registers, 0 errors
[  340.091598] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[  340.091604] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[  340.091610] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[  340.091616] *** tx_isp_video_s_stream: subdev[2] s_stream SUCCESS ***
[  340.091623] *** tx_isp_video_s_stream: Calling subdev[5]->ops->video->s_stream(1) ***
[  340.091630] gc2053: s_stream called with enable=1
[  340.091636] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[  340.091642] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[  340.091649] gc2053: About to write streaming registers for interface 1
[  340.091655] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[  340.091664] sensor_write: reg=0xfe val=0x00, client=85466d00, adapter=i2c0, addr=0x37
[  340.095769] sensor_write: reg=0xfe val=0x00 SUCCESS
[  340.095780] sensor_write_array: reg[1] 0xfe=0x00 OK
[  340.095790] sensor_write: reg=0x3e val=0x91, client=85466d00, adapter=i2c0, addr=0x37
[  340.096104] sensor_write: reg=0x3e val=0x91 SUCCESS
[  340.096111] sensor_write_array: reg[2] 0x3e=0x91 OK
[  340.096118] sensor_write_array: Complete - wrote 2 registers, 0 errors
[  340.096124] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[  340.096130] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[  340.096136] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[  340.096142] *** tx_isp_video_s_stream: subdev[5] s_stream SUCCESS ***
[  340.096167] ISP IOCTL: cmd=0x800456d0 arg=0x7f9b7e70
[  340.096174] TX_ISP_VIDEO_LINK_SETUP: config=0
[  340.096181] TX_ISP_VIDEO_LINK_SETUP: Link config unchanged (0)
[  340.096188] ISP IOCTL: cmd=0x800456d2 arg=0x0
[  340.096195] *** tx_isp_video_link_stream: EXACT Binary Ninja implementation - enable=1 ***
[  340.096208] *** BINARY NINJA EXACT: Iterating through 16 subdevices at offset 0x38 ***
[  340.096215] *** tx_isp_video_link_stream: Activating all submodules before link_stream ***
[  340.096221] *** tx_isp_video_link_stream: Activation pass complete ***
[  340.096227] tx_isp_video_link_stream: No video ops for subdev 0
[  340.096234] *** BINARY NINJA: Calling subdev 1 s_stream (enable=1) ***
[  340.096242] *** DEBUG: subdev=85f1f400, ops=c06a8c3c, video=c06a8c64, s_stream=c0678490 ***
[  340.096249] *** csi_video_s_stream: EXACT Binary Ninja implementation - FIXED for MIPS ***
[  340.096256] csi_video_s_stream: sd=85f1f400, enable=1
[  340.096261] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[  340.096268] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f16800 (name=gc2053) ***
[  340.096275] *** tx_isp_get_sensor: Found real sensor: 85f16800 ***
[  340.096281] csi_video_s_stream: Stream ON - CSI state set to 4
[  340.096286] *** BINARY NINJA: Subdev 1 s_stream SUCCESS ***
[  340.096293] *** BINARY NINJA: Calling subdev 2 s_stream (enable=1) ***
[  340.096301] *** DEBUG: subdev=85f16800, ops=c06ca248, video=c06ca268, s_stream=c06c7400 ***
[  340.096308] gc2053: s_stream called with enable=1
[  340.096315] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[  340.096321] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[  340.096327] gc2053: About to write streaming registers for interface 1
[  340.096333] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[  340.096342] sensor_write: reg=0xfe val=0x00, client=85466d00, adapter=i2c0, addr=0x37
[  340.096661] sensor_write: reg=0xfe val=0x00 SUCCESS
[  340.096725] sensor_write_array: reg[1] 0xfe=0x00 OK
[  340.096737] sensor_write: reg=0x3e val=0x91, client=85466d00, adapter=i2c0, addr=0x37
[  340.097053] sensor_write: reg=0x3e val=0x91 SUCCESS
[  340.097060] sensor_write_array: reg[2] 0x3e=0x91 OK
[  340.097067] sensor_write_array: Complete - wrote 2 registers, 0 errors
[  340.097074] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[  340.097080] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[  340.097086] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[  340.097092] *** BINARY NINJA: Subdev 2 s_stream SUCCESS ***
[  340.097098] tx_isp_video_link_stream: Subdev 3 is NULL
[  340.097104] tx_isp_video_link_stream: No s_stream function for subdev 4
[  340.097110] *** BINARY NINJA: Calling subdev 5 s_stream (enable=1) ***
[  340.097118] *** DEBUG: subdev=85f16800, ops=c06ca248, video=c06ca268, s_stream=c06c7400 ***
[  340.097125] gc2053: s_stream called with enable=1
[  340.097132] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[  340.097138] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[  340.097144] gc2053: About to write streaming registers for interface 1
[  340.097150] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[  340.097159] sensor_write: reg=0xfe val=0x00, client=85466d00, adapter=i2c0, addr=0x37
[  340.105525] sensor_write: reg=0xfe val=0x00 SUCCESS
[  340.105538] sensor_write_array: reg[1] 0xfe=0x00 OK
[  340.105549] sensor_write: reg=0x3e val=0x91, client=85466d00, adapter=i2c0, addr=0x37
[  340.106767] sensor_write: reg=0x3e val=0x91 SUCCESS
[  340.106776] sensor_write_array: reg[2] 0x3e=0x91 OK
[  340.106782] sensor_write_array: Complete - wrote 2 registers, 0 errors
[  340.106790] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[  340.106796] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[  340.106802] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[  340.106809] *** BINARY NINJA: Subdev 5 s_stream SUCCESS ***
[  340.106815] tx_isp_video_link_stream: Subdev 6 is NULL
[  340.106821] tx_isp_video_link_stream: Subdev 7 is NULL
[  340.106826] tx_isp_video_link_stream: Subdev 8 is NULL
[  340.106832] tx_isp_video_link_stream: Subdev 9 is NULL
[  340.106838] tx_isp_video_link_stream: Subdev 10 is NULL
[  340.106844] tx_isp_video_link_stream: Subdev 11 is NULL
[  340.106849] tx_isp_video_link_stream: Subdev 12 is NULL
[  340.106855] tx_isp_video_link_stream: Subdev 13 is NULL
[  340.106861] tx_isp_video_link_stream: Subdev 14 is NULL
[  340.106866] tx_isp_video_link_stream: Subdev 15 is NULL
[  340.106872] *** BINARY NINJA: All 16 subdevices processed successfully ***
[  340.293232] ISP M0 device open called from pid 2965
[  340.293263] *** REFERENCE DRIVER IMPLEMENTATION ***
[  340.293271] ISP M0 tuning buffer allocated: 85fa8000 (size=0x500c, aligned)
[  340.293277] tisp_par_ioctl global variable set: 85fa8000
[  340.293330] isp_core_tunning_unlocked_ioctl: Auto-initializing tuning for V4L2 control (one-time)
[  340.293338] *** BINARY NINJA REFERENCE: Skipping auto-initialization - no hardware reset during tuning setup ***
[  340.293344] isp_core_tunning_unlocked_ioctl: ISP tuning auto-enabled for V4L2 controls (permanent)
[  340.293352] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[  340.293359] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[  340.293365] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[  340.293371] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[  340.293376] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[  340.293398] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[  340.293406] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980900
[  340.293412] CRITICAL: Cannot access brightness field - PREVENTS BadVA CRASH
[  340.293420] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[  340.293426] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980902
[  340.293433] CRITICAL: Cannot access saturation field at 84bf6024 - PREVENTING BadVA CRASH
[  340.293884] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[  340.293898] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[  340.293905] Set control: cmd=0x980901 value=128
[  340.294790] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[  340.294802] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[  340.294809] Set control: cmd=0x98091b value=128
[  340.295032] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[  340.295042] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[  340.295049] Set control: cmd=0x980902 value=128
[  340.295055] tisp_bcsh_saturation: saturation=128
[  340.295186] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[  340.295196] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[  340.295202] Set control: cmd=0x980900 value=128
[  340.295351] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[  340.295361] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[  340.295368] Set control: cmd=0x980901 value=128
[  340.295600] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[  340.295613] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[  340.295620] Set control: cmd=0x98091b value=128
[  340.296122] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[  340.296134] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[  340.296142] Set control: cmd=0x980902 value=128
[  340.296148] tisp_bcsh_saturation: saturation=128
[  340.296479] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[  340.296492] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[  340.296498] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[  340.296504] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[  340.296510] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[  340.296572] isp-w02 proc: outputting frame_count=0
[  340.296586] isp-w02 proc: outputting frame_count=0
[  340.296648] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[  340.296657] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[  340.296664] Set control: cmd=0x980900 value=128
[  340.299338] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[  340.299350] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[  340.299356] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[  340.306778] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[  340.306790] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[  340.306796] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[  340.306999] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[  340.307010] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980914 value=0
[  340.307017] Set control: cmd=0x980914 value=0
[  340.307144] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[  340.307153] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980915 value=0
[  340.307160] Set control: cmd=0x980915 value=0
[  340.307278] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[  340.307288] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[  340.307294] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[  340.307440] ISP IOCTL: cmd=0x800456d3 arg=0x0
[  340.307513] *** tx_isp_video_link_stream: EXACT Binary Ninja implementation - enable=0 ***
[  340.307520] *** BINARY NINJA EXACT: Iterating through 16 subdevices at offset 0x38 ***
[  340.307527] tx_isp_video_link_stream: No video ops for subdev 0
[  340.307534] *** BINARY NINJA: Calling subdev 1 s_stream (enable=0) ***
[  340.307543] *** DEBUG: subdev=85f1f400, ops=c06a8c3c, video=c06a8c64, s_stream=c0678490 ***
[  340.307550] *** csi_video_s_stream: EXACT Binary Ninja implementation - FIXED for MIPS ***
[  340.307556] csi_video_s_stream: sd=85f1f400, enable=0
[  340.307562] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[  340.307572] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f16800 (name=gc2053) ***
[  340.307579] *** tx_isp_get_sensor: Found real sensor: 85f16800 ***
[  340.307585] csi_video_s_stream: Stream OFF - CSI state set to 3
[  340.307591] *** BINARY NINJA: Subdev 1 s_stream SUCCESS ***
[  340.307597] *** BINARY NINJA: Calling subdev 2 s_stream (enable=0) ***
[  340.307606] *** DEBUG: subdev=85f16800, ops=c06ca248, video=c06ca268, s_stream=c06c7400 ***
[  340.307614] gc2053: s_stream called with enable=0
[  340.307621] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[  340.307627] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[  340.307633] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[  340.307643] sensor_write: reg=0xfe val=0x00, client=85466d00, adapter=i2c0, addr=0x37
[  340.307963] sensor_write: reg=0xfe val=0x00 SUCCESS
[  340.307970] sensor_write_array: reg[1] 0xfe=0x00 OK
[  340.307979] sensor_write: reg=0x3e val=0x00, client=85466d00, adapter=i2c0, addr=0x37
[  340.308298] sensor_write: reg=0x3e val=0x00 SUCCESS
[  340.308305] sensor_write_array: reg[2] 0x3e=0x00 OK
[  340.308312] sensor_write_array: Complete - wrote 2 registers, 0 errors
[  340.308318] gc2053: Sensor hardware streaming stopped
[  340.308324] *** BINARY NINJA: Subdev 2 s_stream SUCCESS ***
[  340.308330] tx_isp_video_link_stream: Subdev 3 is NULL
[  340.308336] tx_isp_video_link_stream: No s_stream function for subdev 4
[  340.308342] *** BINARY NINJA: Calling subdev 5 s_stream (enable=0) ***
[  340.308350] *** DEBUG: subdev=85f16800, ops=c06ca248, video=c06ca268, s_stream=c06c7400 ***
[  340.308357] gc2053: s_stream called with enable=0
[  340.308364] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[  340.308370] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[  340.308376] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[  340.308384] sensor_write: reg=0xfe val=0x00, client=85466d00, adapter=i2c0, addr=0x37
[  340.308696] sensor_write: reg=0xfe val=0x00 SUCCESS
[  340.308703] sensor_write_array: reg[1] 0xfe=0x00 OK
[  340.308712] sensor_write: reg=0x3e val=0x00, client=85466d00, adapter=i2c0, addr=0x37
[  340.313209] sensor_write: reg=0x3e val=0x00 SUCCESS
[  340.313222] sensor_write_array: reg[2] 0x3e=0x00 OK
[  340.313228] sensor_write_array: Complete - wrote 2 registers, 0 errors
[  340.313236] gc2053: Sensor hardware streaming stopped
[  340.313243] *** BINARY NINJA: Subdev 5 s_stream SUCCESS ***
[  340.313250] tx_isp_video_link_stream: Subdev 6 is NULL
[  340.313255] tx_isp_video_link_stream: Subdev 7 is NULL
[  340.313261] tx_isp_video_link_stream: Subdev 8 is NULL
[  340.313266] tx_isp_video_link_stream: Subdev 9 is NULL
[  340.313272] tx_isp_video_link_stream: Subdev 10 is NULL
[  340.313278] tx_isp_video_link_stream: Subdev 11 is NULL
[  340.313284] tx_isp_video_link_stream: Subdev 12 is NULL
[  340.313290] tx_isp_video_link_stream: Subdev 13 is NULL
[  340.313295] tx_isp_video_link_stream: Subdev 14 is NULL
[  340.313301] tx_isp_video_link_stream: Subdev 15 is NULL
[  340.313306] *** BINARY NINJA: All 16 subdevices processed successfully ***
[  340.313321] ISP IOCTL: cmd=0x800456d1 arg=0x7f9b7e70
[  340.313329] tx_isp_video_link_destroy: Destroying links for config 0
[  340.313338] tx_isp_video_link_destroy: All links destroyed, config reset to -1
[  340.313347] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[  340.313354] isp_core_tunning_unlocked_ioctl: Set control cmd=0x8000164 value=1
[  340.313362] Set control: cmd=0x8000164 value=1
[  340.313370] ISP IOCTL: cmd=0x800456d0 arg=0x7f9b7e70
[  340.313376] TX_ISP_VIDEO_LINK_SETUP: config=0
[  340.313382] TX_ISP_VIDEO_LINK_SETUP: Link config changed from -1 to 0
[  340.313388] TX_ISP_VIDEO_LINK_SETUP: Link config updated to 0
[  340.313394] ISP IOCTL: cmd=0x800456d2 arg=0x0
[  340.313401] *** tx_isp_video_link_stream: EXACT Binary Ninja implementation - enable=1 ***
[  340.313407] *** BINARY NINJA EXACT: Iterating through 16 subdevices at offset 0x38 ***
[  340.313413] *** tx_isp_video_link_stream: Activating all submodules before link_stream ***
[  340.313420] *** tx_isp_video_link_stream: Activation pass complete ***
[  340.313426] tx_isp_video_link_stream: No video ops for subdev 0
[  340.313432] *** BINARY NINJA: Calling subdev 1 s_stream (enable=1) ***
[  340.313441] *** DEBUG: subdev=85f1f400, ops=c06a8c3c, video=c06a8c64, s_stream=c0678490 ***
[  340.313447] *** csi_video_s_stream: EXACT Binary Ninja implementation - FIXED for MIPS ***
[  340.313454] csi_video_s_stream: sd=85f1f400, enable=1
[  340.313460] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[  340.313468] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f16800 (name=gc2053) ***
[  340.313475] *** tx_isp_get_sensor: Found real sensor: 85f16800 ***
[  340.313481] csi_video_s_stream: Stream ON - CSI state set to 4
[  340.313487] *** BINARY NINJA: Subdev 1 s_stream SUCCESS ***
[  340.313494] *** BINARY NINJA: Calling subdev 2 s_stream (enable=1) ***
[  340.313502] *** DEBUG: subdev=85f16800, ops=c06ca248, video=c06ca268, s_stream=c06c7400 ***
[  340.313508] gc2053: s_stream called with enable=1
[  340.313516] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[  340.313522] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[  340.313528] gc2053: About to write streaming registers for interface 1
[  340.313534] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[  340.313544] sensor_write: reg=0xfe val=0x00, client=85466d00, adapter=i2c0, addr=0x37
[  340.313860] sensor_write: reg=0xfe val=0x00 SUCCESS
[  340.313868] sensor_write_array: reg[1] 0xfe=0x00 OK
[  340.313876] sensor_write: reg=0x3e val=0x91, client=85466d00, adapter=i2c0, addr=0x37
[  340.314500] sensor_write: reg=0x3e val=0x91 SUCCESS
[  340.314513] sensor_write_array: reg[2] 0x3e=0x91 OK
[  340.314520] sensor_write_array: Complete - wrote 2 registers, 0 errors
[  340.314528] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[  340.314534] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[  340.314540] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[  340.314547] *** BINARY NINJA: Subdev 2 s_stream SUCCESS ***
[  340.314553] tx_isp_video_link_stream: Subdev 3 is NULL
[  340.314560] tx_isp_video_link_stream: No s_stream function for subdev 4
[  340.314567] *** BINARY NINJA: Calling subdev 5 s_stream (enable=1) ***
[  340.314576] *** DEBUG: subdev=85f16800, ops=c06ca248, video=c06ca268, s_stream=c06c7400 ***
[  340.314582] gc2053: s_stream called with enable=1
[  340.314590] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[  340.314596] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[  340.314602] gc2053: About to write streaming registers for interface 1
[  340.314608] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[  340.314618] sensor_write: reg=0xfe val=0x00, client=85466d00, adapter=i2c0, addr=0x37
[  340.314939] sensor_write: reg=0xfe val=0x00 SUCCESS
[  340.314946] sensor_write_array: reg[1] 0xfe=0x00 OK
[  340.314955] sensor_write: reg=0x3e val=0x91, client=85466d00, adapter=i2c0, addr=0x37
[  340.315273] sensor_write: reg=0x3e val=0x91 SUCCESS
[  340.315280] sensor_write_array: reg[2] 0x3e=0x91 OK
[  340.315286] sensor_write_array: Complete - wrote 2 registers, 0 errors
[  340.315294] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[  340.315300] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[  340.315306] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[  340.315312] *** BINARY NINJA: Subdev 5 s_stream SUCCESS ***
[  340.315317] tx_isp_video_link_stream: Subdev 6 is NULL
[  340.315323] tx_isp_video_link_stream: Subdev 7 is NULL
[  340.315328] tx_isp_video_link_stream: Subdev 8 is NULL
[  340.315334] tx_isp_video_link_stream: Subdev 9 is NULL
[  340.315340] tx_isp_video_link_stream: Subdev 10 is NULL
[  340.315346] tx_isp_video_link_stream: Subdev 11 is NULL
[  340.315352] tx_isp_video_link_stream: Subdev 12 is NULL
[  340.315357] tx_isp_video_link_stream: Subdev 13 is NULL
[  340.315363] tx_isp_video_link_stream: Subdev 14 is NULL
[  340.315369] tx_isp_video_link_stream: Subdev 15 is NULL
[  340.315374] *** BINARY NINJA: All 16 subdevices processed successfully ***
[  340.317328] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[  340.317342] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980918 value=2
[  340.317348] Set control: cmd=0x980918 value=2
[  340.317630] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[  340.317642] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[  340.317648] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[  340.317819] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[ERROR:IMPFramesource.cpp]: IMP_FrameSource_EnableChn(1) = -1
[  340.317830] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[  340.317836] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[  340.317972] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[  340.317982] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[  340.317988] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[  340.318108] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[  340.318117] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[  340.318123] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[  340.318276] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[  340.318285] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[  340.318291] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[  340.318418] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[  340.318427] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[  340.318433] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[  340.318562] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[  340.318572] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[  340.318578] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[  340.318705] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[  340.318714] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[  340.318720] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[  340.318935] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[  340.318944] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[  340.318950] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[  340.319086] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[  340.319095] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[  340.319101] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[  340.646943] *** FRAME CHANNEL OPEN: minor=54 ***
[  340.646957] *** ispcore_core_ops_init: ENTRY - sd=85f20000, on=1 ***
[  340.646965] *** ispcore_core_ops_init: sd->dev_priv=85f1e800, sd->host_priv=  (null) ***
[  340.646972] *** ispcore_core_ops_init: sd->pdev=c06a7bb0, sd->ops=c06a89b8 ***
[  340.646978] *** ispcore_core_ops_init: EXACT Binary Ninja MCP implementation, on=1 ***
[  340.646984] *** ispcore_core_ops_init: ISP device=85f20000 ****** ispcore_core_ops_init: Frame sync work structure initialized ***
[  340.646993] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[  340.647003] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f16800 (name=gc2053) ***
[  340.647010] *** tx_isp_get_sensor: Found real sensor: 85f16800 ***
[  340.647016] ispcore_core_ops_init: Using sensor attributes from sensor: gc2053
[  340.647021] *** ispcore_core_ops_init: s0 (core_dev) = 85f1e800 from sd->dev_priv ***
[  340.647029] ispcore_core_ops_init: core_dev=85f1e800, vic_dev=85f1ec00, vic_state=3
[  340.647033] *** ispcore_core_ops_init: INITIALIZING CORE (on=1) ****** ispcore_core_ops_init: Current vic_state (VIC state): 3 ***
[  340.647042] *** ispcore_core_ops_init: VIC in ready state (3) - normal initialization ****** ispcore_core_ops_init: VIC state check passed, proceeding with initialization ***
[  340.647051] Configuring ISP system clocks
[  340.647066] Failed to set ISP clock rate
[  340.647074] ispcore_core_ops_init: tx_isp_configure_clocks failed: -22 (continuing)
[  340.647080] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[  340.647087] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f16800 (name=gc2053) ***
[  340.647094] *** tx_isp_get_sensor: Found real sensor: 85f16800 ***
[  340.647099] *** ispcore_core_ops_init: BINARY NINJA MCP - Second tisp_init call (00079058) ***
[  340.647104] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[  340.647110] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[  340.647118] tisp_init: Using sensor parameters - -1066628164x8275@1, mode=9
[  340.647125] *** load_isp_tuning_file: Loading /etc/sensor/gc2053-t31.bin ***
[  340.647158] *** load_isp_tuning_file: File size = 159736 bytes ***
[  340.647726] *** load_isp_tuning_file: Day/night tuning parameters loaded ***
[  340.647771] *** load_isp_tuning_file: Successfully loaded /etc/sensor/gc2053-t31.bin ***
[  340.647779] *** tisp_init: Standard tuning parameters loaded successfully ***
[  340.647786] *** load_isp_tuning_file: Loading /etc/sensor/gc2053-cust-t31.bin ***
[  340.647828] *** load_isp_tuning_file: File size = 159736 bytes ***
[  340.648408] *** load_isp_tuning_file: Day/night tuning parameters loaded ***
[  340.648450] *** load_isp_tuning_file: Successfully loaded /etc/sensor/gc2053-cust-t31.bin ***
[  340.648457] *** tisp_init: Custom tuning parameters loaded successfully ***
[  340.648465] system_reg_write: Writing ISP reg[0x4] = 0x8bbc2053
[  340.648472] system_reg_write: Writing ISP reg[0x8] = 0x0
[  340.648478] system_reg_write: Writing ISP reg[0x1c] = 0x3f00
[  340.648485] tisp_set_csc_version: Setting CSC version 0
[  340.648492] system_reg_write: Writing ISP reg[0xc] = 0x80700008
[  340.648498] tisp_init: Set ISP top bypass to 0x80700008 (reference-standardize)
[  340.648505] system_reg_write: Writing ISP reg[0x30] = 0xffffffff
[  340.648512] system_reg_write: Writing ISP reg[0x10] = 0x133
[  340.648517] tisp_init: ISP memory buffers configured
[  340.648522] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[  340.648531] tiziano_ae_init: Initializing Auto Exposure (-1066628164x8275@1) - Binary Ninja EXACT
[  340.648541] tiziano_ae_params_refresh: Refreshing AE parameters
[  340.648553] tiziano_ae_params_refresh: AE parameters refreshed
[  340.648559] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[  340.648566] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[  340.648571] tiziano_ae_para_addr: Setting up AE parameter addresses
[  340.648576] tiziano_ae_para_addr: AE parameter addresses configured
[  340.648583] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[  340.648590] system_reg_write: Writing ISP reg[0xa004] = 0xdb000
[  340.648597] system_reg_write: Writing ISP reg[0xa008] = 0x40d0b00
[  340.648604] system_reg_write: Writing ISP reg[0xa00c] = 0x80d0b00
[  340.648610] system_reg_write: Writing ISP reg[0xa010] = 0xc0d0b00
[  340.648617] system_reg_write: Writing ISP reg[0xa014] = 0xd0b00
[  340.648624] system_reg_write: Writing ISP reg[0xa018] = 0xd0b0010
[  340.648630] system_reg_write: Writing ISP reg[0xa01c] = 0x6a9a3814
[  340.648637] system_reg_write: Writing ISP reg[0xa020] = 0x1000c0
[  340.648644] system_reg_write: Writing ISP reg[0xa024] = 0x205300
[  340.648650] system_reg_write: Writing ISP reg[0xa000] = 0x1
[  340.648657] system_reg_write: Writing ISP reg[0xa028] = 0x100000
[  340.648663] tiziano_ae_set_hardware_param: Parameters written to AE0
[  340.648670] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[  340.648676] system_reg_write: Writing ISP reg[0xa804] = 0x0
[  340.648682] system_reg_write: Writing ISP reg[0xa808] = 0x0
[  340.648689] system_reg_write: Writing ISP reg[0xa80c] = 0x0
[  340.648695] system_reg_write: Writing ISP reg[0xa810] = 0x0
[  340.648702] system_reg_write: Writing ISP reg[0xa814] = 0x0
[  340.648708] system_reg_write: Writing ISP reg[0xa818] = 0x0
[  340.648715] system_reg_write: Writing ISP reg[0xa81c] = 0x0
[  340.648721] system_reg_write: Writing ISP reg[0xa820] = 0x0
[  340.648728] system_reg_write: Writing ISP reg[0xa824] = 0x0
[  340.648734] system_reg_write: Writing ISP reg[0xa800] = 0x1
[  340.648740] system_reg_write: Writing ISP reg[0xa828] = 0x0
[  340.648746] tiziano_ae_set_hardware_param: Parameters written to AE1
[  340.648752] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[  340.648761] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[  340.648778] tiziano_deflicker_expt: Generated 119 LUT entries
[  340.648784] tisp_event_set_cb: Setting callback for event 1
[  340.648792] tisp_event_set_cb: Event 1 callback set to c067a3a8
[  340.648798] tisp_event_set_cb: Setting callback for event 6
[  340.648804] tisp_event_set_cb: Event 6 callback set to c0679188
[  340.648810] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[  340.648816] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[  340.648823] tiziano_awb_init: Initializing Auto White Balance (-1066628164x8275)
[  340.648830] system_reg_write: Writing ISP reg[0xb000] = 0x1
[  340.648836] system_reg_write: Writing ISP reg[0x1800] = 0x1
[  340.648842] tiziano_awb_init: AWB hardware blocks enabled
[  340.648847] tiziano_gamma_init: Initializing Gamma processing
[  340.648853] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[  340.648878] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[  340.648884] tiziano_gib_init: Initializing GIB processing
[  340.648889] tiziano_lsc_init: Initializing LSC processing
[  340.648894] tiziano_lsc_params_refresh: Refreshing LSC parameters
[  340.648901] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[  340.648908] system_reg_write: Writing ISP reg[0x3800] = 0x11
[  340.648914] system_reg_write: Writing ISP reg[0x3804] = 0x108002
[  340.648920] tisp_lsc_write_lut_datas: Writing LSC LUT data
[  340.648960] tiziano_ccm_init: Initializing Color Correction Matrix
[  340.648966] tiziano_ccm_init: Using linear CCM parameters
[  340.648972] tiziano_ccm_params_refresh: Refreshing CCM parameters
[  340.648978] jz_isp_ccm: EV=64, CT=9984
[  340.648986] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[  340.648992] cm_control: saturation=128
[  340.648997] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[  340.649003] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[  340.649008] tiziano_ccm_init: CCM initialized successfully
[  340.649014] tiziano_dmsc_init: Initializing DMSC processing (BN MCP)
[  340.649021] system_reg_write: Writing ISP reg[0x4800] = 0x0
[  340.649028] system_reg_write: Writing ISP reg[0x499c] = 0x1
[  340.649034] tiziano_sharpen_init: Initializing Sharpening
[  340.649039] tiziano_sharpen_init: Using linear sharpening parameters
[  340.649045] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[  340.649052] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[  340.649058] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[  340.649072] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[  340.649079] system_reg_write: Writing ISP reg[0xb400] = 0x1
[  340.649084] tiziano_sharpen_init: Sharpening initialized successfully
[  340.649090] tiziano_sdns_init: Initializing SDNS processing
[  340.649098] tiziano_sdns_init: Using linear SDNS parameters
[  340.649104] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[  340.649111] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[  340.649117] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[  340.649134] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[  340.649140] system_reg_write: Writing ISP reg[0x8b4c] = 0x1
[  340.649146] tiziano_sdns_init: SDNS processing initialized successfully
[  340.649153] tiziano_mdns_init: Initializing MDNS processing (-1066628164x8275)
[  340.649158] tiziano_mdns_init: Using linear MDNS parameters
[  340.649166] tiziano_mdns_init: MDNS processing initialized successfully
[  340.649171] tiziano_clm_init: Initializing CLM processing
[  340.649176] tiziano_dpc_init: Initializing DPC processing
[  340.649182] tiziano_dpc_params_refresh: Refreshing DPC parameters
[  340.649188] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[  340.649195] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[  340.649200] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[  340.649210] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[  340.649216] system_reg_write: Writing ISP reg[0xa200] = 0x1
[  340.649222] tiziano_hldc_init: Initializing HLDC processing
[  340.649228] system_reg_write: Writing ISP reg[0x9044] = 0x3
[  340.649236] tiziano_defog_init: Initializing Defog processing (-1066628164x8275)
[  340.649242] tiziano_adr_init: Initializing ADR processing (-1066628164x8275)
[  340.649249] system_reg_write: Writing ISP reg[0x4000] = 0x2816174a
[  340.649256] system_reg_write: Writing ISP reg[0x4010] = 0x8140000
[  340.649263] system_reg_write: Writing ISP reg[0x4014] = 0x10281028
[  340.649269] system_reg_write: Writing ISP reg[0x4018] = 0x2053
[  340.649276] system_reg_write: Writing ISP reg[0x401c] = 0x174a0000
[  340.649283] system_reg_write: Writing ISP reg[0x4020] = 0x45fe2e94
[  340.649290] system_reg_write: Writing ISP reg[0x4024] = 0x7d3e45de
[  340.649296] system_reg_write: Writing ISP reg[0x4028] = 0xc06c8bbc
[  340.649303] system_reg_write: Writing ISP reg[0x4454] = 0x1e4f0204
[  340.649310] system_reg_write: Writing ISP reg[0x4458] = 0xdee85d2
[  340.649316] tiziano_adr_params_refresh: Refreshing ADR parameters
[  340.649322] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[  340.649327] tiziano_adr_params_init: Initializing ADR parameter arrays
[  340.649334] tisp_adr_set_params: Writing ADR parameters to registers
[  340.649350] tisp_adr_set_params: ADR parameters written to hardware
[  340.649356] tisp_event_set_cb: Setting callback for event 18
[  340.649362] tisp_event_set_cb: Event 18 callback set to c067aa88
[  340.649368] tisp_event_set_cb: Setting callback for event 2
[  340.649374] tisp_event_set_cb: Event 2 callback set to c0678dd8
[  340.649380] tiziano_adr_init: ADR processing initialized successfully
[  340.649386] tiziano_af_init: Initializing Auto Focus (-1066628164x8275)
[  340.649392] tiziano_bcsh_init: Initializing BCSH processing
[  340.649397] tiziano_ydns_init: Initializing YDNS processing
[  340.649402] tiziano_rdns_init: Initializing RDNS processing
[  340.649408] *** tisp_init: INITIALIZING WDR-SPECIFIC COMPONENTS ***
[  340.649415] tiziano_wdr_init: Initializing WDR processing (-1066628164x8275)
[  340.649420] tisp_gb_init: Initializing GB processing for WDR
[  340.649426] tisp_dpc_wdr_en: Enable DPC WDR mode
[  340.649432] tisp_lsc_wdr_en: Enable LSC WDR mode
[  340.649438] tisp_gamma_wdr_en: Enable Gamma WDR mode
[  340.649444] tisp_sharpen_wdr_en: Enable Sharpen WDR mode
[  340.649450] tisp_ccm_wdr_en: Enable CCM WDR mode
[  340.649455] tisp_bcsh_wdr_en: Enable BCSH WDR mode
[  340.649460] tisp_rdns_wdr_en: Enable RDNS WDR mode
[  340.649466] tisp_adr_wdr_en: Enable ADR WDR mode
[  340.649472] tisp_defog_wdr_en: Enable Defog WDR mode
[  340.649478] tisp_mdns_wdr_en: Enable MDNS WDR mode
[  340.649483] tisp_dmsc_wdr_en: Enable DMSC WDR mode
[  340.649488] tisp_ae_wdr_en: Enable AE WDR mode
[  340.649494] tisp_sdns_wdr_en: Enable SDNS WDR mode
[  340.649499] tiziano_wdr_init: WDR processing initialized successfully
[  340.649504] tisp_gb_init: Initializing GB processing for WDR
[  340.649510] tisp_dpc_wdr_en: Enable DPC WDR mode
[  340.649516] tisp_lsc_wdr_en: Enable LSC WDR mode
[  340.649521] tisp_gamma_wdr_en: Enable Gamma WDR mode
[  340.649526] tisp_sharpen_wdr_en: Enable Sharpen WDR mode
[  340.649532] tisp_ccm_wdr_en: Enable CCM WDR mode
[  340.649538] tisp_bcsh_wdr_en: Enable BCSH WDR mode
[  340.649543] tisp_rdns_wdr_en: Enable RDNS WDR mode
[  340.649548] tisp_adr_wdr_en: Enable ADR WDR mode
[  340.649554] tisp_defog_wdr_en: Enable Defog WDR mode
[  340.649560] tisp_mdns_wdr_en: Enable MDNS WDR mode
[  340.649565] tisp_dmsc_wdr_en: Enable DMSC WDR mode
[  340.649570] tisp_ae_wdr_en: Enable AE WDR mode
[  340.649576] tisp_sdns_wdr_en: Enable SDNS WDR mode
[  340.649581] *** tisp_init: WDR COMPONENTS INITIALIZED ***
[  340.649586] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[  340.649599] system_reg_write: Writing ISP reg[0xa02c] = 0x22c8000
[  340.649606] system_reg_write: Writing ISP reg[0xa030] = 0x22c9000
[  340.649613] system_reg_write: Writing ISP reg[0xa034] = 0x22ca000
[  340.649620] system_reg_write: Writing ISP reg[0xa038] = 0x22cb000
[  340.649627] system_reg_write: Writing ISP reg[0xa03c] = 0x22cc000
[  340.649634] system_reg_write: Writing ISP reg[0xa040] = 0x22cc800
[  340.649640] system_reg_write: Writing ISP reg[0xa044] = 0x22cd000
[  340.649647] system_reg_write: Writing ISP reg[0xa048] = 0x22cd800
[  340.649654] system_reg_write: Writing ISP reg[0xa04c] = 0x33
[  340.649660] *** tisp_init: AE0 buffer allocated at 0x022c8000 ***
[  340.649668] system_reg_write: Writing ISP reg[0xa82c] = 0x22d0000
[  340.649675] system_reg_write: Writing ISP reg[0xa830] = 0x22d1000
[  340.649682] system_reg_write: Writing ISP reg[0xa834] = 0x22d2000
[  340.649688] system_reg_write: Writing ISP reg[0xa838] = 0x22d3000
[  340.649695] system_reg_write: Writing ISP reg[0xa83c] = 0x22d4000
[  340.649702] system_reg_write: Writing ISP reg[0xa840] = 0x22d4800
[  340.649709] system_reg_write: Writing ISP reg[0xa844] = 0x22d5000
[  340.649716] system_reg_write: Writing ISP reg[0xa848] = 0x22d5800
[  340.649722] system_reg_write: Writing ISP reg[0xa84c] = 0x33
[  340.649728] *** tisp_init: AE1 buffer allocated at 0x022d0000 ***
[  340.649734] system_reg_write: Writing ISP reg[0x804] = 0x12
[  340.649741] system_reg_write: Writing ISP reg[0x1c] = 0x8
[  340.649747] system_reg_write: Writing ISP reg[0x800] = 0x1
[  340.649752] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[  340.649760] tiziano_ae_init: Initializing Auto Exposure (-1066628164x8275@1) - Binary Ninja EXACT
[  340.649768] tiziano_ae_params_refresh: Refreshing AE parameters
[  340.649776] tiziano_ae_params_refresh: AE parameters refreshed
[  340.649781] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[  340.649787] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[  340.649792] tiziano_ae_para_addr: Setting up AE parameter addresses
[  340.649798] tiziano_ae_para_addr: AE parameter addresses configured
[  340.649804] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[  340.649811] system_reg_write: Writing ISP reg[0xa004] = 0xdb000
[  340.649818] system_reg_write: Writing ISP reg[0xa008] = 0x40d0b00
[  340.649824] system_reg_write: Writing ISP reg[0xa00c] = 0x80d0b00
[  340.649831] system_reg_write: Writing ISP reg[0xa010] = 0xc0d0b00
[  340.649838] system_reg_write: Writing ISP reg[0xa014] = 0xd0b00
[  340.649844] system_reg_write: Writing ISP reg[0xa018] = 0xd0b0010
[  340.649851] system_reg_write: Writing ISP reg[0xa01c] = 0x6a9a3814
[  340.649858] system_reg_write: Writing ISP reg[0xa020] = 0x1000c0
[  340.649865] system_reg_write: Writing ISP reg[0xa024] = 0x205300
[  340.649871] system_reg_write: Writing ISP reg[0xa000] = 0x1
[  340.649878] system_reg_write: Writing ISP reg[0xa028] = 0x100000
[  340.649884] tiziano_ae_set_hardware_param: Parameters written to AE0
[  340.649890] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[  340.649896] system_reg_write: Writing ISP reg[0xa804] = 0x0
[  340.649903] system_reg_write: Writing ISP reg[0xa808] = 0x0
[  340.649910] system_reg_write: Writing ISP reg[0xa80c] = 0x0
[  340.649916] system_reg_write: Writing ISP reg[0xa810] = 0x0
[  340.649922] system_reg_write: Writing ISP reg[0xa814] = 0x0
[  340.649929] system_reg_write: Writing ISP reg[0xa818] = 0x0
[  340.649935] system_reg_write: Writing ISP reg[0xa81c] = 0x0
[  340.649942] system_reg_write: Writing ISP reg[0xa820] = 0x0
[  340.649948] system_reg_write: Writing ISP reg[0xa824] = 0x0
[  340.649954] system_reg_write: Writing ISP reg[0xa800] = 0x1
[  340.649961] system_reg_write: Writing ISP reg[0xa828] = 0x0
[  340.649967] tiziano_ae_set_hardware_param: Parameters written to AE1
[  340.649972] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[  340.649980] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[  340.649996] tiziano_deflicker_expt: Generated 119 LUT entries
[  340.650002] tisp_event_set_cb: Setting callback for event 1
[  340.650008] tisp_event_set_cb: Event 1 callback set to c067a3a8
[  340.650014] tisp_event_set_cb: Setting callback for event 6
[  340.650021] tisp_event_set_cb: Event 6 callback set to c0679188
[  340.650026] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[  340.650032] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[  340.650040] tiziano_awb_init: Initializing Auto White Balance (-1066628164x8275)
[  340.650046] system_reg_write: Writing ISP reg[0xb000] = 0x1
[  340.650052] system_reg_write: Writing ISP reg[0x1800] = 0x1
[  340.650058] tiziano_awb_init: AWB hardware blocks enabled
[  340.650063] tiziano_gamma_init: Initializing Gamma processing
[  340.650068] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[  340.650093] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[  340.650098] tiziano_gib_init: Initializing GIB processing
[  340.650104] tiziano_lsc_init: Initializing LSC processing
[  340.650109] tiziano_lsc_params_refresh: Refreshing LSC parameters
[  340.650116] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[  340.650122] system_reg_write: Writing ISP reg[0x3800] = 0x11
[  340.650128] system_reg_write: Writing ISP reg[0x3804] = 0x108002
[  340.650134] tisp_lsc_write_lut_datas: Writing LSC LUT data
[  340.650168] tiziano_ccm_init: Initializing Color Correction Matrix
[  340.650174] tiziano_ccm_init: Using linear CCM parameters
[  340.650179] tiziano_ccm_params_refresh: Refreshing CCM parameters
[  340.650186] jz_isp_ccm: EV=64, CT=9984
[  340.650192] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[  340.650198] cm_control: saturation=128
[  340.650203] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[  340.650209] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[  340.650214] tiziano_ccm_init: CCM initialized successfully
[  340.650220] tiziano_dmsc_init: Initializing DMSC processing (BN MCP)
[  340.650226] system_reg_write: Writing ISP reg[0x4800] = 0x0
[  340.650232] system_reg_write: Writing ISP reg[0x499c] = 0x1
[  340.650238] tiziano_sharpen_init: Initializing Sharpening
[  340.650243] tiziano_sharpen_init: Using linear sharpening parameters
[  340.650249] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[  340.650256] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[  340.650262] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[  340.650274] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[  340.650281] system_reg_write: Writing ISP reg[0xb400] = 0x1
[  340.650286] tiziano_sharpen_init: Sharpening initialized successfully
[  340.650292] tiziano_sdns_init: Initializing SDNS processing
[  340.650300] tiziano_sdns_init: Using linear SDNS parameters
[  340.650305] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[  340.650312] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[  340.650318] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[  340.650332] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[  340.650339] system_reg_write: Writing ISP reg[0x8b4c] = 0x1
[  340.650344] tiziano_sdns_init: SDNS processing initialized successfully
[  340.650351] tiziano_mdns_init: Initializing MDNS processing (-1066628164x8275)
[  340.650357] tiziano_mdns_init: Using linear MDNS parameters
[  340.650364] tiziano_mdns_init: MDNS processing initialized successfully
[  340.650370] tiziano_clm_init: Initializing CLM processing
[  340.650374] tiziano_dpc_init: Initializing DPC processing
[  340.650380] tiziano_dpc_params_refresh: Refreshing DPC parameters
[  340.650386] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[  340.650392] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[  340.650398] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[  340.650407] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[  340.650414] system_reg_write: Writing ISP reg[0xa200] = 0x1
[  340.650419] tiziano_hldc_init: Initializing HLDC processing
[  340.650425] system_reg_write: Writing ISP reg[0x9044] = 0x3
[  340.650432] tiziano_defog_init: Initializing Defog processing (-1066628164x8275)
[  340.650439] tiziano_adr_init: Initializing ADR processing (-1066628164x8275)
[  340.650446] system_reg_write: Writing ISP reg[0x4000] = 0x2816174a
[  340.650452] system_reg_write: Writing ISP reg[0x4010] = 0x8140000
[  340.650460] system_reg_write: Writing ISP reg[0x4014] = 0x10281028
[  340.650466] system_reg_write: Writing ISP reg[0x4018] = 0x2053
[  340.650473] system_reg_write: Writing ISP reg[0x401c] = 0x174a0000
[  340.650480] system_reg_write: Writing ISP reg[0x4020] = 0x45fe2e94
[  340.650486] system_reg_write: Writing ISP reg[0x4024] = 0x7d3e45de
[  340.650494] system_reg_write: Writing ISP reg[0x4028] = 0xc06c8bbc
[  340.650500] system_reg_write: Writing ISP reg[0x4454] = 0x1e4f0204
[  340.650507] system_reg_write: Writing ISP reg[0x4458] = 0xdee85d2
[  340.650512] tiziano_adr_params_refresh: Refreshing ADR parameters
[  340.650518] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[  340.650524] tiziano_adr_params_init: Initializing ADR parameter arrays
[  340.650530] tisp_adr_set_params: Writing ADR parameters to registers
[  340.650545] tisp_adr_set_params: ADR parameters written to hardware
[  340.650551] tisp_event_set_cb: Setting callback for event 18
[  340.650558] tisp_event_set_cb: Event 18 callback set to c067aa88
[  340.650564] tisp_event_set_cb: Setting callback for event 2
[  340.650570] tisp_event_set_cb: Event 2 callback set to c0678dd8
[  340.650576] tiziano_adr_init: ADR processing initialized successfully
[  340.650582] tiziano_af_init: Initializing Auto Focus (-1066628164x8275)
[  340.650588] tiziano_bcsh_init: Initializing BCSH processing
[  340.650593] tiziano_ydns_init: Initializing YDNS processing
[  340.650598] tiziano_rdns_init: Initializing RDNS processing
[  340.650604] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[  340.650609] tisp_event_init: Initializing ISP event system
[  340.650617] tisp_event_init: SAFE event system initialized with 20 nodes
[  340.650623] tisp_event_set_cb: Setting callback for event 4
[  340.650630] tisp_event_set_cb: Event 4 callback set to c0678e04
[  340.650635] tisp_event_set_cb: Setting callback for event 5
[  340.650642] tisp_event_set_cb: Event 5 callback set to c067999c
[  340.650647] tisp_event_set_cb: Setting callback for event 7
[  340.650654] tisp_event_set_cb: Event 7 callback set to c0678e8c
[  340.650660] tisp_event_set_cb: Setting callback for event 9
[  340.650666] tisp_event_set_cb: Event 9 callback set to c0678f0c
[  340.650672] tisp_event_set_cb: Setting callback for event 8
[  340.650678] tisp_event_set_cb: Event 8 callback set to c0678fc0
[  340.650684] *** tisp_init: STARTING EVENT PROCESSING THREAD ***
[  340.650690] *** system_irq_func_set: Registered handler at index 13 ***
[  340.650696] *** tisp_init: ISP processing completion callback registered (index=0xd) ***
[  340.650702] tisp_param_operate_init: Initializing parameter operations
[  340.650710] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[  340.650715] tisp_code_create_tuning_node: Device already created, skipping
[  340.650722] *** CRITICAL: Calling tx_isp_subdev_pipo to initialize VIC buffer management ***
[  340.650728] *** tx_isp_subdev_pipo: SAFE struct member access implementation ***
[  340.650735] tx_isp_subdev_pipo: entry - sd=85f1ec00, arg=85f83bf8
[  340.650741] tx_isp_subdev_pipo: vic_dev retrieved: 85f1ec00
[  340.650746] tx_isp_subdev_pipo: set processing = 1 (safe struct access)
[  340.650752] tx_isp_subdev_pipo: arg is not NULL - initializing pipe structures
[  340.650758] tx_isp_subdev_pipo: initialized linked list heads (safe Linux API)
[  340.650763] tx_isp_subdev_pipo: initialized spinlock
[  340.650772] tx_isp_subdev_pipo: set function pointers - qbuf=c0675540, clearbuf=c0674694, s_stream=c067509c, sd=85f1ec00
[  340.650780] tx_isp_subdev_pipo: added buffer entry 0 to free list
[  340.650786] tx_isp_subdev_pipo: cleared VIC register at offset 0x318 for buffer 0
[  340.650793] tx_isp_subdev_pipo: added buffer entry 1 to free list
[  340.650800] tx_isp_subdev_pipo: cleared VIC register at offset 0x31c for buffer 1
[  340.650806] tx_isp_subdev_pipo: added buffer entry 2 to free list
[  340.650812] tx_isp_subdev_pipo: cleared VIC register at offset 0x320 for buffer 2
[  340.650818] tx_isp_subdev_pipo: added buffer entry 3 to free list
[  340.650825] tx_isp_subdev_pipo: cleared VIC register at offset 0x324 for buffer 3
[  340.650832] tx_isp_subdev_pipo: added buffer entry 4 to free list
[  340.650838] tx_isp_subdev_pipo: cleared VIC register at offset 0x328 for buffer 4
[  340.650845] tx_isp_subdev_pipo: initialized 5 buffer structures (safe implementation)
[  340.650850] tx_isp_subdev_pipo: set processing = 1 (pipe enabled, safe struct access)
[  340.650856] tx_isp_subdev_pipo: completed successfully, returning 0
[  340.650861] *** SUCCESS: tx_isp_subdev_pipo completed - VIC buffer management initialized ***
[  340.650867] *** NO MORE 'qbuffer null' or 'bank no free' errors should occur ***
[  340.650873] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[  340.650879] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[  340.650886] *** ispcore_core_ops_init: Second tisp_init completed ***
[  340.650891] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[  340.650901] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[  340.650907] tx_isp_core_enable_irq: Invalid ISP device or core registers
[  340.650913] ispcore_core_ops_init: Failed to enable ISP core interrupts: -22
[  340.650919] ispcore_core_ops_init: Complete, result=0
[  340.650923] FRAME CHANNEL OPEN: core init ret=0
[  340.650931] *** FRAME CHANNEL OPEN: Device not in array, creating new entry for minor 54 ***
[  340.650937] *** FRAME CHANNEL OPEN: Assigned to channel 0 ***
[  340.650943] *** FRAME CHANNEL 0: Initialized state ***
[  340.650949] *** CRITICAL FIX: Frame channel device stored at file+0x70 to prevent crash ***
[  340.650955] *** FRAME CHANNEL 0 OPENED SUCCESSFULLY - NOW READY FOR IOCTLS ***
[  340.650963] Channel 0: Format 1920x1080, pixfmt=0x3231564e, minor=54
[  340.651003] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc07056c3 ***
[  340.651013] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc07056c3 ***
[  340.651021] Channel 0: Set format 1920x1080 pixfmt=0x3231564e
[  340.662463] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc0145608 ***
[  340.662477] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0145608 ***
[  340.662483] *** Channel 0: REQBUFS - MEMORY-AWARE implementation ***
[  340.662491] Channel 0: Request 4 buffers, type=1 memory=2
[  340.662497] Channel 0: USERPTR mode - client will provide buffers
[  340.662503] Channel 0: USERPTR mode - 4 user buffers expected
[  340.662509] *** Channel 0: VIC active_buffer_count set to 4 ***
[  340.662516] *** Channel 0: MEMORY-AWARE REQBUFS SUCCESS - 4 buffers ***
[  340.662543] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc044560f ***
[  340.662551] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[  340.662557] *** Channel 0: QBUF - EXACT Binary Ninja implementation ***
[  340.662564] *** Channel 0: QBUF - Validation: index=0, buffer_count=4 ***
[  340.662571] *** Channel 0: QBUF - Queue buffer index=0 ***
[  340.662577] *** QBUF: No driver buffer for index 0 - continuing for VBM mode ***
[  340.662586] *** Channel 0: QBUF details: memory=2 index=0 length=3133440 bytesused=0 flags=0x0 field=0 ***
[  340.662595] *** Channel 0: QBUF - Using candidate phys=0x6f58700 from buffer (memory=2) ***
[  340.662604] *** Channel 0: QBUF - Forcing GLOBAL SET_BUF phys=0x6300000 (base=0x6300000 step=3110400 index=0) ***
[  340.662613] *** Channel 0: QBUF - Programming VIC buffer[0] = 0x6300000 (size=3136320) ***
[  340.662619] *** tx_isp_send_event_to_remote: MIPS-SAFE with VIC handler - event=0x3000008 ***
[  340.662626] *** ROUTING EVENT 0x3000008 TO VIC_EVENT_HANDLER ***
[  340.662633] *** vic_event_handler: Processing event 0x3000008 ***
[  340.662639] VIC EVENT: QBUF -> entry addr=0x6300000 idx=0 (calling ispvic_frame_channel_qbuf)
[  340.662647] *** VIC EVENT: DIRECT SLOT PROGRAMMING - Buffer 0x6300000 -> VIC[0x318] (slot 0) ***
[  340.662655] *** VIC EVENT: Buffer entry added to done_head for ISR matching ***
[  340.662661] *** VIC_EVENT_HANDLER RETURNED: 0 ***
[  340.662667] *** VIC HANDLER: Event 0x3000008 processed successfully ***
[  340.662675] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[  340.662685] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc044560f ***
[  340.662693] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[  340.662699] *** Channel 0: QBUF - EXACT Binary Ninja implementation ***
[  340.662706] *** Channel 0: QBUF - Validation: index=1, buffer_count=4 ***
[  340.662713] *** Channel 0: QBUF - Queue buffer index=1 ***
[  340.662719] *** QBUF: No driver buffer for index 1 - continuing for VBM mode ***
[  340.662727] *** Channel 0: QBUF details: memory=2 index=1 length=3133440 bytesused=0 flags=0x0 field=0 ***
[  340.662735] *** Channel 0: QBUF - Using candidate phys=0x7255700 from buffer (memory=2) ***
[  340.662743] *** Channel 0: QBUF - Forcing GLOBAL SET_BUF phys=0x65f7600 (base=0x6300000 step=3110400 index=1) ***
[  340.662754] *** Channel 0: QBUF - Adjusted phys by VIC stride: old=0x65f7600 -> new=0x6300000 (base=0x6300000 stride=0 h=1080 step=0 idx=1) ***
[  340.662763] *** Channel 0: QBUF - Programming VIC buffer[1] = 0x6300000 (size=3136320) ***
[  340.662769] *** tx_isp_send_event_to_remote: MIPS-SAFE with VIC handler - event=0x3000008 ***
[  340.662775] *** ROUTING EVENT 0x3000008 TO VIC_EVENT_HANDLER ***
[  340.662781] *** vic_event_handler: Processing event 0x3000008 ***
[  340.662788] VIC EVENT: QBUF -> entry addr=0x6300000 idx=1 (calling ispvic_frame_channel_qbuf)
[  340.662796] *** VIC EVENT: DIRECT SLOT PROGRAMMING - Buffer 0x6300000 -> VIC[0x31c] (slot 1) ***
[  340.662802] *** VIC EVENT: Buffer entry added to done_head for ISR matching ***
[  340.662808] *** VIC_EVENT_HANDLER RETURNED: 0 ***
[  340.662814] *** VIC HANDLER: Event 0x3000008 processed successfully ***
[  340.662820] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[  340.662829] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc044560f ***
[  340.662836] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[  340.662842] *** Channel 0: QBUF - EXACT Binary Ninja implementation ***
[  340.662849] *** Channel 0: QBUF - Validation: index=2, buffer_count=4 ***
[  340.662855] *** Channel 0: QBUF - Queue buffer index=2 ***
[  340.662861] *** QBUF: No driver buffer for index 2 - continuing for VBM mode ***
[  340.662870] *** Channel 0: QBUF details: memory=2 index=2 length=3133440 bytesused=0 flags=0x0 field=0 ***
[  340.662878] *** Channel 0: QBUF - Using candidate phys=0x7552700 from buffer (memory=2) ***
[  340.662887] *** Channel 0: QBUF - Forcing GLOBAL SET_BUF phys=0x68eec00 (base=0x6300000 step=3110400 index=2) ***
[  340.662897] *** Channel 0: QBUF - Adjusted phys by VIC stride: old=0x68eec00 -> new=0x6300000 (base=0x6300000 stride=0 h=1080 step=0 idx=2) ***
[  340.662905] *** Channel 0: QBUF - Programming VIC buffer[2] = 0x6300000 (size=3136320) ***
[  340.662912] *** tx_isp_send_event_to_remote: MIPS-SAFE with VIC handler - event=0x3000008 ***
[  340.662918] *** ROUTING EVENT 0x3000008 TO VIC_EVENT_HANDLER ***
[  340.662924] *** vic_event_handler: Processing event 0x3000008 ***
[  340.662931] VIC EVENT: QBUF -> entry addr=0x6300000 idx=2 (calling ispvic_frame_channel_qbuf)
[  340.662939] *** VIC EVENT: DIRECT SLOT PROGRAMMING - Buffer 0x6300000 -> VIC[0x320] (slot 2) ***
[  340.662945] *** VIC EVENT: Buffer entry added to done_head for ISR matching ***
[  340.662951] *** VIC_EVENT_HANDLER RETURNED: 0 ***
[  340.662957] *** VIC HANDLER: Event 0x3000008 processed successfully ***
[  340.662963] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[  340.662971] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc044560f ***
[  340.662978] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[  340.662984] *** Channel 0: QBUF - EXACT Binary Ninja implementation ***
[  340.662991] *** Channel 0: QBUF - Validation: index=3, buffer_count=4 ***
[  340.662997] *** Channel 0: QBUF - Queue buffer index=3 ***
[  340.663003] *** QBUF: No driver buffer for index 3 - continuing for VBM mode ***
[  340.663013] *** Channel 0: QBUF details: memory=2 index=3 length=3133440 bytesused=0 flags=0x0 field=0 ***
[  340.663020] *** Channel 0: QBUF - Using candidate phys=0x784f700 from buffer (memory=2) ***
[  340.663029] *** Channel 0: QBUF - Forcing GLOBAL SET_BUF phys=0x6be6200 (base=0x6300000 step=3110400 index=3) ***
[  340.663039] *** Channel 0: QBUF - Adjusted phys by VIC stride: old=0x6be6200 -> new=0x6300000 (base=0x6300000 stride=0 h=1080 step=0 idx=3) ***
[  340.663047] *** Channel 0: QBUF - Programming VIC buffer[3] = 0x6300000 (size=3136320) ***
[  340.663054] *** tx_isp_send_event_to_remote: MIPS-SAFE with VIC handler - event=0x3000008 ***
[  340.663060] *** ROUTING EVENT 0x3000008 TO VIC_EVENT_HANDLER ***
[  340.663067] *** vic_event_handler: Processing event 0x3000008 ***
[  340.663073] VIC EVENT: QBUF -> entry addr=0x6300000 idx=3 (calling ispvic_frame_channel_qbuf)
[  340.663081] *** VIC EVENT: DIRECT SLOT PROGRAMMING - Buffer 0x6300000 -> VIC[0x324] (slot 3) ***
[  340.663087] *** VIC EVENT: Buffer entry added to done_head for ISR matching ***
[  340.663093] *** VIC_EVENT_HANDLER RETURNED: 0 ***
[  340.663099] *** VIC HANDLER: Event 0x3000008 processed successfully ***
[  340.663105] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[  340.663195] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0x80045612 ***
[  340.663204] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x80045612 ***
[  340.663211] Channel 0: VIDIOC_STREAMON request, type=1
[  340.663217] *** Channel 0: STREAMON aborted - no sensor registered yet ***
[  340.665069] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc0145608 ***
[  340.665082] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0145608 ***
[  340.665089] *** Channel 0: REQBUFS - MEMORY-AWARE implementation ***
[  340.665096] Channel 0: Request 0 buffers, type=1 memory=2
[  340.665102] Channel 0: Freeing existing buffers
[  340.665108] *** Channel 0: VIC active_buffer_count cleared ***
[  340.665556] *** FRAME CHANNEL 0 RELEASED ***
set jpeg streamMngCtx suceess
root@ing-wyze-cam3-a000 ~# dmesg
[  340.648884] tiziano_gib_init: Initializing GIB processing
[  340.648889] tiziano_lsc_init: Initializing LSC processing
[  340.648894] tiziano_lsc_params_refresh: Refreshing LSC parameters
[  340.648901] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[  340.648908] system_reg_write: Writing ISP reg[0x3800] = 0x11
[  340.648914] system_reg_write: Writing ISP reg[0x3804] = 0x108002
[  340.648920] tisp_lsc_write_lut_datas: Writing LSC LUT data
[  340.648960] tiziano_ccm_init: Initializing Color Correction Matrix
[  340.648966] tiziano_ccm_init: Using linear CCM parameters
[  340.648972] tiziano_ccm_params_refresh: Refreshing CCM parameters
[  340.648978] jz_isp_ccm: EV=64, CT=9984
[  340.648986] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[  340.648992] cm_control: saturation=128
[  340.648997] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[  340.649003] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[  340.649008] tiziano_ccm_init: CCM initialized successfully
[  340.649014] tiziano_dmsc_init: Initializing DMSC processing (BN MCP)
[  340.649021] system_reg_write: Writing ISP reg[0x4800] = 0x0
[  340.649028] system_reg_write: Writing ISP reg[0x499c] = 0x1
[  340.649034] tiziano_sharpen_init: Initializing Sharpening
[  340.649039] tiziano_sharpen_init: Using linear sharpening parameters
[  340.649045] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[  340.649052] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[  340.649058] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[  340.649072] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[  340.649079] system_reg_write: Writing ISP reg[0xb400] = 0x1
[  340.649084] tiziano_sharpen_init: Sharpening initialized successfully
[  340.649090] tiziano_sdns_init: Initializing SDNS processing
[  340.649098] tiziano_sdns_init: Using linear SDNS parameters
[  340.649104] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[  340.649111] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[  340.649117] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[  340.649134] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[  340.649140] system_reg_write: Writing ISP reg[0x8b4c] = 0x1
[  340.649146] tiziano_sdns_init: SDNS processing initialized successfully
[  340.649153] tiziano_mdns_init: Initializing MDNS processing (-1066628164x8275)
[  340.649158] tiziano_mdns_init: Using linear MDNS parameters
[  340.649166] tiziano_mdns_init: MDNS processing initialized successfully
[  340.649171] tiziano_clm_init: Initializing CLM processing
[  340.649176] tiziano_dpc_init: Initializing DPC processing
[  340.649182] tiziano_dpc_params_refresh: Refreshing DPC parameters
[  340.649188] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[  340.649195] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[  340.649200] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[  340.649210] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[  340.649216] system_reg_write: Writing ISP reg[0xa200] = 0x1
[  340.649222] tiziano_hldc_init: Initializing HLDC processing
[  340.649228] system_reg_write: Writing ISP reg[0x9044] = 0x3
[  340.649236] tiziano_defog_init: Initializing Defog processing (-1066628164x8275)
[  340.649242] tiziano_adr_init: Initializing ADR processing (-1066628164x8275)
[  340.649249] system_reg_write: Writing ISP reg[0x4000] = 0x2816174a
[  340.649256] system_reg_write: Writing ISP reg[0x4010] = 0x8140000
[  340.649263] system_reg_write: Writing ISP reg[0x4014] = 0x10281028
[  340.649269] system_reg_write: Writing ISP reg[0x4018] = 0x2053
[  340.649276] system_reg_write: Writing ISP reg[0x401c] = 0x174a0000
[  340.649283] system_reg_write: Writing ISP reg[0x4020] = 0x45fe2e94
[  340.649290] system_reg_write: Writing ISP reg[0x4024] = 0x7d3e45de
[  340.649296] system_reg_write: Writing ISP reg[0x4028] = 0xc06c8bbc
[  340.649303] system_reg_write: Writing ISP reg[0x4454] = 0x1e4f0204
[  340.649310] system_reg_write: Writing ISP reg[0x4458] = 0xdee85d2
[  340.649316] tiziano_adr_params_refresh: Refreshing ADR parameters
[  340.649322] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[  340.649327] tiziano_adr_params_init: Initializing ADR parameter arrays
[  340.649334] tisp_adr_set_params: Writing ADR parameters to registers
[  340.649350] tisp_adr_set_params: ADR parameters written to hardware
[  340.649356] tisp_event_set_cb: Setting callback for event 18
[  340.649362] tisp_event_set_cb: Event 18 callback set to c067aa88
[  340.649368] tisp_event_set_cb: Setting callback for event 2
[  340.649374] tisp_event_set_cb: Event 2 callback set to c0678dd8
[  340.649380] tiziano_adr_init: ADR processing initialized successfully
[  340.649386] tiziano_af_init: Initializing Auto Focus (-1066628164x8275)
[  340.649392] tiziano_bcsh_init: Initializing BCSH processing
[  340.649397] tiziano_ydns_init: Initializing YDNS processing
[  340.649402] tiziano_rdns_init: Initializing RDNS processing
[  340.649408] *** tisp_init: INITIALIZING WDR-SPECIFIC COMPONENTS ***
[  340.649415] tiziano_wdr_init: Initializing WDR processing (-1066628164x8275)
[  340.649420] tisp_gb_init: Initializing GB processing for WDR
[  340.649426] tisp_dpc_wdr_en: Enable DPC WDR mode
[  340.649432] tisp_lsc_wdr_en: Enable LSC WDR mode
[  340.649438] tisp_gamma_wdr_en: Enable Gamma WDR mode
[  340.649444] tisp_sharpen_wdr_en: Enable Sharpen WDR mode
[  340.649450] tisp_ccm_wdr_en: Enable CCM WDR mode
[  340.649455] tisp_bcsh_wdr_en: Enable BCSH WDR mode
[  340.649460] tisp_rdns_wdr_en: Enable RDNS WDR mode
[  340.649466] tisp_adr_wdr_en: Enable ADR WDR mode
[  340.649472] tisp_defog_wdr_en: Enable Defog WDR mode
[  340.649478] tisp_mdns_wdr_en: Enable MDNS WDR mode
[  340.649483] tisp_dmsc_wdr_en: Enable DMSC WDR mode
[  340.649488] tisp_ae_wdr_en: Enable AE WDR mode
[  340.649494] tisp_sdns_wdr_en: Enable SDNS WDR mode
[  340.649499] tiziano_wdr_init: WDR processing initialized successfully
[  340.649504] tisp_gb_init: Initializing GB processing for WDR
[  340.649510] tisp_dpc_wdr_en: Enable DPC WDR mode
[  340.649516] tisp_lsc_wdr_en: Enable LSC WDR mode
[  340.649521] tisp_gamma_wdr_en: Enable Gamma WDR mode
[  340.649526] tisp_sharpen_wdr_en: Enable Sharpen WDR mode
[  340.649532] tisp_ccm_wdr_en: Enable CCM WDR mode
[  340.649538] tisp_bcsh_wdr_en: Enable BCSH WDR mode
[  340.649543] tisp_rdns_wdr_en: Enable RDNS WDR mode
[  340.649548] tisp_adr_wdr_en: Enable ADR WDR mode
[  340.649554] tisp_defog_wdr_en: Enable Defog WDR mode
[  340.649560] tisp_mdns_wdr_en: Enable MDNS WDR mode
[  340.649565] tisp_dmsc_wdr_en: Enable DMSC WDR mode
[  340.649570] tisp_ae_wdr_en: Enable AE WDR mode
[  340.649576] tisp_sdns_wdr_en: Enable SDNS WDR mode
[  340.649581] *** tisp_init: WDR COMPONENTS INITIALIZED ***
[  340.649586] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[  340.649599] system_reg_write: Writing ISP reg[0xa02c] = 0x22c8000
[  340.649606] system_reg_write: Writing ISP reg[0xa030] = 0x22c9000
[  340.649613] system_reg_write: Writing ISP reg[0xa034] = 0x22ca000
[  340.649620] system_reg_write: Writing ISP reg[0xa038] = 0x22cb000
[  340.649627] system_reg_write: Writing ISP reg[0xa03c] = 0x22cc000
[  340.649634] system_reg_write: Writing ISP reg[0xa040] = 0x22cc800
[  340.649640] system_reg_write: Writing ISP reg[0xa044] = 0x22cd000
[  340.649647] system_reg_write: Writing ISP reg[0xa048] = 0x22cd800
[  340.649654] system_reg_write: Writing ISP reg[0xa04c] = 0x33
[  340.649660] *** tisp_init: AE0 buffer allocated at 0x022c8000 ***
[  340.649668] system_reg_write: Writing ISP reg[0xa82c] = 0x22d0000
[  340.649675] system_reg_write: Writing ISP reg[0xa830] = 0x22d1000
[  340.649682] system_reg_write: Writing ISP reg[0xa834] = 0x22d2000
[  340.649688] system_reg_write: Writing ISP reg[0xa838] = 0x22d3000
[  340.649695] system_reg_write: Writing ISP reg[0xa83c] = 0x22d4000
[  340.649702] system_reg_write: Writing ISP reg[0xa840] = 0x22d4800
[  340.649709] system_reg_write: Writing ISP reg[0xa844] = 0x22d5000
[  340.649716] system_reg_write: Writing ISP reg[0xa848] = 0x22d5800
[  340.649722] system_reg_write: Writing ISP reg[0xa84c] = 0x33
[  340.649728] *** tisp_init: AE1 buffer allocated at 0x022d0000 ***
[  340.649734] system_reg_write: Writing ISP reg[0x804] = 0x12
[  340.649741] system_reg_write: Writing ISP reg[0x1c] = 0x8
[  340.649747] system_reg_write: Writing ISP reg[0x800] = 0x1
[  340.649752] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[  340.649760] tiziano_ae_init: Initializing Auto Exposure (-1066628164x8275@1) - Binary Ninja EXACT
[  340.649768] tiziano_ae_params_refresh: Refreshing AE parameters
[  340.649776] tiziano_ae_params_refresh: AE parameters refreshed
[  340.649781] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[  340.649787] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[  340.649792] tiziano_ae_para_addr: Setting up AE parameter addresses
[  340.649798] tiziano_ae_para_addr: AE parameter addresses configured
[  340.649804] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[  340.649811] system_reg_write: Writing ISP reg[0xa004] = 0xdb000
[  340.649818] system_reg_write: Writing ISP reg[0xa008] = 0x40d0b00
[  340.649824] system_reg_write: Writing ISP reg[0xa00c] = 0x80d0b00
[  340.649831] system_reg_write: Writing ISP reg[0xa010] = 0xc0d0b00
[  340.649838] system_reg_write: Writing ISP reg[0xa014] = 0xd0b00
[  340.649844] system_reg_write: Writing ISP reg[0xa018] = 0xd0b0010
[  340.649851] system_reg_write: Writing ISP reg[0xa01c] = 0x6a9a3814
[  340.649858] system_reg_write: Writing ISP reg[0xa020] = 0x1000c0
[  340.649865] system_reg_write: Writing ISP reg[0xa024] = 0x205300
[  340.649871] system_reg_write: Writing ISP reg[0xa000] = 0x1
[  340.649878] system_reg_write: Writing ISP reg[0xa028] = 0x100000
[  340.649884] tiziano_ae_set_hardware_param: Parameters written to AE0
[  340.649890] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[  340.649896] system_reg_write: Writing ISP reg[0xa804] = 0x0
[  340.649903] system_reg_write: Writing ISP reg[0xa808] = 0x0
[  340.649910] system_reg_write: Writing ISP reg[0xa80c] = 0x0
[  340.649916] system_reg_write: Writing ISP reg[0xa810] = 0x0
[  340.649922] system_reg_write: Writing ISP reg[0xa814] = 0x0
[  340.649929] system_reg_write: Writing ISP reg[0xa818] = 0x0
[  340.649935] system_reg_write: Writing ISP reg[0xa81c] = 0x0
[  340.649942] system_reg_write: Writing ISP reg[0xa820] = 0x0
[  340.649948] system_reg_write: Writing ISP reg[0xa824] = 0x0
[  340.649954] system_reg_write: Writing ISP reg[0xa800] = 0x1
[  340.649961] system_reg_write: Writing ISP reg[0xa828] = 0x0
[  340.649967] tiziano_ae_set_hardware_param: Parameters written to AE1
[  340.649972] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[  340.649980] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[  340.649996] tiziano_deflicker_expt: Generated 119 LUT entries
[  340.650002] tisp_event_set_cb: Setting callback for event 1
[  340.650008] tisp_event_set_cb: Event 1 callback set to c067a3a8
[  340.650014] tisp_event_set_cb: Setting callback for event 6
[  340.650021] tisp_event_set_cb: Event 6 callback set to c0679188
[  340.650026] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[  340.650032] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[  340.650040] tiziano_awb_init: Initializing Auto White Balance (-1066628164x8275)
[  340.650046] system_reg_write: Writing ISP reg[0xb000] = 0x1
[  340.650052] system_reg_write: Writing ISP reg[0x1800] = 0x1
[  340.650058] tiziano_awb_init: AWB hardware blocks enabled
[  340.650063] tiziano_gamma_init: Initializing Gamma processing
[  340.650068] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[  340.650093] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[  340.650098] tiziano_gib_init: Initializing GIB processing
[  340.650104] tiziano_lsc_init: Initializing LSC processing
[  340.650109] tiziano_lsc_params_refresh: Refreshing LSC parameters
[  340.650116] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[  340.650122] system_reg_write: Writing ISP reg[0x3800] = 0x11
[  340.650128] system_reg_write: Writing ISP reg[0x3804] = 0x108002
[  340.650134] tisp_lsc_write_lut_datas: Writing LSC LUT data
[  340.650168] tiziano_ccm_init: Initializing Color Correction Matrix
[  340.650174] tiziano_ccm_init: Using linear CCM parameters
[  340.650179] tiziano_ccm_params_refresh: Refreshing CCM parameters
[  340.650186] jz_isp_ccm: EV=64, CT=9984
[  340.650192] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[  340.650198] cm_control: saturation=128
[  340.650203] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[  340.650209] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[  340.650214] tiziano_ccm_init: CCM initialized successfully
[  340.650220] tiziano_dmsc_init: Initializing DMSC processing (BN MCP)
[  340.650226] system_reg_write: Writing ISP reg[0x4800] = 0x0
[  340.650232] system_reg_write: Writing ISP reg[0x499c] = 0x1
[  340.650238] tiziano_sharpen_init: Initializing Sharpening
[  340.650243] tiziano_sharpen_init: Using linear sharpening parameters
[  340.650249] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[  340.650256] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[  340.650262] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[  340.650274] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[  340.650281] system_reg_write: Writing ISP reg[0xb400] = 0x1
[  340.650286] tiziano_sharpen_init: Sharpening initialized successfully
[  340.650292] tiziano_sdns_init: Initializing SDNS processing
[  340.650300] tiziano_sdns_init: Using linear SDNS parameters
[  340.650305] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[  340.650312] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[  340.650318] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[  340.650332] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[  340.650339] system_reg_write: Writing ISP reg[0x8b4c] = 0x1
[  340.650344] tiziano_sdns_init: SDNS processing initialized successfully
[  340.650351] tiziano_mdns_init: Initializing MDNS processing (-1066628164x8275)
[  340.650357] tiziano_mdns_init: Using linear MDNS parameters
[  340.650364] tiziano_mdns_init: MDNS processing initialized successfully
[  340.650370] tiziano_clm_init: Initializing CLM processing
[  340.650374] tiziano_dpc_init: Initializing DPC processing
[  340.650380] tiziano_dpc_params_refresh: Refreshing DPC parameters
[  340.650386] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[  340.650392] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[  340.650398] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[  340.650407] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[  340.650414] system_reg_write: Writing ISP reg[0xa200] = 0x1
[  340.650419] tiziano_hldc_init: Initializing HLDC processing
[  340.650425] system_reg_write: Writing ISP reg[0x9044] = 0x3
[  340.650432] tiziano_defog_init: Initializing Defog processing (-1066628164x8275)
[  340.650439] tiziano_adr_init: Initializing ADR processing (-1066628164x8275)
[  340.650446] system_reg_write: Writing ISP reg[0x4000] = 0x2816174a
[  340.650452] system_reg_write: Writing ISP reg[0x4010] = 0x8140000
[  340.650460] system_reg_write: Writing ISP reg[0x4014] = 0x10281028
[  340.650466] system_reg_write: Writing ISP reg[0x4018] = 0x2053
[  340.650473] system_reg_write: Writing ISP reg[0x401c] = 0x174a0000
[  340.650480] system_reg_write: Writing ISP reg[0x4020] = 0x45fe2e94
[  340.650486] system_reg_write: Writing ISP reg[0x4024] = 0x7d3e45de
[  340.650494] system_reg_write: Writing ISP reg[0x4028] = 0xc06c8bbc
[  340.650500] system_reg_write: Writing ISP reg[0x4454] = 0x1e4f0204
[  340.650507] system_reg_write: Writing ISP reg[0x4458] = 0xdee85d2
[  340.650512] tiziano_adr_params_refresh: Refreshing ADR parameters
[  340.650518] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[  340.650524] tiziano_adr_params_init: Initializing ADR parameter arrays
[  340.650530] tisp_adr_set_params: Writing ADR parameters to registers
[  340.650545] tisp_adr_set_params: ADR parameters written to hardware
[  340.650551] tisp_event_set_cb: Setting callback for event 18
[  340.650558] tisp_event_set_cb: Event 18 callback set to c067aa88
[  340.650564] tisp_event_set_cb: Setting callback for event 2
[  340.650570] tisp_event_set_cb: Event 2 callback set to c0678dd8
[  340.650576] tiziano_adr_init: ADR processing initialized successfully
[  340.650582] tiziano_af_init: Initializing Auto Focus (-1066628164x8275)
[  340.650588] tiziano_bcsh_init: Initializing BCSH processing
[  340.650593] tiziano_ydns_init: Initializing YDNS processing
[  340.650598] tiziano_rdns_init: Initializing RDNS processing
[  340.650604] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[  340.650609] tisp_event_init: Initializing ISP event system
[  340.650617] tisp_event_init: SAFE event system initialized with 20 nodes
[  340.650623] tisp_event_set_cb: Setting callback for event 4
[  340.650630] tisp_event_set_cb: Event 4 callback set to c0678e04
[  340.650635] tisp_event_set_cb: Setting callback for event 5
[  340.650642] tisp_event_set_cb: Event 5 callback set to c067999c
[  340.650647] tisp_event_set_cb: Setting callback for event 7
[  340.650654] tisp_event_set_cb: Event 7 callback set to c0678e8c
[  340.650660] tisp_event_set_cb: Setting callback for event 9
[  340.650666] tisp_event_set_cb: Event 9 callback set to c0678f0c
[  340.650672] tisp_event_set_cb: Setting callback for event 8
[  340.650678] tisp_event_set_cb: Event 8 callback set to c0678fc0
[  340.650684] *** tisp_init: STARTING EVENT PROCESSING THREAD ***
[  340.650690] *** system_irq_func_set: Registered handler at index 13 ***
[  340.650696] *** tisp_init: ISP processing completion callback registered (index=0xd) ***
[  340.650702] tisp_param_operate_init: Initializing parameter operations
[  340.650710] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[  340.650715] tisp_code_create_tuning_node: Device already created, skipping
[  340.650722] *** CRITICAL: Calling tx_isp_subdev_pipo to initialize VIC buffer management ***
[  340.650728] *** tx_isp_subdev_pipo: SAFE struct member access implementation ***
[  340.650735] tx_isp_subdev_pipo: entry - sd=85f1ec00, arg=85f83bf8
[  340.650741] tx_isp_subdev_pipo: vic_dev retrieved: 85f1ec00
[  340.650746] tx_isp_subdev_pipo: set processing = 1 (safe struct access)
[  340.650752] tx_isp_subdev_pipo: arg is not NULL - initializing pipe structures
[  340.650758] tx_isp_subdev_pipo: initialized linked list heads (safe Linux API)
[  340.650763] tx_isp_subdev_pipo: initialized spinlock
[  340.650772] tx_isp_subdev_pipo: set function pointers - qbuf=c0675540, clearbuf=c0674694, s_stream=c067509c, sd=85f1ec00
[  340.650780] tx_isp_subdev_pipo: added buffer entry 0 to free list
[  340.650786] tx_isp_subdev_pipo: cleared VIC register at offset 0x318 for buffer 0
[  340.650793] tx_isp_subdev_pipo: added buffer entry 1 to free list
[  340.650800] tx_isp_subdev_pipo: cleared VIC register at offset 0x31c for buffer 1
[  340.650806] tx_isp_subdev_pipo: added buffer entry 2 to free list
[  340.650812] tx_isp_subdev_pipo: cleared VIC register at offset 0x320 for buffer 2
[  340.650818] tx_isp_subdev_pipo: added buffer entry 3 to free list
[  340.650825] tx_isp_subdev_pipo: cleared VIC register at offset 0x324 for buffer 3
[  340.650832] tx_isp_subdev_pipo: added buffer entry 4 to free list
[  340.650838] tx_isp_subdev_pipo: cleared VIC register at offset 0x328 for buffer 4
[  340.650845] tx_isp_subdev_pipo: initialized 5 buffer structures (safe implementation)
[  340.650850] tx_isp_subdev_pipo: set processing = 1 (pipe enabled, safe struct access)
[  340.650856] tx_isp_subdev_pipo: completed successfully, returning 0
[  340.650861] *** SUCCESS: tx_isp_subdev_pipo completed - VIC buffer management initialized ***
[  340.650867] *** NO MORE 'qbuffer null' or 'bank no free' errors should occur ***
[  340.650873] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[  340.650879] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[  340.650886] *** ispcore_core_ops_init: Second tisp_init completed ***
[  340.650891] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[  340.650901] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[  340.650907] tx_isp_core_enable_irq: Invalid ISP device or core registers
[  340.650913] ispcore_core_ops_init: Failed to enable ISP core interrupts: -22
[  340.650919] ispcore_core_ops_init: Complete, result=0
[  340.650923] FRAME CHANNEL OPEN: core init ret=0
[  340.650931] *** FRAME CHANNEL OPEN: Device not in array, creating new entry for minor 54 ***
[  340.650937] *** FRAME CHANNEL OPEN: Assigned to channel 0 ***
[  340.650943] *** FRAME CHANNEL 0: Initialized state ***
[  340.650949] *** CRITICAL FIX: Frame channel device stored at file+0x70 to prevent crash ***
[  340.650955] *** FRAME CHANNEL 0 OPENED SUCCESSFULLY - NOW READY FOR IOCTLS ***
[  340.650963] Channel 0: Format 1920x1080, pixfmt=0x3231564e, minor=54
[  340.651003] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc07056c3 ***
[  340.651013] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc07056c3 ***
[  340.651021] Channel 0: Set format 1920x1080 pixfmt=0x3231564e
[  340.662463] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc0145608 ***
[  340.662477] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0145608 ***
[  340.662483] *** Channel 0: REQBUFS - MEMORY-AWARE implementation ***
[  340.662491] Channel 0: Request 4 buffers, type=1 memory=2
[  340.662497] Channel 0: USERPTR mode - client will provide buffers
[  340.662503] Channel 0: USERPTR mode - 4 user buffers expected
[  340.662509] *** Channel 0: VIC active_buffer_count set to 4 ***
[  340.662516] *** Channel 0: MEMORY-AWARE REQBUFS SUCCESS - 4 buffers ***
[  340.662543] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc044560f ***
[  340.662551] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[  340.662557] *** Channel 0: QBUF - EXACT Binary Ninja implementation ***
[  340.662564] *** Channel 0: QBUF - Validation: index=0, buffer_count=4 ***
[  340.662571] *** Channel 0: QBUF - Queue buffer index=0 ***
[  340.662577] *** QBUF: No driver buffer for index 0 - continuing for VBM mode ***
[  340.662586] *** Channel 0: QBUF details: memory=2 index=0 length=3133440 bytesused=0 flags=0x0 field=0 ***
[  340.662595] *** Channel 0: QBUF - Using candidate phys=0x6f58700 from buffer (memory=2) ***
[  340.662604] *** Channel 0: QBUF - Forcing GLOBAL SET_BUF phys=0x6300000 (base=0x6300000 step=3110400 index=0) ***
[  340.662613] *** Channel 0: QBUF - Programming VIC buffer[0] = 0x6300000 (size=3136320) ***
[  340.662619] *** tx_isp_send_event_to_remote: MIPS-SAFE with VIC handler - event=0x3000008 ***
[  340.662626] *** ROUTING EVENT 0x3000008 TO VIC_EVENT_HANDLER ***
[  340.662633] *** vic_event_handler: Processing event 0x3000008 ***
[  340.662639] VIC EVENT: QBUF -> entry addr=0x6300000 idx=0 (calling ispvic_frame_channel_qbuf)
[  340.662647] *** VIC EVENT: DIRECT SLOT PROGRAMMING - Buffer 0x6300000 -> VIC[0x318] (slot 0) ***
[  340.662655] *** VIC EVENT: Buffer entry added to done_head for ISR matching ***
[  340.662661] *** VIC_EVENT_HANDLER RETURNED: 0 ***
[  340.662667] *** VIC HANDLER: Event 0x3000008 processed successfully ***
[  340.662675] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[  340.662685] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc044560f ***
[  340.662693] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[  340.662699] *** Channel 0: QBUF - EXACT Binary Ninja implementation ***
[  340.662706] *** Channel 0: QBUF - Validation: index=1, buffer_count=4 ***
[  340.662713] *** Channel 0: QBUF - Queue buffer index=1 ***
[  340.662719] *** QBUF: No driver buffer for index 1 - continuing for VBM mode ***
[  340.662727] *** Channel 0: QBUF details: memory=2 index=1 length=3133440 bytesused=0 flags=0x0 field=0 ***
[  340.662735] *** Channel 0: QBUF - Using candidate phys=0x7255700 from buffer (memory=2) ***
[  340.662743] *** Channel 0: QBUF - Forcing GLOBAL SET_BUF phys=0x65f7600 (base=0x6300000 step=3110400 index=1) ***
[  340.662754] *** Channel 0: QBUF - Adjusted phys by VIC stride: old=0x65f7600 -> new=0x6300000 (base=0x6300000 stride=0 h=1080 step=0 idx=1) ***
[  340.662763] *** Channel 0: QBUF - Programming VIC buffer[1] = 0x6300000 (size=3136320) ***
[  340.662769] *** tx_isp_send_event_to_remote: MIPS-SAFE with VIC handler - event=0x3000008 ***
[  340.662775] *** ROUTING EVENT 0x3000008 TO VIC_EVENT_HANDLER ***
[  340.662781] *** vic_event_handler: Processing event 0x3000008 ***
[  340.662788] VIC EVENT: QBUF -> entry addr=0x6300000 idx=1 (calling ispvic_frame_channel_qbuf)
[  340.662796] *** VIC EVENT: DIRECT SLOT PROGRAMMING - Buffer 0x6300000 -> VIC[0x31c] (slot 1) ***
[  340.662802] *** VIC EVENT: Buffer entry added to done_head for ISR matching ***
[  340.662808] *** VIC_EVENT_HANDLER RETURNED: 0 ***
[  340.662814] *** VIC HANDLER: Event 0x3000008 processed successfully ***
[  340.662820] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[  340.662829] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc044560f ***
[  340.662836] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[  340.662842] *** Channel 0: QBUF - EXACT Binary Ninja implementation ***
[  340.662849] *** Channel 0: QBUF - Validation: index=2, buffer_count=4 ***
[  340.662855] *** Channel 0: QBUF - Queue buffer index=2 ***
[  340.662861] *** QBUF: No driver buffer for index 2 - continuing for VBM mode ***
[  340.662870] *** Channel 0: QBUF details: memory=2 index=2 length=3133440 bytesused=0 flags=0x0 field=0 ***
[  340.662878] *** Channel 0: QBUF - Using candidate phys=0x7552700 from buffer (memory=2) ***
[  340.662887] *** Channel 0: QBUF - Forcing GLOBAL SET_BUF phys=0x68eec00 (base=0x6300000 step=3110400 index=2) ***
[  340.662897] *** Channel 0: QBUF - Adjusted phys by VIC stride: old=0x68eec00 -> new=0x6300000 (base=0x6300000 stride=0 h=1080 step=0 idx=2) ***
[  340.662905] *** Channel 0: QBUF - Programming VIC buffer[2] = 0x6300000 (size=3136320) ***
[  340.662912] *** tx_isp_send_event_to_remote: MIPS-SAFE with VIC handler - event=0x3000008 ***
[  340.662918] *** ROUTING EVENT 0x3000008 TO VIC_EVENT_HANDLER ***
[  340.662924] *** vic_event_handler: Processing event 0x3000008 ***
[  340.662931] VIC EVENT: QBUF -> entry addr=0x6300000 idx=2 (calling ispvic_frame_channel_qbuf)
[  340.662939] *** VIC EVENT: DIRECT SLOT PROGRAMMING - Buffer 0x6300000 -> VIC[0x320] (slot 2) ***
[  340.662945] *** VIC EVENT: Buffer entry added to done_head for ISR matching ***
[  340.662951] *** VIC_EVENT_HANDLER RETURNED: 0 ***
[  340.662957] *** VIC HANDLER: Event 0x3000008 processed successfully ***
[  340.662963] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[  340.662971] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc044560f ***
[  340.662978] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[  340.662984] *** Channel 0: QBUF - EXACT Binary Ninja implementation ***
[  340.662991] *** Channel 0: QBUF - Validation: index=3, buffer_count=4 ***
[  340.662997] *** Channel 0: QBUF - Queue buffer index=3 ***
[  340.663003] *** QBUF: No driver buffer for index 3 - continuing for VBM mode ***
[  340.663013] *** Channel 0: QBUF details: memory=2 index=3 length=3133440 bytesused=0 flags=0x0 field=0 ***
[  340.663020] *** Channel 0: QBUF - Using candidate phys=0x784f700 from buffer (memory=2) ***
[  340.663029] *** Channel 0: QBUF - Forcing GLOBAL SET_BUF phys=0x6be6200 (base=0x6300000 step=3110400 index=3) ***
[  340.663039] *** Channel 0: QBUF - Adjusted phys by VIC stride: old=0x6be6200 -> new=0x6300000 (base=0x6300000 stride=0 h=1080 step=0 idx=3) ***
[  340.663047] *** Channel 0: QBUF - Programming VIC buffer[3] = 0x6300000 (size=3136320) ***
[  340.663054] *** tx_isp_send_event_to_remote: MIPS-SAFE with VIC handler - event=0x3000008 ***
[  340.663060] *** ROUTING EVENT 0x3000008 TO VIC_EVENT_HANDLER ***
[  340.663067] *** vic_event_handler: Processing event 0x3000008 ***
[  340.663073] VIC EVENT: QBUF -> entry addr=0x6300000 idx=3 (calling ispvic_frame_channel_qbuf)
[  340.663081] *** VIC EVENT: DIRECT SLOT PROGRAMMING - Buffer 0x6300000 -> VIC[0x324] (slot 3) ***
[  340.663087] *** VIC EVENT: Buffer entry added to done_head for ISR matching ***
[  340.663093] *** VIC_EVENT_HANDLER RETURNED: 0 ***
[  340.663099] *** VIC HANDLER: Event 0x3000008 processed successfully ***
[  340.663105] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[  340.663195] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0x80045612 ***
[  340.663204] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x80045612 ***
[  340.663211] Channel 0: VIDIOC_STREAMON request, type=1
[  340.663217] *** Channel 0: STREAMON aborted - no sensor registered yet ***
[  340.665069] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc0145608 ***
[  340.665082] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0145608 ***
[  340.665089] *** Channel 0: REQBUFS - MEMORY-AWARE implementation ***
[  340.665096] Channel 0: Request 0 buffers, type=1 memory=2
[  340.665102] Channel 0: Freeing existing buffers
[  340.665108] *** Channel 0: VIC active_buffer_count cleared ***
[  340.665556] *** FRAME CHANNEL 0 RELEASED ***
[  340.769321] *** FRAME CHANNEL OPEN: minor=53 ***
[  340.769335] *** ispcore_core_ops_init: ENTRY - sd=85f20000, on=1 ***
[  340.769343] *** ispcore_core_ops_init: sd->dev_priv=85f1e800, sd->host_priv=  (null) ***
[  340.769350] *** ispcore_core_ops_init: sd->pdev=c06a7bb0, sd->ops=c06a89b8 ***
[  340.769357] *** ispcore_core_ops_init: EXACT Binary Ninja MCP implementation, on=1 ***
[  340.769363] *** ispcore_core_ops_init: ISP device=85f20000 ****** ispcore_core_ops_init: Frame sync work structure initialized ***
[  340.769371] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[  340.769381] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f16800 (name=gc2053) ***
[  340.769388] *** tx_isp_get_sensor: Found real sensor: 85f16800 ***
[  340.769393] ispcore_core_ops_init: Using sensor attributes from sensor: gc2053
[  340.769399] *** ispcore_core_ops_init: s0 (core_dev) = 85f1e800 from sd->dev_priv ***
[  340.769407] ispcore_core_ops_init: core_dev=85f1e800, vic_dev=85f1ec00, vic_state=3
[  340.769411] *** ispcore_core_ops_init: INITIALIZING CORE (on=1) ****** ispcore_core_ops_init: Current vic_state (VIC state): 3 ***
[  340.769421] *** ispcore_core_ops_init: VIC in ready state (3) - normal initialization ****** ispcore_core_ops_init: VIC state check passed, proceeding with initialization ***
[  340.769429] Configuring ISP system clocks
[  340.769444] Failed to set ISP clock rate
[  340.769451] ispcore_core_ops_init: tx_isp_configure_clocks failed: -22 (continuing)
[  340.769457] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[  340.769465] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f16800 (name=gc2053) ***
[  340.769471] *** tx_isp_get_sensor: Found real sensor: 85f16800 ***
[  340.769477] *** ispcore_core_ops_init: BINARY NINJA MCP - Second tisp_init call (00079058) ***
[  340.769481] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[  340.769487] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[  340.769496] tisp_init: Using sensor parameters - -1066628164x8275@1, mode=9
[  340.769502] *** load_isp_tuning_file: Loading /etc/sensor/gc2053-t31.bin ***
[  340.769537] *** load_isp_tuning_file: File size = 159736 bytes ***
[  340.770103] *** load_isp_tuning_file: Day/night tuning parameters loaded ***
[  340.770149] *** load_isp_tuning_file: Successfully loaded /etc/sensor/gc2053-t31.bin ***
[  340.770157] *** tisp_init: Standard tuning parameters loaded successfully ***
[  340.770164] *** load_isp_tuning_file: Loading /etc/sensor/gc2053-cust-t31.bin ***
[  340.770209] *** load_isp_tuning_file: File size = 159736 bytes ***
[  340.770783] *** load_isp_tuning_file: Day/night tuning parameters loaded ***
[  340.770828] *** load_isp_tuning_file: Successfully loaded /etc/sensor/gc2053-cust-t31.bin ***
[  340.770835] *** tisp_init: Custom tuning parameters loaded successfully ***
[  340.770843] system_reg_write: Writing ISP reg[0x4] = 0x8bbc2053
[  340.770850] system_reg_write: Writing ISP reg[0x8] = 0x0
[  340.770857] system_reg_write: Writing ISP reg[0x1c] = 0x3f00
[  340.770863] tisp_set_csc_version: Setting CSC version 0
[  340.770870] system_reg_write: Writing ISP reg[0xc] = 0x80700008
[  340.770876] tisp_init: Set ISP top bypass to 0x80700008 (reference-standardize)
[  340.770883] system_reg_write: Writing ISP reg[0x30] = 0xffffffff
[  340.770889] system_reg_write: Writing ISP reg[0x10] = 0x133
[  340.770895] tisp_init: ISP memory buffers configured
[  340.770900] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[  340.770909] tiziano_ae_init: Initializing Auto Exposure (-1066628164x8275@1) - Binary Ninja EXACT
[  340.770919] tiziano_ae_params_refresh: Refreshing AE parameters
[  340.770931] tiziano_ae_params_refresh: AE parameters refreshed
[  340.770937] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[  340.770943] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[  340.770949] tiziano_ae_para_addr: Setting up AE parameter addresses
[  340.770955] tiziano_ae_para_addr: AE parameter addresses configured
[  340.770961] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[  340.770968] system_reg_write: Writing ISP reg[0xa004] = 0xdb000
[  340.770975] system_reg_write: Writing ISP reg[0xa008] = 0x40d0b00
[  340.770982] system_reg_write: Writing ISP reg[0xa00c] = 0x80d0b00
[  340.770989] system_reg_write: Writing ISP reg[0xa010] = 0xc0d0b00
[  340.770995] system_reg_write: Writing ISP reg[0xa014] = 0xd0b00
[  340.771002] system_reg_write: Writing ISP reg[0xa018] = 0xd0b0010
[  340.771009] system_reg_write: Writing ISP reg[0xa01c] = 0x6a9a3814
[  340.771015] system_reg_write: Writing ISP reg[0xa020] = 0x1000c0
[  340.771022] system_reg_write: Writing ISP reg[0xa024] = 0x205300
[  340.771029] system_reg_write: Writing ISP reg[0xa000] = 0x1
[  340.771035] system_reg_write: Writing ISP reg[0xa028] = 0x100000
[  340.771041] tiziano_ae_set_hardware_param: Parameters written to AE0
[  340.771048] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[  340.771055] system_reg_write: Writing ISP reg[0xa804] = 0x0
[  340.771061] system_reg_write: Writing ISP reg[0xa808] = 0x0
[  340.771068] system_reg_write: Writing ISP reg[0xa80c] = 0x0
[  340.771074] system_reg_write: Writing ISP reg[0xa810] = 0x0
[  340.771081] system_reg_write: Writing ISP reg[0xa814] = 0x0
[  340.771087] system_reg_write: Writing ISP reg[0xa818] = 0x0
[  340.771093] system_reg_write: Writing ISP reg[0xa81c] = 0x0
[  340.771100] system_reg_write: Writing ISP reg[0xa820] = 0x0
[  340.771107] system_reg_write: Writing ISP reg[0xa824] = 0x0
[  340.771113] system_reg_write: Writing ISP reg[0xa800] = 0x1
[  340.771119] system_reg_write: Writing ISP reg[0xa828] = 0x0
[  340.771125] tiziano_ae_set_hardware_param: Parameters written to AE1
[  340.771131] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[  340.771139] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[  340.771157] tiziano_deflicker_expt: Generated 119 LUT entries
[  340.771163] tisp_event_set_cb: Setting callback for event 1
[  340.771171] tisp_event_set_cb: Event 1 callback set to c067a3a8
[  340.771177] tisp_event_set_cb: Setting callback for event 6
[  340.771183] tisp_event_set_cb: Event 6 callback set to c0679188
[  340.771189] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[  340.771195] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[  340.771202] tiziano_awb_init: Initializing Auto White Balance (-1066628164x8275)
[  340.771209] system_reg_write: Writing ISP reg[0xb000] = 0x1
[  340.771215] system_reg_write: Writing ISP reg[0x1800] = 0x1
[  340.771220] tiziano_awb_init: AWB hardware blocks enabled
[  340.771226] tiziano_gamma_init: Initializing Gamma processing
[  340.771231] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[  340.771257] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[  340.771262] tiziano_gib_init: Initializing GIB processing
[  340.771268] tiziano_lsc_init: Initializing LSC processing
[  340.771273] tiziano_lsc_params_refresh: Refreshing LSC parameters
[  340.771281] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[  340.771287] system_reg_write: Writing ISP reg[0x3800] = 0x11
[  340.771293] system_reg_write: Writing ISP reg[0x3804] = 0x108002
[  340.771299] tisp_lsc_write_lut_datas: Writing LSC LUT data
[  340.771340] tiziano_ccm_init: Initializing Color Correction Matrix
[  340.771346] tiziano_ccm_init: Using linear CCM parameters
[  340.771351] tiziano_ccm_params_refresh: Refreshing CCM parameters
[  340.771359] jz_isp_ccm: EV=64, CT=9984
[  340.771365] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[  340.771371] cm_control: saturation=128
[  340.771377] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[  340.771383] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[  340.771388] tiziano_ccm_init: CCM initialized successfully
[  340.771393] tiziano_dmsc_init: Initializing DMSC processing (BN MCP)
[  340.771401] system_reg_write: Writing ISP reg[0x4800] = 0x0
[  340.771407] system_reg_write: Writing ISP reg[0x499c] = 0x1
[  340.771413] tiziano_sharpen_init: Initializing Sharpening
[  340.771419] tiziano_sharpen_init: Using linear sharpening parameters
[  340.771425] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[  340.771431] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[  340.771437] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[  340.771452] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[  340.771458] system_reg_write: Writing ISP reg[0xb400] = 0x1
[  340.771464] tiziano_sharpen_init: Sharpening initialized successfully
[  340.771469] tiziano_sdns_init: Initializing SDNS processing
[  340.771478] tiziano_sdns_init: Using linear SDNS parameters
[  340.771483] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[  340.771491] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[  340.771497] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[  340.771513] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[  340.771520] system_reg_write: Writing ISP reg[0x8b4c] = 0x1
[  340.771526] tiziano_sdns_init: SDNS processing initialized successfully
[  340.771533] tiziano_mdns_init: Initializing MDNS processing (-1066628164x8275)
[  340.771538] tiziano_mdns_init: Using linear MDNS parameters
[  340.771545] tiziano_mdns_init: MDNS processing initialized successfully
[  340.771551] tiziano_clm_init: Initializing CLM processing
[  340.771556] tiziano_dpc_init: Initializing DPC processing
[  340.771562] tiziano_dpc_params_refresh: Refreshing DPC parameters
[  340.771568] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[  340.771575] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[  340.771581] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[  340.771590] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[  340.771597] system_reg_write: Writing ISP reg[0xa200] = 0x1
[  340.771602] tiziano_hldc_init: Initializing HLDC processing
[  340.771609] system_reg_write: Writing ISP reg[0x9044] = 0x3
[  340.771615] tiziano_defog_init: Initializing Defog processing (-1066628164x8275)
[  340.771623] tiziano_adr_init: Initializing ADR processing (-1066628164x8275)
[  340.771629] system_reg_write: Writing ISP reg[0x4000] = 0x2816174a
[  340.771636] system_reg_write: Writing ISP reg[0x4010] = 0x8140000
[  340.771643] system_reg_write: Writing ISP reg[0x4014] = 0x10281028
[  340.771649] system_reg_write: Writing ISP reg[0x4018] = 0x2053
[  340.771656] system_reg_write: Writing ISP reg[0x401c] = 0x174a0000
[  340.771663] system_reg_write: Writing ISP reg[0x4020] = 0x45fe2e94
[  340.771670] system_reg_write: Writing ISP reg[0x4024] = 0x7d3e45de
[  340.771677] system_reg_write: Writing ISP reg[0x4028] = 0xc06c8bbc
[  340.771683] system_reg_write: Writing ISP reg[0x4454] = 0x1e4f0204
[  340.771690] system_reg_write: Writing ISP reg[0x4458] = 0xdee85d2
[  340.771695] tiziano_adr_params_refresh: Refreshing ADR parameters
[  340.771702] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[  340.771707] tiziano_adr_params_init: Initializing ADR parameter arrays
[  340.771714] tisp_adr_set_params: Writing ADR parameters to registers
[  340.771729] tisp_adr_set_params: ADR parameters written to hardware
[  340.771735] tisp_event_set_cb: Setting callback for event 18
[  340.771742] tisp_event_set_cb: Event 18 callback set to c067aa88
[  340.771747] tisp_event_set_cb: Setting callback for event 2
[  340.771754] tisp_event_set_cb: Event 2 callback set to c0678dd8
[  340.771759] tiziano_adr_init: ADR processing initialized successfully
[  340.771766] tiziano_af_init: Initializing Auto Focus (-1066628164x8275)
[  340.771772] tiziano_bcsh_init: Initializing BCSH processing
[  340.771777] tiziano_ydns_init: Initializing YDNS processing
[  340.771783] tiziano_rdns_init: Initializing RDNS processing
[  340.771788] *** tisp_init: INITIALIZING WDR-SPECIFIC COMPONENTS ***
[  340.771795] tiziano_wdr_init: Initializing WDR processing (-1066628164x8275)
[  340.771801] tisp_gb_init: Initializing GB processing for WDR
[  340.771807] tisp_dpc_wdr_en: Enable DPC WDR mode
[  340.771812] tisp_lsc_wdr_en: Enable LSC WDR mode
[  340.771818] tisp_gamma_wdr_en: Enable Gamma WDR mode
[  340.771823] tisp_sharpen_wdr_en: Enable Sharpen WDR mode
[  340.771829] tisp_ccm_wdr_en: Enable CCM WDR mode
[  340.771835] tisp_bcsh_wdr_en: Enable BCSH WDR mode
[  340.771840] tisp_rdns_wdr_en: Enable RDNS WDR mode
[  340.771846] tisp_adr_wdr_en: Enable ADR WDR mode
[  340.771851] tisp_defog_wdr_en: Enable Defog WDR mode
[  340.771857] tisp_mdns_wdr_en: Enable MDNS WDR mode
[  340.771863] tisp_dmsc_wdr_en: Enable DMSC WDR mode
[  340.771868] tisp_ae_wdr_en: Enable AE WDR mode
[  340.771873] tisp_sdns_wdr_en: Enable SDNS WDR mode
[  340.771879] tiziano_wdr_init: WDR processing initialized successfully
[  340.771884] tisp_gb_init: Initializing GB processing for WDR
[  340.771889] tisp_dpc_wdr_en: Enable DPC WDR mode
[  340.771895] tisp_lsc_wdr_en: Enable LSC WDR mode
[  340.771900] tisp_gamma_wdr_en: Enable Gamma WDR mode
[  340.771906] tisp_sharpen_wdr_en: Enable Sharpen WDR mode
[  340.771911] tisp_ccm_wdr_en: Enable CCM WDR mode
[  340.771917] tisp_bcsh_wdr_en: Enable BCSH WDR mode
[  340.771922] tisp_rdns_wdr_en: Enable RDNS WDR mode
[  340.771928] tisp_adr_wdr_en: Enable ADR WDR mode
[  340.771933] tisp_defog_wdr_en: Enable Defog WDR mode
[  340.771939] tisp_mdns_wdr_en: Enable MDNS WDR mode
[  340.771944] tisp_dmsc_wdr_en: Enable DMSC WDR mode
[  340.771949] tisp_ae_wdr_en: Enable AE WDR mode
[  340.771955] tisp_sdns_wdr_en: Enable SDNS WDR mode
[  340.771961] *** tisp_init: WDR COMPONENTS INITIALIZED ***
[  340.771965] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[  340.771978] system_reg_write: Writing ISP reg[0xa02c] = 0x2378000
[  340.771986] system_reg_write: Writing ISP reg[0xa030] = 0x2379000
[  340.771993] system_reg_write: Writing ISP reg[0xa034] = 0x237a000
[  340.771999] system_reg_write: Writing ISP reg[0xa038] = 0x237b000
[  340.772006] system_reg_write: Writing ISP reg[0xa03c] = 0x237c000
[  340.772013] system_reg_write: Writing ISP reg[0xa040] = 0x237c800
[  340.772020] system_reg_write: Writing ISP reg[0xa044] = 0x237d000
[  340.772027] system_reg_write: Writing ISP reg[0xa048] = 0x237d800
[  340.772033] system_reg_write: Writing ISP reg[0xa04c] = 0x33
[  340.772039] *** tisp_init: AE0 buffer allocated at 0x02378000 ***
[  340.772047] system_reg_write: Writing ISP reg[0xa82c] = 0x2360000
[  340.772055] system_reg_write: Writing ISP reg[0xa830] = 0x2361000
[  340.772061] system_reg_write: Writing ISP reg[0xa834] = 0x2362000
[  340.772068] system_reg_write: Writing ISP reg[0xa838] = 0x2363000
[  340.772075] system_reg_write: Writing ISP reg[0xa83c] = 0x2364000
[  340.772081] system_reg_write: Writing ISP reg[0xa840] = 0x2364800
[  340.772088] system_reg_write: Writing ISP reg[0xa844] = 0x2365000
[  340.772095] system_reg_write: Writing ISP reg[0xa848] = 0x2365800
[  340.772101] system_reg_write: Writing ISP reg[0xa84c] = 0x33
[  340.772107] *** tisp_init: AE1 buffer allocated at 0x02360000 ***
[  340.772114] system_reg_write: Writing ISP reg[0x804] = 0x12
[  340.772121] system_reg_write: Writing ISP reg[0x1c] = 0x8
[  340.772127] system_reg_write: Writing ISP reg[0x800] = 0x1
[  340.772132] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[  340.772139] tiziano_ae_init: Initializing Auto Exposure (-1066628164x8275@1) - Binary Ninja EXACT
[  340.772147] tiziano_ae_params_refresh: Refreshing AE parameters
[  340.772155] tiziano_ae_params_refresh: AE parameters refreshed
[  340.772161] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[  340.772167] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[  340.772172] tiziano_ae_para_addr: Setting up AE parameter addresses
[  340.772177] tiziano_ae_para_addr: AE parameter addresses configured
[  340.772184] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[  340.772191] system_reg_write: Writing ISP reg[0xa004] = 0xdb000
[  340.772197] system_reg_write: Writing ISP reg[0xa008] = 0x40d0b00
[  340.772204] system_reg_write: Writing ISP reg[0xa00c] = 0x80d0b00
[  340.772211] system_reg_write: Writing ISP reg[0xa010] = 0xc0d0b00
[  340.772217] system_reg_write: Writing ISP reg[0xa014] = 0xd0b00
[  340.772224] system_reg_write: Writing ISP reg[0xa018] = 0xd0b0010
[  340.772231] system_reg_write: Writing ISP reg[0xa01c] = 0x6a9a3814
[  340.772237] system_reg_write: Writing ISP reg[0xa020] = 0x1000c0
[  340.772244] system_reg_write: Writing ISP reg[0xa024] = 0x205300
[  340.772251] system_reg_write: Writing ISP reg[0xa000] = 0x1
[  340.772257] system_reg_write: Writing ISP reg[0xa028] = 0x100000
[  340.772263] tiziano_ae_set_hardware_param: Parameters written to AE0
[  340.772270] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[  340.772277] system_reg_write: Writing ISP reg[0xa804] = 0x0
[  340.772283] system_reg_write: Writing ISP reg[0xa808] = 0x0
[  340.772289] system_reg_write: Writing ISP reg[0xa80c] = 0x0
[  340.772295] system_reg_write: Writing ISP reg[0xa810] = 0x0
[  340.772302] system_reg_write: Writing ISP reg[0xa814] = 0x0
[  340.772308] system_reg_write: Writing ISP reg[0xa818] = 0x0
[  340.772315] system_reg_write: Writing ISP reg[0xa81c] = 0x0
[  340.772321] system_reg_write: Writing ISP reg[0xa820] = 0x0
[  340.772327] system_reg_write: Writing ISP reg[0xa824] = 0x0
[  340.772334] system_reg_write: Writing ISP reg[0xa800] = 0x1
[  340.772341] system_reg_write: Writing ISP reg[0xa828] = 0x0
[  340.772347] tiziano_ae_set_hardware_param: Parameters written to AE1
[  340.772352] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[  340.772360] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[  340.772376] tiziano_deflicker_expt: Generated 119 LUT entries
[  340.772381] tisp_event_set_cb: Setting callback for event 1
[  340.772388] tisp_event_set_cb: Event 1 callback set to c067a3a8
[  340.772394] tisp_event_set_cb: Setting callback for event 6
[  340.772400] tisp_event_set_cb: Event 6 callback set to c0679188
[  340.772406] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[  340.772412] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[  340.772419] tiziano_awb_init: Initializing Auto White Balance (-1066628164x8275)
[  340.772425] system_reg_write: Writing ISP reg[0xb000] = 0x1
[  340.772432] system_reg_write: Writing ISP reg[0x1800] = 0x1
[  340.772437] tiziano_awb_init: AWB hardware blocks enabled
[  340.772443] tiziano_gamma_init: Initializing Gamma processing
[  340.772448] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[  340.772473] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[  340.772478] tiziano_gib_init: Initializing GIB processing
[  340.772483] tiziano_lsc_init: Initializing LSC processing
[  340.772489] tiziano_lsc_params_refresh: Refreshing LSC parameters
[  340.772495] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[  340.772501] system_reg_write: Writing ISP reg[0x3800] = 0x11
[  340.772508] system_reg_write: Writing ISP reg[0x3804] = 0x108002
[  340.772513] tisp_lsc_write_lut_datas: Writing LSC LUT data
[  340.772548] tiziano_ccm_init: Initializing Color Correction Matrix
[  340.772553] tiziano_ccm_init: Using linear CCM parameters
[  340.772559] tiziano_ccm_params_refresh: Refreshing CCM parameters
[  340.772565] jz_isp_ccm: EV=64, CT=9984
[  340.772571] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[  340.772577] cm_control: saturation=128
[  340.772583] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[  340.772588] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[  340.772593] tiziano_ccm_init: CCM initialized successfully
[  340.772599] tiziano_dmsc_init: Initializing DMSC processing (BN MCP)
[  340.772605] system_reg_write: Writing ISP reg[0x4800] = 0x0
[  340.772612] system_reg_write: Writing ISP reg[0x499c] = 0x1
[  340.772617] tiziano_sharpen_init: Initializing Sharpening
[  340.772623] tiziano_sharpen_init: Using linear sharpening parameters
[  340.772629] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[  340.772635] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[  340.772641] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[  340.772654] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[  340.772661] system_reg_write: Writing ISP reg[0xb400] = 0x1
[  340.772666] tiziano_sharpen_init: Sharpening initialized successfully
[  340.772671] tiziano_sdns_init: Initializing SDNS processing
[  340.772679] tiziano_sdns_init: Using linear SDNS parameters
[  340.772685] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[  340.772691] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[  340.772697] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[  340.772712] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[  340.772719] system_reg_write: Writing ISP reg[0x8b4c] = 0x1
[  340.772724] tiziano_sdns_init: SDNS processing initialized successfully
[  340.772731] tiziano_mdns_init: Initializing MDNS processing (-1066628164x8275)
[  340.772736] tiziano_mdns_init: Using linear MDNS parameters
[  340.772743] tiziano_mdns_init: MDNS processing initialized successfully
[  340.772749] tiziano_clm_init: Initializing CLM processing
[  340.772754] tiziano_dpc_init: Initializing DPC processing
[  340.772759] tiziano_dpc_params_refresh: Refreshing DPC parameters
[  340.772765] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[  340.772772] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[  340.772777] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[  340.772786] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[  340.772793] system_reg_write: Writing ISP reg[0xa200] = 0x1
[  340.772799] tiziano_hldc_init: Initializing HLDC processing
[  340.772805] system_reg_write: Writing ISP reg[0x9044] = 0x3
[  340.772812] tiziano_defog_init: Initializing Defog processing (-1066628164x8275)
[  340.772819] tiziano_adr_init: Initializing ADR processing (-1066628164x8275)
[  340.772825] system_reg_write: Writing ISP reg[0x4000] = 0x2816174a
[  340.772832] system_reg_write: Writing ISP reg[0x4010] = 0x8140000
[  340.772839] system_reg_write: Writing ISP reg[0x4014] = 0x10281028
[  340.772845] system_reg_write: Writing ISP reg[0x4018] = 0x2053
[  340.772852] system_reg_write: Writing ISP reg[0x401c] = 0x174a0000
[  340.772859] system_reg_write: Writing ISP reg[0x4020] = 0x45fe2e94
[  340.772866] system_reg_write: Writing ISP reg[0x4024] = 0x7d3e45de
[  340.772873] system_reg_write: Writing ISP reg[0x4028] = 0xc06c8bbc
[  340.772879] system_reg_write: Writing ISP reg[0x4454] = 0x1e4f0204
[  340.772886] system_reg_write: Writing ISP reg[0x4458] = 0xdee85d2
[  340.772891] tiziano_adr_params_refresh: Refreshing ADR parameters
[  340.772897] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[  340.772903] tiziano_adr_params_init: Initializing ADR parameter arrays
[  340.772909] tisp_adr_set_params: Writing ADR parameters to registers
[  340.772924] tisp_adr_set_params: ADR parameters written to hardware
[  340.772930] tisp_event_set_cb: Setting callback for event 18
[  340.772937] tisp_event_set_cb: Event 18 callback set to c067aa88
[  340.772942] tisp_event_set_cb: Setting callback for event 2
[  340.783160] tisp_event_set_cb: Event 2 callback set to c0678dd8
[  340.783171] tiziano_adr_init: ADR processing initialized successfully
[  340.783179] tiziano_af_init: Initializing Auto Focus (-1066628164x8275)
[  340.783185] tiziano_bcsh_init: Initializing BCSH processing
[  340.783190] tiziano_ydns_init: Initializing YDNS processing
[  340.783195] tiziano_rdns_init: Initializing RDNS processing
[  340.783201] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[  340.783206] tisp_event_init: Initializing ISP event system
[  340.783213] tisp_event_init: SAFE event system initialized with 20 nodes
[  340.783220] tisp_event_set_cb: Setting callback for event 4
[  340.783226] tisp_event_set_cb: Event 4 callback set to c0678e04
[  340.783232] tisp_event_set_cb: Setting callback for event 5
[  340.783239] tisp_event_set_cb: Event 5 callback set to c067999c
[  340.783244] tisp_event_set_cb: Setting callback for event 7
[  340.783251] tisp_event_set_cb: Event 7 callback set to c0678e8c
[  340.783256] tisp_event_set_cb: Setting callback for event 9
[  340.783263] tisp_event_set_cb: Event 9 callback set to c0678f0c
[  340.783269] tisp_event_set_cb: Setting callback for event 8
[  340.783275] tisp_event_set_cb: Event 8 callback set to c0678fc0
[  340.783280] *** tisp_init: STARTING EVENT PROCESSING THREAD ***
[  340.783287] *** system_irq_func_set: Registered handler at index 13 ***
[  340.783292] *** tisp_init: ISP processing completion callback registered (index=0xd) ***
[  340.783298] tisp_param_operate_init: Initializing parameter operations
[  340.783306] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[  340.783311] tisp_code_create_tuning_node: Device already created, skipping
[  340.783318] *** CRITICAL: Calling tx_isp_subdev_pipo to initialize VIC buffer management ***
[  340.783325] *** tx_isp_subdev_pipo: SAFE struct member access implementation ***
[  340.783331] tx_isp_subdev_pipo: entry - sd=85f1ec00, arg=822e7bf8
[  340.783337] tx_isp_subdev_pipo: vic_dev retrieved: 85f1ec00
[  340.783343] tx_isp_subdev_pipo: set processing = 1 (safe struct access)
[  340.783348] tx_isp_subdev_pipo: arg is not NULL - initializing pipe structures
[  340.783354] tx_isp_subdev_pipo: initialized linked list heads (safe Linux API)
[  340.783359] tx_isp_subdev_pipo: initialized spinlock
[  340.783368] tx_isp_subdev_pipo: set function pointers - qbuf=c0675540, clearbuf=c0674694, s_stream=c067509c, sd=85f1ec00
[  340.783375] tx_isp_subdev_pipo: added buffer entry 0 to free list
[  340.783382] tx_isp_subdev_pipo: cleared VIC register at offset 0x318 for buffer 0
[  340.783389] tx_isp_subdev_pipo: added buffer entry 1 to free list
[  340.783395] tx_isp_subdev_pipo: cleared VIC register at offset 0x31c for buffer 1
[  340.783401] tx_isp_subdev_pipo: added buffer entry 2 to free list
[  340.783408] tx_isp_subdev_pipo: cleared VIC register at offset 0x320 for buffer 2
[  340.783414] tx_isp_subdev_pipo: added buffer entry 3 to free list
[  340.783421] tx_isp_subdev_pipo: cleared VIC register at offset 0x324 for buffer 3
[  340.783427] tx_isp_subdev_pipo: added buffer entry 4 to free list
[  340.783433] tx_isp_subdev_pipo: cleared VIC register at offset 0x328 for buffer 4
[  340.783439] tx_isp_subdev_pipo: initialized 5 buffer structures (safe implementation)
[  340.783445] tx_isp_subdev_pipo: set processing = 1 (pipe enabled, safe struct access)
[  340.783451] tx_isp_subdev_pipo: completed successfully, returning 0
[  340.783456] *** SUCCESS: tx_isp_subdev_pipo completed - VIC buffer management initialized ***
[  340.783462] *** NO MORE 'qbuffer null' or 'bank no free' errors should occur ***
[  340.783468] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[  340.783474] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[  340.783480] *** ispcore_core_ops_init: Second tisp_init completed ***
[  340.783485] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[  340.783495] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[  340.783500] tx_isp_core_enable_irq: Invalid ISP device or core registers
[  340.783506] ispcore_core_ops_init: Failed to enable ISP core interrupts: -22
[  340.783512] ispcore_core_ops_init: Complete, result=0
[  340.783517] FRAME CHANNEL OPEN: core init ret=0
[  340.783524] *** FRAME CHANNEL OPEN: Device not in array, creating new entry for minor 53 ***
[  340.783530] *** FRAME CHANNEL OPEN: Assigned to channel 1 ***
[  340.783536] *** FRAME CHANNEL 1: Initialized state ***
[  340.783541] *** CRITICAL FIX: Frame channel device stored at file+0x70 to prevent crash ***
[  340.783548] *** FRAME CHANNEL 1 OPENED SUCCESSFULLY - NOW READY FOR IOCTLS ***
[  340.783556] Channel 1: Format 640x360, pixfmt=0x3231564e, minor=53
[  340.783590] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc07056c3 ***
[  340.783597] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc07056c3 ***
[  340.783606] Channel 1: Set format 640x360 pixfmt=0x3231564e
[  340.784434] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc0145608 ***
[  340.784446] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0145608 ***
[  340.784453] *** Channel 1: REQBUFS - MEMORY-AWARE implementation ***
[  340.784460] Channel 1: Request 2 buffers, type=1 memory=2
[  340.784466] Channel 1: USERPTR mode - client will provide buffers
[  340.784472] Channel 1: USERPTR mode - 2 user buffers expected
[  340.784479] *** Channel 1: VIC active_buffer_count set to 2 ***
[  340.784485] *** Channel 1: MEMORY-AWARE REQBUFS SUCCESS - 2 buffers ***
[  340.784499] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc044560f ***
[  340.784507] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[  340.784513] *** Channel 1: QBUF - EXACT Binary Ninja implementation ***
[  340.784521] *** Channel 1: QBUF - Validation: index=0, buffer_count=2 ***
[  340.784527] *** Channel 1: QBUF - Queue buffer index=0 ***
[  340.784533] *** QBUF: No driver buffer for index 0 - continuing for VBM mode ***
[  340.784542] *** Channel 1: QBUF details: memory=2 index=0 length=353280 bytesused=0 flags=0x0 field=0 ***
[  340.784551] *** VIC STRIDE (ch1): Programmed NV12 stride=656 (H=360, size=354240) ***
[  340.784558] *** Channel 1: QBUF - Using candidate phys=0x7092800 from buffer (memory=2) ***
[  340.784566] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[  340.784576] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc044560f ***
[  340.784583] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[  340.784589] *** Channel 1: QBUF - EXACT Binary Ninja implementation ***
[  340.784597] *** Channel 1: QBUF - Validation: index=1, buffer_count=2 ***
[  340.784603] *** Channel 1: QBUF - Queue buffer index=1 ***
[  340.784609] *** QBUF: No driver buffer for index 1 - continuing for VBM mode ***
[  340.784618] *** Channel 1: QBUF details: memory=2 index=1 length=353280 bytesused=0 flags=0x0 field=0 ***
[  340.784626] *** VIC STRIDE (ch1): Programmed NV12 stride=656 (H=360, size=354240) ***
[  340.784633] *** Channel 1: QBUF - Using candidate phys=0x70e8c00 from buffer (memory=2) ***
[  340.784639] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[  340.784731] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0x80045612 ***
[  340.784741] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x80045612 ***
[  340.784748] Channel 1: VIDIOC_STREAMON request, type=1
[  340.784755] *** Channel 1: STREAMON aborted - no sensor registered yet ***
[  340.786658] *** frame_channel_unlocked_ioctl: MIPS-SAFE implementation - cmd=0xc0145608 ***
[  340.786671] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0145608 ***
[  340.786677] *** Channel 1: REQBUFS - MEMORY-AWARE implementation ***
[  340.786753] Channel 1: Request 0 buffers, type=1 memory=2
[  340.786760] Channel 1: Freeing existing buffers
[  340.786767] *** Channel 1: VIC active_buffer_count cleared ***
[  340.787491] *** FRAME CHANNEL 1 RELEASED ***
[  341.296899] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[  341.296912] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[  341.296919] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[  341.296925] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[  341.296930] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[  341.297013] isp-w02 proc: outputting frame_count=0
[  341.297047] isp-w02 proc: outputting frame_count=0
root@ing-wyze-cam3-a000 ~# logcat
I/ao( 2038): AO Enable: 0
I/ao( 2038): AO Ch Enable: 0:0
I/ao( 2038): EXIT AO Ch Enable: 0:0
I/ao( 2038): AO Set Vol: 60
I/ao( 2038): AO Get Gain: 20
I/OSD( 2000): IMP_OSD_SetPoolSize:1048576
I/LIBIMP_CONTROL( 2000): Version: Aug 28 2025_05:46:40_ dlsym
E/IMP-ISP( 2000): Cannot open /dev/tx-isp
I/OSD( 2965): IMP_OSD_SetPoolSize:1048576
D/IMP-ISP( 2965): ~~~~~~ IMP_ISP_Open[331] ~~~~~~~
I/IMP-ISP( 2965): IMP_ISP_AddSensor,480: paddr = 0x0, size = 0x2f7600
I/Alloc Manager( 2965): MEM Alloc Method is kmalloc
D/KMEM Method( 2965): CMD Line Rmem Size:30408704, Addr:0x06300000
D/KMEM Method( 2965): alloc->mem_alloc.method = kmalloc
 			alloc->mem_alloc.vaddr = 0x74be5000
 			alloc->mem_alloc.paddr = 0x06300000
 			alloc->mem_alloc.length = 30408704
I/Alloc Manager( 2965): MEM Manager Method is continuous
D/System( 2965): IMP_System_Init SDK Version:1.1.6-a6394f42-Mon Dec 5 14:39:51 2022 +0800, built: Dec 29 2022 15:38:51
D/System( 2965): system_init()
D/System( 2965): Calling DSystem
D/System( 2965): Calling FrameSource
D/System( 2965): [ignored]read /proc/cpuinfo ret is NULLD/System( 2965): Calling IVS
D/System( 2965): Calling OSD
D/System( 2965): Calling Encoder
D/System( 2965): Calling FB
E/Framesource( 2965): IMP_FrameSource_GetChnAttr(): chnAttr was not set yet
D/Encoder( 2965): IMP_Encoder_SetbufshareChn: encChn:2, shareChn:0
E/MemPool( 2965): IMP_Encoder_GetPool(64):chnNum: 0 not bind pool
I/Encoder( 2965): encChn=0,srcFrameCnt=3,srcFrameSize=3133440
I/Encoder( 2965): encChn=0,srcStreamCnt=2,enc_chn->stream_frame_size=949248
I/OSD( 2965): IMP_OSD_SetPoolSize:1048576
I/OSD( 2965): IMP_OSD_CreateRgn(1227) create handle=0 success
I/OSD( 2965): IMP_OSD_CreateRgn(1227) create handle=1 success
I/OSD( 2965): IMP_OSD_CreateRgn(1227) create handle=2 success
I/OSD( 2965): IMP_OSD_CreateRgn(1227) create handle=3 success
D/System( 2965): system_bind(): bind DST-OSD-0(4.0.0) to SRC-Framesource-0(0.0.0)
D/System( 2965): system_bind(): bind DST-Encoder-0(1.0.0) to SRC-OSD-0(4.0.0)
I/Framesource( 2965): [chn0]: width = 1920 height = 1080
I/VBM( 2965): VBMCreatePool()-0: w=1920 h=1080 f=842094158 nrVBs=4
I/VBM( 2965): VBMCreatePool()-0: pool->config.fmt.fmt.pix.sizeimage=0 sizeimage=3133440
E/Framesource( 2965): IMP_FrameSource_GetPool(3294):chnNum: 0 not bind pool
E/VBM( 2965): VBMCreatePool()-0: sizeimage=3133440
I/VBM( 2965): PoolId:0, frame=0x74a1b770, frame->priv=0x74a1b79c, frame[0].virAddr=7583d700, frame[0].phyAddr=6f58700
I/VBM( 2965): PoolId:0, frame=0x74a1bb98, frame->priv=0x74a1bbc4, frame[1].virAddr=75b3a700, frame[1].phyAddr=7255700
I/VBM( 2965): PoolId:0, frame=0x74a1bfc0, frame->priv=0x74a1bfec, frame[2].virAddr=75e37700, frame[2].phyAddr=7552700
I/VBM( 2965): PoolId:0, frame=0x74a1c3e8, frame->priv=0x74a1c414, frame[3].virAddr=76134700, frame[3].phyAddr=784f700
E/Framesource( 2965): [chn0] VIDIOC_STREAMON failed
E/Framesource( 2965): IMP_FrameSource_GetChnAttr(): chnAttr was not set yet
E/MemPool( 2965): IMP_Encoder_GetPool(64):chnNum: 1 not bind pool
I/Encoder( 2965): encChn=1,srcFrameCnt=3,srcFrameSize=353280
I/Encoder( 2965): encChn=1,srcStreamCnt=2,enc_chn->stream_frame_size=199808
I/OSD( 2965): IMP_OSD_SetPoolSize:1048576
I/OSD( 2965): IMP_OSD_CreateRgn(1227) create handle=4 success
I/OSD( 2965): IMP_OSD_CreateRgn(1227) create handle=5 success
I/OSD( 2965): IMP_OSD_CreateRgn(1227) create handle=6 success
I/OSD( 2965): IMP_OSD_CreateRgn(1227) create handle=7 success
D/System( 2965): system_bind(): bind DST-OSD-1(4.1.0) to SRC-Framesource-1(0.1.0)
D/System( 2965): system_bind(): bind DST-Encoder-1(1.1.0) to SRC-OSD-1(4.1.0)
I/Framesource( 2965): [chn1]: width = 640 height = 360
I/VBM( 2965): VBMCreatePool()-1: w=640 h=360 f=842094158 nrVBs=2
I/VBM( 2965): VBMCreatePool()-1: pool->config.fmt.fmt.pix.sizeimage=0 sizeimage=353280
E/Framesource( 2965): IMP_FrameSource_GetPool(3294):chnNum: 1 not bind pool
E/VBM( 2965): VBMCreatePool()-1: sizeimage=353280
I/VBM( 2965): PoolId:1, frame=0x74961c90, frame->priv=0x74961cbc, frame[0].virAddr=75977800, frame[0].phyAddr=7092800
I/VBM( 2965): PoolId:1, frame=0x749620b8, frame->priv=0x749620e4, frame[1].virAddr=759cdc00, frame[1].phyAddr=70e8c00
E/Framesource( 2965): [chn1] VIDIOC_STREAMON failed
E/MemPool( 2965): IMP_Encoder_GetPool(64):chnNum: 2 not bind pool
I/Encoder( 2965): encChn=2,srcFrameCnt=2,srcFrameSize=3133440
I/Encoder( 2965): encChn=2,srcStreamCnt=0,enc_chn->stream_frame_size=0
I/OSD( 2965): IMP_OSD_SetPoolSize:1048576
E/IMP-ISP( 2965): err:video drop
root@ing-wyze-cam3-a000 ~# ^Ct /opt/trace.txt

root@ing-wyze-cam3-a000 ~# cat /proc/interrupts
           CPU0
  9:          0   jz-intc  i2s_irq
 11:      64777   jz-intc  jz-timerost
 14:          0   jz-intc  ipu
 15:      68174   jz-intc  jz-sfc
 18:          0   jz-intc  pdma
 23:          0   jz-intc  GPIO C
 24:          1   jz-intc  GPIO B
 25:          0   jz-intc  GPIO A
 29:          1   jz-intc  dwc2
 37:          0   jz-intc  isp-m0
 38:          0   jz-intc  isp-w02
 44:      21104   jz-intc  jzmmc_v1.2.1
 45:          0   jz-intc  jzmmc_v1.2.0
 58:        383   jz-intc  uart1
 68:        158   jz-intc  jz-i2c.0
 70:          0   jz-intc  avpu.0
126:          0    GPIO B  GPIO Button
134:          1    GPIO B  mmc-insert-detect
ERR:          0
