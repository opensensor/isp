   14.058363] codec_codec_ctl: set repaly channel...
[   14.058402] cgu_set_rate, parent = 1392000000, rate = 4096000, n = 10875, reg val = 0x22002a7b
[   14.058408] codec_codec_ctl: set sample rate...
[   14.058494] codec_codec_ctl: set device...
[   14.289162] codec_set_device: set device: speaker...
[   33.442344] *** tx_isp_init: EXACT Binary Ninja MCP reference implementation ***
[   33.448654] *** PROBE: tx_isp_platform_probe CALLED for device tx-isp ***
[   33.448673] *** PROBE: ISP device allocated successfully: 80480000 ***
[   33.448688] *** PROBE: ISP core registers mapped at 0x13300000 for system_reg_write ***
[   33.448694] *** PROBE: ISP device mutex and spinlock initialized ***
[   33.448700] *** PROBE: Event callback structure initialized at 0x8055d680 (offset 0xc from isp_dev) ***
[   33.448711] parse_rmem_bootarg: Found rmem=29M@0x06300000 (size=0x01d00000)
[   33.448718] *** PROBE: Initialized rmem_addr=0x06300000, size=0x01d00000 ***
[   33.448724] *** PROBE: Platform data: c06b6f10 ***
[   33.448729] *** PROBE: Platform data validation passed ***
[   33.448735] *** REFERENCE DRIVER: Individual subdevices will initialize their own memory regions ***
[   33.448740] *** PLATFORM DEVICES ALREADY REGISTERED IN INIT - SKIPPING DUPLICATE REGISTRATION ***
[   33.448746] *** tx_isp_module_init: EXACT Binary Ninja reference implementation ***
[   33.448752] *** tx_isp_module_init: Registering subdev platform drivers FIRST ***
[   33.448758] *** TX ISP SUBDEV PLATFORM DRIVERS REGISTRATION ***
[   33.471632] All ISP subdev platform drivers registered successfully
[   33.474109] *** tx_isp_create_graph_and_nodes: EXACT Binary Ninja reference implementation ***
[   33.474123] *** Registering platform device 0 from platform data ***
[   33.476632] *** tx_isp_subdev_init: CALLED for device 'isp-w01' ***
[   33.476647] *** tx_isp_subdev_init: pdev=c06b6bf8, sd=80564000, ops=c06b7210 ***
[   33.476653] *** tx_isp_subdev_init: ourISPdev=80480000 ***
[   33.476660] *** tx_isp_subdev_init: ops=c06b7210, ops->core=c06b7244 ***
[   33.476667] *** tx_isp_subdev_init: ops->core->init=c066c6b8 ***
[   33.476673] *** tx_isp_subdev_init: Set sd->dev=c06b6c08, sd->pdev=c06b6bf8 ***
[   33.476679] *** tx_isp_subdev_init: CSI subdev registered at slot 0 ***
[   33.476685] tx_isp_module_init: Module initialized for isp-w01
[   33.476691] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   33.476698] *** isp-w01: Skipping IRQ request - device has no IRQ resource ***
[   33.476705] tx_isp_subdev_init: platform_get_resource returned c06b6ce8 for device isp-w01
[   33.476713] tx_isp_subdev_init: Memory resource found: start=0x10022000, end=0x10022fff, size=0x00001000
[   33.476721] *** tx_isp_subdev_init: Clock initialization deferred until streaming starts ***
[   33.476728] *** tx_isp_subdev_init: Clock count stored: 1 ***
[   33.476735] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b6bf8, sd=80564000, ourISPdev=80480000 ***
[   33.476743] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w01' to ourISPdev=80480000 ***
[   33.476749] *** DEBUG: Device name comparison - checking 'isp-w01' ***
[   33.476754] *** DEBUG: About to check device name matches ***
[   33.476760] *** CSI BASIC REGISTERS SET: b0022000 (from tx_isp_subdev_init) ***
[   33.476767] *** LINKED CSI device: 80564000, regs: b0022000 ***
[   33.476773] *** CSI PROBE: Set dev_priv to csi_dev 80564000 AFTER subdev_init ***
[   33.476779] *** CSI PROBE: Set host_priv to csi_dev 80564000 AFTER subdev_init ***
[   33.476786] *** CSI PROBE: Using register mapping from tx_isp_subdev_init: b0022000 ***
[   33.476792] *** CSI PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   33.476811] *** Platform device 0 (isp-w01) registered successfully ***
[   33.476819] *** Registering platform device 1 from platform data ***
[   33.478991] *** VIC PROBE: IRQ numbers initialized to 38 ***
[   33.479006] *** VIC PROBE: Primary VIC registers mapped at 0x133e0000 -> b33e0000 ***
[   33.479012] *** VIC PROBE: VIC control registers mapped at 0x10023000 -> b0023000 ***
[   33.479018] *** VIC PROBE: Hardware IRQ function pointers set using SAFE struct members (tx_isp_enable/disable_irq) ***
[   33.479025] *** VIC PROBE: Secondary VIC register test - 0x1e0 = 0x00000000 (mapping verified) ***
[   33.479031] *** VIC PROBE: VIC interrupt registers will be configured during tx_isp_vic_start ***
[   33.479037] *** BINARY NINJA MCP: VIC buffer management ENABLED - following reference driver ***
[   33.479042] *** VIC will operate in FULL mode with complete buffer operations ***
[   33.479048] *** BINARY NINJA MCP: VIC full initialization complete - buffer management ENABLED ***
[   33.479055] *** VIC PROBE: Initialized default dimensions 1920x1080 and critical fields ***
[   33.479061] *** VIC PROBE: Event callback structure stored in VIC device field ***
[   33.479067] *** VIC PROBE: Stored vic_dev pointer 80564400 in subdev dev_priv ***
[   33.479073] *** VIC PROBE: Set host_priv to vic_dev 80564400 for Binary Ninja compatibility ***
[   33.479079] *** VIC PROBE: Skipping tx_isp_vic_hw_init - working branch configures interrupts during VIC operations ***
[   33.479087] *** tx_isp_subdev_init: CALLED for device 'isp-w02' ***
[   33.479094] *** tx_isp_subdev_init: pdev=c06b6d08, sd=80564400, ops=c06b7190 ***
[   33.479100] *** tx_isp_subdev_init: ourISPdev=80480000 ***
[   33.479107] *** tx_isp_subdev_init: ops=c06b7190, ops->core=c06b71ac ***
[   33.479181] *** tx_isp_subdev_init: ops->core->init=c06824a4 ***
[   33.479189] *** tx_isp_subdev_init: Set sd->dev=c06b6d18, sd->pdev=c06b6d08 ***
[   33.479195] *** tx_isp_subdev_init: VIC device linked and registered at slot 1 ***
[   33.479202] tx_isp_module_init: Module initialized for isp-w02
[   33.479208] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   33.479216] *** tx_isp_request_irq: platform_get_irq returned 38 for device isp-w02 ***
[   33.479223] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 38 (device: isp-w02) ***
[   33.479233] *** tx_isp_request_irq: About to call request_threaded_irq(irq=38, handler=c0674f48, thread=c0668584, flags=0x80, name=isp-w02, dev_id=80480000) ***
[   33.479241] *** tx_isp_request_irq: About to register IRQ 38 with handlers: main=c0674f48, thread=c0668584 ***
[   33.488950] *** tx_isp_request_irq: request_threaded_irq returned 0 ***
[   33.488961] *** tx_isp_request_irq: IRQ 38 LEFT ENABLED (working version behavior) ***
[   33.488968] *** tx_isp_request_irq: IRQ 38 registered successfully for isp-w02 ***
[   33.488977] tx_isp_subdev_init: platform_get_resource returned c06b6e00 for device isp-w02
[   33.488985] tx_isp_subdev_init: Memory resource found: start=0x10023000, end=0x10023fff, size=0x00001000
[   33.488994] *** tx_isp_subdev_init: Clock initialization deferred until streaming starts ***
[   33.488999] *** tx_isp_subdev_init: Clock count stored: 2 ***
[   33.489007] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b6d08, sd=80564400, ourISPdev=80480000 ***
[   33.489015] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w02' to ourISPdev=80480000 ***
[   33.489021] *** DEBUG: Device name comparison - checking 'isp-w02' ***
[   33.489026] *** DEBUG: About to check device name matches ***
[   33.489031] *** DEBUG: VIC DEVICE NAME MATCHED! Processing VIC device linking ***
[   33.489037] *** DEBUG: Retrieved vic_dev from subdev data: 80564400 ***
[   33.489043] *** DEBUG: About to set ourISPdev->vic_dev = 80564400 ***
[   33.489049] *** DEBUG: ourISPdev before linking: 80480000 ***
[   33.489055] *** DEBUG: ourISPdev->vic_dev set to: 80564400 ***
[   33.489061] *** VIC AUTO-LINK: VIC IRQ already registered (irq=38) ***
[   33.489066] *** VIC AUTO-LINK: Using existing VIC register mapping (0x133e0000) - NOT remapping ***
[   33.489072] *** VIC AUTO-LINK: Registers are mapped, registering interrupt handler ***
[   33.489079] *** VIC PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   33.489085] *** VIC PROBE: Sensor dimensions will be cached when sensor module loads ***
[   33.489091] *** VIC PROBE: VIC frame channel streaming will be initialized via tisp_init ***
[   33.489096] *** VIC PROBE: Waiting for core subdev init to call tisp_init which calls tx_isp_subdev_pipo ***
[   33.489158] *** Platform device 1 (isp-w02) registered successfully ***
[   33.489165] *** Registering platform device 2 from platform data ***
[   33.489514] *** tx_isp_subdev_init: CALLED for device 'isp-w00' ***
[   33.489529] *** tx_isp_subdev_init: pdev=c06b6b20, sd=856d4000, ops=c06b8074 ***
[   33.489535] *** tx_isp_subdev_init: ourISPdev=80480000 ***
[   33.489542] *** tx_isp_subdev_init: ops=c06b8074, ops->core=c06b8094 ***
[   33.489548] *** tx_isp_subdev_init: ops->core->init=c068f17c ***
[   33.489555] *** tx_isp_subdev_init: Set sd->dev=c06b6b30, sd->pdev=c06b6b20 ***
[   33.489561] *** tx_isp_subdev_init: NOT A SENSOR - ops=c06b8074 ***
[   33.489568] *** tx_isp_subdev_init: ops->sensor=  (null), csi_subdev_ops=c06b7210 ***
[   33.489575] tx_isp_module_init: Module initialized for isp-w00
[   33.489580] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   33.489589] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b6b20, sd=856d4000, ourISPdev=80480000 ***
[   33.489595] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w00' to ourISPdev=80480000 ***
[   33.489601] *** DEBUG: Device name comparison - checking 'isp-w00' ***
[   33.489607] *** DEBUG: About to check device name matches ***
[   33.489614] *** DEBUG: Unknown device name 'isp-w00' - no specific auto-link handling ***
[   33.489621] *** VIN PROBE: Set dev_priv to vin_dev 856d4000 AFTER subdev_init ***
[   33.489627] *** VIN PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   33.489647] *** Platform device 2 (isp-w00) registered successfully ***
[   33.489653] *** Registering platform device 3 from platform data ***
[   33.492156] *** tx_isp_subdev_init: CALLED for device 'isp-fs' ***
[   33.492171] *** tx_isp_subdev_init: pdev=c06b69e0, sd=856d4400, ops=c06b72c4 ***
[   33.492178] *** tx_isp_subdev_init: ourISPdev=80480000 ***
[   33.492185] *** tx_isp_subdev_init: ops=c06b72c4, ops->core=c06be14c ***
[   33.492191] *** tx_isp_subdev_init: WARNING - ops->core->init is NULL! ***
[   33.492197] *** tx_isp_subdev_init: Set sd->dev=c06b69f0, sd->pdev=c06b69e0 ***
[   33.492204] *** tx_isp_subdev_init: NOT A SENSOR - ops=c06b72c4 ***
[   33.492211] *** tx_isp_subdev_init: ops->sensor=c06be140, csi_subdev_ops=c06b7210 ***
[   33.492217] tx_isp_module_init: Module initialized for isp-fs
[   33.492223] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   33.492229] *** isp-fs: Skipping IRQ request - device has no IRQ resource ***
[   33.492236] tx_isp_subdev_init: platform_get_resource returned   (null) for device isp-fs
[   33.492242] tx_isp_subdev_init: No memory resource for device isp-fs (logical device - OK)
[   33.492249] *** FS PROBE: Set dev_priv to fs_dev 856d4400 AFTER subdev_init ***
[   33.492255] *** FS PROBE: Device linking handled automatically by tx_isp_subdev_auto_link() ***
[   33.492275] *** Platform device 3 (isp-fs) registered successfully ***
[   33.492281] *** Registering platform device 4 from platform data ***
[   33.494781] *** tx_isp_core_probe: NEW ARCHITECTURE - Creating separate core device ***
[   33.494795] *** tx_isp_create_core_device: Creating ISP core device ***
[   33.494804] *** tx_isp_create_core_device: Core device created successfully: 80564800 ***
[   33.494811] *** CORE PROBE: Set dev_priv to core_dev 80564800 ***
[   33.494817] *** CORE PROBE: Set host_priv to core_dev 80564800 - PREVENTS BadVA CRASH ***
[   33.494824] *** tx_isp_subdev_init: CALLED for device 'isp-m0' ***
[   33.494831] *** tx_isp_subdev_init: pdev=c06b68c0, sd=80564800, ops=c06b6fc8 ***
[   33.494837] *** tx_isp_subdev_init: ourISPdev=80480000 ***
[   33.494844] *** tx_isp_subdev_init: ops=c06b6fc8, ops->core=c06b6ff4 ***
[   33.494850] *** tx_isp_subdev_init: ops->core->init=c067f6cc ***
[   33.494857] *** tx_isp_subdev_init: Set sd->dev=c06b68d0, sd->pdev=c06b68c0 ***
[   33.494863] *** tx_isp_subdev_init: Core ISP subdev registered at slot 2 ***
[   33.494870] tx_isp_module_init: Module initialized for isp-m0
[   33.494875] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   33.494883] *** tx_isp_request_irq: platform_get_irq returned 37 for device isp-m0 ***
[   33.494890] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 37 (device: isp-m0) ***
[   33.494900] *** tx_isp_request_irq: About to call request_threaded_irq(irq=37, handler=c0674f48, thread=c0668584, flags=0x80, name=isp-m0, dev_id=80480000) ***
[   33.494909] *** tx_isp_request_irq: About to register IRQ 37 with handlers: main=c0674f48, thread=c0668584 ***
[   33.497175] *** tx_isp_request_irq: request_threaded_irq returned 0 ***
[   33.497187] *** tx_isp_request_irq: IRQ 37 LEFT ENABLED (working version behavior) ***
[   33.497193] *** tx_isp_request_irq: IRQ 37 registered successfully for isp-m0 ***
[   33.497202] tx_isp_subdev_init: platform_get_resource returned c06b69a8 for device isp-m0
[   33.497210] tx_isp_subdev_init: Memory resource found: start=0x13300000, end=0x133fffff, size=0x00100000
[   33.497220] *** tx_isp_subdev_init: Clock initialization deferred until streaming starts ***
[   33.497226] *** tx_isp_subdev_init: Clock count stored: 0 ***
[   33.497234] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b68c0, sd=80564800, ourISPdev=80480000 ***
[   33.497241] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-m0' to ourISPdev=80480000 ***
[   33.497247] *** DEBUG: Device name comparison - checking 'isp-m0' ***
[   33.497252] *** DEBUG: About to check device name matches ***
[   33.497258] *** DEBUG: CORE device name matched! Setting up Core device ***
[   33.497264] *** CRITICAL FIX: CORE regs mapped to core device: b3300000 ***
[   33.497272] *** tx_isp_link_core_device: Linking core device 80564800 to ISP device 80480000 ***
[   33.497277] *** tx_isp_link_core_device: Core device linked successfully ***
[   33.497284] *** Core subdev already registered at slot 2: 80564800 ***
[   33.497290] *** LINKED CORE device: 80564800 ***
[   33.497295] *** CORE SUBDEV REGISTERED AT INDEX 0 ***
[   33.497301] *** tx_isp_core_probe: Core subdev initialized successfully ***
[   33.497307] *** tx_isp_core_device_init: Initializing core device: 80564800 ***
[   33.497319] *** tx_isp_core_device_init: State transitions handled by slake_module ***
[   33.497324] *** tx_isp_core_device_init: Core device initialized successfully ***
[   33.497330] *** tx_isp_core_device_init: Core sensor IOCTL handler set for sensor registration ***
[   33.497337] *** tx_isp_link_core_device: Linking core device 80564800 to ISP device 80480000 ***
[   33.497343] *** tx_isp_link_core_device: Core device linked successfully ***
[   33.497349] *** Core subdev already registered at slot 2: 80564800 ***
[   33.497363] *** tx_isp_core_probe: Assigned frame_channels=80564c00 to core_dev ***
[   33.497369] *** tx_isp_core_probe: VIC device creation deferred to platform driver system ***
[   33.497375] *** tx_isp_core_probe: Platform drivers will call tx_isp_subdev_init for proper initialization ***
[   33.497380] *** tx_isp_core_probe: Calling sensor_early_init ***
[   33.497386] *** tx_isp_core_probe: ISP clock management handled by infrastructure ***
[   33.497391] *** tx_isp_core_probe: ispcore_slake_module will be called when VIC reaches streaming state ***
[   33.497397] *** tx_isp_core_probe: Core device setup complete ***
[   33.497403] ***   - Core device: 80564800 ***
[   33.497408] ***   - Channel count: 6 ***
[   33.497413] ***   - Linked to ISP device: 80480000 ***
[   33.497419] *** tx_isp_core_probe: Initializing core tuning system ***
[   33.497424] isp_core_tuning_init: Initializing tuning data structure
[   33.497437] isp_core_tuning_init: Tuning data structure initialized at 84bf6000
[   33.497443] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   33.497448] *** SAFE: mode_flag properly initialized using struct member access ***
[   33.497453] *** tx_isp_core_probe: Tuning init SUCCESS ***
[   33.497459] *** tx_isp_core_probe: Set platform driver data ***
[   33.497464] *** tx_isp_core_probe: Set global core device reference ***
[   33.497469] *** tx_isp_core_probe: SUCCESS - Core device fully initialized ***
[   33.497475] ***   - Core device: 80564800 ***
[   33.497481] ***   - Tuning device: 84bf6000 ***
[   33.497485] *** tx_isp_core_probe: Creating frame channel devices ***
[   33.497491] *** tx_isp_create_framechan_devices: Creating frame channel devices ***
[   33.499378] *** Created frame channel device: /dev/framechan0 (major=10, minor=54) ***
[   33.509833] *** Created frame channel device: /dev/framechan1 (major=10, minor=53) ***
[   33.513104] *** Created frame channel device: /dev/framechan2 (major=10, minor=52) ***
[   33.515641] *** Created frame channel device: /dev/framechan3 (major=10, minor=51) ***
[   33.515653] *** tx_isp_create_framechan_devices: All frame channel devices created ***
[   33.515658] *** tx_isp_core_probe: Frame channel devices created successfully ***
[   33.515664] *** tx_isp_core_probe: Creating ISP M0 tuning device node ***
[   33.515669] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   33.515678] tisp_code_create_tuning_node: Allocated dynamic major 251
[   33.528847] *** ISP M0 TUNING DEVICE CREATED: /dev/isp-m0 (major=251, minor=0) ***
[   33.528858] *** tx_isp_core_probe: ISP M0 tuning device node created successfully ***
[   33.528863] *** tx_isp_core_probe: Core probe completed successfully ***
[   33.528884] *** Platform device 4 (isp-m0) registered successfully ***
[   33.528891] *** tx_isp_create_graph_and_nodes: Creating /proc/jz/isp entries ***
[   33.528913] *** Created /proc/jz/isp directory ***
[   33.528921] *** PROC ENTRY DEBUG: Using isp_vic_frd_fops for isp-w01 (with ioctl handler) ***
[   33.528931] *** Created /proc/jz/isp/isp-w01 entry with file ops ***
[   33.528937] *** PROC ENTRY DEBUG: Using vic_w02_proc_fops for isp-w02 (with write handler) ***
[   33.528944] *** PROC ENTRY DEBUG: vic_w02_proc_fops.write=c0684c08 ***
[   33.528952] *** PROC ENTRY FIX: Using ISP device 80480000 instead of VIC device 80564400 for isp-w02 ***
[   33.528960] *** Created /proc/jz/isp/isp-w02 entry with file ops ***
[   33.528967] *** PROC ENTRY DEBUG: Using isp_vic_frd_fops for isp-w00 (with ioctl handler) ***
[   33.528975] *** Created /proc/jz/isp/isp-w00 entry with file ops ***
[   33.528985] *** Created /proc/jz/isp/isp-fs entry with file ops ***
[   33.528994] *** Created /proc/jz/isp/isp-m0 entry with file ops ***
[   33.528999] *** tx_isp_create_graph_and_nodes: Registering misc devices ***
[   33.529005] *** Misc device registration handled via main tx-isp device ***
[   33.529011] *** Misc device registration handled via main tx-isp device ***
[   33.529016] *** Misc device registration handled via main tx-isp device ***
[   33.529021] *** Misc device registration handled via main tx-isp device ***
[   33.529027] *** Misc device registration handled via main tx-isp device ***
[   33.529032] *** tx_isp_create_graph_and_nodes: Initializing frame channels ***
[   33.529040] *** Frame channel 0 initialized: 1920x1080, state=2 ***
[   33.529048] *** Frame channel 1 initialized: 640x360, state=2 ***
[   33.529053] *** tx_isp_create_graph_and_nodes: Binary Ninja reference implementation complete ***
[   33.529061] *** tx_isp_module_init: VIC device linkage check - isp_dev->vic_dev = 80564400 ***
[   33.529066] *** ENABLING HARDWARE INTERRUPT GENERATION ***
[   33.529071] *** WRITING VIC INTERRUPT ENABLE REGISTERS ***
[   33.529078] *** EARLY VIC ENABLES (MODULE INIT): PRIMARY [1e0]=0x00000000 [1e4]=0x00000000 ***
[   33.529085] *** EARLY VIC ENABLES (MODULE INIT): CONTROL [1e0]=0x00000000 [1e4]=0x00000000 ***
[   33.529091] *** ENABLING ISP CORE INTERRUPT REGISTERS FOR MIPI DATA ***
[   33.529097] *** ISP CORE INTERRUPT REGISTERS ENABLED at legacy(+0xb*) and new(+0x98b*) ***
[   33.529102] *** BOTH VIC AND ISP CORE INTERRUPTS NOW ENABLED! ***
[   33.529107] *** tx_isp_module_init: Binary Ninja reference implementation complete ***
[   33.529193] *** PROBE: Binary Ninja reference implementation complete ***
[   33.531793] *** tx_isp_init: Platform device and driver registered successfully ***
[   34.966371] === gc2053 SENSOR MODULE INIT ===
[   34.968827] gc2053 I2C driver registered, waiting for device creation by ISP
[   37.290516] ISP opened successfully
[   37.290926] ISP IOCTL: cmd=0x805056c1 arg=0x77990d60
[   37.290942] subdev_sensor_ops_ioctl: cmd=0x2000000
[   37.290947] *** subdev_sensor_ops_ioctl: IOCTL 0x2000000 - Creating I2C sensor device ***
[   37.290954] *** Creating I2C sensor device on adapter 0 ***
[   37.290962] *** Creating I2C device: gc2053 at 0x37 ***
[   37.290968] *** isp_i2c_new_subdev_board: MIPS-SAFE implementation - FIXED CRASH ***
[   37.290976] Creating I2C subdev: type=gc2053 addr=0x37 on adapter i2c0 (MIPS-safe)
[   37.290981] *** MIPS-SAFE: Requesting sensor module gc2053 ***
[   37.293769] *** MIPS-SAFE: Valid I2C address 0x37, creating device ***
[   37.297694] === GC2053 SENSOR PROBE START ===
[   37.297710] sensor_probe: client=8428e600, addr=0x37, adapter=84074c10 (i2c0)
[   37.297716] === PERFORMING GPIO RESET SEQUENCE BEFORE I2C ===
[   37.297722] Requesting reset GPIO 18
[   37.297730] GPIO reset sequence: HIGH -> LOW -> HIGH
[   37.519158] GPIO reset sequence completed successfully
[   37.519172] === GPIO INITIALIZATION COMPLETE ===
[   37.519182] sensor_probe: Initialized sensor info - name=gc2053, i2c_addr=0x37
[   37.519197] sensor_probe: data_interface=1, sensor_max_fps=30
[   37.519202] sensor_probe: MIPI 30fps
[   37.519210] *** tx_isp_subdev_init: CALLED for device 'gc2053' ***
[   37.519218] *** tx_isp_subdev_init: pdev=c06e1168, sd=80565000, ops=c06e1248 ***
[   37.519224] *** tx_isp_subdev_init: ourISPdev=80480000 ***
[   37.519230] *** tx_isp_subdev_init: ops=c06e1248, ops->core=c06e1274 ***
[   37.519236] *** tx_isp_subdev_init: ops->core->init=c06de6bc ***
[   37.519243] *** tx_isp_subdev_init: Set sd->dev=c06e1178, sd->pdev=c06e1168 ***
[   37.519250] *** tx_isp_subdev_init: DETECTED SENSOR SUBDEV - ops=c06e1248, ops->sensor=c06e125c ***
[   37.519256] *** tx_isp_subdev_init: Set up sensor module notify handler ***
[   37.519263] *** tx_isp_subdev_init: SENSOR subdev registered at slot 3, sd=80565000 ***
[   37.519270] *** tx_isp_subdev_init: SENSOR ops=c06e1248, ops->sensor=c06e125c ***
[   37.519276] *** tx_isp_subdev_init: Core state transitions handled by slake_module ***
[   37.519282] tx_isp_module_init: Module initialized for (null)
[   37.519288] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   37.519296] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06e1168, sd=80565000, ourISPdev=80480000 ***
[   37.519303] *** tx_isp_subdev_auto_link: Auto-linking device 'gc2053' to ourISPdev=80480000 ***
[   37.519308] *** DEBUG: Device name comparison - checking 'gc2053' ***
[   37.519314] *** DEBUG: About to check device name matches ***
[   37.519320] *** DETECTED SENSOR DEVICE: 'gc2053' - checking for existing registration ***
[   37.519327] *** SENSOR 'gc2053' registered at subdev index 5 ***
[   37.519334] *** SENSOR subdev: 80565000, ops: c06e1248 ***
[   37.519340] *** SENSOR ops->sensor: c06e125c ***
[   37.519344] *** SENSOR REGISTERED: Caching sensor dimensions from /proc/jz/sensor/ ***
[   37.519350] *** cache_sensor_dimensions_from_proc: Reading sensor dimensions during probe ***
[   37.519424] read_sensor_dimensions: Successfully read 1920x1080 from /proc/jz/sensor/
[   37.519431] *** cache_sensor_dimensions_from_proc: Successfully cached 1920x1080 ***
[   37.519438] sensor_probe: I2C client association complete
[   37.519446]   sd=80565000, client=8428e600, addr=0x37, adapter=i2c0
[   37.519451] === TESTING I2C COMMUNICATION AFTER GPIO RESET ===
[   37.519460] sensor_read: reg=0xf0, client=8428e600, adapter=i2c0, addr=0x37
[   37.519957] sensor_read: reg=0xf0 value=0x20 SUCCESS
[   37.519964] I2C test read (0xf0): ret=0, val=0x20 (expected 0x20)
[   37.519970] *** SUCCESS: I2C communication working after GPIO reset! ***
[   37.519978] sensor_read: reg=0xf1, client=8428e600, adapter=i2c0, addr=0x37
[   37.520398] sensor_read: reg=0xf1 value=0x53 SUCCESS
[   37.520410] I2C test read (0xf1): ret=0, val=0x53 (expected 0x53)
[   37.520415] === I2C COMMUNICATION TEST COMPLETE ===
[   37.520424] Registering gc2053 with ISP framework (sd=80565000, sensor=80565000)
[   37.520430] gc2053 registered with ISP framework successfully
[   37.520453] *** MIPS-SAFE: I2C device created successfully at 0x8428e600 ***
[   37.520460] *** MIPS-SAFE: Module reference acquired for gc2053 ***
[   37.520466] *** MIPS-SAFE: Sensor subdev data found, device ready ***
[   37.520472] *** I2C DEVICE READY: gc2053 at 0x37 (MIPS-safe) ***
[   37.520480] *** I2C sensor device created successfully: gc2053 at 0x37 ***
[   37.520518] ISP IOCTL: cmd=0xc050561a arg=0x7fc37a18
[   37.520525] TX_ISP_SENSOR_ENUM_INPUT: Enumerating sensor at index 0
[   37.520532] TX_ISP_SENSOR_ENUM_INPUT: Returning sensor 'gc2053' at index 0
[   37.520540] ISP IOCTL: cmd=0xc050561a arg=0x7fc37a18
[   37.520546] TX_ISP_SENSOR_ENUM_INPUT: Enumerating sensor at index 1
[   37.520551] TX_ISP_SENSOR_ENUM_INPUT: No sensor at index 1 - returning error to end enumeration
[   37.520559] ISP IOCTL: cmd=0xc0045627 arg=0x7fc37a70
[   37.520570] ISP IOCTL: cmd=0x800856d5 arg=0x7fc37a68
[   37.520575] TX_ISP_GET_BUF: IOCTL handler called
[   37.520582] TX_ISP_GET_BUF: core_dev=80564800, isp_dev=80480000
[   37.520588] TX_ISP_GET_BUF: Using dimensions 1920x1080 from core device
[   37.520595] TX_ISP_GET_BUF: Returning buffer size=4685424, paddr=0x6300000
[   37.596042] ISP IOCTL: cmd=0x800856d4 arg=0x7fc37a68
[   37.596057] TX_ISP_SET_BUF: addr=0x6300000 size=0
[   37.596288] ISP IOCTL: cmd=0x40045626 arg=0x7fc37a80
[   37.596301] subdev_sensor_ops_ioctl: cmd=0x2000003
[   37.596307] subdev_sensor_ops_ioctl: IOCTL 0x2000003 - Get sensor input
[   37.596313] subdev_sensor_ops_ioctl: Auto-selected first sensor at slot 0 as index 0
[   37.596319] subdev_sensor_ops_ioctl: Returning current sensor index 0
[   37.596328] ISP IOCTL: cmd=0x80045612 arg=0x0
[   37.596335] *** tx_isp_video_s_stream: EXACT Binary Ninja reference implementation - enable=1 ***
[   37.596340] === ISP Subdevice Array Status ===
[   37.596348]   [0]: isp-w01 (sd=80564000)
[   37.596355]   [1]: isp-w02 (sd=80564400)
[   37.596361]   [2]: isp-m0 (sd=80564800)
[   37.596368]   [3]: gc2053 (sd=80565000)
[   37.596373]   [4]: (empty)
[   37.596379]   [5]: gc2053 (sd=80565000)
[   37.596385]   [6]: (empty)
[   37.596390]   [7]: (empty)
[   37.596395]   [8]: (empty)
[   37.596399]   [9]: (empty)
[   37.596405]   [10]: (empty)
[   37.596410]   [11]: (empty)
[   37.596415]   [12]: (empty)
[   37.596420]   [13]: (empty)
[   37.596425]   [14]: (empty)
[   37.596430]   [15]: (empty)
[   37.596435] === End Subdevice Array ===
[   37.596439] *** tx_isp_video_s_stream: STREAM ON - Initializing core first ***
[   37.596445] *** tx_isp_video_s_stream: VIC state is 1, calling activate_module ***
[   37.596451] *** ispcore_activate_module: Fixed for our struct layouts ***
[   37.596456] *** VIC device in state 1, proceeding with activation ***
[   37.596463] *** CLOCK CONFIGURATION SECTION: clk_array=  (null), clk_count=2 ***
[   37.596468] *** SUBDEVICE VALIDATION SECTION ***
[   37.596473] VIC device state set to 2 (activated)
[   37.596478] *** CRITICAL FUNCTION POINTER CALL SECTION ***
[   37.596483] *** CALLING CRITICAL VIC INITIALIZATION FUNCTION ***
[   37.596489] *** VIC control register written with 0x4000000 to ISP+0x9a00 ***
[   37.596494] *** SUBDEVICE INITIALIZATION LOOP ***
[   37.596499] *** SUBDEVICE INITIALIZATION: Traversing backwards to initialize sensors first ***
[   37.596505] Calling subdev 5 initialization (REVERSE ORDER - sensors first)
[   37.596513] *** SENSOR_INIT: gc2053 enable=1 ***
[   37.596521] SENSOR_INIT: Configuring gc2053 (chip_id=0x2053, 1920x1080)
[   37.596528] *** CALLING SENSOR_WRITE_ARRAY WITH c06e1e20 (should be 137 registers) ***
[   37.596537] sensor_write: reg=0xfe val=0x80, client=8428e600, adapter=i2c0, addr=0x37
[   37.596862] sensor_write: reg=0xfe val=0x80 SUCCESS
[   37.596870] sensor_write_array: reg[1] 0xfe=0x80 OK
[   37.596878] sensor_write: reg=0xfe val=0x80, client=8428e600, adapter=i2c0, addr=0x37
[   37.597197] sensor_write: reg=0xfe val=0x80 SUCCESS
[   37.597205] sensor_write_array: reg[2] 0xfe=0x80 OK
[   37.597213] sensor_write: reg=0xfe val=0x80, client=8428e600, adapter=i2c0, addr=0x37
[   37.597525] sensor_write: reg=0xfe val=0x80 SUCCESS
[   37.597532] sensor_write_array: reg[3] 0xfe=0x80 OK
[   37.597540] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   37.597853] sensor_write: reg=0xfe val=0x00 SUCCESS
[   37.597860] sensor_write_array: reg[4] 0xfe=0x00 OK
[   37.597869] sensor_write: reg=0xf2 val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   37.598181] sensor_write: reg=0xf2 val=0x00 SUCCESS
[   37.598189] sensor_write_array: reg[5] 0xf2=0x00 OK
[   37.598197] sensor_write: reg=0xf3 val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   37.598509] sensor_write: reg=0xf3 val=0x00 SUCCESS
[   37.598517] sensor_write_array: reg[6] 0xf3=0x00 OK
[   37.598525] sensor_write: reg=0xf4 val=0x36, client=8428e600, adapter=i2c0, addr=0x37
[   37.598838] sensor_write: reg=0xf4 val=0x36 SUCCESS
[   37.598845] sensor_write_array: reg[7] 0xf4=0x36 OK
[   37.598853] sensor_write: reg=0xf5 val=0xc0, client=8428e600, adapter=i2c0, addr=0x37
[   37.602397] sensor_write: reg=0xf5 val=0xc0 SUCCESS
[   37.602410] sensor_write_array: reg[8] 0xf5=0xc0 OK
[   37.602420] sensor_write: reg=0xf6 val=0x44, client=8428e600, adapter=i2c0, addr=0x37
[   37.605390] sensor_write: reg=0xf6 val=0x44 SUCCESS
[   37.605402] sensor_write_array: reg[9] 0xf6=0x44 OK
[   37.605413] sensor_write: reg=0xf7 val=0x01, client=8428e600, adapter=i2c0, addr=0x37
[   37.605729] sensor_write: reg=0xf7 val=0x01 SUCCESS
[   37.605737] sensor_write_array: reg[10] 0xf7=0x01 OK
[   37.605745] sensor_write: reg=0xf8 val=0x68, client=8428e600, adapter=i2c0, addr=0x37
[   37.606063] sensor_write: reg=0xf8 val=0x68 SUCCESS
[   37.606072] sensor_write: reg=0xf9 val=0x40, client=8428e600, adapter=i2c0, addr=0x37
[   37.606384] sensor_write: reg=0xf9 val=0x40 SUCCESS
[   37.606392] sensor_write: reg=0xfc val=0x8e, client=8428e600, adapter=i2c0, addr=0x37
[   37.606706] sensor_write: reg=0xfc val=0x8e SUCCESS
[   37.606714] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   37.607027] sensor_write: reg=0xfe val=0x00 SUCCESS
[   37.607036] sensor_write: reg=0x87 val=0x18, client=8428e600, adapter=i2c0, addr=0x37
[   37.607349] sensor_write: reg=0x87 val=0x18 SUCCESS
[   37.607357] sensor_write: reg=0xee val=0x30, client=8428e600, adapter=i2c0, addr=0x37
[   37.607670] sensor_write: reg=0xee val=0x30 SUCCESS
[   37.607679] sensor_write: reg=0xd0 val=0xb7, client=8428e600, adapter=i2c0, addr=0x37
[   37.609164] sensor_write: reg=0xd0 val=0xb7 SUCCESS
[   37.609176] sensor_write: reg=0x03 val=0x04, client=8428e600, adapter=i2c0, addr=0x37
[   37.609491] sensor_write: reg=0x03 val=0x04 SUCCESS
[   37.609500] sensor_write: reg=0x04 val=0x60, client=8428e600, adapter=i2c0, addr=0x37
[   37.609815] sensor_write: reg=0x04 val=0x60 SUCCESS
[   37.609824] sensor_write: reg=0x05 val=0x04, client=8428e600, adapter=i2c0, addr=0x37
[   37.615502] sensor_write: reg=0x05 val=0x04 SUCCESS
[   37.615518] sensor_write: reg=0x06 val=0x4c, client=8428e600, adapter=i2c0, addr=0x37
[   37.615836] sensor_write: reg=0x06 val=0x4c SUCCESS
[   37.615845] sensor_write: reg=0x07 val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   37.616161] sensor_write: reg=0x07 val=0x00 SUCCESS
[   37.616171] sensor_write: reg=0x08 val=0x11, client=8428e600, adapter=i2c0, addr=0x37
[   37.616484] sensor_write: reg=0x08 val=0x11 SUCCESS
[   37.616493] sensor_write: reg=0x09 val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   37.616805] sensor_write: reg=0x09 val=0x00 SUCCESS
[   37.616814] sensor_write: reg=0x0a val=0x02, client=8428e600, adapter=i2c0, addr=0x37
[   37.617127] sensor_write: reg=0x0a val=0x02 SUCCESS
[   37.617135] sensor_write: reg=0x0b val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   37.617448] sensor_write: reg=0x0b val=0x00 SUCCESS
[   37.617456] sensor_write: reg=0x0c val=0x02, client=8428e600, adapter=i2c0, addr=0x37
[   37.617769] sensor_write: reg=0x0c val=0x02 SUCCESS
[   37.617777] sensor_write: reg=0x0d val=0x04, client=8428e600, adapter=i2c0, addr=0x37
[   37.618090] sensor_write: reg=0x0d val=0x04 SUCCESS
[   37.618098] sensor_write: reg=0x0e val=0x40, client=8428e600, adapter=i2c0, addr=0x37
[   37.618411] sensor_write: reg=0x0e val=0x40 SUCCESS
[   37.618419] sensor_write: reg=0x12 val=0xe2, client=8428e600, adapter=i2c0, addr=0x37
[   37.618733] sensor_write: reg=0x12 val=0xe2 SUCCESS
[   37.618741] sensor_write: reg=0x13 val=0x16, client=8428e600, adapter=i2c0, addr=0x37
[   37.619054] sensor_write: reg=0x13 val=0x16 SUCCESS
[   37.619062] sensor_write: reg=0x19 val=0x0a, client=8428e600, adapter=i2c0, addr=0x37
[   37.619364] sensor_write: reg=0x19 val=0x0a SUCCESS
[   37.619374] sensor_write: reg=0x21 val=0x1c, client=8428e600, adapter=i2c0, addr=0x37
[   37.619687] sensor_write: reg=0x21 val=0x1c SUCCESS
[   37.619695] sensor_write: reg=0x28 val=0x0a, client=8428e600, adapter=i2c0, addr=0x37
[   37.620009] sensor_write: reg=0x28 val=0x0a SUCCESS
[   37.620019] sensor_write: reg=0x29 val=0x24, client=8428e600, adapter=i2c0, addr=0x37
[   37.620331] sensor_write: reg=0x29 val=0x24 SUCCESS
[   37.620340] sensor_write: reg=0x2b val=0x04, client=8428e600, adapter=i2c0, addr=0x37
[   37.620653] sensor_write: reg=0x2b val=0x04 SUCCESS
[   37.620661] sensor_write: reg=0x32 val=0xf8, client=8428e600, adapter=i2c0, addr=0x37
[   37.620975] sensor_write: reg=0x32 val=0xf8 SUCCESS
[   37.620983] sensor_write: reg=0x37 val=0x03, client=8428e600, adapter=i2c0, addr=0x37
[   37.625616] sensor_write: reg=0x37 val=0x03 SUCCESS
[   37.625631] sensor_write: reg=0x39 val=0x15, client=8428e600, adapter=i2c0, addr=0x37
[   37.625948] sensor_write: reg=0x39 val=0x15 SUCCESS
[   37.625957] sensor_write: reg=0x43 val=0x07, client=8428e600, adapter=i2c0, addr=0x37
[   37.626274] sensor_write: reg=0x43 val=0x07 SUCCESS
[   37.626283] sensor_write: reg=0x44 val=0x40, client=8428e600, adapter=i2c0, addr=0x37
[   37.626597] sensor_write: reg=0x44 val=0x40 SUCCESS
[   37.626606] sensor_write: reg=0x46 val=0x0b, client=8428e600, adapter=i2c0, addr=0x37
[   37.626919] sensor_write: reg=0x46 val=0x0b SUCCESS
[   37.626927] sensor_write: reg=0x4b val=0x20, client=8428e600, adapter=i2c0, addr=0x37
[   37.627241] sensor_write: reg=0x4b val=0x20 SUCCESS
[   37.627249] sensor_write: reg=0x4e val=0x08, client=8428e600, adapter=i2c0, addr=0x37
[   37.627562] sensor_write: reg=0x4e val=0x08 SUCCESS
[   37.627571] sensor_write: reg=0x55 val=0x20, client=8428e600, adapter=i2c0, addr=0x37
[   37.627883] sensor_write: reg=0x55 val=0x20 SUCCESS
[   37.627892] sensor_write: reg=0x66 val=0x05, client=8428e600, adapter=i2c0, addr=0x37
[   37.628205] sensor_write: reg=0x66 val=0x05 SUCCESS
[   37.628213] sensor_write: reg=0x67 val=0x05, client=8428e600, adapter=i2c0, addr=0x37
[   37.628526] sensor_write: reg=0x67 val=0x05 SUCCESS
[   37.628534] sensor_write: reg=0x77 val=0x01, client=8428e600, adapter=i2c0, addr=0x37
[   37.628847] sensor_write: reg=0x77 val=0x01 SUCCESS
[   37.628855] sensor_write: reg=0x78 val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   37.629198] sensor_write: reg=0x78 val=0x00 SUCCESS
[   37.629207] sensor_write: reg=0x7c val=0x93, client=8428e600, adapter=i2c0, addr=0x37
[   37.629520] sensor_write: reg=0x7c val=0x93 SUCCESS
[   37.629527] sensor_write_array: reg[50] 0x7c=0x93 OK
[   37.629536] sensor_write: reg=0x8c val=0x12, client=8428e600, adapter=i2c0, addr=0x37
[   37.635730] sensor_write: reg=0x8c val=0x12 SUCCESS
[   37.635745] sensor_write: reg=0x8d val=0x92, client=8428e600, adapter=i2c0, addr=0x37
[   37.636063] sensor_write: reg=0x8d val=0x92 SUCCESS
[   37.636073] sensor_write: reg=0x90 val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   37.636389] sensor_write: reg=0x90 val=0x00 SUCCESS
[   37.636398] sensor_write: reg=0x41 val=0x04, client=8428e600, adapter=i2c0, addr=0x37
[   37.636712] sensor_write: reg=0x41 val=0x04 SUCCESS
[   37.636721] sensor_write: reg=0x42 val=0x9d, client=8428e600, adapter=i2c0, addr=0x37
[   37.637034] sensor_write: reg=0x42 val=0x9d SUCCESS
[   37.637043] sensor_write: reg=0x9d val=0x10, client=8428e600, adapter=i2c0, addr=0x37
[   37.637356] sensor_write: reg=0x9d val=0x10 SUCCESS
[   37.637364] sensor_write: reg=0xce val=0x7c, client=8428e600, adapter=i2c0, addr=0x37
[   37.637677] sensor_write: reg=0xce val=0x7c SUCCESS
[   37.637685] sensor_write: reg=0xd2 val=0x41, client=8428e600, adapter=i2c0, addr=0x37
[   37.637999] sensor_write: reg=0xd2 val=0x41 SUCCESS
[   37.638007] sensor_write: reg=0xd3 val=0xdc, client=8428e600, adapter=i2c0, addr=0x37
[   37.638320] sensor_write: reg=0xd3 val=0xdc SUCCESS
[   37.638328] sensor_write: reg=0xe6 val=0x50, client=8428e600, adapter=i2c0, addr=0x37
[   37.638641] sensor_write: reg=0xe6 val=0x50 SUCCESS
[   37.638649] sensor_write: reg=0xb6 val=0xc0, client=8428e600, adapter=i2c0, addr=0x37
[   37.638963] sensor_write: reg=0xb6 val=0xc0 SUCCESS
[   37.638971] sensor_write: reg=0xb0 val=0x70, client=8428e600, adapter=i2c0, addr=0x37
[   37.639305] sensor_write: reg=0xb0 val=0x70 SUCCESS
[   37.639318] sensor_write: reg=0xb1 val=0x01, client=8428e600, adapter=i2c0, addr=0x37
[   37.639631] sensor_write: reg=0xb1 val=0x01 SUCCESS
[   37.639640] sensor_write: reg=0xb2 val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   37.639955] sensor_write: reg=0xb2 val=0x00 SUCCESS
[   37.639964] sensor_write: reg=0xb3 val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   37.640278] sensor_write: reg=0xb3 val=0x00 SUCCESS
[   37.640287] sensor_write: reg=0xb4 val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   37.640633] sensor_write: reg=0xb4 val=0x00 SUCCESS
[   37.640646] sensor_write: reg=0xb8 val=0x01, client=8428e600, adapter=i2c0, addr=0x37
[   37.640962] sensor_write: reg=0xb8 val=0x01 SUCCESS
[   37.640971] sensor_write: reg=0xb9 val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   37.641281] sensor_write: reg=0xb9 val=0x00 SUCCESS
[   37.641290] sensor_write: reg=0x26 val=0x30, client=8428e600, adapter=i2c0, addr=0x37
[   37.642673] sensor_write: reg=0x26 val=0x30 SUCCESS
[   37.642688] sensor_write: reg=0xfe val=0x01, client=8428e600, adapter=i2c0, addr=0x37
[   37.643011] sensor_write: reg=0xfe val=0x01 SUCCESS
[   37.643020] sensor_write: reg=0x40 val=0x23, client=8428e600, adapter=i2c0, addr=0x37
[   37.643335] sensor_write: reg=0x40 val=0x23 SUCCESS
[   37.643343] sensor_write: reg=0x55 val=0x07, client=8428e600, adapter=i2c0, addr=0x37
[   37.643657] sensor_write: reg=0x55 val=0x07 SUCCESS
[   37.643665] sensor_write: reg=0x60 val=0x40, client=8428e600, adapter=i2c0, addr=0x37
[   37.645847] sensor_write: reg=0x60 val=0x40 SUCCESS
[   37.645864] sensor_write: reg=0xfe val=0x04, client=8428e600, adapter=i2c0, addr=0x37
[   37.646181] sensor_write: reg=0xfe val=0x04 SUCCESS
[   37.646190] sensor_write: reg=0x14 val=0x78, client=8428e600, adapter=i2c0, addr=0x37
[   37.646507] sensor_write: reg=0x14 val=0x78 SUCCESS
[   37.646517] sensor_write: reg=0x15 val=0x78, client=8428e600, adapter=i2c0, addr=0x37
[   37.649171] sensor_write: reg=0x15 val=0x78 SUCCESS
[   37.649187] sensor_write: reg=0x16 val=0x78, client=8428e600, adapter=i2c0, addr=0x37
[   37.649504] sensor_write: reg=0x16 val=0x78 SUCCESS
[   37.649513] sensor_write: reg=0x17 val=0x78, client=8428e600, adapter=i2c0, addr=0x37
root@ing-wyze-cam3-a000 ~# dmesg 
[   37.762901] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   37.762941] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   37.763014] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   37.763052] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   37.763125] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   37.763165] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   37.763239] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   37.763277] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   37.763556] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   37.763628] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   37.763667] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   37.763741] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   37.763777] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   37.763849] *** This should eliminate green frames by enabling proper color processing ***
[   37.763887] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   37.763966] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   37.764004] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   37.764077] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   37.764115] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   37.764189] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   37.764226] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   37.764300] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   37.764337] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   37.764409] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   37.764446] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   37.764518] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   37.764554] *** tisp_init: Standard tuning parameters loaded successfully ***
[   37.764636] *** tisp_init: Custom tuning parameters loaded successfully ***
[   37.764673] tisp_set_csc_version: Setting CSC version 0
[   37.764748] *** SYSTEM_REG_WRITE: reg[0xc] = 0x80700008 (Binary Ninja EXACT) ***
[   37.764786] *** CRITICAL FIX: ISP bypass register set to EXACT reference value 0x80700008 - prevents hardware reset ***
[   37.764859] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   37.764897] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   37.764969] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   37.765005] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   37.765087] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   37.765125] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   37.765198] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   37.765233] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   37.765317] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   37.765354] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   37.765453] *** tisp_init: ISP processing pipeline fully enabled ***
[   37.765496] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   37.765533] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   37.765606] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   37.765644] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   37.765717] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   37.765753] tisp_init: ISP memory buffers configured
[   37.765835] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   37.765873] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   37.765971] tiziano_ae_params_refresh: Refreshing AE parameters
[   37.765984] tiziano_ae_params_refresh: AE parameters refreshed
[   37.765989] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   37.765995] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   37.766001] tiziano_ae_para_addr: Setting up AE parameter addresses
[   37.766006] tiziano_ae_para_addr: AE parameter addresses configured
[   37.766013] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   37.766019] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   37.766027] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   37.766033] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   37.766040] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   37.766047] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   37.766054] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   37.766061] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7fd814 (Binary Ninja EXACT) ***
[   37.766067] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   37.766075] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   37.766081] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   37.766088] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   37.766093] tiziano_ae_set_hardware_param: Parameters written to AE0
[   37.766100] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   37.766106] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   37.766113] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   37.766119] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   37.766126] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   37.766133] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   37.766139] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   37.766145] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   37.766152] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   37.766159] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   37.766165] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   37.766172] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   37.766178] tiziano_ae_set_hardware_param: Parameters written to AE1
[   37.766183] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   37.766191] *** system_irq_func_set: Registered handler c0686a08 at index 10 ***
[   37.774315] *** system_irq_func_set: Registered handler c0686afc at index 27 ***
[   37.782886] *** system_irq_func_set: Registered handler c0686a08 at index 26 ***
[   37.790927] *** system_irq_func_set: Registered handler c0686be4 at index 29 ***
[   37.798591] *** system_irq_func_set: Registered handler c0686b70 at index 28 ***
[   37.806643] *** system_irq_func_set: Registered handler c0686c58 at index 30 ***
[   37.814620] *** system_irq_func_set: Registered handler c0686cac at index 20 ***
[   37.822628] *** system_irq_func_set: Registered handler c0686d00 at index 18 ***
[   37.830904] *** system_irq_func_set: Registered handler c0686d54 at index 31 ***
[   37.838659] *** system_irq_func_set: Registered handler c0686da8 at index 11 ***
[   37.847404] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   37.847673] tiziano_deflicker_expt: Generated 119 LUT entries
[   37.847681] tisp_event_set_cb: Setting callback for event 1
[   37.847689] tisp_event_set_cb: Event 1 callback set to c0686608
[   37.848069] tisp_event_set_cb: Setting callback for event 6
[   37.848081] tisp_event_set_cb: Event 6 callback set to c0685b68
[   37.848212] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   37.848219] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   37.848227] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   37.848235] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   37.848785] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   37.848797] tiziano_awb_init: AWB hardware blocks enabled
[   37.848921] tiziano_gamma_init: Initializing Gamma processing
[   37.848929] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   37.850229] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   37.850243] tiziano_gib_init: Initializing GIB processing
[   37.850249] tiziano_lsc_init: Initializing LSC processing
[   37.850771] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   37.850883] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   37.850891] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   37.850899] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   37.850904] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   37.852073] tiziano_ccm_init: Initializing Color Correction Matrix
[   37.852083] tiziano_ccm_init: Using linear CCM parameters
[   37.852462] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   37.852475] jz_isp_ccm: EV=64, CT=9984
[   37.852607] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   37.852719] cm_control: saturation=128
[   37.852725] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   37.852731] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   37.852737] tiziano_ccm_init: CCM initialized successfully
[   37.853100] tiziano_dmsc_init: Initializing DMSC processing
[   37.853112] tiziano_sharpen_init: Initializing Sharpening
[   37.853239] tiziano_sharpen_init: Using linear sharpening parameters
[   37.853247] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   37.853254] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   37.853260] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   37.853912] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   37.853927] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   37.854311] tiziano_sharpen_init: Sharpening initialized successfully
[   37.854323] tiziano_sdns_init: Initializing SDNS processing
[   37.854333] tiziano_sdns_init: Using linear SDNS parameters
[   37.854338] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   37.854345] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   37.854351] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   37.854385] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   37.854393] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   37.854398] tiziano_sdns_init: SDNS processing initialized successfully
[   37.854405] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   37.854410] tiziano_mdns_init: Using linear MDNS parameters
[   37.854420] tiziano_mdns_init: MDNS processing initialized successfully
[   37.854426] tiziano_clm_init: Initializing CLM processing
[   37.854431] tiziano_dpc_init: Initializing DPC processing
[   37.854437] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   37.854443] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   37.854449] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   37.854455] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   37.854470] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   37.854477] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   37.854482] tiziano_hldc_init: Initializing HLDC processing
[   37.854489] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   37.854495] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   37.854502] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   37.854509] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   37.854516] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   37.854523] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   37.854529] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   37.854537] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   37.854543] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   37.854550] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   37.854557] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   37.854564] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   37.854571] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   37.854577] tiziano_adr_params_refresh: Refreshing ADR parameters
[   37.854583] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   37.854588] tiziano_adr_params_init: Initializing ADR parameter arrays
[   37.854595] tisp_adr_set_params: Writing ADR parameters to registers
[   37.854627] tisp_adr_set_params: ADR parameters written to hardware
[   37.854633] tisp_event_set_cb: Setting callback for event 18
[   37.854641] tisp_event_set_cb: Event 18 callback set to c0686d00
[   37.854647] tisp_event_set_cb: Setting callback for event 2
[   37.854653] tisp_event_set_cb: Event 2 callback set to c0685804
[   37.854658] tiziano_adr_init: ADR processing initialized successfully
[   37.854665] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   37.854670] tiziano_bcsh_init: Initializing BCSH processing
[   37.854675] tiziano_ydns_init: Initializing YDNS processing
[   37.854680] tiziano_rdns_init: Initializing RDNS processing
[   37.854685] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   37.854699] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x1190000 (Binary Ninja EXACT) ***
[   37.854707] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x1191000 (Binary Ninja EXACT) ***
[   37.854713] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x1192000 (Binary Ninja EXACT) ***
[   37.854721] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x1193000 (Binary Ninja EXACT) ***
[   37.854727] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x1194000 (Binary Ninja EXACT) ***
[   37.854734] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x1194800 (Binary Ninja EXACT) ***
[   37.854741] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x1195000 (Binary Ninja EXACT) ***
[   37.854748] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x1195800 (Binary Ninja EXACT) ***
[   37.854755] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   37.854761] *** tisp_init: AE0 buffer allocated at 0x01190000 ***
[   37.854767] *** CRITICAL FIX: data_b2f3c initialized to 0x81190000 (prevents stack corruption) ***
[   37.854776] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x11a0000 (Binary Ninja EXACT) ***
[   37.854783] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x11a1000 (Binary Ninja EXACT) ***
[   37.854790] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x11a2000 (Binary Ninja EXACT) ***
[   37.854797] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x11a3000 (Binary Ninja EXACT) ***
[   37.854804] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x11a4000 (Binary Ninja EXACT) ***
[   37.854811] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x11a4800 (Binary Ninja EXACT) ***
[   37.854817] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x11a5000 (Binary Ninja EXACT) ***
[   37.854825] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x11a5800 (Binary Ninja EXACT) ***
[   37.854831] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   37.854837] *** tisp_init: AE1 buffer allocated at 0x011a0000 ***
[   37.854843] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   37.854849] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   37.854855] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   37.854861] *** tisp_init: Second ISP control mode set to 8 (streaming not active) ***
[   37.854868] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   37.854873] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   37.854881] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   37.854889] tiziano_ae_params_refresh: Refreshing AE parameters
[   37.854901] tiziano_ae_params_refresh: AE parameters refreshed
[   37.854908] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   37.854914] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   37.854919] tiziano_ae_para_addr: Setting up AE parameter addresses
[   37.854925] tiziano_ae_para_addr: AE parameter addresses configured
[   37.854931] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   37.854939] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   37.854945] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   37.854952] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   37.854959] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   37.854966] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   37.854973] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   37.854980] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7fd814 (Binary Ninja EXACT) ***
[   37.854987] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   37.854993] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   37.855000] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   37.855007] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   37.855013] tiziano_ae_set_hardware_param: Parameters written to AE0
[   37.855019] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   37.855025] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   37.855032] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   37.855039] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   37.855045] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   37.855052] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   37.855059] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   37.855065] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   37.855071] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   37.855078] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   37.855085] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   37.855091] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   37.855097] tiziano_ae_set_hardware_param: Parameters written to AE1
[   37.855103] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   37.855110] *** system_irq_func_set: Registered handler c0686a08 at index 10 ***
[   37.863205] *** system_irq_func_set: Registered handler c0686afc at index 27 ***
[   37.871746] *** system_irq_func_set: Registered handler c0686a08 at index 26 ***
[   37.880120] *** system_irq_func_set: Registered handler c0686be4 at index 29 ***
[   37.887802] *** system_irq_func_set: Registered handler c0686b70 at index 28 ***
[   37.896541] *** system_irq_func_set: Registered handler c0686c58 at index 30 ***
[   37.906795] *** system_irq_func_set: Registered handler c0686cac at index 20 ***
[   37.915103] *** system_irq_func_set: Registered handler c0686d00 at index 18 ***
[   37.923827] *** system_irq_func_set: Registered handler c0686d54 at index 31 ***
[   37.932144] *** system_irq_func_set: Registered handler c0686da8 at index 11 ***
[   37.940512] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   37.940943] tiziano_deflicker_expt: Generated 119 LUT entries
[   37.941053] tisp_event_set_cb: Setting callback for event 1
[   37.941061] tisp_event_set_cb: Event 1 callback set to c0686608
[   37.941178] tisp_event_set_cb: Setting callback for event 6
[   37.941185] tisp_event_set_cb: Event 6 callback set to c0685b68
[   37.941191] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   37.941197] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   37.941205] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   37.941584] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   37.941721] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   37.941727] tiziano_awb_init: AWB hardware blocks enabled
[   37.941733] tiziano_gamma_init: Initializing Gamma processing
[   37.941863] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   37.943069] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   37.943084] tiziano_gib_init: Initializing GIB processing
[   37.943486] tiziano_lsc_init: Initializing LSC processing
[   37.943499] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   37.943637] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   37.943645] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   37.943653] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   37.943658] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   37.944695] tiziano_ccm_init: Initializing Color Correction Matrix
[   37.944821] tiziano_ccm_init: Using linear CCM parameters
[   37.944829] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   37.944836] jz_isp_ccm: EV=64, CT=9984
[   37.944974] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   37.945329] cm_control: saturation=128
[   37.945461] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   37.945469] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   37.945474] tiziano_ccm_init: CCM initialized successfully
[   37.945479] tiziano_dmsc_init: Initializing DMSC processing
[   37.945485] tiziano_sharpen_init: Initializing Sharpening
[   37.945871] tiziano_sharpen_init: Using linear sharpening parameters
[   37.945883] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   37.946012] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   37.946113] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   37.946537] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   37.946685] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   37.946692] tiziano_sharpen_init: Sharpening initialized successfully
[   37.946698] tiziano_sdns_init: Initializing SDNS processing
[   37.946707] tiziano_sdns_init: Using linear SDNS parameters
[   37.947095] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   37.947207] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   37.947213] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   37.947385] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   37.947983] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   37.947995] tiziano_sdns_init: SDNS processing initialized successfully
[   37.948002] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   37.948007] tiziano_mdns_init: Using linear MDNS parameters
[   37.948018] tiziano_mdns_init: MDNS processing initialized successfully
[   37.948024] tiziano_clm_init: Initializing CLM processing
[   37.948029] tiziano_dpc_init: Initializing DPC processing
[   37.948035] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   37.948041] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   37.948047] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   37.948053] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   37.948068] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   37.948075] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   37.948081] tiziano_hldc_init: Initializing HLDC processing
[   37.948087] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   37.948093] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   37.948100] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   37.948107] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   37.948114] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   37.948121] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   37.948127] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   37.948134] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   37.948141] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   37.948148] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   37.948155] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   37.948162] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   37.948169] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   37.948175] tiziano_adr_params_refresh: Refreshing ADR parameters
[   37.948181] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   37.948186] tiziano_adr_params_init: Initializing ADR parameter arrays
[   37.948193] tisp_adr_set_params: Writing ADR parameters to registers
[   37.948225] tisp_adr_set_params: ADR parameters written to hardware
[   37.948231] tisp_event_set_cb: Setting callback for event 18
[   37.948239] tisp_event_set_cb: Event 18 callback set to c0686d00
[   37.948245] tisp_event_set_cb: Setting callback for event 2
[   37.948251] tisp_event_set_cb: Event 2 callback set to c0685804
[   37.948256] tiziano_adr_init: ADR processing initialized successfully
[   37.948263] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   37.948268] tiziano_bcsh_init: Initializing BCSH processing
[   37.948273] tiziano_ydns_init: Initializing YDNS processing
[   37.948278] tiziano_rdns_init: Initializing RDNS processing
[   37.948283] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   37.948289] tisp_event_init: Initializing ISP event system
[   37.948297] tisp_event_init: SAFE event system initialized with 20 nodes
[   37.948302] tisp_event_set_cb: Setting callback for event 4
[   37.948309] tisp_event_set_cb: Event 4 callback set to c0685830
[   37.948314] tisp_event_set_cb: Setting callback for event 5
[   37.948320] tisp_event_set_cb: Event 5 callback set to c0685cf8
[   37.948326] tisp_event_set_cb: Setting callback for event 7
[   37.948332] tisp_event_set_cb: Event 7 callback set to c06858c4
[   37.948338] tisp_event_set_cb: Setting callback for event 9
[   37.948344] tisp_event_set_cb: Event 9 callback set to c068594c
[   37.948350] tisp_event_set_cb: Setting callback for event 8
[   37.948356] tisp_event_set_cb: Event 8 callback set to c0685a10
[   37.948362] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   37.948367] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   37.948373] tisp_param_operate_init: Initializing parameter operations
[   37.948381] tisp_netlink_init: Initializing netlink communication
[   37.948386] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   37.948417] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   37.948429] tisp_netlink_init: Netlink socket created successfully
[   37.948435] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   37.948440] tisp_code_create_tuning_node: Device already created, skipping
[   37.948447] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   37.948453] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   37.948459] *** ispcore_core_ops_init: Second tisp_init completed ***
[   37.948464] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[   37.948473] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[   37.948481] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   37.948487] *** ISP CORE: Hardware interrupt generation ENABLED ***
[   37.948492] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   37.948498] *** ispcore_core_ops_init: ISP Core hardware interrupts ENABLED - Frame sync should now work! ***
[   37.948503] ispcore_core_ops_init: Complete, result=0<6>[   37.948510] Calling subdev 1 initialization (REVERSE ORDER - sensors first)
[   37.948517] *** vic_core_ops_init: ENTRY - sd=80564400, enable=1 ***
[   37.948524] *** vic_core_ops_init: vic_dev=80564400, current state check ***
[   37.948530] *** vic_core_ops_init: current_state=3, enable=1 ***
[   37.948536] Calling subdev 0 initialization (REVERSE ORDER - sensors first)
[   37.948544] csi_core_ops_init: sd=80564000, csi_dev=80564000, enable=1
[   37.948550] *** VIC device final state set to 2 (fully activated) ***
[   37.948555] *** ispcore_activate_module: SUCCESS - ALL REGISTER WRITES SHOULD NOW BE TRIGGERED ***
[   37.948561] *** tx_isp_video_s_stream: ispcore_activate_module completed ***
[   37.948567] *** tx_isp_video_s_stream: VIC state is 2, calling VIC core->init ***
[   37.948574] *** vic_core_ops_init: ENTRY - sd=80564400, enable=1 ***
[   37.948580] *** vic_core_ops_init: vic_dev=80564400, current state check ***
[   37.948586] *** vic_core_ops_init: current_state=2, enable=1 ***
[   37.948591] *** vic_core_ops_init: Calling VIC hardware init for interrupt setup ***
[   37.948597] *** VIC HW INIT: Using PRIMARY VIC space for interrupt configuration ***
[   37.948603] *** VIC HW INIT: Configuring ACTUAL VIC interrupt registers (0x1e0-0x1f4 range) ***
[   37.948609] *** VIC HW INIT: Basic interrupt clearing complete - full interrupt config happens later ***
[   37.948615] *** VIC HW INIT: Interrupt handler registration SKIPPED - main module handles IRQ 38 routing ***
[   37.948623] *** VIC HW INIT VERIFY: 0x00=0x00000000 (should be 0), 0x20=0x00000000 (should be 0) ***
[   37.948629] *** VIC HW INIT: SUCCESS - Basic VIC hardware initialization complete ***
[   37.948635] *** VIC HW INIT: Hardware interrupt configuration complete - ready for main module IRQ routing ***
[   37.948641] *** vic_core_ops_init: VIC hardware init SUCCESS - interrupts should now work ***
[   37.948647] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   37.948652] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   37.948657] tx_vic_enable_irq: Calling VIC interrupt callback
[   37.948664] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   37.948671] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   37.948677] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   37.948686] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   37.948693] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   37.948700] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   37.948707] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   37.948713] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   37.948719] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   37.948724] *** tx_vic_enable_irq: completed successfully ***
[   37.948730] *** tx_isp_video_s_stream: VIC core->init completed, VIC should now be state 3 ***
[   37.948736] *** tx_isp_video_s_stream: Core initialization complete, proceeding with subdev streaming ***
[   37.948742] *** tx_isp_video_s_stream: CRITICAL FIX - Initializing all subdevs before streaming ***
[   37.948751] *** tx_isp_video_s_stream: Initializing Core subdev ***
[   37.948758] *** ispcore_core_ops_init: ENTRY - sd=80564800, on=1 ***
[   37.948765] *** ispcore_core_ops_init: sd->dev_priv=80564800, sd->host_priv=80564800 ***
[   37.948772] *** ispcore_core_ops_init: sd->pdev=c06b68c0, sd->ops=c06b6fc8 ***
[   37.948777] *** ispcore_core_ops_init: EXACT Binary Ninja MCP implementation, on=1 ***
[   37.948783] *** ispcore_core_ops_init: ISP device=80480000 ****** ispcore_core_ops_init: Frame sync work structure initialized ***
[   37.948791] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   37.948799] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   37.948806] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   37.948812] ispcore_core_ops_init: Using sensor attributes from sensor: gc2053
[   37.948817] *** ispcore_core_ops_init: s0 (core_dev) = 80564800 from sd->host_priv ***
[   37.948825] ispcore_core_ops_init: core_dev=80564800, vic_dev=80564400, vic_state=3
[   37.948829] *** ispcore_core_ops_init: INITIALIZING CORE (on=1) ****** ispcore_core_ops_init: Current vic_state (VIC state): 3 ***
[   37.948839] *** ispcore_core_ops_init: VIC in ready state (3) - normal initialization ****** ispcore_core_ops_init: VIC state check passed, proceeding with initialization ***
[   37.948846] *** VIC STATE 4: Initializing clocks for streaming ***
[   37.948853] *** Initializing CSI clocks (1 clocks) ***
[   37.948859] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 1 clocks
[   37.948865] isp_subdev_init_clks: Using platform data clock arrays: c06b6ce0
[   37.948880] isp_subdev_init_clks: Using platform data clock configs
[   37.948887] Platform data clock[0]: name=csi, rate=65535
[   37.948897] Clock csi enabled successfully
[   37.969170] CPM clock gates configured
[   37.969185] isp_subdev_init_clks: Successfully initialized 1 clocks
[   37.969192] *** Initializing VIC clocks (2 clocks) ***
[   37.969198] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 2 clocks
[   37.969206] isp_subdev_init_clks: Using platform data clock arrays: c06b6df0
[   37.969213] isp_subdev_init_clks: Using platform data clock configs
[   37.969222] Platform data clock[0]: name=cgu_isp, rate=100000000
[   37.969233] Clock cgu_isp: set rate 100000000 Hz, result=0
[   37.969239] Clock cgu_isp enabled successfully
[   37.969245] Platform data clock[1]: name=isp, rate=65535
[   37.969252] Clock isp enabled successfully
[   37.999155] CPM clock gates configured
[   37.999170] isp_subdev_init_clks: Successfully initialized 2 clocks
[   37.999177] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   37.999187] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   37.999193] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   37.999200] *** ispcore_core_ops_init: BINARY NINJA MCP - Second tisp_init call (00079058) ***
[   37.999205] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   37.999211] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   37.999218] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 2200x1418 ***
[   37.999225] tisp_init: Initializing ISP hardware for sensor (2200x1418)
[   37.999230] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   37.999235] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   37.999241] tisp_event_init: Initializing ISP event system
[   37.999248] tisp_event_init: SAFE event system initialized with 20 nodes
[   37.999254] tisp_event_set_cb: Setting callback for event 4
[   37.999261] tisp_event_set_cb: Event 4 callback set to c0685830
[   37.999267] tisp_event_set_cb: Setting callback for event 5
[   37.999273] tisp_event_set_cb: Event 5 callback set to c0685cf8
[   37.999278] tisp_event_set_cb: Setting callback for event 7
[   37.999285] tisp_event_set_cb: Event 7 callback set to c06858c4
[   37.999290] tisp_event_set_cb: Setting callback for event 9
[   37.999297] tisp_event_set_cb: Event 9 callback set to c068594c
[   37.999302] tisp_event_set_cb: Setting callback for event 8
[   37.999308] tisp_event_set_cb: Event 8 callback set to c0685a10
[   37.999315] *** system_irq_func_set: Registered handler c067e044 at index 13 ***
[   38.017121] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   38.017137] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   38.017144] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   38.017151] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   38.017157] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   38.017165] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   38.017171] *** SYSTEM_REG_WRITE: reg[0xb018] = 0x40404040 (Binary Ninja EXACT) ***
[   38.017178] *** SYSTEM_REG_WRITE: reg[0xb01c] = 0x40404040 (Binary Ninja EXACT) ***
[   38.017185] *** SYSTEM_REG_WRITE: reg[0xb020] = 0x40404040 (Binary Ninja EXACT) ***
[   38.017192] *** SYSTEM_REG_WRITE: reg[0xb024] = 0x404040 (Binary Ninja EXACT) ***
[   38.017199] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   38.017205] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   38.017213] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   38.017219] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   38.017226] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   38.017233] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   38.017239] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   38.017245] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   38.017251] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   38.017258] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   38.017265] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   38.017271] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   38.017277] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   38.017283] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   38.017289] *** SYSTEM_REG_WRITE: reg[0x9804] = 0x3f00 (Binary Ninja EXACT) ***
[   38.017296] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***d
[   38.017303] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   38.017309] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   38.017316] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   38.017323] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   38.017329] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   38.017337] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   38.017342] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   38.017349] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   38.017355] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   38.017363] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   38.017369] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   38.017375] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   38.017382] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   38.017389] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   38.017395] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   38.017402] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   38.017409] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   38.017414] *** TUNING SYSTEM: VIC control registers 0x9ac0/0x9ac8 REMOVED - not in Binary Ninja reference ***
[   38.017422] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 2200x1418)
[   38.017429] *** SYSTEM_REG_WRITE: reg[0x4] = 0x898058a (Binary Ninja EXACT) ***
[   38.017435] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   38.017442] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   38.017447] *** tisp_init: ISP control register set to enable processing pipeline ***
[   38.017454] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   38.017460] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   38.017467] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   38.017472] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   38.017479] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   38.017485] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   38.017496] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=80480000 ***
[   38.024942] *** isp_irq_handle: IRQ 37 received, dev_id=80480000 ***
[   38.024947] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   38.032668] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=80480000 ***
[   38.040113] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   38.047835] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
[   38.055371] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   38.061563] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   38.069646] *** ISP CORE: ABOUT TO CALL callback[10] for bit 10 - callback=c0686a08 ***
[   38.077904] *** ISP CORE: CALLING CALLBACK NOW - IF SYSTEM HANGS, THIS CALLBACK IS THE PROBLEM ***
[   38.087148] ae0_interrupt_static: Processing AE0 static interrupt
[   38.087155] *** AE0: Processing interrupt using register-based statistics (Binary Ninja MCP) ***
[   38.087161] ae0_interrupt_static: AE0 static interrupt processed
[   38.087167] *** ISP CORE: CALLBACK RETURNED SUCCESSFULLY - callback[10] returned 1 ***
[   38.095339] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
[   38.136522] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   38.136537] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   38.136545] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   38.136550] *** tisp_init: ISP control mode set to 8 (streaming not active) ***
[   38.136557] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   38.136565] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=8, 0x800=1 ***
[   38.136571] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   38.136578] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   38.136585] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   38.136591] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   38.136597] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   38.136604] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   38.136610] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   38.136617] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   38.136623] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   38.136630] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   38.136637] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   38.136643] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   38.136651] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   38.136659] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   38.136666] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   38.136672] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   38.136679] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   38.136685] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   38.136691] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   38.136697] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   38.136702] *** This should eliminate green frames by enabling proper color processing ***
[   38.136709] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   38.136715] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   38.136722] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   38.136728] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   38.136735] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   38.136741] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   38.136748] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   38.136755] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   38.136761] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   38.136767] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   38.136772] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   38.136777] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   38.136783] *** tisp_init: Standard tuning parameters loaded successfully ***
[   38.136788] *** tisp_init: Custom tuning parameters loaded successfully ***
[   38.136795] tisp_set_csc_version: Setting CSC version 0
[   38.136801] *** SYSTEM_REG_WRITE: reg[0xc] = 0x80700008 (Binary Ninja EXACT) ***
[   38.136808] *** CRITICAL FIX: ISP bypass register set to EXACT reference value 0x80700008 - prevents hardware reset ***
[   38.136813] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   38.136820] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   38.136827] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   38.136832] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   38.136837] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   38.136844] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   38.136851] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   38.136856] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   38.136863] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   38.136869] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   38.136874] *** tisp_init: ISP processing pipeline fully enabled ***
[   38.136881] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   38.136887] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   38.136893] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   38.136900] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   38.136907] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   38.136911] tisp_init: ISP memory buffers configured
[   38.136917] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   38.136924] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   38.136933] tiziano_ae_params_refresh: Refreshing AE parameters
[   38.136944] tiziano_ae_params_refresh: AE parameters refreshed
[   38.136949] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   38.136955] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   38.136961] tiziano_ae_para_addr: Setting up AE parameter addresses
[   38.136966] tiziano_ae_para_addr: AE parameter addresses configured
[   38.136973] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   38.136979] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   38.136986] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   38.136993] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   38.137000] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   38.137007] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   38.137013] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   38.137021] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7fd814 (Binary Ninja EXACT) ***
[   38.137027] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   38.137034] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   38.137041] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   38.137047] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   38.137053] tiziano_ae_set_hardware_param: Parameters written to AE0
[   38.137059] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   38.137066] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   38.137073] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   38.137079] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   38.137085] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   38.137092] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   38.137099] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   38.137105] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   38.137112] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   38.137119] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   38.137125] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   38.137132] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   38.137137] tiziano_ae_set_hardware_param: Parameters written to AE1
[   38.137143] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   38.137151] *** system_irq_func_set: Registered handler c0686a08 at index 10 ***
[   38.148631] *** system_irq_func_set: Registered handler c0686afc at index 27 ***
[   38.160466] *** system_irq_func_set: Registered handler c0686a08 at index 26 ***
[   38.175417] *** system_irq_func_set: Registered handler c0686be4 at index 29 ***
[   38.189152] *** system_irq_func_set: Registered handler c0686b70 at index 28 ***
[   38.206974] *** system_irq_func_set: Registered handler c0686c58 at index 30 ***
[   38.219528] *** system_irq_func_set: Registered handler c0686cac at index 20 ***
[   38.237438] *** system_irq_func_set: Registered handler c0686d00 at index 18 ***
[   38.254896] *** system_irq_func_set: Registered handler c0686d54 at index 31 ***
[   38.269164] *** system_irq_func_set: Registered handler c0686da8 at index 11 ***
[   38.286060] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   38.286082] tiziano_deflicker_expt: Generated 119 LUT entries
[   38.286088] tisp_event_set_cb: Setting callback for event 1
[   38.286096] tisp_event_set_cb: Event 1 callback set to c0686608
[   38.286102] tisp_event_set_cb: Setting callback for event 6
[   38.286108] tisp_event_set_cb: Event 6 callback set to c0685b68
[   38.286114] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   38.286119] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   38.286126] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   38.286134] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   38.286141] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   38.286146] tiziano_awb_init: AWB hardware blocks enabled
[   38.286151] tiziano_gamma_init: Initializing Gamma processing
[   38.286157] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   38.286216] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   38.286222] tiziano_gib_init: Initializing GIB processing
[   38.286227] tiziano_lsc_init: Initializing LSC processing
[   38.286232] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   38.286239] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   38.286246] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   38.286252] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   38.286258] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   38.286316] tiziano_ccm_init: Initializing Color Correction Matrix
[   38.286321] tiziano_ccm_init: Using linear CCM parameters
[   38.286326] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   38.286333] jz_isp_ccm: EV=64, CT=9984
[   38.286340] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   38.286345] cm_control: saturation=128
[   38.286350] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   38.286357] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   38.286362] tiziano_ccm_init: CCM initialized successfully
[   38.286367] tiziano_dmsc_init: Initializing DMSC processing
[   38.286372] tiziano_sharpen_init: Initializing Sharpening
[   38.286378] tiziano_sharpen_init: Using linear sharpening parameters
[   38.286383] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   38.286390] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   38.286396] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   38.286422] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   38.286428] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   38.286434] tiziano_sharpen_init: Sharpening initialized successfully
[   38.286440] tiziano_sdns_init: Initializing SDNS processing
[   38.286447] tiziano_sdns_init: Using linear SDNS parameters
[   38.286453] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   38.286460] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   38.286466] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   38.286498] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   38.286504] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   38.286510] tiziano_sdns_init: SDNS processing initialized successfully
[   38.286516] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   38.286522] tiziano_mdns_init: Using linear MDNS parameters
[   38.286532] tiziano_mdns_init: MDNS processing initialized successfully
[   38.286537] tiziano_clm_init: Initializing CLM processing
[   38.286542] tiziano_dpc_init: Initializing DPC processing
[   38.286548] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   38.286554] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   38.286560] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   38.286566] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   38.286581] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   38.286588] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   38.286593] tiziano_hldc_init: Initializing HLDC processing
[   38.286599] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   38.286606] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   38.286612] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   38.286619] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   38.286626] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   38.286633] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   38.286640] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   38.286646] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   38.286653] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   38.286660] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   38.286666] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   38.286674] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   38.286680] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   38.286686] tiziano_adr_params_refresh: Refreshing ADR parameters
[   38.286692] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   38.286697] tiziano_adr_params_init: Initializing ADR parameter arrays
[   38.286704] tisp_adr_set_params: Writing ADR parameters to registers
[   38.286736] tisp_adr_set_params: ADR parameters written to hardware
[   38.286742] tisp_event_set_cb: Setting callback for event 18
[   38.286748] tisp_event_set_cb: Event 18 callback set to c0686d00
[   38.286754] tisp_event_set_cb: Setting callback for event 2
[   38.286760] tisp_event_set_cb: Event 2 callback set to c0685804
[   38.286765] tiziano_adr_init: ADR processing initialized successfully
[   38.286772] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   38.286777] tiziano_bcsh_init: Initializing BCSH processing
[   38.286782] tiziano_ydns_init: Initializing YDNS processing
[   38.286787] tiziano_rdns_init: Initializing RDNS processing
[   38.286792] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   38.286805] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x11a8000 (Binary Ninja EXACT) ***
[   38.286812] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x11a9000 (Binary Ninja EXACT) ***
[   38.286820] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x11aa000 (Binary Ninja EXACT) ***
[   38.286826] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x11ab000 (Binary Ninja EXACT) ***
[   38.286833] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x11ac000 (Binary Ninja EXACT) ***
[   38.286840] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x11ac800 (Binary Ninja EXACT) ***
[   38.286847] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x11ad000 (Binary Ninja EXACT) ***
[   38.286854] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x11ad800 (Binary Ninja EXACT) ***
[   38.286860] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   38.286866] *** tisp_init: AE0 buffer allocated at 0x011a8000 ***
[   38.286872] *** CRITICAL FIX: data_b2f3c initialized to 0x811a8000 (prevents stack corruption) ***
[   38.286881] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x11b0000 (Binary Ninja EXACT) ***
[   38.286888] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x11b1000 (Binary Ninja EXACT) ***
[   38.286895] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x11b2000 (Binary Ninja EXACT) ***
[   38.286902] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x11b3000 (Binary Ninja EXACT) ***
[   38.286978] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x11b4000 (Binary Ninja EXACT) ***
[   38.286987] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x11b4800 (Binary Ninja EXACT) ***
[   38.286994] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x11b5000 (Binary Ninja EXACT) ***
[   38.287001] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x11b5800 (Binary Ninja EXACT) ***
[   38.287008] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   38.287014] *** tisp_init: AE1 buffer allocated at 0x011b0000 ***
[   38.287019] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   38.287026] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   38.287032] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   38.287038] *** tisp_init: Second ISP control mode set to 8 (streaming not active) ***
[   38.287044] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   38.287050] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   38.287056] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   38.287065] tiziano_ae_params_refresh: Refreshing AE parameters
[   38.287075] tiziano_ae_params_refresh: AE parameters refreshed
[   38.287081] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   38.287087] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   38.287092] tiziano_ae_para_addr: Setting up AE parameter addresses
[   38.287098] tiziano_ae_para_addr: AE parameter addresses configured
[   38.287104] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   38.287111] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   38.287118] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   38.287125] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   38.287132] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   38.287138] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   38.287146] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   38.287152] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7fd814 (Binary Ninja EXACT) ***
[   38.287159] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   38.287166] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   38.287172] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   38.287179] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   38.287185] tiziano_ae_set_hardware_param: Parameters written to AE0
[   38.287191] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   38.287198] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   38.287204] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   38.287211] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   38.287217] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   38.287224] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   38.287230] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   38.287237] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   38.287244] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   38.287250] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   38.287256] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   38.287263] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   38.287269] tiziano_ae_set_hardware_param: Parameters written to AE1
[   38.287274] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   38.287282] *** system_irq_func_set: Registered handler c0686a08 at index 10 ***
[   38.298519] *** system_irq_func_set: Registered handler c0686afc at index 27 ***
[   38.319172] *** system_irq_func_set: Registered handler c0686a08 at index 26 ***
[   38.336983] *** system_irq_func_set: Registered handler c0686be4 at index 29 ***
[   38.344640] *** system_irq_func_set: Registered handler c0686b70 at index 28 ***
[   38.362428] *** system_irq_func_set: Registered handler c0686c58 at index 30 ***
[   38.379148] *** system_irq_func_set: Registered handler c0686cac at index 20 ***
[   38.396925] *** system_irq_func_set: Registered handler c0686d00 at index 18 ***
[   38.407003] *** system_irq_func_set: Registered handler c0686d54 at index 31 ***
[   38.427226] *** system_irq_func_set: Registered handler c0686da8 at index 11 ***
root@ing-wyze-cam3-a000 ~# dmesg 
[   37.947385] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   37.947983] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   37.947995] tiziano_sdns_init: SDNS processing initialized successfully
[   37.948002] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   37.948007] tiziano_mdns_init: Using linear MDNS parameters
[   37.948018] tiziano_mdns_init: MDNS processing initialized successfully
[   37.948024] tiziano_clm_init: Initializing CLM processing
[   37.948029] tiziano_dpc_init: Initializing DPC processing
[   37.948035] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   37.948041] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   37.948047] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   37.948053] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   37.948068] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   37.948075] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   37.948081] tiziano_hldc_init: Initializing HLDC processing
[   37.948087] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   37.948093] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   37.948100] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   37.948107] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   37.948114] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   37.948121] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   37.948127] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   37.948134] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   37.948141] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   37.948148] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   37.948155] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   37.948162] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   37.948169] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   37.948175] tiziano_adr_params_refresh: Refreshing ADR parameters
[   37.948181] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   37.948186] tiziano_adr_params_init: Initializing ADR parameter arrays
[   37.948193] tisp_adr_set_params: Writing ADR parameters to registers
[   37.948225] tisp_adr_set_params: ADR parameters written to hardware
[   37.948231] tisp_event_set_cb: Setting callback for event 18
[   37.948239] tisp_event_set_cb: Event 18 callback set to c0686d00
[   37.948245] tisp_event_set_cb: Setting callback for event 2
[   37.948251] tisp_event_set_cb: Event 2 callback set to c0685804
[   37.948256] tiziano_adr_init: ADR processing initialized successfully
[   37.948263] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   37.948268] tiziano_bcsh_init: Initializing BCSH processing
[   37.948273] tiziano_ydns_init: Initializing YDNS processing
[   37.948278] tiziano_rdns_init: Initializing RDNS processing
[   37.948283] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   37.948289] tisp_event_init: Initializing ISP event system
[   37.948297] tisp_event_init: SAFE event system initialized with 20 nodes
[   37.948302] tisp_event_set_cb: Setting callback for event 4
[   37.948309] tisp_event_set_cb: Event 4 callback set to c0685830
[   37.948314] tisp_event_set_cb: Setting callback for event 5
[   37.948320] tisp_event_set_cb: Event 5 callback set to c0685cf8
[   37.948326] tisp_event_set_cb: Setting callback for event 7
[   37.948332] tisp_event_set_cb: Event 7 callback set to c06858c4
[   37.948338] tisp_event_set_cb: Setting callback for event 9
[   37.948344] tisp_event_set_cb: Event 9 callback set to c068594c
[   37.948350] tisp_event_set_cb: Setting callback for event 8
[   37.948356] tisp_event_set_cb: Event 8 callback set to c0685a10
[   37.948362] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   37.948367] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   37.948373] tisp_param_operate_init: Initializing parameter operations
[   37.948381] tisp_netlink_init: Initializing netlink communication
[   37.948386] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   37.948417] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   37.948429] tisp_netlink_init: Netlink socket created successfully
[   37.948435] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   37.948440] tisp_code_create_tuning_node: Device already created, skipping
[   37.948447] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   37.948453] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   37.948459] *** ispcore_core_ops_init: Second tisp_init completed ***
[   37.948464] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[   37.948473] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[   37.948481] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   37.948487] *** ISP CORE: Hardware interrupt generation ENABLED ***
[   37.948492] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   37.948498] *** ispcore_core_ops_init: ISP Core hardware interrupts ENABLED - Frame sync should now work! ***
[   37.948503] ispcore_core_ops_init: Complete, result=0<6>[   37.948510] Calling subdev 1 initialization (REVERSE ORDER - sensors first)
[   37.948517] *** vic_core_ops_init: ENTRY - sd=80564400, enable=1 ***
[   37.948524] *** vic_core_ops_init: vic_dev=80564400, current state check ***
[   37.948530] *** vic_core_ops_init: current_state=3, enable=1 ***
[   37.948536] Calling subdev 0 initialization (REVERSE ORDER - sensors first)
[   37.948544] csi_core_ops_init: sd=80564000, csi_dev=80564000, enable=1
[   37.948550] *** VIC device final state set to 2 (fully activated) ***
[   37.948555] *** ispcore_activate_module: SUCCESS - ALL REGISTER WRITES SHOULD NOW BE TRIGGERED ***
[   37.948561] *** tx_isp_video_s_stream: ispcore_activate_module completed ***
[   37.948567] *** tx_isp_video_s_stream: VIC state is 2, calling VIC core->init ***
[   37.948574] *** vic_core_ops_init: ENTRY - sd=80564400, enable=1 ***
[   37.948580] *** vic_core_ops_init: vic_dev=80564400, current state check ***
[   37.948586] *** vic_core_ops_init: current_state=2, enable=1 ***
[   37.948591] *** vic_core_ops_init: Calling VIC hardware init for interrupt setup ***
[   37.948597] *** VIC HW INIT: Using PRIMARY VIC space for interrupt configuration ***
[   37.948603] *** VIC HW INIT: Configuring ACTUAL VIC interrupt registers (0x1e0-0x1f4 range) ***
[   37.948609] *** VIC HW INIT: Basic interrupt clearing complete - full interrupt config happens later ***
[   37.948615] *** VIC HW INIT: Interrupt handler registration SKIPPED - main module handles IRQ 38 routing ***
[   37.948623] *** VIC HW INIT VERIFY: 0x00=0x00000000 (should be 0), 0x20=0x00000000 (should be 0) ***
[   37.948629] *** VIC HW INIT: SUCCESS - Basic VIC hardware initialization complete ***
[   37.948635] *** VIC HW INIT: Hardware interrupt configuration complete - ready for main module IRQ routing ***
[   37.948641] *** vic_core_ops_init: VIC hardware init SUCCESS - interrupts should now work ***
[   37.948647] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   37.948652] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   37.948657] tx_vic_enable_irq: Calling VIC interrupt callback
[   37.948664] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   37.948671] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   37.948677] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   37.948686] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   37.948693] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   37.948700] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   37.948707] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   37.948713] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   37.948719] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   37.948724] *** tx_vic_enable_irq: completed successfully ***
[   37.948730] *** tx_isp_video_s_stream: VIC core->init completed, VIC should now be state 3 ***
[   37.948736] *** tx_isp_video_s_stream: Core initialization complete, proceeding with subdev streaming ***
[   37.948742] *** tx_isp_video_s_stream: CRITICAL FIX - Initializing all subdevs before streaming ***
[   37.948751] *** tx_isp_video_s_stream: Initializing Core subdev ***
[   37.948758] *** ispcore_core_ops_init: ENTRY - sd=80564800, on=1 ***
[   37.948765] *** ispcore_core_ops_init: sd->dev_priv=80564800, sd->host_priv=80564800 ***
[   37.948772] *** ispcore_core_ops_init: sd->pdev=c06b68c0, sd->ops=c06b6fc8 ***
[   37.948777] *** ispcore_core_ops_init: EXACT Binary Ninja MCP implementation, on=1 ***
[   37.948783] *** ispcore_core_ops_init: ISP device=80480000 ****** ispcore_core_ops_init: Frame sync work structure initialized ***
[   37.948791] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   37.948799] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   37.948806] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   37.948812] ispcore_core_ops_init: Using sensor attributes from sensor: gc2053
[   37.948817] *** ispcore_core_ops_init: s0 (core_dev) = 80564800 from sd->host_priv ***
[   37.948825] ispcore_core_ops_init: core_dev=80564800, vic_dev=80564400, vic_state=3
[   37.948829] *** ispcore_core_ops_init: INITIALIZING CORE (on=1) ****** ispcore_core_ops_init: Current vic_state (VIC state): 3 ***
[   37.948839] *** ispcore_core_ops_init: VIC in ready state (3) - normal initialization ****** ispcore_core_ops_init: VIC state check passed, proceeding with initialization ***
[   37.948846] *** VIC STATE 4: Initializing clocks for streaming ***
[   37.948853] *** Initializing CSI clocks (1 clocks) ***
[   37.948859] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 1 clocks
[   37.948865] isp_subdev_init_clks: Using platform data clock arrays: c06b6ce0
[   37.948880] isp_subdev_init_clks: Using platform data clock configs
[   37.948887] Platform data clock[0]: name=csi, rate=65535
[   37.948897] Clock csi enabled successfully
[   37.969170] CPM clock gates configured
[   37.969185] isp_subdev_init_clks: Successfully initialized 1 clocks
[   37.969192] *** Initializing VIC clocks (2 clocks) ***
[   37.969198] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 2 clocks
[   37.969206] isp_subdev_init_clks: Using platform data clock arrays: c06b6df0
[   37.969213] isp_subdev_init_clks: Using platform data clock configs
[   37.969222] Platform data clock[0]: name=cgu_isp, rate=100000000
[   37.969233] Clock cgu_isp: set rate 100000000 Hz, result=0
[   37.969239] Clock cgu_isp enabled successfully
[   37.969245] Platform data clock[1]: name=isp, rate=65535
[   37.969252] Clock isp enabled successfully
[   37.999155] CPM clock gates configured
[   37.999170] isp_subdev_init_clks: Successfully initialized 2 clocks
[   37.999177] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   37.999187] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   37.999193] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   37.999200] *** ispcore_core_ops_init: BINARY NINJA MCP - Second tisp_init call (00079058) ***
[   37.999205] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   37.999211] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   37.999218] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 2200x1418 ***
[   37.999225] tisp_init: Initializing ISP hardware for sensor (2200x1418)
[   37.999230] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   37.999235] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   37.999241] tisp_event_init: Initializing ISP event system
[   37.999248] tisp_event_init: SAFE event system initialized with 20 nodes
[   37.999254] tisp_event_set_cb: Setting callback for event 4
[   37.999261] tisp_event_set_cb: Event 4 callback set to c0685830
[   37.999267] tisp_event_set_cb: Setting callback for event 5
[   37.999273] tisp_event_set_cb: Event 5 callback set to c0685cf8
[   37.999278] tisp_event_set_cb: Setting callback for event 7
[   37.999285] tisp_event_set_cb: Event 7 callback set to c06858c4
[   37.999290] tisp_event_set_cb: Setting callback for event 9
[   37.999297] tisp_event_set_cb: Event 9 callback set to c068594c
[   37.999302] tisp_event_set_cb: Setting callback for event 8
[   37.999308] tisp_event_set_cb: Event 8 callback set to c0685a10
[   37.999315] *** system_irq_func_set: Registered handler c067e044 at index 13 ***
[   38.017121] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   38.017137] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   38.017144] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   38.017151] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   38.017157] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   38.017165] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   38.017171] *** SYSTEM_REG_WRITE: reg[0xb018] = 0x40404040 (Binary Ninja EXACT) ***
[   38.017178] *** SYSTEM_REG_WRITE: reg[0xb01c] = 0x40404040 (Binary Ninja EXACT) ***
[   38.017185] *** SYSTEM_REG_WRITE: reg[0xb020] = 0x40404040 (Binary Ninja EXACT) ***
[   38.017192] *** SYSTEM_REG_WRITE: reg[0xb024] = 0x404040 (Binary Ninja EXACT) ***
[   38.017199] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   38.017205] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   38.017213] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   38.017219] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   38.017226] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   38.017233] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   38.017239] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   38.017245] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   38.017251] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   38.017258] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   38.017265] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   38.017271] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   38.017277] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   38.017283] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   38.017289] *** SYSTEM_REG_WRITE: reg[0x9804] = 0x3f00 (Binary Ninja EXACT) ***
[   38.017296] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   38.017303] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   38.017309] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   38.017316] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   38.017323] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   38.017329] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   38.017337] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   38.017342] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   38.017349] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   38.017355] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   38.017363] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   38.017369] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   38.017375] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   38.017382] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   38.017389] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   38.017395] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   38.017402] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   38.017409] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   38.017414] *** TUNING SYSTEM: VIC control registers 0x9ac0/0x9ac8 REMOVED - not in Binary Ninja reference ***
[   38.017422] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 2200x1418)
[   38.017429] *** SYSTEM_REG_WRITE: reg[0x4] = 0x898058a (Binary Ninja EXACT) ***
[   38.017435] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   38.017442] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   38.017447] *** tisp_init: ISP control register set to enable processing pipeline ***
[   38.017454] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   38.017460] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   38.017467] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   38.017472] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   38.017479] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   38.017485] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   38.017496] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=80480000 ***
[   38.024942] *** isp_irq_handle: IRQ 37 received, dev_id=80480000 ***
[   38.024947] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   38.032668] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=80480000 ***
[   38.040113] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   38.047835] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
[   38.055371] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   38.061563] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   38.069646] *** ISP CORE: ABOUT TO CALL callback[10] for bit 10 - callback=c0686a08 ***
[   38.077904] *** ISP CORE: CALLING CALLBACK NOW - IF SYSTEM HANGS, THIS CALLBACK IS THE PROBLEM ***
[   38.087148] ae0_interrupt_static: Processing AE0 static interrupt
[   38.087155] *** AE0: Processing interrupt using register-based statistics (Binary Ninja MCP) ***
[   38.087161] ae0_interrupt_static: AE0 static interrupt processed
[   38.087167] *** ISP CORE: CALLBACK RETURNED SUCCESSFULLY - callback[10] returned 1 ***
[   38.095339] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
[   38.136522] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   38.136537] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   38.136545] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   38.136550] *** tisp_init: ISP control mode set to 8 (streaming not active) ***
[   38.136557] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   38.136565] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=8, 0x800=1 ***
[   38.136571] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   38.136578] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   38.136585] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   38.136591] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   38.136597] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   38.136604] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   38.136610] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   38.136617] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   38.136623] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   38.136630] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   38.136637] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   38.136643] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   38.136651] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   38.136659] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   38.136666] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   38.136672] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   38.136679] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   38.136685] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   38.136691] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   38.136697] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   38.136702] *** This should eliminate green frames by enabling proper color processing ***
[   38.136709] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   38.136715] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   38.136722] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   38.136728] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   38.136735] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   38.136741] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   38.136748] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   38.136755] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   38.136761] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   38.136767] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   38.136772] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   38.136777] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   38.136783] *** tisp_init: Standard tuning parameters loaded successfully ***
[   38.136788] *** tisp_init: Custom tuning parameters loaded successfully ***
[   38.136795] tisp_set_csc_version: Setting CSC version 0
[   38.136801] *** SYSTEM_REG_WRITE: reg[0xc] = 0x80700008 (Binary Ninja EXACT) ***
[   38.136808] *** CRITICAL FIX: ISP bypass register set to EXACT reference value 0x80700008 - prevents hardware reset ***
[   38.136813] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   38.136820] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   38.136827] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   38.136832] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   38.136837] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   38.136844] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   38.136851] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   38.136856] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   38.136863] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   38.136869] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   38.136874] *** tisp_init: ISP processing pipeline fully enabled ***
[   38.136881] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   38.136887] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   38.136893] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   38.136900] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   38.136907] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   38.136911] tisp_init: ISP memory buffers configured
[   38.136917] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   38.136924] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   38.136933] tiziano_ae_params_refresh: Refreshing AE parameters
[   38.136944] tiziano_ae_params_refresh: AE parameters refreshed
[   38.136949] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   38.136955] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   38.136961] tiziano_ae_para_addr: Setting up AE parameter addresses
[   38.136966] tiziano_ae_para_addr: AE parameter addresses configured
[   38.136973] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   38.136979] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   38.136986] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   38.136993] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   38.137000] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   38.137007] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   38.137013] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   38.137021] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7fd814 (Binary Ninja EXACT) ***
[   38.137027] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   38.137034] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   38.137041] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   38.137047] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   38.137053] tiziano_ae_set_hardware_param: Parameters written to AE0
[   38.137059] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   38.137066] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   38.137073] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   38.137079] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   38.137085] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   38.137092] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   38.137099] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   38.137105] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   38.137112] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   38.137119] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   38.137125] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   38.137132] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
d[   38.137137] tiziano_ae_set_hardware_param: Parameters written to AE1
[   38.137143] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   38.137151] *** system_irq_func_set: Registered handler c0686a08 at index 10 ***
[   38.148631] *** system_irq_func_set: Registered handler c0686afc at index 27 ***
[   38.160466] *** system_irq_func_set: Registered handler c0686a08 at index 26 ***
[   38.175417] *** system_irq_func_set: Registered handler c0686be4 at index 29 ***
[   38.189152] *** system_irq_func_set: Registered handler c0686b70 at index 28 ***
[   38.206974] *** system_irq_func_set: Registered handler c0686c58 at index 30 ***
[   38.219528] *** system_irq_func_set: Registered handler c0686cac at index 20 ***
[   38.237438] *** system_irq_func_set: Registered handler c0686d00 at index 18 ***
[   38.254896] *** system_irq_func_set: Registered handler c0686d54 at index 31 ***
[   38.269164] *** system_irq_func_set: Registered handler c0686da8 at index 11 ***
[   38.286060] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   38.286082] tiziano_deflicker_expt: Generated 119 LUT entries
[   38.286088] tisp_event_set_cb: Setting callback for event 1
[   38.286096] tisp_event_set_cb: Event 1 callback set to c0686608
[   38.286102] tisp_event_set_cb: Setting callback for event 6
[   38.286108] tisp_event_set_cb: Event 6 callback set to c0685b68
[   38.286114] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   38.286119] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   38.286126] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   38.286134] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   38.286141] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   38.286146] tiziano_awb_init: AWB hardware blocks enabled
[   38.286151] tiziano_gamma_init: Initializing Gamma processing
[   38.286157] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   38.286216] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   38.286222] tiziano_gib_init: Initializing GIB processing
[   38.286227] tiziano_lsc_init: Initializing LSC processing
[   38.286232] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   38.286239] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   38.286246] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   38.286252] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   38.286258] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   38.286316] tiziano_ccm_init: Initializing Color Correction Matrix
[   38.286321] tiziano_ccm_init: Using linear CCM parameters
[   38.286326] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   38.286333] jz_isp_ccm: EV=64, CT=9984
[   38.286340] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   38.286345] cm_control: saturation=128
[   38.286350] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   38.286357] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   38.286362] tiziano_ccm_init: CCM initialized successfully
[   38.286367] tiziano_dmsc_init: Initializing DMSC processing
[   38.286372] tiziano_sharpen_init: Initializing Sharpening
[   38.286378] tiziano_sharpen_init: Using linear sharpening parameters
[   38.286383] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   38.286390] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   38.286396] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   38.286422] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   38.286428] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   38.286434] tiziano_sharpen_init: Sharpening initialized successfully
[   38.286440] tiziano_sdns_init: Initializing SDNS processing
[   38.286447] tiziano_sdns_init: Using linear SDNS parameters
[   38.286453] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   38.286460] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   38.286466] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   38.286498] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   38.286504] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   38.286510] tiziano_sdns_init: SDNS processing initialized successfully
[   38.286516] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   38.286522] tiziano_mdns_init: Using linear MDNS parameters
[   38.286532] tiziano_mdns_init: MDNS processing initialized successfully
[   38.286537] tiziano_clm_init: Initializing CLM processing
[   38.286542] tiziano_dpc_init: Initializing DPC processing
[   38.286548] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   38.286554] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   38.286560] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   38.286566] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   38.286581] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   38.286588] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   38.286593] tiziano_hldc_init: Initializing HLDC processing
[   38.286599] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   38.286606] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   38.286612] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   38.286619] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   38.286626] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   38.286633] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   38.286640] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   38.286646] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   38.286653] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   38.286660] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   38.286666] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   38.286674] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   38.286680] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   38.286686] tiziano_adr_params_refresh: Refreshing ADR parameters
[   38.286692] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   38.286697] tiziano_adr_params_init: Initializing ADR parameter arrays
[   38.286704] tisp_adr_set_params: Writing ADR parameters to registers
[   38.286736] tisp_adr_set_params: ADR parameters written to hardware
[   38.286742] tisp_event_set_cb: Setting callback for event 18
[   38.286748] tisp_event_set_cb: Event 18 callback set to c0686d00
[   38.286754] tisp_event_set_cb: Setting callback for event 2
[   38.286760] tisp_event_set_cb: Event 2 callback set to c0685804
[   38.286765] tiziano_adr_init: ADR processing initialized successfully
[   38.286772] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   38.286777] tiziano_bcsh_init: Initializing BCSH processing
[   38.286782] tiziano_ydns_init: Initializing YDNS processing
[   38.286787] tiziano_rdns_init: Initializing RDNS processing
[   38.286792] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   38.286805] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x11a8000 (Binary Ninja EXACT) ***
[   38.286812] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x11a9000 (Binary Ninja EXACT) ***
[   38.286820] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x11aa000 (Binary Ninja EXACT) ***
[   38.286826] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x11ab000 (Binary Ninja EXACT) ***
[   38.286833] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x11ac000 (Binary Ninja EXACT) ***
[   38.286840] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x11ac800 (Binary Ninja EXACT) ***
[   38.286847] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x11ad000 (Binary Ninja EXACT) ***
[   38.286854] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x11ad800 (Binary Ninja EXACT) ***
[   38.286860] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   38.286866] *** tisp_init: AE0 buffer allocated at 0x011a8000 ***
[   38.286872] *** CRITICAL FIX: data_b2f3c initialized to 0x811a8000 (prevents stack corruption) ***
[   38.286881] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x11b0000 (Binary Ninja EXACT) ***
[   38.286888] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x11b1000 (Binary Ninja EXACT) ***
[   38.286895] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x11b2000 (Binary Ninja EXACT) ***
[   38.286902] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x11b3000 (Binary Ninja EXACT) ***
[   38.286978] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x11b4000 (Binary Ninja EXACT) ***
[   38.286987] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x11b4800 (Binary Ninja EXACT) ***
[   38.286994] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x11b5000 (Binary Ninja EXACT) ***
[   38.287001] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x11b5800 (Binary Ninja EXACT) ***
[   38.287008] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   38.287014] *** tisp_init: AE1 buffer allocated at 0x011b0000 ***
[   38.287019] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   38.287026] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   38.287032] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   38.287038] *** tisp_init: Second ISP control mode set to 8 (streaming not active) ***
[   38.287044] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   38.287050] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   38.287056] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   38.287065] tiziano_ae_params_refresh: Refreshing AE parameters
[   38.287075] tiziano_ae_params_refresh: AE parameters refreshed
[   38.287081] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   38.287087] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   38.287092] tiziano_ae_para_addr: Setting up AE parameter addresses
[   38.287098] tiziano_ae_para_addr: AE parameter addresses configured
[   38.287104] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   38.287111] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   38.287118] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   38.287125] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   38.287132] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   38.287138] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   38.287146] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   38.287152] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7fd814 (Binary Ninja EXACT) ***
[   38.287159] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   38.287166] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   38.287172] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   38.287179] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   38.287185] tiziano_ae_set_hardware_param: Parameters written to AE0
[   38.287191] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   38.287198] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   38.287204] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   38.287211] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   38.287217] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   38.287224] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   38.287230] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   38.287237] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   38.287244] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   38.287250] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   38.287256] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   38.287263] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   38.287269] tiziano_ae_set_hardware_param: Parameters written to AE1
[   38.287274] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   38.287282] *** system_irq_func_set: Registered handler c0686a08 at index 10 ***
[   38.298519] *** system_irq_func_set: Registered handler c0686afc at index 27 ***
[   38.319172] *** system_irq_func_set: Registered handler c0686a08 at index 26 ***
[   38.336983] *** system_irq_func_set: Registered handler c0686be4 at index 29 ***
[   38.344640] *** system_irq_func_set: Registered handler c0686b70 at index 28 ***
[   38.362428] *** system_irq_func_set: Registered handler c0686c58 at index 30 ***
[   38.379148] *** system_irq_func_set: Registered handler c0686cac at index 20 ***
[   38.396925] *** system_irq_func_set: Registered handler c0686d00 at index 18 ***
[   38.407003] *** system_irq_func_set: Registered handler c0686d54 at index 31 ***
[   38.427226] *** system_irq_func_set: Registered handler c0686da8 at index 11 ***
[   38.447696] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   38.447718] tiziano_deflicker_expt: Generated 119 LUT entries
[   38.447725] tisp_event_set_cb: Setting callback for event 1
[   38.447733] tisp_event_set_cb: Event 1 callback set to c0686608
[   38.447739] tisp_event_set_cb: Setting callback for event 6
[   38.447745] tisp_event_set_cb: Event 6 callback set to c0685b68
[   38.447751] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   38.447756] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   38.447764] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   38.447772] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   38.447778] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   38.447784] tiziano_awb_init: AWB hardware blocks enabled
[   38.447789] tiziano_gamma_init: Initializing Gamma processing
[   38.447794] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   38.447854] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   38.447859] tiziano_gib_init: Initializing GIB processing
[   38.447864] tiziano_lsc_init: Initializing LSC processing
[   38.447870] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   38.447876] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   38.447883] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   38.447890] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   38.447895] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   38.447952] tiziano_ccm_init: Initializing Color Correction Matrix
[   38.447958] tiziano_ccm_init: Using linear CCM parameters
[   38.447964] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   38.447970] jz_isp_ccm: EV=64, CT=9984
[   38.447977] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   38.447982] cm_control: saturation=128
[   38.447988] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   38.447994] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   38.447999] tiziano_ccm_init: CCM initialized successfully
[   38.448004] tiziano_dmsc_init: Initializing DMSC processing
[   38.448010] tiziano_sharpen_init: Initializing Sharpening
[   38.448015] tiziano_sharpen_init: Using linear sharpening parameters
[   38.448020] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   38.448027] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   38.448033] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   38.448059] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   38.448066] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   38.448071] tiziano_sharpen_init: Sharpening initialized successfully
[   38.448076] tiziano_sdns_init: Initializing SDNS processing
[   38.448084] tiziano_sdns_init: Using linear SDNS parameters
[   38.448090] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   38.448097] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   38.448102] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   38.448135] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   38.448142] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   38.448147] tiziano_sdns_init: SDNS processing initialized successfully
[   38.448153] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   38.448158] tiziano_mdns_init: Using linear MDNS parameters
[   38.448169] tiziano_mdns_init: MDNS processing initialized successfully
[   38.448174] tiziano_clm_init: Initializing CLM processing
[   38.448179] tiziano_dpc_init: Initializing DPC processing
[   38.448184] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   38.448190] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   38.448197] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   38.448202] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   38.448217] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   38.448224] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   38.448229] tiziano_hldc_init: Initializing HLDC processing
[   38.448236] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   38.448242] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   38.448248] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   38.448255] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   38.448262] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   38.448269] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   38.448276] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   38.448282] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   38.448289] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   38.448296] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   38.448303] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   38.448310] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   38.448316] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   38.448322] tiziano_adr_params_refresh: Refreshing ADR parameters
[   38.448328] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   38.448333] tiziano_adr_params_init: Initializing ADR parameter arrays
[   38.448340] tisp_adr_set_params: Writing ADR parameters to registers
[   38.448372] tisp_adr_set_params: ADR parameters written to hardware
[   38.448378] tisp_event_set_cb: Setting callback for event 18
[   38.448384] tisp_event_set_cb: Event 18 callback set to c0686d00
[   38.448390] tisp_event_set_cb: Setting callback for event 2
[   38.448396] tisp_event_set_cb: Event 2 callback set to c0685804
[   38.448401] tiziano_adr_init: ADR processing initialized successfully
[   38.448408] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   38.448413] tiziano_bcsh_init: Initializing BCSH processing
[   38.448418] tiziano_ydns_init: Initializing YDNS processing
[   38.448423] tiziano_rdns_init: Initializing RDNS processing
[   38.448428] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   38.448433] tisp_event_init: Initializing ISP event system
[   38.448440] tisp_event_init: SAFE event system initialized with 20 nodes
[   38.448446] tisp_event_set_cb: Setting callback for event 4
[   38.448452] tisp_event_set_cb: Event 4 callback set to c0685830
[   38.448458] tisp_event_set_cb: Setting callback for event 5
[   38.448464] tisp_event_set_cb: Event 5 callback set to c0685cf8
[   38.448470] tisp_event_set_cb: Setting callback for event 7
[   38.448476] tisp_event_set_cb: Event 7 callback set to c06858c4
[   38.448482] tisp_event_set_cb: Setting callback for event 9
[   38.448488] tisp_event_set_cb: Event 9 callback set to c068594c
[   38.448493] tisp_event_set_cb: Setting callback for event 8
[   38.448500] tisp_event_set_cb: Event 8 callback set to c0685a10
[   38.448505] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   38.448511] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   38.448517] tisp_param_operate_init: Initializing parameter operations
[   38.448524] tisp_netlink_init: Initializing netlink communication
[   38.448530] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   38.448560] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   38.448573] tisp_netlink_init: Custom protocol failed, trying with nlcfg structure
[   38.448584] tisp_netlink_init: Failed to create netlink socket - continuing without netlink support
[   38.448590] tisp_netlink_init: ISP tuning parameters may not be available, but VIC interrupts should still work
[   38.448596] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   38.448602] tisp_code_create_tuning_node: Device already created, skipping
[   38.448608] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   38.448614] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   38.448620] *** ispcore_core_ops_init: Second tisp_init completed ***
[   38.448625] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[   38.448634] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[   38.448642] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   38.448648] *** ISP CORE: Hardware interrupt generation ENABLED ***
[   38.448653] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   38.448659] *** ispcore_core_ops_init: ISP Core hardware interrupts ENABLED - Frame sync should now work! ***
[   38.448664] ispcore_core_ops_init: Complete, result=0<6>[   38.448669] *** tx_isp_video_s_stream: Core init SUCCESS ***
[   38.448676] *** tx_isp_video_s_stream: Activating VIC subdev (state 3 -> 2) before CSI init ***
[   38.448682] *** tx_isp_video_s_stream: VIC subdev activation done, state=3 ***
[   38.448689] *** tx_isp_video_s_stream: Activating CSI subdev (state 1 -> 2) before CSI init ***
[   38.448697] *** tx_isp_video_s_stream: CSI subdev activation done, state=2 ***
[   38.448702] *** tx_isp_video_s_stream: Initializing CSI subdev ***
[   38.448710] csi_core_ops_init: sd=80564000, csi_dev=80564000, enable=1
[   38.448716] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   38.448726] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   38.448733] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   38.448739] *** csi_core_ops_init: interface_type=1 (1=MIPI, 2=DVP) ***
[   38.448745] *** csi_core_ops_init: Set csi_dev->interface_type = 1 ***
[   38.519138] *** tx_isp_video_s_stream: CSI init SUCCESS ***
[   38.519152] *** tx_isp_video_s_stream: Initializing VIC subdev ***
[   38.519160] *** vic_core_ops_init: ENTRY - sd=80564400, enable=1 ***
[   38.519167] *** vic_core_ops_init: vic_dev=80564400, current state check ***
[   38.519173] *** vic_core_ops_init: current_state=3, enable=1 ***
[   38.519179] *** tx_isp_video_s_stream: VIC init SUCCESS ***
[   38.519184] *** tx_isp_video_s_stream: Initializing Sensor subdev ***
[   38.519193] *** SENSOR_INIT: gc2053 enable=1 ***
[   38.519200] *** SENSOR_INIT: gc2053 already initialized, skipping to prevent CSI PHY reconfiguration ***
[   38.519206] *** SENSOR_INIT: This prevents register reset that disables ISP/VIC interrupts ***
[   38.519211] *** tx_isp_video_s_stream: Sensor init SUCCESS ***
[   38.519216] *** tx_isp_video_s_stream: All subdev initialization complete - proceeding with s_stream ***
[   38.519224] *** tx_isp_video_s_stream: Calling subdev[0]->ops->video->s_stream(1) ***
[   38.519230] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   38.519236] csi_video_s_stream: sd=80564000, enable=1
[   38.519242] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   38.519248] *** tx_isp_video_s_stream: subdev[0] s_stream SUCCESS ***
[   38.519255] *** tx_isp_video_s_stream: Calling subdev[1]->ops->video->s_stream(1) ***
[   38.519262] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80564400, enable=1 ***
[   38.519268] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=3 ***
[   38.519273] *** vic_core_s_stream: STREAM ON ***
[   38.519278] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   38.519284] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   38.519290] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   38.519296] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   38.519304] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   38.519310] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   38.519318] *** DEBUG: sensor_attr=c06e20cc, dbus_type=1 ***
[   38.519324] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   38.519330] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   38.519336] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   38.519342] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   38.519347] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   38.519353] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   38.549135] MIPI interface configuration
[   38.549149] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   38.549155] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   38.549161] *** VIC UNLOCK: Initial register 0x0 value = 0x00000000 ***
[   38.549168] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   38.549174] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   38.549181] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   38.549187] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   38.569102] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   38.569152] *** Continuing anyway to prevent infinite hang ***
[   38.569160] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   38.569166] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   38.569173] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   38.576324] tx_isp_vic_start: Linear mode enabled
[   38.576337] *** VIC start completed - vic_start_ok = 1 ***
[   38.576344] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   38.576350] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   38.576356] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   38.576364] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   38.576370] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   38.576378] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   38.576384] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   38.576390] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   38.576396] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   38.576403] ispvic_frame_channel_s_stream: arg1=80564400, arg2=1
m[   38.576410] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80564400
[   38.576416] ispvic_frame_channel_s_stream[2524]: streamon
[   38.576422] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   38.576428] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   38.576434] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   38.576440] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   38.576446] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   38.576453] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   38.576458] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   38.576466] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   38.576472] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   38.576478] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   38.576483] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   38.576489] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   38.576495] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   38.576503] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   38.576510] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   38.576518] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   38.576526] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   38.576533] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   38.576539] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   38.576545] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   38.576550] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   38.576558] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   38.576573] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   38.576580] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   38.576586] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   38.576591] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   38.576597] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   38.576602] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   38.576616] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   38.576624] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   38.576690] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   38.576702] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   38.576708] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   38.576717] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   38.576724] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   38.576729] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
	[   38.576738] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   38.576746] *** VIC UNMASK-ALL TEST: [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (expect 0) ***
[   38.577772] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   38.577778] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   38.577784] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   38.577892] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   38.577901] *** CRITICAL: isp_irq_handle: IRQ 38 received, dev_id=80480000 ***
[   38.585348] *** isp_irq_handle: IRQ 38 received, dev_id=80480000 ***
[   38.585354] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   38.593070] *** VIC INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   38.601141] *** VIC IRQ: About to access isp_dev->vic_dev, isp_dev=80480000 ***
[   38.608675] *** VIC IRQ: Got vic_dev=80564400 ***
[   38.613527] *** VIC IRQ: Checking vic_dev validity: vic_dev=80564400 ***
[   38.620434] *** VIC IRQ: About to access vic_dev->vic_regs ***
[   38.626452] *** VIC IRQ: Got vic_regs=b33e0000 ***
[   38.631395] *** VIC IRQ: Checking vic_regs validity: vic_regs=b33e0000 ***
[   38.638480] *** VIC IRQ: vic_regs passed validity check - proceeding with register access ***
[   38.647279] *** VIC IRQ: About to read VIC registers at b33e0000 ***
[   38.653834] *** VIC IRQ: Using base b33e0000 [1e0]=0x200000 [1e4]=0x0 [1e8]=0xffdffffe [1ec]=0x0 ***
[   38.663263] *** VIC IRQ: CTRL[0x300]=0x80040020 DIMS[0x304]=0x7800438 STRIDE[0x310]=0xf00 ***
[   38.672058] *** VIC IRQ: Calculated v1_7 = 0x200000 v1_10 = 0x0 ***
[   38.678522] *** VIC IRQ: About to write v1_7=0x200000 to reg 0x1f0 (base=b33e0000) ***
[   38.686688] *** VIC IRQ: About to write v1_10=0x0 to reg 0x1f4 (base=b33e0000) ***
[   38.694492] *** VIC IRQ: Register writes completed (at base=b33e0000) ***
[   38.701483] *** VIC IRQ: Restored enables(0x1e0|=1) and MainMask=0xFFDFFFFE (allow framedone+bit21) ***
[   38.711174] *** VIC IRQ: About to check vic_start_ok - vic_start_ok=1 ***
[   38.718172] *** VIC IRQ: vic_start_ok=1, v1_7=0x200000, v1_10=0x0 ***
[   38.724813] *** VIC IRQ: No frame done interrupt (v1_7 & 1 = 0) ***
[   38.731276] *** VIC ERROR: control limit error (bit 21) ***
[   38.737019] *** VIC IRQ COMPLETE: Processed v1_7=0x200000, v1_10=0x0 - returning IRQ_HANDLED ***
[   38.999179] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   39.000635] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   39.001021] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   39.001031] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   39.001179] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   39.001186] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   39.001192] tx_vic_enable_irq: Calling VIC interrupt callback
[   39.001199] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   39.001206] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   39.001212] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   39.001221] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   39.001227] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   39.001235] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   39.001241] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***

[   39.001248] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   39.001254] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   39.001577] *** tx_vic_enable_irq: completed successfully ***
root@ing-wyze-cam3-a000 ~# dmesg 
[   38.286216] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   38.286222] tiziano_gib_init: Initializing GIB processing
[   38.286227] tiziano_lsc_init: Initializing LSC processing
[   38.286232] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   38.286239] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   38.286246] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   38.286252] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   38.286258] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   38.286316] tiziano_ccm_init: Initializing Color Correction Matrix
[   38.286321] tiziano_ccm_init: Using linear CCM parameters
[   38.286326] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   38.286333] jz_isp_ccm: EV=64, CT=9984
[   38.286340] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   38.286345] cm_control: saturation=128
[   38.286350] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   38.286357] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   38.286362] tiziano_ccm_init: CCM initialized successfully
[   38.286367] tiziano_dmsc_init: Initializing DMSC processing
[   38.286372] tiziano_sharpen_init: Initializing Sharpening
[   38.286378] tiziano_sharpen_init: Using linear sharpening parameters
[   38.286383] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   38.286390] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   38.286396] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   38.286422] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   38.286428] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   38.286434] tiziano_sharpen_init: Sharpening initialized successfully
[   38.286440] tiziano_sdns_init: Initializing SDNS processing
[   38.286447] tiziano_sdns_init: Using linear SDNS parameters
[   38.286453] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   38.286460] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   38.286466] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   38.286498] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   38.286504] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   38.286510] tiziano_sdns_init: SDNS processing initialized successfully
[   38.286516] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   38.286522] tiziano_mdns_init: Using linear MDNS parameters
[   38.286532] tiziano_mdns_init: MDNS processing initialized successfully
[   38.286537] tiziano_clm_init: Initializing CLM processing
[   38.286542] tiziano_dpc_init: Initializing DPC processing
[   38.286548] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   38.286554] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   38.286560] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   38.286566] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   38.286581] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   38.286588] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   38.286593] tiziano_hldc_init: Initializing HLDC processing
[   38.286599] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   38.286606] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   38.286612] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   38.286619] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   38.286626] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   38.286633] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   38.286640] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   38.286646] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   38.286653] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   38.286660] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   38.286666] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   38.286674] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   38.286680] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   38.286686] tiziano_adr_params_refresh: Refreshing ADR parameters
[   38.286692] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   38.286697] tiziano_adr_params_init: Initializing ADR parameter arrays
[   38.286704] tisp_adr_set_params: Writing ADR parameters to registers
[   38.286736] tisp_adr_set_params: ADR parameters written to hardware
[   38.286742] tisp_event_set_cb: Setting callback for event 18
[   38.286748] tisp_event_set_cb: Event 18 callback set to c0686d00
[   38.286754] tisp_event_set_cb: Setting callback for event 2
[   38.286760] tisp_event_set_cb: Event 2 callback set to c0685804
[   38.286765] tiziano_adr_init: ADR processing initialized successfully
[   38.286772] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   38.286777] tiziano_bcsh_init: Initializing BCSH processing
[   38.286782] tiziano_ydns_init: Initializing YDNS processing
[   38.286787] tiziano_rdns_init: Initializing RDNS processing
[   38.286792] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   38.286805] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x11a8000 (Binary Ninja EXACT) ***
[   38.286812] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x11a9000 (Binary Ninja EXACT) ***
[   38.286820] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x11aa000 (Binary Ninja EXACT) ***
[   38.286826] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x11ab000 (Binary Ninja EXACT) ***
[   38.286833] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x11ac000 (Binary Ninja EXACT) ***
[   38.286840] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x11ac800 (Binary Ninja EXACT) ***
[   38.286847] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x11ad000 (Binary Ninja EXACT) ***
[   38.286854] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x11ad800 (Binary Ninja EXACT) ***
[   38.286860] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   38.286866] *** tisp_init: AE0 buffer allocated at 0x011a8000 ***
[   38.286872] *** CRITICAL FIX: data_b2f3c initialized to 0x811a8000 (prevents stack corruption) ***
[   38.286881] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x11b0000 (Binary Ninja EXACT) ***
[   38.286888] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x11b1000 (Binary Ninja EXACT) ***
[   38.286895] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x11b2000 (Binary Ninja EXACT) ***
[   38.286902] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x11b3000 (Binary Ninja EXACT) ***
[   38.286978] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x11b4000 (Binary Ninja EXACT) ***
[   38.286987] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x11b4800 (Binary Ninja EXACT) ***
[   38.286994] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x11b5000 (Binary Ninja EXACT) ***
[   38.287001] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x11b5800 (Binary Ninja EXACT) ***
[   38.287008] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   38.287014] *** tisp_init: AE1 buffer allocated at 0x011b0000 ***
[   38.287019] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   38.287026] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   38.287032] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   38.287038] *** tisp_init: Second ISP control mode set to 8 (streaming not active) ***
[   38.287044] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   38.287050] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   38.287056] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   38.287065] tiziano_ae_params_refresh: Refreshing AE parameters
[   38.287075] tiziano_ae_params_refresh: AE parameters refreshed
[   38.287081] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   38.287087] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   38.287092] tiziano_ae_para_addr: Setting up AE parameter addresses
[   38.287098] tiziano_ae_para_addr: AE parameter addresses configured
[   38.287104] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   38.287111] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   38.287118] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   38.287125] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   38.287132] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   38.287138] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   38.287146] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   38.287152] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7fd814 (Binary Ninja EXACT) ***
[   38.287159] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   38.287166] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   38.287172] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   38.287179] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   38.287185] tiziano_ae_set_hardware_param: Parameters written to AE0
[   38.287191] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   38.287198] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   38.287204] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   38.287211] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   38.287217] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   38.287224] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   38.287230] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   38.287237] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   38.287244] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   38.287250] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   38.287256] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   38.287263] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   38.287269] tiziano_ae_set_hardware_param: Parameters written to AE1
[   38.287274] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   38.287282] *** system_irq_func_set: Registered handler c0686a08 at index 10 ***
[   38.298519] *** system_irq_func_set: Registered handler c0686afc at index 27 ***
[   38.319172] *** system_irq_func_set: Registered handler c0686a08 at index 26 ***
[   38.336983] *** system_irq_func_set: Registered handler c0686be4 at index 29 ***
[   38.344640] *** system_irq_func_set: Registered handler c0686b70 at index 28 ***
[   38.362428] *** system_irq_func_set: Registered handler c0686c58 at index 30 ***
[   38.379148] *** system_irq_func_set: Registered handler c0686cac at index 20 ***
[   38.396925] *** system_irq_func_set: Registered handler c0686d00 at index 18 ***
[   38.407003] *** system_irq_func_set: Registered handler c0686d54 at index 31 ***
[   38.427226] *** system_irq_func_set: Registered handler c0686da8 at index 11 ***
[   38.447696] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   38.447718] tiziano_deflicker_expt: Generated 119 LUT entries
[   38.447725] tisp_event_set_cb: Setting callback for event 1
[   38.447733] tisp_event_set_cb: Event 1 callback set to c0686608
[   38.447739] tisp_event_set_cb: Setting callback for event 6
[   38.447745] tisp_event_set_cb: Event 6 callback set to c0685b68
[   38.447751] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   38.447756] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   38.447764] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   38.447772] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   38.447778] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   38.447784] tiziano_awb_init: AWB hardware blocks enabled
[   38.447789] tiziano_gamma_init: Initializing Gamma processing
[   38.447794] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   38.447854] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   38.447859] tiziano_gib_init: Initializing GIB processing
[   38.447864] tiziano_lsc_init: Initializing LSC processing
[   38.447870] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   38.447876] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   38.447883] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   38.447890] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   38.447895] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   38.447952] tiziano_ccm_init: Initializing Color Correction Matrix
[   38.447958] tiziano_ccm_init: Using linear CCM parameters
[   38.447964] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   38.447970] jz_isp_ccm: EV=64, CT=9984
[   38.447977] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   38.447982] cm_control: saturation=128
[   38.447988] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   38.447994] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   38.447999] tiziano_ccm_init: CCM initialized successfully
[   38.448004] tiziano_dmsc_init: Initializing DMSC processing
[   38.448010] tiziano_sharpen_init: Initializing Sharpening
[   38.448015] tiziano_sharpen_init: Using linear sharpening parameters
[   38.448020] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   38.448027] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   38.448033] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   38.448059] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   38.448066] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   38.448071] tiziano_sharpen_init: Sharpening initialized successfully
[   38.448076] tiziano_sdns_init: Initializing SDNS processing
[   38.448084] tiziano_sdns_init: Using linear SDNS parameters
[   38.448090] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   38.448097] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   38.448102] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   38.448135] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   38.448142] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   38.448147] tiziano_sdns_init: SDNS processing initialized successfully
[   38.448153] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   38.448158] tiziano_mdns_init: Using linear MDNS parameters
[   38.448169] tiziano_mdns_init: MDNS processing initialized successfully
[   38.448174] tiziano_clm_init: Initializing CLM processing
[   38.448179] tiziano_dpc_init: Initializing DPC processing
[   38.448184] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   38.448190] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   38.448197] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   38.448202] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   38.448217] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   38.448224] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   38.448229] tiziano_hldc_init: Initializing HLDC processing
[   38.448236] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   38.448242] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   38.448248] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   38.448255] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   38.448262] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   38.448269] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   38.448276] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   38.448282] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   38.448289] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   38.448296] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   38.448303] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   38.448310] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   38.448316] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   38.448322] tiziano_adr_params_refresh: Refreshing ADR parameters
[   38.448328] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   38.448333] tiziano_adr_params_init: Initializing ADR parameter arrays
[   38.448340] tisp_adr_set_params: Writing ADR parameters to registers
[   38.448372] tisp_adr_set_params: ADR parameters written to hardware
[   38.448378] tisp_event_set_cb: Setting callback for event 18
[   38.448384] tisp_event_set_cb: Event 18 callback set to c0686d00
[   38.448390] tisp_event_set_cb: Setting callback for event 2
[   38.448396] tisp_event_set_cb: Event 2 callback set to c0685804
[   38.448401] tiziano_adr_init: ADR processing initialized successfully
[   38.448408] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   38.448413] tiziano_bcsh_init: Initializing BCSH processing
[   38.448418] tiziano_ydns_init: Initializing YDNS processing
[   38.448423] tiziano_rdns_init: Initializing RDNS processing
[   38.448428] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   38.448433] tisp_event_init: Initializing ISP event system
[   38.448440] tisp_event_init: SAFE event system initialized with 20 nodes
[   38.448446] tisp_event_set_cb: Setting callback for event 4
[   38.448452] tisp_event_set_cb: Event 4 callback set to c0685830
[   38.448458] tisp_event_set_cb: Setting callback for event 5
[   38.448464] tisp_event_set_cb: Event 5 callback set to c0685cf8
[   38.448470] tisp_event_set_cb: Setting callback for event 7
[   38.448476] tisp_event_set_cb: Event 7 callback set to c06858c4
[   38.448482] tisp_event_set_cb: Setting callback for event 9
[   38.448488] tisp_event_set_cb: Event 9 callback set to c068594c
[   38.448493] tisp_event_set_cb: Setting callback for event 8
[   38.448500] tisp_event_set_cb: Event 8 callback set to c0685a10
[   38.448505] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   38.448511] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   38.448517] tisp_param_operate_init: Initializing parameter operations
[   38.448524] tisp_netlink_init: Initializing netlink communication
[   38.448530] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   38.448560] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   38.448573] tisp_netlink_init: Custom protocol failed, trying with nlcfg structure
[   38.448584] tisp_netlink_init: Failed to create netlink socket - continuing without netlink support
[   38.448590] tisp_netlink_init: ISP tuning parameters may not be available, but VIC interrupts should still work
[   38.448596] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   38.448602] tisp_code_create_tuning_node: Device already created, skipping
[   38.448608] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   38.448614] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   38.448620] *** ispcore_core_ops_init: Second tisp_init completed ***
[   38.448625] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[   38.448634] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[   38.448642] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   38.448648] *** ISP CORE: Hardware interrupt generation ENABLED ***
[   38.448653] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   38.448659] *** ispcore_core_ops_init: ISP Core hardware interrupts ENABLED - Frame sync should now work! ***
[   38.448664] ispcore_core_ops_init: Complete, result=0<6>[   38.448669] *** tx_isp_video_s_stream: Core init SUCCESS ***
[   38.448676] *** tx_isp_video_s_stream: Activating VIC subdev (state 3 -> 2) before CSI init ***
[   38.448682] *** tx_isp_video_s_stream: VIC subdev activation done, state=3 ***
[   38.448689] *** tx_isp_video_s_stream: Activating CSI subdev (state 1 -> 2) before CSI init ***
[   38.448697] *** tx_isp_video_s_stream: CSI subdev activation done, state=2 ***
[   38.448702] *** tx_isp_video_s_stream: Initializing CSI subdev ***
[   38.448710] csi_core_ops_init: sd=80564000, csi_dev=80564000, enable=1
[   38.448716] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   38.448726] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   38.448733] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   38.448739] *** csi_core_ops_init: interface_type=1 (1=MIPI, 2=DVP) ***
[   38.448745] *** csi_core_ops_init: Set csi_dev->interface_type = 1 ***
[   38.519138] *** tx_isp_video_s_stream: CSI init SUCCESS ***
[   38.519152] *** tx_isp_video_s_stream: Initializing VIC subdev ***
[   38.519160] *** vic_core_ops_init: ENTRY - sd=80564400, enable=1 ***
[   38.519167] *** vic_core_ops_init: vic_dev=80564400, current state check ***
[   38.519173] *** vic_core_ops_init: current_state=3, enable=1 ***
[   38.519179] *** tx_isp_video_s_stream: VIC init SUCCESS ***
[   38.519184] *** tx_isp_video_s_stream: Initializing Sensor subdev ***
[   38.519193] *** SENSOR_INIT: gc2053 enable=1 ***
[   38.519200] *** SENSOR_INIT: gc2053 already initialized, skipping to prevent CSI PHY reconfiguration ***
[   38.519206] *** SENSOR_INIT: This prevents register reset that disables ISP/VIC interrupts ***
[   38.519211] *** tx_isp_video_s_stream: Sensor init SUCCESS ***
[   38.519216] *** tx_isp_video_s_stream: All subdev initialization complete - proceeding with s_stream ***
[   38.519224] *** tx_isp_video_s_stream: Calling subdev[0]->ops->video->s_stream(1) ***
[   38.519230] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   38.519236] csi_video_s_stream: sd=80564000, enable=1
[   38.519242] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   38.519248] *** tx_isp_video_s_stream: subdev[0] s_stream SUCCESS ***
[   38.519255] *** tx_isp_video_s_stream: Calling subdev[1]->ops->video->s_stream(1) ***
[   38.519262] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80564400, enable=1 ***
[   38.519268] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=3 ***
[   38.519273] *** vic_core_s_stream: STREAM ON ***
[   38.519278] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   38.519284] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   38.519290] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   38.519296] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   38.519304] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   38.519310] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   38.519318] *** DEBUG: sensor_attr=c06e20cc, dbus_type=1 ***
[   38.519324] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   38.519330] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   38.519336] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   38.519342] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   38.519347] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   38.519353] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   38.549135] MIPI interface configuration
[   38.549149] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   38.549155] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   38.549161] *** VIC UNLOCK: Initial register 0x0 value = 0x00000000 ***
[   38.549168] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   38.549174] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   38.549181] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   38.549187] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   38.569102] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   38.569152] *** Continuing anyway to prevent infinite hang ***
[   38.569160] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   38.569166] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   38.569173] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   38.576324] tx_isp_vic_start: Linear mode enabled
[   38.576337] *** VIC start completed - vic_start_ok = 1 ***
[   38.576344] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   38.576350] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   38.576356] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   38.576364] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   38.576370] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   38.576378] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   38.576384] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   38.576390] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   38.576396] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   38.576403] ispvic_frame_channel_s_stream: arg1=80564400, arg2=1
[   38.576410] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80564400
[   38.576416] ispvic_frame_channel_s_stream[2524]: streamon
[   38.576422] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   38.576428] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   38.576434] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   38.576440] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   38.576446] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   38.576453] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   38.576458] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   38.576466] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   38.576472] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   38.576478] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   38.576483] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   38.576489] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   38.576495] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   38.576503] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   38.576510] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   38.576518] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   38.576526] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   38.576533] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   38.576539] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   38.576545] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   38.576550] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   38.576558] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   38.576573] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   38.576580] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   38.576586] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   38.576591] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   38.576597] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   38.576602] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   38.576616] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   38.576624] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   38.576690] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   38.576702] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   38.576708] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   38.576717] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   38.576724] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   38.576729] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   38.576738] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   38.576746] *** VIC UNMASK-ALL TEST: [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (expect 0) ***
[   38.577772] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   38.577778] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   38.577784] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   38.577892] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   38.577901] *** CRITICAL: isp_irq_handle: IRQ 38 received, dev_id=80480000 ***
[   38.585348] *** isp_irq_handle: IRQ 38 received, dev_id=80480000 ***
[   38.585354] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   38.593070] *** VIC INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   38.601141] *** VIC IRQ: About to access isp_dev->vic_dev, isp_dev=80480000 ***
[   38.608675] *** VIC IRQ: Got vic_dev=80564400 ***
[   38.613527] *** VIC IRQ: Checking vic_dev validity: vic_dev=80564400 ***
[   38.620434] *** VIC IRQ: About to access vic_dev->vic_regs ***
[   38.626452] *** VIC IRQ: Got vic_regs=b33e0000 ***
[   38.631395] *** VIC IRQ: Checking vic_regs validity: vic_regs=b33e0000 ***
[   38.638480] *** VIC IRQ: vic_regs passed validity check - proceeding with register access ***
[   38.647279] *** VIC IRQ: About to read VIC registers at b33e0000 ***
[   38.653834] *** VIC IRQ: Using base b33e0000 [1e0]=0x200000 [1e4]=0x0 [1e8]=0xffdffffe [1ec]=0x0 ***
[   38.663263] *** VIC IRQ: CTRL[0x300]=0x80040020 DIMS[0x304]=0x7800438 STRIDE[0x310]=0xf00 ***
[   38.672058] *** VIC IRQ: Calculated v1_7 = 0x200000 v1_10 = 0x0 ***
[   38.678522] *** VIC IRQ: About to write v1_7=0x200000 to reg 0x1f0 (base=b33e0000) ***
[   38.686688] *** VIC IRQ: About to write v1_10=0x0 to reg 0x1f4 (base=b33e0000) ***
[   38.694492] *** VIC IRQ: Register writes completed (at base=b33e0000) ***
[   38.701483] *** VIC IRQ: Restored enables(0x1e0|=1) and MainMask=0xFFDFFFFE (allow framedone+bit21) ***
[   38.711174] *** VIC IRQ: About to check vic_start_ok - vic_start_ok=1 ***
[   38.718172] *** VIC IRQ: vic_start_ok=1, v1_7=0x200000, v1_10=0x0 ***
[   38.724813] *** VIC IRQ: No frame done interrupt (v1_7 & 1 = 0) ***
[   38.731276] *** VIC ERROR: control limit error (bit 21) ***
[   38.737019] *** VIC IRQ COMPLETE: Processed v1_7=0x200000, v1_10=0x0 - returning IRQ_HANDLED ***
[   38.999179] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   39.000635] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   39.001021] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   39.001031] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   39.001179] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   39.001186] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   39.001192] tx_vic_enable_irq: Calling VIC interrupt callback
[   39.001199] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   39.001206] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   39.001212] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   39.001221] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   39.001227] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   39.001235] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   39.001241] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   39.001248] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   39.001254] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   39.001577] *** tx_vic_enable_irq: completed successfully ***
[   39.434653] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   39.444835] *** vic_core_s_stream: VIC state transition 3  4 (STREAMING) ***
[   39.444848] *** VIC STATE 4: Calling ispcore_slake_module to initialize ISP core ***
[   39.444855] *** ispcore_slake_module: EXACT Binary Ninja MCP implementation ***
[   39.444863] ispcore_slake_module: VIC device=80564400, state=4ispcore_slake_module: ISP state >= 3, calling ispcore_core_ops_init
[   39.444871] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   39.444881] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   39.444888] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   39.444893] ispcore_slake_module: Using sensor attributes from connected sensor
[   39.444899] *** ispcore_core_ops_init_with_sensor: GOOD-THINGS approach - isp=80480000, sensor_attr=c06e20cc ****** ispcore_core_ops_init_with_sensor: Calling tisp_init with sensor parameters (good-things approach) ***
[   39.444909] *** This will configure MIPI CSI lanes and enable proper interrupt flow ****** ispcore_core_ops_init_with_sensor: Calling tisp_init(&sensor_params, "gc2053") ***
[   39.444918] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   39.444924] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   39.444931] *** tisp_init: Invalid sensor dimensions 28012x49255, using defaults 1920x1080 ***
[   39.444937] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 1920x1080 ***
[   39.444944] tisp_init: Initializing ISP hardware for sensor (1920x1080)
[   39.444949] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   39.444955] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   39.444961] tisp_event_init: Initializing ISP event system
[   39.444967] tisp_event_init: SAFE event system initialized with 20 nodes
[   39.444973] tisp_event_set_cb: Setting callback for event 4
[   39.444980] tisp_event_set_cb: Event 4 callback set to c0685830
[   39.444986] tisp_event_set_cb: Setting callback for event 5
[   39.444992] tisp_event_set_cb: Event 5 callback set to c0685cf8
[   39.444998] tisp_event_set_cb: Setting callback for event 7
[   39.445004] tisp_event_set_cb: Event 7 callback set to c06858c4
[   39.445009] tisp_event_set_cb: Setting callback for event 9
[   39.445016] tisp_event_set_cb: Event 9 callback set to c068594c
[   39.445021] tisp_event_set_cb: Setting callback for event 8
[   39.445028] tisp_event_set_cb: Event 8 callback set to c0685a10
[   39.445035] *** system_irq_func_set: Registered handler c067e044 at index 13 ***
[   39.459143] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   39.459159] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   39.459167] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   39.459174] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   39.459181] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   39.459188] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   39.459195] system_reg_write: BLOCKED core-control reg[0xb018]=0x40404040 during streaming (preserve interrupts)
[   39.459203] system_reg_write: BLOCKED core-control reg[0xb01c]=0x40404040 during streaming (preserve interrupts)
[   39.459210] system_reg_write: BLOCKED core-control reg[0xb020]=0x40404040 during streaming (preserve interrupts)
[   39.459217] system_reg_write: BLOCKED core-control reg[0xb024]=0x404040 during streaming (preserve interrupts)
[   39.459225] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   39.459231] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   39.459238] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   39.459245] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   39.459252] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   39.459259] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   39.459265] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   39.459271] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   39.459277] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   39.459284] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   39.459291] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   39.459297] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   39.459303] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   39.459309] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   39.459315] system_reg_write: BLOCKED reg[0x9804]=0x3f00 during streaming to protect interrupts
[   39.459323] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   39.459329] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   39.459336] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   39.459343] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   39.459349] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   39.459356] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   39.459363] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   39.459369] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   39.459375] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   39.459382] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   39.459389] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   39.459396] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   39.459403] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   39.459409] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   39.459415] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   39.459422] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   39.459429] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   39.459435] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   39.459441] *** TUNING SYSTEM: VIC control registers 0x9ac0/0x9ac8 REMOVED - not in Binary Ninja reference ***
[   39.459449] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 1920x1080)
[   39.459456] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   39.459463] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   39.459469] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   39.459475] *** tisp_init: ISP control register set to enable processing pipeline ***
[   39.459481] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   39.459487] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   39.459494] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   39.459499] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   39.459506] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   39.459513] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   39.459523] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=80480000 ***
[   39.466979] *** isp_irq_handle: IRQ 37 received, dev_id=80480000 ***
[   39.466984] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   39.474703] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=80480000 ***
[   39.482149] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   39.489870] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
[   39.497403] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   39.503597] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   39.511675] *** ISP CORE: ABOUT TO CALL callback[10] for bit 10 - callback=c0686a08 ***
[   39.519926] *** ISP CORE: CALLING CALLBACK NOW - IF SYSTEM HANGS, THIS CALLBACK IS THE PROBLEM ***
[   39.529173] ae0_interrupt_static: Processing AE0 static interrupt
[   39.529179] *** AE0: Processing interrupt using register-based statistics (Binary Ninja MCP) ***
[   39.529185] ae0_interrupt_static: AE0 static interrupt processed
[   39.529191] *** ISP CORE: CALLBACK RETURNED SUCCESSFULLY - callback[10] returned 1 ***
[   39.537364] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
[   39.644482] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   39.644497] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   39.644503] *** tisp_init: STREAMING ACTIVE - Skipping ISP control register write to prevent shutdown ***
[   39.644508] *** tisp_init: VIC streaming detected - keeping ISP controls enabled ***
[   39.644515] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   39.644523] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=SKIPPED, 0x800=1 ***
[   39.644530] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   39.644537] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   39.644544] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   39.644550] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   39.644556] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   39.644562] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   39.644569] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   39.644576] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   39.644582] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   39.644589] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   39.644596] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   39.644602] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   39.644611] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   39.644618] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   39.644625] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   39.644632] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   39.644638] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   39.644645] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   39.644650] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   39.644656] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   39.644662] *** This should eliminate green frames by enabling proper color processing ***
[   39.644668] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   39.644675] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   39.644682] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   39.644688] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   39.644695] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   39.644702] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   39.644708] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   39.644715] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   39.644722] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   39.644727] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   39.644732] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   39.644738] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   39.644743] *** tisp_init: Standard tuning parameters loaded successfully ***
[   39.644749] *** tisp_init: Custom tuning parameters loaded successfully ***
[   39.644755] tisp_set_csc_version: Setting CSC version 0
[   39.644762] *** SYSTEM_REG_WRITE: reg[0xc] = 0x80700008 (Binary Ninja EXACT) ***
[   39.644768] *** CRITICAL FIX: ISP bypass register set to EXACT reference value 0x80700008 - prevents hardware reset ***
[   39.644774] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   39.644780] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   39.644787] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   39.644793] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   39.644798] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   39.644804] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   39.644811] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   39.644817] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   39.644823] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   39.644830] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   39.644835] *** tisp_init: ISP processing pipeline fully enabled ***
[   39.644842] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   39.644848] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
d[   39.644878] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   39.644886] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   39.644894] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   39.644898] tisp_init: ISP memory buffers configured
[   39.644904] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   39.644911] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   39.644920] tiziano_ae_params_refresh: Refreshing AE parameters
[   39.644932] tiziano_ae_params_refresh: AE parameters refreshed
[   39.644937] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   39.644943] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   39.644948] tiziano_ae_para_addr: Setting up AE parameter addresses
[   39.644954] tiziano_ae_para_addr: AE parameter addresses configured
[   39.644960] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   39.644968] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   39.644974] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   39.644981] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   39.644988] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   39.644995] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   39.645002] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   39.645009] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7fd814 (Binary Ninja EXACT) ***
[   39.645016] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   39.645022] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   39.645029] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   39.645036] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   39.645042] tiziano_ae_set_hardware_param: Parameters written to AE0
[   39.645048] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   39.645054] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   39.645061] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   39.645068] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   39.645074] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   39.645080] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   39.645087] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   39.645094] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   39.645100] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   39.645107] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   39.645114] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   39.645120] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   39.645126] tiziano_ae_set_hardware_param: Parameters written to AE1
[   39.645132] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   39.645140] *** system_irq_func_set: Registered handler c0686a08 at index 10 ***
[   39.661606] *** system_irq_func_set: Registered handler c0686afc at index 27 ***
[   39.679155] *** system_irq_func_set: Registered handler c0686a08 at index 26 ***
[   39.694262] *** system_irq_func_set: Registered handler c0686be4 at index 29 ***
[   39.709168] *** system_irq_func_set: Registered handler c0686b70 at index 28 ***
[   39.726981] *** system_irq_func_set: Registered handler c0686c58 at index 30 ***
[   39.740379] *** system_irq_func_set: Registered handler c0686cac at index 20 ***
[   39.758291] *** system_irq_func_set: Registered handler c0686d00 at index 18 ***
[   39.775186] *** system_irq_func_set: Registered handler c0686d54 at index 31 ***
[   39.789156] *** system_irq_func_set: Registered handler c0686da8 at index 11 ***
[   39.807036] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   39.807058] tiziano_deflicker_expt: Generated 119 LUT entries
[   39.807065] tisp_event_set_cb: Setting callback for event 1
[   39.807072] tisp_event_set_cb: Event 1 callback set to c0686608
[   39.807078] tisp_event_set_cb: Setting callback for event 6
[   39.807084] tisp_event_set_cb: Event 6 callback set to c0685b68
[   39.807090] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   39.807096] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   39.807104] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   39.807111] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   39.807118] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   39.807123] tiziano_awb_init: AWB hardware blocks enabled
[   39.807128] tiziano_gamma_init: Initializing Gamma processing
[   39.807134] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   39.807193] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   39.807199] tiziano_gib_init: Initializing GIB processing
[   39.807204] tiziano_lsc_init: Initializing LSC processing
[   39.807209] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   39.807216] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   39.807222] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   39.807230] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   39.807235] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   39.807293] tiziano_ccm_init: Initializing Color Correction Matrix
[   39.807298] tiziano_ccm_init: Using linear CCM parameters
[   39.807304] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   39.807310] jz_isp_ccm: EV=64, CT=9984
[   39.807317] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   39.807322] cm_control: saturation=128
[   39.807328] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   39.807334] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   39.807339] tiziano_ccm_init: CCM initialized successfully
[   39.807344] tiziano_dmsc_init: Initializing DMSC processing
[   39.807350] tiziano_sharpen_init: Initializing Sharpening
[   39.807354] tiziano_sharpen_init: Using linear sharpening parameters
[   39.807360] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   39.807367] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   39.807373] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   39.807399] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   39.807406] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   39.807411] tiziano_sharpen_init: Sharpening initialized successfully
[   39.807416] tiziano_sdns_init: Initializing SDNS processing
[   39.807424] tiziano_sdns_init: Using linear SDNS parameters
[   39.807430] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   39.807437] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   39.807442] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   39.807475] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   39.807482] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   39.807487] tiziano_sdns_init: SDNS processing initialized successfully
[   39.807494] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   39.807499] tiziano_mdns_init: Using linear MDNS parameters
[   39.807509] tiziano_mdns_init: MDNS processing initialized successfully
[   39.807514] tiziano_clm_init: Initializing CLM processing
[   39.807519] tiziano_dpc_init: Initializing DPC processing
[   39.807524] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   39.807530] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   39.807537] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   39.807542] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
m[   39.807557] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   39.807564] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   39.807570] tiziano_hldc_init: Initializing HLDC processing
[   39.807576] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   39.807582] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   39.807588] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   39.807596] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   39.807602] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   39.807609] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   39.807616] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   39.807623] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   39.807630] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   39.807636] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   39.807643] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   39.807650] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   39.807657] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   39.807662] tiziano_adr_params_refresh: Refreshing ADR parameters
[   39.807668] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   39.807674] tiziano_adr_params_init: Initializing ADR parameter arrays
[   39.807680] tisp_adr_set_params: Writing ADR parameters to registers
[   39.807713] tisp_adr_set_params: ADR parameters written to hardware
[   39.807718] tisp_event_set_cb: Setting callback for event 18
[   39.807725] tisp_event_set_cb: Event 18 callback set to c0686d00
[   39.807730] tisp_event_set_cb: Setting callback for event 2
[   39.807737] tisp_event_set_cb: Event 2 callback set to c0685804
[   39.807742] tiziano_adr_init: ADR processing initialized successfully
[   39.807748] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   39.807754] tiziano_bcsh_init: Initializing BCSH processing
[   39.807758] tiziano_ydns_init: Initializing YDNS processing
[   39.807764] tiziano_rdns_init: Initializing RDNS processing
[   39.807769] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   39.807782] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x11c0000 (Binary Ninja EXACT) ***
[   39.807790] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x11c1000 (Binary Ninja EXACT) ***
[   39.807796] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x11c2000 (Binary Ninja EXACT) ***
[   39.807803] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x11c3000 (Binary Ninja EXACT) ***
[   39.807810] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x11c4000 (Binary Ninja EXACT) ***
[   39.807817] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x11c4800 (Binary Ninja EXACT) ***
[   39.807824] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x11c5000 (Binary Ninja EXACT) ***
[   39.807831] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x11c5800 (Binary Ninja EXACT) ***
[   39.807838] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   39.807844] *** tisp_init: AE0 buffer allocated at 0x011c0000 ***
[   39.807850] *** CRITICAL FIX: data_b2f3c initialized to 0x811c0000 (prevents stack corruption) ***
[   39.807858] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x11c8000 (Binary Ninja EXACT) ***
[   39.807865] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x11c9000 (Binary Ninja EXACT) ***
[   39.807872] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x11ca000 (Binary Ninja EXACT) ***
[   39.807879] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x11cb000 (Binary Ninja EXACT) ***
[   39.807886] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x11cc000 (Binary Ninja EXACT) ***
[   39.807893] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x11cc800 (Binary Ninja EXACT) ***
[   39.807900] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x11cd000 (Binary Ninja EXACT) ***
[   39.807907] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x11cd800 (Binary Ninja EXACT) ***
[   39.807914] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   39.807920] *** tisp_init: AE1 buffer allocated at 0x011c8000 ***
[   39.807924] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   39.807931] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   39.807936] *** tisp_init: STREAMING ACTIVE - Skipping second ISP control register write ***
[   39.807943] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   39.807948] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   39.807956] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   39.807964] tiziano_ae_params_refresh: Refreshing AE parameters
[   39.807974] tiziano_ae_params_refresh: AE parameters refreshed
[   39.807980] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   39.807986] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   39.807991] tiziano_ae_para_addr: Setting up AE parameter addresses
[   39.807996] tiziano_ae_para_addr: AE parameter addresses configured
[   39.808002] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   39.808010] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   39.808016] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   39.808024] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   39.808030] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   39.808037] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   39.808044] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   39.808051] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7fd814 (Binary Ninja EXACT) ***
[   39.808058] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   39.808064] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   39.808071] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   39.808078] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   39.808084] tiziano_ae_set_hardware_param: Parameters written to AE0
[   39.808090] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   39.808097] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   39.808103] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   39.808110] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   39.808116] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   39.808123] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   39.808130] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   39.808136] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   39.808142] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   39.808149] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   39.808156] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   39.808162] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   39.808168] tiziano_ae_set_hardware_param: Parameters written to AE1
[   39.808174] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   39.808181] *** system_irq_func_set: Registered handler c0686a08 at index 10 ***
[   39.827240] *** system_irq_func_set: Registered handler c0686afc at index 27 ***
[   39.834913] *** system_irq_func_set: Registered handler c0686a08 at index 26 ***
[   39.852684] *** system_irq_func_set: Registered handler c0686be4 at index 29 ***
[   39.869158] *** system_irq_func_set: Registered handler c0686b70 at index 28 ***
[   39.884985] *** system_irq_func_set: Registered handler c0686c58 at index 30 ***	
root@ing-wyze-cam3-a000 ~# dmesg 
[   39.001186] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   39.001192] tx_vic_enable_irq: Calling VIC interrupt callback
[   39.001199] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   39.001206] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   39.001212] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   39.001221] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   39.001227] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   39.001235] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   39.001241] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   39.001248] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   39.001254] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   39.001577] *** tx_vic_enable_irq: completed successfully ***
[   39.434653] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   39.444835] *** vic_core_s_stream: VIC state transition 3  4 (STREAMING) ***
[   39.444848] *** VIC STATE 4: Calling ispcore_slake_module to initialize ISP core ***
[   39.444855] *** ispcore_slake_module: EXACT Binary Ninja MCP implementation ***
[   39.444863] ispcore_slake_module: VIC device=80564400, state=4ispcore_slake_module: ISP state >= 3, calling ispcore_core_ops_init
[   39.444871] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   39.444881] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   39.444888] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   39.444893] ispcore_slake_module: Using sensor attributes from connected sensor
[   39.444899] *** ispcore_core_ops_init_with_sensor: GOOD-THINGS approach - isp=80480000, sensor_attr=c06e20cc ****** ispcore_core_ops_init_with_sensor: Calling tisp_init with sensor parameters (good-things approach) ***
[   39.444909] *** This will configure MIPI CSI lanes and enable proper interrupt flow ****** ispcore_core_ops_init_with_sensor: Calling tisp_init(&sensor_params, "gc2053") ***
[   39.444918] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   39.444924] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   39.444931] *** tisp_init: Invalid sensor dimensions 28012x49255, using defaults 1920x1080 ***
[   39.444937] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 1920x1080 ***
[   39.444944] tisp_init: Initializing ISP hardware for sensor (1920x1080)
[   39.444949] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   39.444955] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   39.444961] tisp_event_init: Initializing ISP event system
[   39.444967] tisp_event_init: SAFE event system initialized with 20 nodes
[   39.444973] tisp_event_set_cb: Setting callback for event 4
[   39.444980] tisp_event_set_cb: Event 4 callback set to c0685830
[   39.444986] tisp_event_set_cb: Setting callback for event 5
[   39.444992] tisp_event_set_cb: Event 5 callback set to c0685cf8
[   39.444998] tisp_event_set_cb: Setting callback for event 7
[   39.445004] tisp_event_set_cb: Event 7 callback set to c06858c4
[   39.445009] tisp_event_set_cb: Setting callback for event 9
[   39.445016] tisp_event_set_cb: Event 9 callback set to c068594c
[   39.445021] tisp_event_set_cb: Setting callback for event 8
[   39.445028] tisp_event_set_cb: Event 8 callback set to c0685a10
[   39.445035] *** system_irq_func_set: Registered handler c067e044 at index 13 ***
[   39.459143] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   39.459159] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   39.459167] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   39.459174] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   39.459181] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   39.459188] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   39.459195] system_reg_write: BLOCKED core-control reg[0xb018]=0x40404040 during streaming (preserve interrupts)
[   39.459203] system_reg_write: BLOCKED core-control reg[0xb01c]=0x40404040 during streaming (preserve interrupts)
[   39.459210] system_reg_write: BLOCKED core-control reg[0xb020]=0x40404040 during streaming (preserve interrupts)
[   39.459217] system_reg_write: BLOCKED core-control reg[0xb024]=0x404040 during streaming (preserve interrupts)
[   39.459225] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   39.459231] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   39.459238] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   39.459245] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   39.459252] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   39.459259] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   39.459265] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   39.459271] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   39.459277] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   39.459284] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   39.459291] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   39.459297] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   39.459303] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   39.459309] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   39.459315] system_reg_write: BLOCKED reg[0x9804]=0x3f00 during streaming to protect interrupts
[   39.459323] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   39.459329] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   39.459336] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   39.459343] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   39.459349] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   39.459356] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   39.459363] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   39.459369] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   39.459375] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   39.459382] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   39.459389] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   39.459396] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   39.459403] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   39.459409] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   39.459415] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   39.459422] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   39.459429] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   39.459435] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   39.459441] *** TUNING SYSTEM: VIC control registers 0x9ac0/0x9ac8 REMOVED - not in Binary Ninja reference ***
[   39.459449] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 1920x1080)
[   39.459456] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   39.459463] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   39.459469] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   39.459475] *** tisp_init: ISP control register set to enable processing pipeline ***
[   39.459481] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   39.459487] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   39.459494] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   39.459499] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   39.459506] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   39.459513] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   39.459523] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=80480000 ***
[   39.466979] *** isp_irq_handle: IRQ 37 received, dev_id=80480000 ***
[   39.466984] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   39.474703] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=80480000 ***
[   39.482149] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   39.489870] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
[   39.497403] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   39.503597] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   39.511675] *** ISP CORE: ABOUT TO CALL callback[10] for bit 10 - callback=c0686a08 ***
[   39.519926] *** ISP CORE: CALLING CALLBACK NOW - IF SYSTEM HANGS, THIS CALLBACK IS THE PROBLEM ***
[   39.529173] ae0_interrupt_static: Processing AE0 static interrupt
[   39.529179] *** AE0: Processing interrupt using register-based statistics (Binary Ninja MCP) ***
[   39.529185] ae0_interrupt_static: AE0 static interrupt processed
[   39.529191] *** ISP CORE: CALLBACK RETURNED SUCCESSFULLY - callback[10] returned 1 ***
[   39.537364] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
[   39.644482] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   39.644497] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   39.644503] *** tisp_init: STREAMING ACTIVE - Skipping ISP control register write to prevent shutdown ***
[   39.644508] *** tisp_init: VIC streaming detected - keeping ISP controls enabled ***
[   39.644515] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   39.644523] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=SKIPPED, 0x800=1 ***
[   39.644530] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   39.644537] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   39.644544] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   39.644550] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   39.644556] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   39.644562] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   39.644569] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   39.644576] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   39.644582] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   39.644589] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   39.644596] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   39.644602] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   39.644611] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   39.644618] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   39.644625] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   39.644632] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   39.644638] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   39.644645] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   39.644650] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   39.644656] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   39.644662] *** This should eliminate green frames by enabling proper color processing ***
[   39.644668] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   39.644675] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   39.644682] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   39.644688] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   39.644695] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   39.644702] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   39.644708] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   39.644715] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   39.644722] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   39.644727] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   39.644732] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   39.644738] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   39.644743] *** tisp_init: Standard tuning parameters loaded successfully ***
[   39.644749] *** tisp_init: Custom tuning parameters loaded successfully ***
[   39.644755] tisp_set_csc_version: Setting CSC version 0
[   39.644762] *** SYSTEM_REG_WRITE: reg[0xc] = 0x80700008 (Binary Ninja EXACT) ***
[   39.644768] *** CRITICAL FIX: ISP bypass register set to EXACT reference value 0x80700008 - prevents hardware reset ***
[   39.644774] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   39.644780] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   39.644787] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   39.644793] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   39.644798] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   39.644804] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   39.644811] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   39.644817] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   39.644823] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   39.644830] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   39.644835] *** tisp_init: ISP processing pipeline fully enabled ***
[   39.644842] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   39.644848] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   39.644878] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   39.644886] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   39.644894] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   39.644898] tisp_init: ISP memory buffers configured
[   39.644904] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   39.644911] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   39.644920] tiziano_ae_params_refresh: Refreshing AE parameters
[   39.644932] tiziano_ae_params_refresh: AE parameters refreshed
[   39.644937] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   39.644943] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   39.644948] tiziano_ae_para_addr: Setting up AE parameter addresses
[   39.644954] tiziano_ae_para_addr: AE parameter addresses configured
[   39.644960] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   39.644968] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   39.644974] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   39.644981] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   39.644988] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   39.644995] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   39.645002] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   39.645009] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7fd814 (Binary Ninja EXACT) ***
[   39.645016] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   39.645022] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   39.645029] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   39.645036] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   39.645042] tiziano_ae_set_hardware_param: Parameters written to AE0
[   39.645048] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   39.645054] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   39.645061] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   39.645068] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   39.645074] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   39.645080] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   39.645087] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   39.645094] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   39.645100] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   39.645107] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   39.645114] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   39.645120] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   39.645126] tiziano_ae_set_hardware_param: Parameters written to AE1
[   39.645132] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   39.645140] *** system_irq_func_set: Registered handler c0686a08 at index 10 ***
[   39.661606] *** system_irq_func_set: Registered handler c0686afc at index 27 ***
[   39.679155] *** system_irq_func_set: Registered handler c0686a08 at index 26 ***
[   39.694262] *** system_irq_func_set: Registered handler c0686be4 at index 29 ***
[   39.709168] *** system_irq_func_set: Registered handler c0686b70 at index 28 ***
[   39.726981] *** system_irq_func_set: Registered handler c0686c58 at index 30 ***
[   39.740379] *** system_irq_func_set: Registered handler c0686cac at index 20 ***
[   39.758291] *** system_irq_func_set: Registered handler c0686d00 at index 18 ***
[   39.775186] *** system_irq_func_set: Registered handler c0686d54 at index 31 ***
[   39.789156] *** system_irq_func_set: Registered handler c0686da8 at index 11 ***
[   39.807036] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   39.807058] tiziano_deflicker_expt: Generated 119 LUT entries
[   39.807065] tisp_event_set_cb: Setting callback for event 1
[   39.807072] tisp_event_set_cb: Event 1 callback set to c0686608
[   39.807078] tisp_event_set_cb: Setting callback for event 6
[   39.807084] tisp_event_set_cb: Event 6 callback set to c0685b68
[   39.807090] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   39.807096] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   39.807104] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   39.807111] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   39.807118] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   39.807123] tiziano_awb_init: AWB hardware blocks enabled
[   39.807128] tiziano_gamma_init: Initializing Gamma processing
[   39.807134] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   39.807193] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   39.807199] tiziano_gib_init: Initializing GIB processing
[   39.807204] tiziano_lsc_init: Initializing LSC processing
[   39.807209] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   39.807216] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   39.807222] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   39.807230] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   39.807235] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   39.807293] tiziano_ccm_init: Initializing Color Correction Matrix
[   39.807298] tiziano_ccm_init: Using linear CCM parameters
[   39.807304] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   39.807310] jz_isp_ccm: EV=64, CT=9984
[   39.807317] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   39.807322] cm_control: saturation=128
[   39.807328] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   39.807334] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   39.807339] tiziano_ccm_init: CCM initialized successfully
[   39.807344] tiziano_dmsc_init: Initializing DMSC processing
[   39.807350] tiziano_sharpen_init: Initializing Sharpening
[   39.807354] tiziano_sharpen_init: Using linear sharpening parameters
[   39.807360] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   39.807367] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   39.807373] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   39.807399] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   39.807406] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   39.807411] tiziano_sharpen_init: Sharpening initialized successfully
[   39.807416] tiziano_sdns_init: Initializing SDNS processing
[   39.807424] tiziano_sdns_init: Using linear SDNS parameters
[   39.807430] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   39.807437] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   39.807442] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   39.807475] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   39.807482] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   39.807487] tiziano_sdns_init: SDNS processing initialized successfully
[   39.807494] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   39.807499] tiziano_mdns_init: Using linear MDNS parameters
[   39.807509] tiziano_mdns_init: MDNS processing initialized successfully
[   39.807514] tiziano_clm_init: Initializing CLM processing
[   39.807519] tiziano_dpc_init: Initializing DPC processing
[   39.807524] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   39.807530] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   39.807537] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   39.807542] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   39.807557] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   39.807564] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   39.807570] tiziano_hldc_init: Initializing HLDC processing
[   39.807576] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   39.807582] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   39.807588] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   39.807596] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   39.807602] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   39.807609] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   39.807616] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   39.807623] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   39.807630] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   39.807636] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   39.807643] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   39.807650] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   39.807657] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   39.807662] tiziano_adr_params_refresh: Refreshing ADR parameters
[   39.807668] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   39.807674] tiziano_adr_params_init: Initializing ADR parameter arrays
[   39.807680] tisp_adr_set_params: Writing ADR parameters to registers
[   39.807713] tisp_adr_set_params: ADR parameters written to hardware
[   39.807718] tisp_event_set_cb: Setting callback for event 18
[   39.807725] tisp_event_set_cb: Event 18 callback set to c0686d00
[   39.807730] tisp_event_set_cb: Setting callback for event 2
[   39.807737] tisp_event_set_cb: Event 2 callback set to c0685804
[   39.807742] tiziano_adr_init: ADR processing initialized successfully
[   39.807748] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   39.807754] tiziano_bcsh_init: Initializing BCSH processing
[   39.807758] tiziano_ydns_init: Initializing YDNS processing
[   39.807764] tiziano_rdns_init: Initializing RDNS processing
[   39.807769] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   39.807782] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x11c0000 (Binary Ninja EXACT) ***
[   39.807790] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x11c1000 (Binary Ninja EXACT) ***
[   39.807796] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x11c2000 (Binary Ninja EXACT) ***
[   39.807803] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x11c3000 (Binary Ninja EXACT) ***
[   39.807810] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x11c4000 (Binary Ninja EXACT) ***
[   39.807817] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x11c4800 (Binary Ninja EXACT) ***
[   39.807824] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x11c5000 (Binary Ninja EXACT) ***
[   39.807831] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x11c5800 (Binary Ninja EXACT) ***
[   39.807838] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   39.807844] *** tisp_init: AE0 buffer allocated at 0x011c0000 ***
[   39.807850] *** CRITICAL FIX: data_b2f3c initialized to 0x811c0000 (prevents stack corruption) ***
[   39.807858] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x11c8000 (Binary Ninja EXACT) ***
[   39.807865] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x11c9000 (Binary Ninja EXACT) ***
[   39.807872] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x11ca000 (Binary Ninja EXACT) ***
[   39.807879] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x11cb000 (Binary Ninja EXACT) ***
[   39.807886] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x11cc000 (Binary Ninja EXACT) ***
[   39.807893] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x11cc800 (Binary Ninja EXACT) ***
[   39.807900] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x11cd000 (Binary Ninja EXACT) ***
[   39.807907] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x11cd800 (Binary Ninja EXACT) ***
[   39.807914] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   39.807920] *** tisp_init: AE1 buffer allocated at 0x011c8000 ***
[   39.807924] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   39.807931] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   39.807936] *** tisp_init: STREAMING ACTIVE - Skipping second ISP control register write ***
[   39.807943] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   39.807948] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   39.807956] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   39.807964] tiziano_ae_params_refresh: Refreshing AE parameters
[   39.807974] tiziano_ae_params_refresh: AE parameters refreshed
[   39.807980] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   39.807986] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   39.807991] tiziano_ae_para_addr: Setting up AE parameter addresses
[   39.807996] tiziano_ae_para_addr: AE parameter addresses configured
[   39.808002] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   39.808010] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   39.808016] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   39.808024] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   39.808030] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   39.808037] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   39.808044] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   39.808051] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7fd814 (Binary Ninja EXACT) ***
[   39.808058] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   39.808064] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   39.808071] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   39.808078] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   39.808084] tiziano_ae_set_hardware_param: Parameters written to AE0
[   39.808090] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   39.808097] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   39.808103] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   39.808110] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   39.808116] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   39.808123] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   39.808130] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   39.808136] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   39.808142] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   39.808149] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   39.808156] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   39.808162] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   39.808168] tiziano_ae_set_hardware_param: Parameters written to AE1
[   39.808174] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   39.808181] *** system_irq_func_set: Registered handler c0686a08 at index 10 ***
[   39.827240] *** system_irq_func_set: Registered handler c0686afc at index 27 ***
[   39.834913] *** system_irq_func_set: Registered handler c0686a08 at index 26 ***
[   39.852684] *** system_irq_func_set: Registered handler c0686be4 at index 29 ***
[   39.869158] *** system_irq_func_set: Registered handler c0686b70 at index 28 ***
[   39.884985] *** system_irq_func_set: Registered handler c0686c58 at index 30 ***
[   39.911666] *** system_irq_func_set: Registered handler c0686cac at index 20 ***
[   39.930881] *** system_irq_func_set: Registered handler c0686d00 at index 18 ***
[   39.938515] *** system_irq_func_set: Registered handler c0686d54 at index 31 ***
[   39.966452] *** system_irq_func_set: Registered handler c0686da8 at index 11 ***
[   39.976532] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   39.976551] tiziano_deflicker_expt: Generated 119 LUT entries
[   39.976558] tisp_event_set_cb: Setting callback for event 1
[   39.976564] tisp_event_set_cb: Event 1 callback set to c0686608
[   39.976570] tisp_event_set_cb: Setting callback for event 6
[   39.976577] tisp_event_set_cb: Event 6 callback set to c0685b68
[   39.976582] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   39.976588] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   39.976596] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   39.976604] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   39.976610] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   39.976616] tiziano_awb_init: AWB hardware blocks enabled
[   39.976621] tiziano_gamma_init: Initializing Gamma processing
[   39.976626] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   39.976686] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   39.976692] tiziano_gib_init: Initializing GIB processing
[   39.976697] tiziano_lsc_init: Initializing LSC processing
[   39.976702] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   39.976709] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   39.976716] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   39.976722] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   39.976728] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   39.976786] tiziano_ccm_init: Initializing Color Correction Matrix
[   39.976791] tiziano_ccm_init: Using linear CCM parameters
[   39.976797] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   39.976804] jz_isp_ccm: EV=64, CT=9984
[   39.976810] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   39.976816] cm_control: saturation=128
[   39.976821] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   39.976828] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   39.976832] tiziano_ccm_init: CCM initialized successfully
[   39.976838] tiziano_dmsc_init: Initializing DMSC processing
[   39.976843] tiziano_sharpen_init: Initializing Sharpening
[   39.976848] tiziano_sharpen_init: Using linear sharpening parameters
[   39.976854] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   39.976860] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   39.976866] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   39.976893] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   39.976900] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   39.976905] tiziano_sharpen_init: Sharpening initialized successfully
[   39.976910] tiziano_sdns_init: Initializing SDNS processing
[   39.976918] tiziano_sdns_init: Using linear SDNS parameters
[   39.976924] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   39.976931] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   39.976937] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   39.976970] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   39.976976] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   39.976982] tiziano_sdns_init: SDNS processing initialized successfully
[   39.976988] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   39.976993] tiziano_mdns_init: Using linear MDNS parameters
[   39.977004] tiziano_mdns_init: MDNS processing initialized successfully
[   39.977009] tiziano_clm_init: Initializing CLM processing
[   39.977014] tiziano_dpc_init: Initializing DPC processing
[   39.977019] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   39.977025] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   39.977032] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   39.977038] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   39.977052] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   39.977059] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   39.977065] tiziano_hldc_init: Initializing HLDC processing
[   39.977071] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   39.977078] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   39.977084] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   39.977091] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   39.977098] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   39.977105] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   39.977112] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   39.977118] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   39.977125] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   39.977132] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   39.977139] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   39.977146] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   39.977152] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   39.977158] tiziano_adr_params_refresh: Refreshing ADR parameters
[   39.977164] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   39.977170] tiziano_adr_params_init: Initializing ADR parameter arrays
[   39.977176] tisp_adr_set_params: Writing ADR parameters to registers
[   39.977208] tisp_adr_set_params: ADR parameters written to hardware
[   39.977214] tisp_event_set_cb: Setting callback for event 18
[   39.977221] tisp_event_set_cb: Event 18 callback set to c0686d00
[   39.977227] tisp_event_set_cb: Setting callback for event 2
[   39.977234] tisp_event_set_cb: Event 2 callback set to c0685804
[   39.977238] tiziano_adr_init: ADR processing initialized successfully
d[   39.977245] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   39.977250] tiziano_bcsh_init: Initializing BCSH processing
[   39.977255] tiziano_ydns_init: Initializing YDNS processing
[   39.977260] tiziano_rdns_init: Initializing RDNS processing
[   39.977266] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   39.977270] tisp_event_init: Initializing ISP event system
[   39.977278] tisp_event_init: SAFE event system initialized with 20 nodes
[   39.977284] tisp_event_set_cb: Setting callback for event 4
[   39.977290] tisp_event_set_cb: Event 4 callback set to c0685830
[   39.977296] tisp_event_set_cb: Setting callback for event 5
[   39.977302] tisp_event_set_cb: Event 5 callback set to c0685cf8
[   39.977308] tisp_event_set_cb: Setting callback for event 7
[   39.977314] tisp_event_set_cb: Event 7 callback set to c06858c4
[   39.977320] tisp_event_set_cb: Setting callback for event 9
[   39.977326] tisp_event_set_cb: Event 9 callback set to c068594c
[   39.977332] tisp_event_set_cb: Setting callback for event 8
[   39.977338] tisp_event_set_cb: Event 8 callback set to c0685a10
[   39.977344] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   39.977350] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   39.977355] tisp_param_operate_init: Initializing parameter operations
[   39.977362] tisp_netlink_init: Initializing netlink communication
[   39.977368] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   39.977400] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   39.977414] tisp_netlink_init: Custom protocol failed, trying with nlcfg structure
[   39.977426] tisp_netlink_init: Failed to create netlink socket - continuing without netlink support
[   39.977432] tisp_netlink_init: ISP tuning parameters may not be available, but VIC interrupts should still work
[   39.977438] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   39.977444] tisp_code_create_tuning_node: Device already created, skipping
[   39.977450] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   39.977456] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   39.977462] *** ispcore_core_ops_init_with_sensor: tisp_init SUCCESS - MIPI CSI should now be configured ***
[   39.977469] *** ispcore_core_ops_init_with_sensor: VIC already in state 4 (>= 3) ****** ispcore_core_ops_init_with_sensor: Calling tx_isp_subdev_pipo to program VIC and start MDMA/IRQs ***
[   39.977478] *** tx_isp_subdev_pipo: EXACT Binary Ninja MCP implementation ***
[   39.977484] tx_isp_subdev_pipo: entry - sd=80564400, arg=80480000
[   39.977491] tx_isp_subdev_pipo: vic_dev retrieved from host_priv: 80564400
[   39.977496] tx_isp_subdev_pipo: set processing = 1 (Binary Ninja offset 0x20c)
[   39.977502] tx_isp_subdev_pipo: arg is not NULL - initializing pipe structures (Binary Ninja MCP)
[   39.977508] tx_isp_subdev_pipo: initialized linked list heads (Binary Ninja MCP)
[   39.977513] tx_isp_subdev_pipo: initialized spinlock (Binary Ninja MCP)
[   39.977519] *** CRITICAL: Set ispvic_frame_channel_s_stream at raw_pipe[3] (offset 0xc) ***
[   39.977524] *** tx_isp_subdev_pipo: GOOD-THINGS approach - deferring buffer allocation ***
[   39.977530] *** Buffers will be allocated on-demand during QBUF operations ***
[   39.977536] tx_isp_subdev_pipo: initialized buffer index 0 (allocation deferred)
[   39.977543] tx_isp_subdev_pipo: cleared VIC register at offset 0x318 for buffer 0
[   39.977549] tx_isp_subdev_pipo: initialized buffer index 1 (allocation deferred)
[   39.977555] tx_isp_subdev_pipo: cleared VIC register at offset 0x31c for buffer 1
---- FPGA board is ready ----
  Board UID : 30AB6E51
  Board HW ID : 72000460
  Board rev.  : 5DE5A975
  Board date  : 20190326
-----------------------------
[   39.977561] tx_isp_subdev_pipo: initialized buffer index 2 (allocation deferred)
[   39.977568] tx_isp_subdev_pipo: cleared VIC register at offset 0x320 for buffer 2
[   39.977574] tx_isp_subdev_pipo: initialized buffer index 3 (allocation deferred)
[   39.977580] tx_isp_subdev_pipo: cleared VIC register at offset 0x324 for buffer 3
[   39.977586] tx_isp_subdev_pipo: initialized buffer index 4 (allocation deferred)
[   39.977593] tx_isp_subdev_pipo: cleared VIC register at offset 0x328 for buffer 4
[   39.977598] *** tx_isp_subdev_pipo: Using GOOD-THINGS deferred buffer allocation strategy ***
[   39.977604] tx_isp_subdev_pipo: initialized 5 buffer structures (safe implementation)
[   39.977610] tx_isp_subdev_pipo: set processing = 1 (pipe enabled, safe struct access)
[   39.977616] *** tx_isp_subdev_pipo: RESETTING stream_state to 0 before calling ispvic_frame_channel_s_stream ***
[   39.977622] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_qbuf to write buffer addresses ***
[   39.977628] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   39.977635] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   39.977642] *** tx_isp_subdev_pipo: ispvic_frame_channel_qbuf SUCCESS - buffer addresses written to VIC hardware ***
[   39.977648] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_s_stream to start VIC streaming ***
[   39.977654] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   39.977660] ispvic_frame_channel_s_stream: arg1=80564400, arg2=1
[   39.977666] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80564400
[   39.977673] ispvic_frame_channel_s_stream[2524]: streamon
[   39.977680] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   39.977686] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   39.977692] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   39.977697] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   39.977702] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   39.977710] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   39.977716] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   39.977723] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   39.977728] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   39.977734] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   39.977740] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   39.977746] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   39.977752] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   39.977760] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   39.977768] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   39.977775] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   39.977783] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   39.977790] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   39.977796] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   39.977802] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   39.977808] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   39.977815] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   39.977821] *** tx_isp_subdev_pipo: ispvic_frame_channel_s_stream SUCCESS - VIC streaming started! ***
m[   39.977826] *** tx_isp_subdev_pipo: CALLING vic_core_s_stream to enable VIC interrupts ***
[   39.977834] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80564400, enable=1 ***
[   39.977840] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=4 ***
[   39.977845] *** vic_core_s_stream: STREAM ON ***
[   39.977851] *** vic_core_s_stream: EXACT Binary Ninja - State=4, no action needed ***
[   39.977856] *** tx_isp_subdev_pipo: vic_core_s_stream SUCCESS - VIC interrupts should now be ENABLED! ***
[   39.977862] tx_isp_subdev_pipo: completed successfully, returning 0
[   39.977868] *** ispcore_core_ops_init_with_sensor: SUCCESS - Core initialized and VIC streaming/IRQs armed ***
[   39.977872] ispcore_slake_module: Initializing channelsispcore_slake_module: Channel 0 enabled
[   39.977880] ispcore_slake_module: Channel 1 enabledispcore_slake_module: Channel 2 enabled
[   39.977888] ispcore_slake_module: Channel 3 enabledispcore_slake_module: Channel 4 enabled
[   39.977896] ispcore_slake_module: Channel 5 enabledispcore_slake_module: Calling VIC control function (0x4000001, 0)
[   39.977904] ispcore_slake_module: VIC control register written: 0x4000001ispcore_slake_module: Set VIC state to INIT (1)
[   39.977911] ispcore_slake_module: Processing subdevices*** DEBUG: isp_dev=80480000, isp_dev->subdevs=80483274 ***
[   39.977924] *** ispcore_slake_module: Calling slake_module for CSI subdev ***
[   39.977931] *** tx_isp_csi_slake_subdev: CSI slake/shutdown - current state=4 ***
[   39.977936] tx_isp_csi_slake_subdev: CSI in streaming state, stopping stream
[   39.977942] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   39.977949] csi_video_s_stream: sd=80564000, enable=0
[   39.977955] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 3 (enable=0)
[   39.977960] tx_isp_csi_slake_subdev: CSI in state 3, calling core_ops_init(disable)
[   39.977968] csi_core_ops_init: sd=80564000, csi_dev=80564000, enable=0
[   39.977976] tx_isp_csi_slake_subdev: CSI state 2->1, disabling clocks
[   39.977982] tx_isp_csi_slake_subdev: Disabled clock 0
[   39.977988] *** tx_isp_csi_slake_subdev: CSI slake complete, final state=1 ***
[   39.977993] ispcore_slake_module: CSI slake success
[   39.977997] *** ispcore_slake_module: Calling slake_module for VIC subdev ***
[   39.978003] *** tx_isp_vic_slake_subdev: ENTRY - sd=80564400 ***
[   39.978010] *** tx_isp_vic_slake_subdev: VIC slake/shutdown - vic_dev=80564400, current state=1 ***
[   39.978017] *** tx_isp_vic_slake_subdev: VIC slake complete, final state=1 ***
[   39.978022] ispcore_slake_module: VIC slake success
[   39.978027] *** ispcore_slake_module: All subdev slake operations completed using helper functions ***
[   39.978032] ispcore_slake_module: Managing ISP clocks
[   39.978036] ispcore_slake_module: Disabled IPU clockispcore_slake_module: Disabled ISP clock
[   39.978044] ispcore_slake_module: Complete, result=0<6>[   39.978050] *** ispcore_slake_module SUCCESS - ISP core should now be initialized ***
[   39.978056] *** vic_core_s_stream: VIC initialized, final state=1 ***
[   39.978063] *** tx_isp_video_s_stream: subdev[1] s_stream SUCCESS ***
[   39.978070] *** tx_isp_video_s_stream: Calling subdev[3]->ops->video->s_stream(1) ***
[   39.978077] gc2053: s_stream called with enable=1
[   39.978084] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   39.978090] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   39.978096] gc2053: About to write streaming registers for interface 1
[   39.978103] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   39.978112] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   39.978437] sensor_write: reg=0xfe val=0x00 SUCCESS
[   39.978446] sensor_write_array: reg[1] 0xfe=0x00 OK
[   39.978454] sensor_write: reg=0x3e val=0x91, client=8428e600, adapter=i2c0, addr=0x37
[   39.986647] sensor_write: reg=0x3e val=0x91 SUCCESS
[   39.986660] sensor_write_array: reg[2] 0x3e=0x91 OK
[   39.986666] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   39.986674] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   39.986680] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   39.986686] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   39.986692] *** tx_isp_video_s_stream: subdev[3] s_stream SUCCESS ***
[   39.986700] *** tx_isp_video_s_stream: Calling subdev[5]->ops->video->s_stream(1) ***
[   39.986706] gc2053: s_stream called with enable=1
[   39.986713] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   39.986719] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   39.986725] gc2053: About to write streaming registers for interface 1
[   39.986731] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   39.986741] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   39.987058] sensor_write: reg=0xfe val=0x00 SUCCESS
[   39.987066] sensor_write_array: reg[1] 0xfe=0x00 OK
[   39.987074] sensor_write: reg=0x3e val=0x91, client=8428e600, adapter=i2c0, addr=0x37
[   39.987392] sensor_write: reg=0x3e val=0x91 SUCCESS
[   39.987400] sensor_write_array: reg[2] 0x3e=0x91 OK
[   39.987406] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   39.987412] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   39.987418] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   39.987424] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   39.987430] *** tx_isp_video_s_stream: subdev[5] s_stream SUCCESS ***
[   39.987437] *** tx_isp_video_s_stream: Post-sensor s_stream re-trigger of CSI core->init ***
[   39.999183] csi_core_ops_init: sd=80564000, csi_dev=80564000, enable=1
[   39.999196] *** VIC POST-SENSOR REASSERT: re-applying routing/mask after sensor stream-on ***
[   40.038388] *** VIC POST-SENSOR REASSERT: No status bits asserted in 20ms window ***
[   40.038409] ISP IOCTL: cmd=0x800456d0 arg=0x7fc37a80
[   40.038416] TX_ISP_VIDEO_LINK_SETUP: config=0
[   40.038422] TX_ISP_VIDEO_LINK_SETUP: Link config unchanged (0)
[   40.038429] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   40.038436] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   40.038442] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   40.038449] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   40.038456] VIC activated: state 1 -> 2 (READY)
[   40.038462] *** VIC ACTIVATION: Buffers will be allocated on-demand during QBUF operations ***
[   40.038468] *** VIC ACTIVATION: Free buffer list initialized (empty) - allocation deferred ***
[   40.038474] *** VIC ACTIVATION: Using GOOD-THINGS deferred buffer allocation strategy ***
[   40.038480] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   40.038487] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   40.038493] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   40.038500] csi_video_s_stream: sd=80564000, enable=1
[   40.038506] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   40.038514] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80564400, enable=1 ***
[   40.038520] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   40.038525] *** vic_core_s_stream: STREAM ON ***
[   40.038530] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   40.038536] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   40.038542] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   40.038548] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   40.038557] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   40.038563] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   40.038570] *** DEBUG: sensor_attr=c06e20cc, dbus_type=1 ***
[   40.038576] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   40.038582] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
	[   40.038588] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   40.038594] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   40.038599] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   40.038606] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   40.059138] MIPI interface configuration
[   40.059152] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   40.059158] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   40.059164] *** VIC UNLOCK: Initial register 0x0 value = 0x00000000 ***
[   40.059170] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   40.059176] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   40.059184] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   40.059189] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   40.081174] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   40.081184] *** Continuing anyway to prevent infinite hang ***
[   40.081190] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   40.081195] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   40.081202] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   40.081207] tx_isp_vic_start: Linear mode enabled
[   40.081212] *** VIC start completed - vic_start_ok = 1 ***
[   40.081220] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   40.081225] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   40.081231] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   40.081238] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   40.081244] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   40.081252] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   40.081259] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   40.081264] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   40.081271] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   40.081278] ispvic_frame_channel_s_stream: arg1=80564400, arg2=1
[   40.081284] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80564400
[   40.081290] ispvic_frame_channel_s_stream[2524]: streamon
[   40.081297] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   40.081303] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   40.081308] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   40.081314] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   40.081320] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   40.081327] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   40.081332] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   40.081340] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   40.081346] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   40.081352] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   40.081357] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   40.081362] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   40.081369] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   40.081376] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   40.081384] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   40.081392] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   40.081399] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   40.081407] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   40.081413] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   40.081418] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   40.081424] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   40.081431] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   40.081446] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   40.081454] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   40.081459] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   40.081464] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   40.081471] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   40.081476] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   40.081490] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   40.081498] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   40.081563] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   40.081575] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   40.081581] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   40.081590] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   40.081596] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   40.081602] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   40.081611] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   40.081618] *** VIC UNMASK-ALL TEST: [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (expect 0) ***
[   40.082627] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   40.082632] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   40.082638] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   40.082746] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   40.082756] *** CRITICAL: isp_irq_handle: IRQ 38 received, dev_id=80480000 ***
[   40.090207] *** isp_irq_handle: IRQ 38 received, dev_id=80480000 ***
[   40.090212] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   40.097936] *** VIC INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   40.106012] *** VIC IRQ: About to access isp_dev->vic_dev, isp_dev=80480000 ***
[   40.113545] *** VIC IRQ: Got vic_dev=80564400 ***
[   40.118398] *** VIC IRQ: Checking vic_dev validity: vic_dev=80564400 ***
[   40.125302] *** VIC IRQ: About to access vic_dev->vic_regs ***
[   40.131322] *** VIC IRQ: Got vic_regs=b33e0000 ***
[   40.136253] *** VIC IRQ: Checking vic_regs validity: vic_regs=b33e0000 ***
[   40.143338] *** VIC IRQ: vic_regs passed validity check - proceeding with register access ***
[   40.152138] *** VIC IRQ: About to read VIC registers at b33e0000 ***
[   40.158694] *** VIC IRQ: Using base b33e0000 [1e0]=0x200000 [1e4]=0x0 [1e8]=0xffdffffe [1ec]=0x0 ***
[   40.168125] *** VIC IRQ: CTRL[0x300]=0x80040020 DIMS[0x304]=0x7800438 STRIDE[0x310]=0xf00 ***
[   40.176917] *** VIC IRQ: Calculated v1_7 = 0x200000 v1_10 = 0x0 ***
[   40.183385] *** VIC IRQ: About to write v1_7=0x200000 to reg 0x1f0 (base=b33e0000) ***
[   40.191554] *** VIC IRQ: About to write v1_10=0x0 to reg 0x1f4 (base=b33e0000) ***
[   40.199364] *** VIC IRQ: Register writes completed (at base=b33e0000) ***
[   40.206363] *** VIC IRQ: Restored enables(0x1e0|=1) and MainMask=0xFFDFFFFE (allow framedone+bit21) ***
[   40.216054] *** VIC IRQ: About to check vic_start_ok - vic_start_ok=1 ***
[   40.223056] *** VIC IRQ: vic_start_ok=1, v1_7=0x200000, v1_10=0x0 ***
[   40.229702] *** VIC IRQ: No frame done interrupt (v1_7 & 1 = 0) ***
[   40.236160] *** VIC ERROR: control limit error (bit 21) ***
[   40.241903] *** VIC IRQ COMPLETE: Processed v1_7=0x200000, v1_10=0x0 - returning IRQ_HANDLED ***
[   40.439153] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   40.439267] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   40.439275] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   40.439280] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   40.439286] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   40.439292] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   40.439297] tx_vic_enable_irq: Calling VIC interrupt callback
[   40.439304] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   40.439311] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   40.439317] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   40.439326] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   40.439332] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   40.439340] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   40.439346] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   40.439353] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   40.439358] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   40.439363] *** tx_vic_enable_irq: completed successfully ***
root@ing-wyze-cam3-a000 ~# dmesg 
[   39.807487] tiziano_sdns_init: SDNS processing initialized successfully
[   39.807494] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   39.807499] tiziano_mdns_init: Using linear MDNS parameters
[   39.807509] tiziano_mdns_init: MDNS processing initialized successfully
[   39.807514] tiziano_clm_init: Initializing CLM processing
[   39.807519] tiziano_dpc_init: Initializing DPC processing
[   39.807524] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   39.807530] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   39.807537] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   39.807542] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   39.807557] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   39.807564] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   39.807570] tiziano_hldc_init: Initializing HLDC processing
[   39.807576] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   39.807582] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   39.807588] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   39.807596] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   39.807602] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   39.807609] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   39.807616] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   39.807623] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   39.807630] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   39.807636] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   39.807643] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   39.807650] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   39.807657] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   39.807662] tiziano_adr_params_refresh: Refreshing ADR parameters
[   39.807668] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   39.807674] tiziano_adr_params_init: Initializing ADR parameter arrays
[   39.807680] tisp_adr_set_params: Writing ADR parameters to registers
[   39.807713] tisp_adr_set_params: ADR parameters written to hardware
[   39.807718] tisp_event_set_cb: Setting callback for event 18
[   39.807725] tisp_event_set_cb: Event 18 callback set to c0686d00
[   39.807730] tisp_event_set_cb: Setting callback for event 2
[   39.807737] tisp_event_set_cb: Event 2 callback set to c0685804
[   39.807742] tiziano_adr_init: ADR processing initialized successfully
[   39.807748] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   39.807754] tiziano_bcsh_init: Initializing BCSH processing
[   39.807758] tiziano_ydns_init: Initializing YDNS processing
[   39.807764] tiziano_rdns_init: Initializing RDNS processing
[   39.807769] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   39.807782] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x11c0000 (Binary Ninja EXACT) ***
[   39.807790] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x11c1000 (Binary Ninja EXACT) ***
[   39.807796] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x11c2000 (Binary Ninja EXACT) ***
[   39.807803] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x11c3000 (Binary Ninja EXACT) ***
[   39.807810] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x11c4000 (Binary Ninja EXACT) ***
[   39.807817] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x11c4800 (Binary Ninja EXACT) ***
[   39.807824] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x11c5000 (Binary Ninja EXACT) ***
[   39.807831] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x11c5800 (Binary Ninja EXACT) ***
[   39.807838] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   39.807844] *** tisp_init: AE0 buffer allocated at 0x011c0000 ***
[   39.807850] *** CRITICAL FIX: data_b2f3c initialized to 0x811c0000 (prevents stack corruption) ***
[   39.807858] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x11c8000 (Binary Ninja EXACT) ***
[   39.807865] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x11c9000 (Binary Ninja EXACT) ***
[   39.807872] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x11ca000 (Binary Ninja EXACT) ***
[   39.807879] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x11cb000 (Binary Ninja EXACT) ***
[   39.807886] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x11cc000 (Binary Ninja EXACT) ***
[   39.807893] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x11cc800 (Binary Ninja EXACT) ***
[   39.807900] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x11cd000 (Binary Ninja EXACT) ***
[   39.807907] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x11cd800 (Binary Ninja EXACT) ***
[   39.807914] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   39.807920] *** tisp_init: AE1 buffer allocated at 0x011c8000 ***
[   39.807924] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   39.807931] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   39.807936] *** tisp_init: STREAMING ACTIVE - Skipping second ISP control register write ***
[   39.807943] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   39.807948] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   39.807956] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   39.807964] tiziano_ae_params_refresh: Refreshing AE parameters
[   39.807974] tiziano_ae_params_refresh: AE parameters refreshed
[   39.807980] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   39.807986] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   39.807991] tiziano_ae_para_addr: Setting up AE parameter addresses
[   39.807996] tiziano_ae_para_addr: AE parameter addresses configured
[   39.808002] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   39.808010] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   39.808016] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   39.808024] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   39.808030] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   39.808037] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   39.808044] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   39.808051] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7fd814 (Binary Ninja EXACT) ***
[   39.808058] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   39.808064] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   39.808071] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   39.808078] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   39.808084] tiziano_ae_set_hardware_param: Parameters written to AE0
[   39.808090] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   39.808097] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   39.808103] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   39.808110] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   39.808116] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   39.808123] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   39.808130] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   39.808136] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   39.808142] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   39.808149] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   39.808156] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   39.808162] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   39.808168] tiziano_ae_set_hardware_param: Parameters written to AE1
[   39.808174] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   39.808181] *** system_irq_func_set: Registered handler c0686a08 at index 10 ***
[   39.827240] *** system_irq_func_set: Registered handler c0686afc at index 27 ***
[   39.834913] *** system_irq_func_set: Registered handler c0686a08 at index 26 ***
[   39.852684] *** system_irq_func_set: Registered handler c0686be4 at index 29 ***
[   39.869158] *** system_irq_func_set: Registered handler c0686b70 at index 28 ***
[   39.884985] *** system_irq_func_set: Registered handler c0686c58 at index 30 ***
[   39.911666] *** system_irq_func_set: Registered handler c0686cac at index 20 ***
[   39.930881] *** system_irq_func_set: Registered handler c0686d00 at index 18 ***
[   39.938515] *** system_irq_func_set: Registered handler c0686d54 at index 31 ***
[   39.966452] *** system_irq_func_set: Registered handler c0686da8 at index 11 ***
[   39.976532] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   39.976551] tiziano_deflicker_expt: Generated 119 LUT entries
[   39.976558] tisp_event_set_cb: Setting callback for event 1
[   39.976564] tisp_event_set_cb: Event 1 callback set to c0686608
[   39.976570] tisp_event_set_cb: Setting callback for event 6
[   39.976577] tisp_event_set_cb: Event 6 callback set to c0685b68
[   39.976582] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   39.976588] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   39.976596] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   39.976604] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   39.976610] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   39.976616] tiziano_awb_init: AWB hardware blocks enabled
[   39.976621] tiziano_gamma_init: Initializing Gamma processing
[   39.976626] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   39.976686] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   39.976692] tiziano_gib_init: Initializing GIB processing
[   39.976697] tiziano_lsc_init: Initializing LSC processing
[   39.976702] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   39.976709] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   39.976716] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   39.976722] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   39.976728] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   39.976786] tiziano_ccm_init: Initializing Color Correction Matrix
[   39.976791] tiziano_ccm_init: Using linear CCM parameters
[   39.976797] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   39.976804] jz_isp_ccm: EV=64, CT=9984
[   39.976810] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   39.976816] cm_control: saturation=128
[   39.976821] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   39.976828] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   39.976832] tiziano_ccm_init: CCM initialized successfully
[   39.976838] tiziano_dmsc_init: Initializing DMSC processing
[   39.976843] tiziano_sharpen_init: Initializing Sharpening
[   39.976848] tiziano_sharpen_init: Using linear sharpening parameters
[   39.976854] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   39.976860] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   39.976866] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   39.976893] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   39.976900] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   39.976905] tiziano_sharpen_init: Sharpening initialized successfully
[   39.976910] tiziano_sdns_init: Initializing SDNS processing
[   39.976918] tiziano_sdns_init: Using linear SDNS parameters
[   39.976924] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   39.976931] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   39.976937] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   39.976970] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   39.976976] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   39.976982] tiziano_sdns_init: SDNS processing initialized successfully
[   39.976988] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   39.976993] tiziano_mdns_init: Using linear MDNS parameters
[   39.977004] tiziano_mdns_init: MDNS processing initialized successfully
[   39.977009] tiziano_clm_init: Initializing CLM processing
[   39.977014] tiziano_dpc_init: Initializing DPC processing
[   39.977019] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   39.977025] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   39.977032] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   39.977038] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   39.977052] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   39.977059] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   39.977065] tiziano_hldc_init: Initializing HLDC processing
[   39.977071] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   39.977078] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   39.977084] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   39.977091] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   39.977098] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   39.977105] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   39.977112] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   39.977118] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   39.977125] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   39.977132] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   39.977139] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   39.977146] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   39.977152] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   39.977158] tiziano_adr_params_refresh: Refreshing ADR parameters
[   39.977164] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   39.977170] tiziano_adr_params_init: Initializing ADR parameter arrays
[   39.977176] tisp_adr_set_params: Writing ADR parameters to registers
[   39.977208] tisp_adr_set_params: ADR parameters written to hardware
[   39.977214] tisp_event_set_cb: Setting callback for event 18
[   39.977221] tisp_event_set_cb: Event 18 callback set to c0686d00
[   39.977227] tisp_event_set_cb: Setting callback for event 2
[   39.977234] tisp_event_set_cb: Event 2 callback set to c0685804
[   39.977238] tiziano_adr_init: ADR processing initialized successfully
[   39.977245] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   39.977250] tiziano_bcsh_init: Initializing BCSH processing
[   39.977255] tiziano_ydns_init: Initializing YDNS processing
[   39.977260] tiziano_rdns_init: Initializing RDNS processing
[   39.977266] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   39.977270] tisp_event_init: Initializing ISP event system
[   39.977278] tisp_event_init: SAFE event system initialized with 20 nodes
[   39.977284] tisp_event_set_cb: Setting callback for event 4
[   39.977290] tisp_event_set_cb: Event 4 callback set to c0685830
[   39.977296] tisp_event_set_cb: Setting callback for event 5
[   39.977302] tisp_event_set_cb: Event 5 callback set to c0685cf8
[   39.977308] tisp_event_set_cb: Setting callback for event 7
[   39.977314] tisp_event_set_cb: Event 7 callback set to c06858c4
[   39.977320] tisp_event_set_cb: Setting callback for event 9
[   39.977326] tisp_event_set_cb: Event 9 callback set to c068594c
[   39.977332] tisp_event_set_cb: Setting callback for event 8
[   39.977338] tisp_event_set_cb: Event 8 callback set to c0685a10
[   39.977344] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   39.977350] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   39.977355] tisp_param_operate_init: Initializing parameter operations
[   39.977362] tisp_netlink_init: Initializing netlink communication
[   39.977368] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   39.977400] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   39.977414] tisp_netlink_init: Custom protocol failed, trying with nlcfg structure
[   39.977426] tisp_netlink_init: Failed to create netlink socket - continuing without netlink support
[   39.977432] tisp_netlink_init: ISP tuning parameters may not be available, but VIC interrupts should still work
[   39.977438] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   39.977444] tisp_code_create_tuning_node: Device already created, skipping
[   39.977450] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   39.977456] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   39.977462] *** ispcore_core_ops_init_with_sensor: tisp_init SUCCESS - MIPI CSI should now be configured ***
[   39.977469] *** ispcore_core_ops_init_with_sensor: VIC already in state 4 (>= 3) ****** ispcore_core_ops_init_with_sensor: Calling tx_isp_subdev_pipo to program VIC and start MDMA/IRQs ***
[   39.977478] *** tx_isp_subdev_pipo: EXACT Binary Ninja MCP implementation ***
[   39.977484] tx_isp_subdev_pipo: entry - sd=80564400, arg=80480000
[   39.977491] tx_isp_subdev_pipo: vic_dev retrieved from host_priv: 80564400
[   39.977496] tx_isp_subdev_pipo: set processing = 1 (Binary Ninja offset 0x20c)
[   39.977502] tx_isp_subdev_pipo: arg is not NULL - initializing pipe structures (Binary Ninja MCP)
[   39.977508] tx_isp_subdev_pipo: initialized linked list heads (Binary Ninja MCP)
[   39.977513] tx_isp_subdev_pipo: initialized spinlock (Binary Ninja MCP)
[   39.977519] *** CRITICAL: Set ispvic_frame_channel_s_stream at raw_pipe[3] (offset 0xc) ***
[   39.977524] *** tx_isp_subdev_pipo: GOOD-THINGS approach - deferring buffer allocation ***
[   39.977530] *** Buffers will be allocated on-demand during QBUF operations ***
[   39.977536] tx_isp_subdev_pipo: initialized buffer index 0 (allocation deferred)
[   39.977543] tx_isp_subdev_pipo: cleared VIC register at offset 0x318 for buffer 0
[   39.977549] tx_isp_subdev_pipo: initialized buffer index 1 (allocation deferred)
[   39.977555] tx_isp_subdev_pipo: cleared VIC register at offset 0x31c for buffer 1
[   39.977561] tx_isp_subdev_pipo: initialized buffer index 2 (allocation deferred)
[   39.977568] tx_isp_subdev_pipo: cleared VIC register at offset 0x320 for buffer 2
[   39.977574] tx_isp_subdev_pipo: initialized buffer index 3 (allocation deferred)
[   39.977580] tx_isp_subdev_pipo: cleared VIC register at offset 0x324 for buffer 3
[   39.977586] tx_isp_subdev_pipo: initialized buffer index 4 (allocation deferred)
[   39.977593] tx_isp_subdev_pipo: cleared VIC register at offset 0x328 for buffer 4
[   39.977598] *** tx_isp_subdev_pipo: Using GOOD-THINGS deferred buffer allocation strategy ***
[   39.977604] tx_isp_subdev_pipo: initialized 5 buffer structures (safe implementation)
[   39.977610] tx_isp_subdev_pipo: set processing = 1 (pipe enabled, safe struct access)
[   39.977616] *** tx_isp_subdev_pipo: RESETTING stream_state to 0 before calling ispvic_frame_channel_s_stream ***
[   39.977622] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_qbuf to write buffer addresses ***
[   39.977628] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   39.977635] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   39.977642] *** tx_isp_subdev_pipo: ispvic_frame_channel_qbuf SUCCESS - buffer addresses written to VIC hardware ***
[   39.977648] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_s_stream to start VIC streaming ***
[   39.977654] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   39.977660] ispvic_frame_channel_s_stream: arg1=80564400, arg2=1
[   39.977666] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80564400
[   39.977673] ispvic_frame_channel_s_stream[2524]: streamon
[   39.977680] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   39.977686] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   39.977692] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   39.977697] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   39.977702] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   39.977710] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   39.977716] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   39.977723] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   39.977728] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   39.977734] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   39.977740] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   39.977746] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   39.977752] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   39.977760] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   39.977768] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   39.977775] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   39.977783] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   39.977790] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   39.977796] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   39.977802] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   39.977808] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   39.977815] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   39.977821] *** tx_isp_subdev_pipo: ispvic_frame_channel_s_stream SUCCESS - VIC streaming started! ***
[   39.977826] *** tx_isp_subdev_pipo: CALLING vic_core_s_stream to enable VIC interrupts ***
[   39.977834] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80564400, enable=1 ***
[   39.977840] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=4 ***
[   39.977845] *** vic_core_s_stream: STREAM ON ***
[   39.977851] *** vic_core_s_stream: EXACT Binary Ninja - State=4, no action needed ***
[   39.977856] *** tx_isp_subdev_pipo: vic_core_s_stream SUCCESS - VIC interrupts should now be ENABLED! ***
[   39.977862] tx_isp_subdev_pipo: completed successfully, returning 0
[   39.977868] *** ispcore_core_ops_init_with_sensor: SUCCESS - Core initialized and VIC streaming/IRQs armed ***
[   39.977872] ispcore_slake_module: Initializing channelsispcore_slake_module: Channel 0 enabled
[   39.977880] ispcore_slake_module: Channel 1 enabledispcore_slake_module: Channel 2 enabled
[   39.977888] ispcore_slake_module: Channel 3 enabledispcore_slake_module: Channel 4 enabled
[   39.977896] ispcore_slake_module: Channel 5 enabledispcore_slake_module: Calling VIC control function (0x4000001, 0)
[   39.977904] ispcore_slake_module: VIC control register written: 0x4000001ispcore_slake_module: Set VIC state to INIT (1)
[   39.977911] ispcore_slake_module: Processing subdevices*** DEBUG: isp_dev=80480000, isp_dev->subdevs=80483274 ***
[   39.977924] *** ispcore_slake_module: Calling slake_module for CSI subdev ***
[   39.977931] *** tx_isp_csi_slake_subdev: CSI slake/shutdown - current state=4 ***
[   39.977936] tx_isp_csi_slake_subdev: CSI in streaming state, stopping stream
[   39.977942] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   39.977949] csi_video_s_stream: sd=80564000, enable=0
[   39.977955] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 3 (enable=0)
[   39.977960] tx_isp_csi_slake_subdev: CSI in state 3, calling core_ops_init(disable)
[   39.977968] csi_core_ops_init: sd=80564000, csi_dev=80564000, enable=0
[   39.977976] tx_isp_csi_slake_subdev: CSI state 2->1, disabling clocks
[   39.977982] tx_isp_csi_slake_subdev: Disabled clock 0
[   39.977988] *** tx_isp_csi_slake_subdev: CSI slake complete, final state=1 ***
[   39.977993] ispcore_slake_module: CSI slake success
[   39.977997] *** ispcore_slake_module: Calling slake_module for VIC subdev ***
[   39.978003] *** tx_isp_vic_slake_subdev: ENTRY - sd=80564400 ***
[   39.978010] *** tx_isp_vic_slake_subdev: VIC slake/shutdown - vic_dev=80564400, current state=1 ***
[   39.978017] *** tx_isp_vic_slake_subdev: VIC slake complete, final state=1 ***
[   39.978022] ispcore_slake_module: VIC slake success
[   39.978027] *** ispcore_slake_module: All subdev slake operations completed using helper functions ***
[   39.978032] ispcore_slake_module: Managing ISP clocks
[   39.978036] ispcore_slake_module: Disabled IPU clockispcore_slake_module: Disabled ISP clock
[   39.978044] ispcore_slake_module: Complete, result=0<6>[   39.978050] *** ispcore_slake_module SUCCESS - ISP core should now be initialized ***
[   39.978056] *** vic_core_s_stream: VIC initialized, final state=1 ***
[   39.978063] *** tx_isp_video_s_stream: subdev[1] s_stream SUCCESS ***
[   39.978070] *** tx_isp_video_s_stream: Calling subdev[3]->ops->video->s_stream(1) ***
[   39.978077] gc2053: s_stream called with enable=1
[   39.978084] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   39.978090] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   39.978096] gc2053: About to write streaming registers for interface 1
[   39.978103] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   39.978112] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   39.978437] sensor_write: reg=0xfe val=0x00 SUCCESS
[   39.978446] sensor_write_array: reg[1] 0xfe=0x00 OK
[   39.978454] sensor_write: reg=0x3e val=0x91, client=8428e600, adapter=i2c0, addr=0x37
[   39.986647] sensor_write: reg=0x3e val=0x91 SUCCESS
[   39.986660] sensor_write_array: reg[2] 0x3e=0x91 OK
[   39.986666] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   39.986674] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   39.986680] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   39.986686] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   39.986692] *** tx_isp_video_s_stream: subdev[3] s_stream SUCCESS ***
[   39.986700] *** tx_isp_video_s_stream: Calling subdev[5]->ops->video->s_stream(1) ***
[   39.986706] gc2053: s_stream called with enable=1
[   39.986713] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   39.986719] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   39.986725] gc2053: About to write streaming registers for interface 1
[   39.986731] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   39.986741] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   39.987058] sensor_write: reg=0xfe val=0x00 SUCCESS
[   39.987066] sensor_write_array: reg[1] 0xfe=0x00 OK
[   39.987074] sensor_write: reg=0x3e val=0x91, client=8428e600, adapter=i2c0, addr=0x37
[   39.987392] sensor_write: reg=0x3e val=0x91 SUCCESS
[   39.987400] sensor_write_array: reg[2] 0x3e=0x91 OK
[   39.987406] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   39.987412] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   39.987418] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   39.987424] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   39.987430] *** tx_isp_video_s_stream: subdev[5] s_stream SUCCESS ***
[   39.987437] *** tx_isp_video_s_stream: Post-sensor s_stream re-trigger of CSI core->init ***
[   39.999183] csi_core_ops_init: sd=80564000, csi_dev=80564000, enable=1
[   39.999196] *** VIC POST-SENSOR REASSERT: re-applying routing/mask after sensor stream-on ***
[   40.038388] *** VIC POST-SENSOR REASSERT: No status bits asserted in 20ms window ***
[   40.038409] ISP IOCTL: cmd=0x800456d0 arg=0x7fc37a80
[   40.038416] TX_ISP_VIDEO_LINK_SETUP: config=0
[   40.038422] TX_ISP_VIDEO_LINK_SETUP: Link config unchanged (0)
[   40.038429] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   40.038436] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   40.038442] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   40.038449] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   40.038456] VIC activated: state 1 -> 2 (READY)
[   40.038462] *** VIC ACTIVATION: Buffers will be allocated on-demand during QBUF operations ***
[   40.038468] *** VIC ACTIVATION: Free buffer list initialized (empty) - allocation deferred ***
[   40.038474] *** VIC ACTIVATION: Using GOOD-THINGS deferred buffer allocation strategy ***
[   40.038480] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   40.038487] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   40.038493] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   40.038500] csi_video_s_stream: sd=80564000, enable=1
[   40.038506] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   40.038514] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80564400, enable=1 ***
[   40.038520] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   40.038525] *** vic_core_s_stream: STREAM ON ***
[   40.038530] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   40.038536] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   40.038542] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   40.038548] *** tx_isp_get_sensor: Searching subdev array for sensors ***
d[   40.038557] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   40.038563] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   40.038570] *** DEBUG: sensor_attr=c06e20cc, dbus_type=1 ***
[   40.038576] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   40.038582] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   40.038588] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   40.038594] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   40.038599] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   40.038606] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   40.059138] MIPI interface configuration
[   40.059152] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   40.059158] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   40.059164] *** VIC UNLOCK: Initial register 0x0 value = 0x00000000 ***
[   40.059170] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   40.059176] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   40.059184] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   40.059189] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   40.081174] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   40.081184] *** Continuing anyway to prevent infinite hang ***
[   40.081190] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   40.081195] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   40.081202] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   40.081207] tx_isp_vic_start: Linear mode enabled
[   40.081212] *** VIC start completed - vic_start_ok = 1 ***
[   40.081220] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   40.081225] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   40.081231] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   40.081238] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   40.081244] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   40.081252] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   40.081259] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   40.081264] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   40.081271] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   40.081278] ispvic_frame_channel_s_stream: arg1=80564400, arg2=1
[   40.081284] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80564400
[   40.081290] ispvic_frame_channel_s_stream[2524]: streamon
[   40.081297] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   40.081303] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   40.081308] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   40.081314] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   40.081320] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   40.081327] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   40.081332] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   40.081340] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
m[   40.081346] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   40.081352] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   40.081357] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   40.081362] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   40.081369] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   40.081376] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   40.081384] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   40.081392] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   40.081399] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   40.081407] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   40.081413] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   40.081418] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   40.081424] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   40.081431] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   40.081446] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   40.081454] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   40.081459] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   40.081464] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   40.081471] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   40.081476] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   40.081490] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   40.081498] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   40.081563] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   40.081575] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   40.081581] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   40.081590] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   40.081596] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   40.081602] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   40.081611] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   40.081618] *** VIC UNMASK-ALL TEST: [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (expect 0) ***
[   40.082627] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   40.082632] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   40.082638] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   40.082746] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   40.082756] *** CRITICAL: isp_irq_handle: IRQ 38 received, dev_id=80480000 ***
[   40.090207] *** isp_irq_handle: IRQ 38 received, dev_id=80480000 ***
[   40.090212] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   40.097936] *** VIC INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   40.106012] *** VIC IRQ: About to access isp_dev->vic_dev, isp_dev=80480000 ***
[   40.113545] *** VIC IRQ: Got vic_dev=80564400 ***
[   40.118398] *** VIC IRQ: Checking vic_dev validity: vic_dev=80564400 ***
[   40.125302] *** VIC IRQ: About to access vic_dev->vic_regs ***
[   40.131322] *** VIC IRQ: Got vic_regs=b33e0000 ***
[   40.136253] *** VIC IRQ: Checking vic_regs validity: vic_regs=b33e0000 ***
[   40.143338] *** VIC IRQ: vic_regs passed validity check - proceeding with register access ***
[   40.152138] *** VIC IRQ: About to read VIC registers at b33e0000 ***
[   40.158694] *** VIC IRQ: Using base b33e0000 [1e0]=0x200000 [1e4]=0x0 [1e8]=0xffdffffe [1ec]=0x0 ***
[   40.168125] *** VIC IRQ: CTRL[0x300]=0x80040020 DIMS[0x304]=0x7800438 STRIDE[0x310]=0xf00 ***
[   40.176917] *** VIC IRQ: Calculated v1_7 = 0x200000 v1_10 = 0x0 ***
[   40.183385] *** VIC IRQ: About to write v1_7=0x200000 to reg 0x1f0 (base=b33e0000) ***
[   40.191554] *** VIC IRQ: About to write v1_10=0x0 to reg 0x1f4 (base=b33e0000) ***
[   40.199364] *** VIC IRQ: Register writes completed (at base=b33e0000) ***
[   40.206363] *** VIC IRQ: Restored enables(0x1e0|=1) and MainMask=0xFFDFFFFE (allow framedone+bit21) ***
[   40.216054] *** VIC IRQ: About to check vic_start_ok - vic_start_ok=1 ***
[   40.223056] *** VIC IRQ: vic_start_ok=1, v1_7=0x200000, v1_10=0x0 ***
[   40.229702] *** VIC IRQ: No frame done interrupt (v1_7 & 1 = 0) ***
[   40.236160] *** VIC ERROR: control limit error (bit 21) ***
[   40.241903] *** VIC IRQ COMPLETE: Processed v1_7=0x200000, v1_10=0x0 - returning IRQ_HANDLED ***
[   40.439153] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   40.439267] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   40.439275] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   40.439280] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   40.439286] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   40.439292] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   40.439297] tx_vic_enable_irq: Calling VIC interrupt callback
[   40.439304] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   40.439311] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   40.439317] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   40.439326] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   40.439332] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   40.439340] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   40.439346] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   40.439353] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   40.439358] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   40.439363] *** tx_vic_enable_irq: completed successfully ***
[   40.853787] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   40.853801] *** vic_core_s_stream: VIC state 2 - letting tx_isp_video_s_stream handle state 2  3 transition ***
[   40.853808] *** vic_core_s_stream: VIC initialized, final state=2 ***
[   40.853819] gc2053: s_stream called with enable=1
[   40.853825] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   40.853832] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   40.853838] gc2053: About to write streaming registers for interface 1
[   40.853844] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   40.853854] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   40.854173] sensor_write: reg=0xfe val=0x00 SUCCESS
[   40.854181] sensor_write_array: reg[1] 0xfe=0x00 OK
	[   40.854189] sensor_write: reg=0x3e val=0x91, client=8428e600, adapter=i2c0, addr=0x37
[   40.867288] sensor_write: reg=0x3e val=0x91 SUCCESS
[   40.867301] sensor_write_array: reg[2] 0x3e=0x91 OK
[   40.867307] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   40.867315] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   40.867321] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   40.867327] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   40.867335] gc2053: s_stream called with enable=1
[   40.867342] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   40.867347] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   40.867354] gc2053: About to write streaming registers for interface 1
[   40.867360] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   40.867369] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   40.867687] sensor_write: reg=0xfe val=0x00 SUCCESS
[   40.867695] sensor_write_array: reg[1] 0xfe=0x00 OK
[   40.867703] sensor_write: reg=0x3e val=0x91, client=8428e600, adapter=i2c0, addr=0x37
[   40.868020] sensor_write: reg=0x3e val=0x91 SUCCESS
[   40.868027] sensor_write_array: reg[2] 0x3e=0x91 OK
[   40.868034] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   40.868041] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   40.868046] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   40.868052] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   41.081084] ISP M0 device open called from pid 2338
[   41.081118] *** REFERENCE DRIVER IMPLEMENTATION ***
[   41.081126] ISP M0 tuning buffer allocated: 805d0000 (size=0x500c, aligned)
[   41.081132] tisp_par_ioctl global variable set: 805d0000
[   41.081186] isp_core_tunning_unlocked_ioctl: Auto-initializing tuning for V4L2 control (one-time)
[   41.081193] isp_core_tunning_unlocked_ioctl: Initializing tuning data structure
[   41.081199] isp_core_tuning_init: Initializing tuning data structure
[   41.081218] isp_core_tuning_init: Tuning data structure initialized at 805d8000
[   41.081224] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   41.081230] *** SAFE: mode_flag properly initialized using struct member access ***
[   41.081236] isp_core_tunning_unlocked_ioctl: Tuning data allocated at 805d8000
[   41.081242] *** BINARY NINJA REFERENCE: Skipping auto-initialization - no hardware reset during tuning setup ***
[   41.081248] isp_core_tunning_unlocked_ioctl: ISP tuning auto-enabled for V4L2 controls (permanent)
[   41.081254] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.081262] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   41.081268] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   41.081274] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   41.081279] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   41.081303] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   41.081311] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980900
[   41.081317] CRITICAL: Cannot access brightness field - PREVENTS BadVA CRASH
[   41.081325] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   41.081331] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980902
[   41.081338] CRITICAL: Cannot access saturation field at 805d8024 - PREVENTING BadVA CRASH
[   41.081698] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.081711] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   41.081718] Set control: cmd=0x980901 value=128
[   41.081784] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.081792] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   41.081798] Set control: cmd=0x98091b value=128
[   41.081858] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.081866] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   41.081872] Set control: cmd=0x980902 value=128
[   41.081878] tisp_bcsh_saturation: saturation=128
[   41.081883] tiziano_bcsh_update: Updating BCSH parameters
[   41.081890]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   41.081896] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   41.081957] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.081965] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   41.081972] Set control: cmd=0x980900 value=128
[   41.082050] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.082058] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   41.082064] Set control: cmd=0x980901 value=128
[   41.082122] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.082130] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   41.082137] Set control: cmd=0x98091b value=128
[   41.082198] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.082206] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   41.082212] Set control: cmd=0x980902 value=128
[   41.082218] tisp_bcsh_saturation: saturation=128
[   41.082223] tiziano_bcsh_update: Updating BCSH parameters
[   41.082230]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   41.082236] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   41.082295] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.082303] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   41.082310] Set control: cmd=0x980900 value=128
[   41.082375] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.082384] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.082390] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.082455] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.082462] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.082468] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.084156] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.084169] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980914 value=0
[   41.084176] Set control: cmd=0x980914 value=0
[   41.084648] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.084659] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980915 value=0
[   41.084666] Set control: cmd=0x980915 value=0
[   41.084843] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.084853] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.084859] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.085012] ISP IOCTL: cmd=0x800456d3 arg=0x0
[   41.085023] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=0 ***
[   41.085030] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   41.085037] csi_video_s_stream: sd=80564000, enable=0
[   41.085044] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 3 (enable=0)
[   41.085052] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80564400, enable=0 ***
[   41.085058] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   41.085064] *** vic_core_s_stream: STREAM OFF ***
[   41.085072] gc2053: s_stream called with enable=0
[   41.085079] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   41.085086] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   41.085091] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   41.085101] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   41.085424] sensor_write: reg=0xfe val=0x00 SUCCESS
[   41.085432] sensor_write_array: reg[1] 0xfe=0x00 OK
[   41.085440] sensor_write: reg=0x3e val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   41.088638] sensor_write: reg=0x3e val=0x00 SUCCESS
[   41.088650] sensor_write_array: reg[2] 0x3e=0x00 OK
[   41.088657] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   41.088664] gc2053: Sensor hardware streaming stopped
[   41.088672] gc2053: s_stream called with enable=0
[   41.088678] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   41.088684] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   41.088690] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   41.088700] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   41.089019] sensor_write: reg=0xfe val=0x00 SUCCESS
[   41.089026] sensor_write_array: reg[1] 0xfe=0x00 OK
[   41.089035] sensor_write: reg=0x3e val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   41.089378] sensor_write: reg=0x3e val=0x00 SUCCESS
[   41.089386] sensor_write_array: reg[2] 0x3e=0x00 OK
[   41.089393] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   41.089399] gc2053: Sensor hardware streaming stopped
[   41.089414] ISP IOCTL: cmd=0x800456d1 arg=0x7fc37a80
[   41.089422] tx_isp_video_link_destroy: Destroying links for config 0
[   41.089428] tx_isp_video_link_destroy: All links destroyed, config reset to -1
[   41.089438] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.089444] isp_core_tunning_unlocked_ioctl: Set control cmd=0x8000164 value=1
[   41.089452] Set control: cmd=0x8000164 value=1
[   41.089459] ISP IOCTL: cmd=0x800456d0 arg=0x7fc37a80
[   41.089465] TX_ISP_VIDEO_LINK_SETUP: config=0
[   41.089471] TX_ISP_VIDEO_LINK_SETUP: Link config changed from -1 to 0
[   41.089476] TX_ISP_VIDEO_LINK_SETUP: Link config updated to 0
[   41.089483] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   41.089490] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   41.089496] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   41.089502] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   41.089510] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   41.089516] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   41.089522] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   41.089528] csi_video_s_stream: sd=80564000, enable=1
[   41.089534] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   41.089542] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80564400, enable=1 ***
[   41.089548] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   41.089553] *** vic_core_s_stream: STREAM ON ***
[   41.089558] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   41.089564] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   41.089570] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   41.089576] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   41.089584] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   41.089590] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   41.089597] *** DEBUG: sensor_attr=c06e20cc, dbus_type=1 ***
[   41.089603] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   41.089609] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   41.089615] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   41.089621] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   41.089626] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   41.089632] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   41.089753] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.089763] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   41.089769] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   41.089775] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   41.089780] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   41.119165] MIPI interface configuration
[   41.119180] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   41.119186] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   41.119192] *** VIC UNLOCK: Initial register 0x0 value = 0x00000001 ***
[   41.119198] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   41.119204] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   41.119212] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   41.119218] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   41.141357] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   41.141367] *** Continuing anyway to prevent infinite hang ***
[   41.141374] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   41.141379] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   41.141385] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   41.141390] tx_isp_vic_start: Linear mode enabled
[   41.141396] *** VIC start completed - vic_start_ok = 1 ***
[   41.141403] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   41.141409] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   41.141414] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   41.141422] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   41.141428] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   41.141437] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   41.141443] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   41.141449] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   41.141455] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   41.141462] ispvic_frame_channel_s_stream: arg1=80564400, arg2=1
[   41.141468] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80564400
[   41.141474] ispvic_frame_channel_s_stream[2524]: streamon
[   41.141481] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   41.141487] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   41.141492] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   41.141498] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   41.141504] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   41.141511] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   41.141517] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   41.141524] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   41.141530] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   41.141536] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   41.141541] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   41.141547] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   41.141553] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   41.141561] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   41.141568] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   41.141576] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   41.141584] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   41.141591] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   41.141597] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***

[   41.141603] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   41.141608] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   41.141616] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   41.141631] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   41.141638] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   41.141644] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   41.141649] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   41.141656] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   41.141660] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   41.141674] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   41.141682] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   41.141748] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   41.141760] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   41.141766] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   41.141775] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   41.141781] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   41.141786] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   41.141796] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   41.141804] *** VIC UNMASK-ALL TEST: [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (expect 0) ***
[   41.142812] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   41.142818] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   41.142823] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   41.142931] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   41.142940] *** CRITICAL: isp_irq_handle: IRQ 38 received, dev_id=80480000 ***
[   41.150386] *** isp_irq_handle: IRQ 38 received, dev_id=80480000 ***
[   41.150392] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   41.158104] *** VIC INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   41.166178] *** VIC IRQ: About to access isp_dev->vic_dev, isp_dev=80480000 ***
[   41.173709] *** VIC IRQ: Got vic_dev=80564400 ***
[   41.178560] *** VIC IRQ: Checking vic_dev validity: vic_dev=80564400 ***
[   41.185464] *** VIC IRQ: About to access vic_dev->vic_regs ***
[   41.191483] *** VIC IRQ: Got vic_regs=b33e0000 ***
[   41.196415] *** VIC IRQ: Checking vic_regs validity: vic_regs=b33e0000 ***
[   41.203502] *** VIC IRQ: vic_regs passed validity check - proceeding with register access ***
[   41.212301] *** VIC IRQ: About to read VIC registers at b33e0000 ***
[   41.218855] *** VIC IRQ: Using base b33e0000 [1e0]=0x200000 [1e4]=0x0 [1e8]=0xffdffffe [1ec]=0x0 ***
[   41.228284] *** VIC IRQ: CTRL[0x300]=0x80040020 DIMS[0x304]=0x7800438 STRIDE[0x310]=0xf00 ***
[   41.237075] *** VIC IRQ: Calculated v1_7 = 0x200000 v1_10 = 0x0 ***
[   41.243540] *** VIC IRQ: About to write v1_7=0x200000 to reg 0x1f0 (base=b33e0000) ***
[   41.251708] *** VIC IRQ: About to write v1_10=0x0 to reg 0x1f4 (base=b33e0000) ***
[   41.259509] *** VIC IRQ: Register writes completed (at base=b33e0000) ***
[   41.266502] *** VIC IRQ: Restored enables(0x1e0|=1) and MainMask=0xFFDFFFFE (allow framedone+bit21) ***
[   41.276198] *** VIC IRQ: About to check vic_start_ok - vic_start_ok=1 ***
[   41.283196] *** VIC IRQ: vic_start_ok=1, v1_7=0x200000, v1_10=0x0 ***
[   41.289842] *** VIC IRQ: No frame done interrupt (v1_7 & 1 = 0) ***
[   41.296301] *** VIC ERROR: control limit error (bit 21) ***
[   41.302048] *** VIC IRQ COMPLETE: Processed v1_7=0x200000, v1_10=0x0 - returning IRQ_HANDLED ***
root@ing-wyze-cam3-a000 ~# dmesg 
[   39.808136] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   39.808142] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   39.808149] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   39.808156] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   39.808162] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   39.808168] tiziano_ae_set_hardware_param: Parameters written to AE1
[   39.808174] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   39.808181] *** system_irq_func_set: Registered handler c0686a08 at index 10 ***
[   39.827240] *** system_irq_func_set: Registered handler c0686afc at index 27 ***
[   39.834913] *** system_irq_func_set: Registered handler c0686a08 at index 26 ***
[   39.852684] *** system_irq_func_set: Registered handler c0686be4 at index 29 ***
[   39.869158] *** system_irq_func_set: Registered handler c0686b70 at index 28 ***
[   39.884985] *** system_irq_func_set: Registered handler c0686c58 at index 30 ***
[   39.911666] *** system_irq_func_set: Registered handler c0686cac at index 20 ***
[   39.930881] *** system_irq_func_set: Registered handler c0686d00 at index 18 ***
[   39.938515] *** system_irq_func_set: Registered handler c0686d54 at index 31 ***
[   39.966452] *** system_irq_func_set: Registered handler c0686da8 at index 11 ***
[   39.976532] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   39.976551] tiziano_deflicker_expt: Generated 119 LUT entries
[   39.976558] tisp_event_set_cb: Setting callback for event 1
[   39.976564] tisp_event_set_cb: Event 1 callback set to c0686608
[   39.976570] tisp_event_set_cb: Setting callback for event 6
[   39.976577] tisp_event_set_cb: Event 6 callback set to c0685b68
[   39.976582] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   39.976588] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   39.976596] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   39.976604] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   39.976610] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   39.976616] tiziano_awb_init: AWB hardware blocks enabled
[   39.976621] tiziano_gamma_init: Initializing Gamma processing
[   39.976626] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   39.976686] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   39.976692] tiziano_gib_init: Initializing GIB processing
[   39.976697] tiziano_lsc_init: Initializing LSC processing
[   39.976702] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   39.976709] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   39.976716] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   39.976722] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   39.976728] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   39.976786] tiziano_ccm_init: Initializing Color Correction Matrix
[   39.976791] tiziano_ccm_init: Using linear CCM parameters
[   39.976797] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   39.976804] jz_isp_ccm: EV=64, CT=9984
[   39.976810] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   39.976816] cm_control: saturation=128
[   39.976821] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   39.976828] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   39.976832] tiziano_ccm_init: CCM initialized successfully
[   39.976838] tiziano_dmsc_init: Initializing DMSC processing
[   39.976843] tiziano_sharpen_init: Initializing Sharpening
[   39.976848] tiziano_sharpen_init: Using linear sharpening parameters
[   39.976854] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   39.976860] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   39.976866] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   39.976893] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   39.976900] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   39.976905] tiziano_sharpen_init: Sharpening initialized successfully
[   39.976910] tiziano_sdns_init: Initializing SDNS processing
[   39.976918] tiziano_sdns_init: Using linear SDNS parameters
[   39.976924] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   39.976931] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   39.976937] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   39.976970] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   39.976976] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   39.976982] tiziano_sdns_init: SDNS processing initialized successfully
[   39.976988] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   39.976993] tiziano_mdns_init: Using linear MDNS parameters
[   39.977004] tiziano_mdns_init: MDNS processing initialized successfully
[   39.977009] tiziano_clm_init: Initializing CLM processing
[   39.977014] tiziano_dpc_init: Initializing DPC processing
[   39.977019] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   39.977025] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   39.977032] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   39.977038] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   39.977052] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   39.977059] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   39.977065] tiziano_hldc_init: Initializing HLDC processing
[   39.977071] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   39.977078] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   39.977084] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   39.977091] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   39.977098] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   39.977105] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   39.977112] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   39.977118] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   39.977125] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   39.977132] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   39.977139] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   39.977146] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   39.977152] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   39.977158] tiziano_adr_params_refresh: Refreshing ADR parameters
[   39.977164] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   39.977170] tiziano_adr_params_init: Initializing ADR parameter arrays
[   39.977176] tisp_adr_set_params: Writing ADR parameters to registers
[   39.977208] tisp_adr_set_params: ADR parameters written to hardware
[   39.977214] tisp_event_set_cb: Setting callback for event 18
[   39.977221] tisp_event_set_cb: Event 18 callback set to c0686d00
[   39.977227] tisp_event_set_cb: Setting callback for event 2
[   39.977234] tisp_event_set_cb: Event 2 callback set to c0685804
[   39.977238] tiziano_adr_init: ADR processing initialized successfully
[   39.977245] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   39.977250] tiziano_bcsh_init: Initializing BCSH processing
[   39.977255] tiziano_ydns_init: Initializing YDNS processing
[   39.977260] tiziano_rdns_init: Initializing RDNS processing
[   39.977266] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   39.977270] tisp_event_init: Initializing ISP event system
[   39.977278] tisp_event_init: SAFE event system initialized with 20 nodes
[   39.977284] tisp_event_set_cb: Setting callback for event 4
[   39.977290] tisp_event_set_cb: Event 4 callback set to c0685830
[   39.977296] tisp_event_set_cb: Setting callback for event 5
[   39.977302] tisp_event_set_cb: Event 5 callback set to c0685cf8
[   39.977308] tisp_event_set_cb: Setting callback for event 7
[   39.977314] tisp_event_set_cb: Event 7 callback set to c06858c4
[   39.977320] tisp_event_set_cb: Setting callback for event 9
[   39.977326] tisp_event_set_cb: Event 9 callback set to c068594c
[   39.977332] tisp_event_set_cb: Setting callback for event 8
[   39.977338] tisp_event_set_cb: Event 8 callback set to c0685a10
[   39.977344] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   39.977350] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   39.977355] tisp_param_operate_init: Initializing parameter operations
[   39.977362] tisp_netlink_init: Initializing netlink communication
[   39.977368] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   39.977400] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   39.977414] tisp_netlink_init: Custom protocol failed, trying with nlcfg structure
[   39.977426] tisp_netlink_init: Failed to create netlink socket - continuing without netlink support
[   39.977432] tisp_netlink_init: ISP tuning parameters may not be available, but VIC interrupts should still work
[   39.977438] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   39.977444] tisp_code_create_tuning_node: Device already created, skipping
[   39.977450] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   39.977456] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   39.977462] *** ispcore_core_ops_init_with_sensor: tisp_init SUCCESS - MIPI CSI should now be configured ***
[   39.977469] *** ispcore_core_ops_init_with_sensor: VIC already in state 4 (>= 3) ****** ispcore_core_ops_init_with_sensor: Calling tx_isp_subdev_pipo to program VIC and start MDMA/IRQs ***
[   39.977478] *** tx_isp_subdev_pipo: EXACT Binary Ninja MCP implementation ***
[   39.977484] tx_isp_subdev_pipo: entry - sd=80564400, arg=80480000
[   39.977491] tx_isp_subdev_pipo: vic_dev retrieved from host_priv: 80564400
[   39.977496] tx_isp_subdev_pipo: set processing = 1 (Binary Ninja offset 0x20c)
[   39.977502] tx_isp_subdev_pipo: arg is not NULL - initializing pipe structures (Binary Ninja MCP)
[   39.977508] tx_isp_subdev_pipo: initialized linked list heads (Binary Ninja MCP)
[   39.977513] tx_isp_subdev_pipo: initialized spinlock (Binary Ninja MCP)
[   39.977519] *** CRITICAL: Set ispvic_frame_channel_s_stream at raw_pipe[3] (offset 0xc) ***
[   39.977524] *** tx_isp_subdev_pipo: GOOD-THINGS approach - deferring buffer allocation ***
[   39.977530] *** Buffers will be allocated on-demand during QBUF operations ***
[   39.977536] tx_isp_subdev_pipo: initialized buffer index 0 (allocation deferred)
[   39.977543] tx_isp_subdev_pipo: cleared VIC register at offset 0x318 for buffer 0
[   39.977549] tx_isp_subdev_pipo: initialized buffer index 1 (allocation deferred)
[   39.977555] tx_isp_subdev_pipo: cleared VIC register at offset 0x31c for buffer 1
[   39.977561] tx_isp_subdev_pipo: initialized buffer index 2 (allocation deferred)
[   39.977568] tx_isp_subdev_pipo: cleared VIC register at offset 0x320 for buffer 2
[   39.977574] tx_isp_subdev_pipo: initialized buffer index 3 (allocation deferred)
[   39.977580] tx_isp_subdev_pipo: cleared VIC register at offset 0x324 for buffer 3
[   39.977586] tx_isp_subdev_pipo: initialized buffer index 4 (allocation deferred)
[   39.977593] tx_isp_subdev_pipo: cleared VIC register at offset 0x328 for buffer 4
[   39.977598] *** tx_isp_subdev_pipo: Using GOOD-THINGS deferred buffer allocation strategy ***
[   39.977604] tx_isp_subdev_pipo: initialized 5 buffer structures (safe implementation)
[   39.977610] tx_isp_subdev_pipo: set processing = 1 (pipe enabled, safe struct access)
[   39.977616] *** tx_isp_subdev_pipo: RESETTING stream_state to 0 before calling ispvic_frame_channel_s_stream ***
[   39.977622] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_qbuf to write buffer addresses ***
[   39.977628] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   39.977635] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   39.977642] *** tx_isp_subdev_pipo: ispvic_frame_channel_qbuf SUCCESS - buffer addresses written to VIC hardware ***
[   39.977648] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_s_stream to start VIC streaming ***
[   39.977654] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   39.977660] ispvic_frame_channel_s_stream: arg1=80564400, arg2=1
[   39.977666] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80564400
[   39.977673] ispvic_frame_channel_s_stream[2524]: streamon
[   39.977680] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   39.977686] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   39.977692] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   39.977697] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   39.977702] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   39.977710] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   39.977716] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   39.977723] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   39.977728] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   39.977734] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   39.977740] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   39.977746] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   39.977752] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   39.977760] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   39.977768] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   39.977775] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   39.977783] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   39.977790] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   39.977796] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   39.977802] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   39.977808] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   39.977815] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   39.977821] *** tx_isp_subdev_pipo: ispvic_frame_channel_s_stream SUCCESS - VIC streaming started! ***
[   39.977826] *** tx_isp_subdev_pipo: CALLING vic_core_s_stream to enable VIC interrupts ***
[   39.977834] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80564400, enable=1 ***
[   39.977840] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=4 ***
[   39.977845] *** vic_core_s_stream: STREAM ON ***
[   39.977851] *** vic_core_s_stream: EXACT Binary Ninja - State=4, no action needed ***
[   39.977856] *** tx_isp_subdev_pipo: vic_core_s_stream SUCCESS - VIC interrupts should now be ENABLED! ***
[   39.977862] tx_isp_subdev_pipo: completed successfully, returning 0
[   39.977868] *** ispcore_core_ops_init_with_sensor: SUCCESS - Core initialized and VIC streaming/IRQs armed ***
[   39.977872] ispcore_slake_module: Initializing channelsispcore_slake_module: Channel 0 enabled
[   39.977880] ispcore_slake_module: Channel 1 enabledispcore_slake_module: Channel 2 enabled
[   39.977888] ispcore_slake_module: Channel 3 enabledispcore_slake_module: Channel 4 enabled
[   39.977896] ispcore_slake_module: Channel 5 enabledispcore_slake_module: Calling VIC control function (0x4000001, 0)
[   39.977904] ispcore_slake_module: VIC control register written: 0x4000001ispcore_slake_module: Set VIC state to INIT (1)
[   39.977911] ispcore_slake_module: Processing subdevices*** DEBUG: isp_dev=80480000, isp_dev->subdevs=80483274 ***
[   39.977924] *** ispcore_slake_module: Calling slake_module for CSI subdev ***
[   39.977931] *** tx_isp_csi_slake_subdev: CSI slake/shutdown - current state=4 ***
[   39.977936] tx_isp_csi_slake_subdev: CSI in streaming state, stopping stream
[   39.977942] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   39.977949] csi_video_s_stream: sd=80564000, enable=0
[   39.977955] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 3 (enable=0)
[   39.977960] tx_isp_csi_slake_subdev: CSI in state 3, calling core_ops_init(disable)
[   39.977968] csi_core_ops_init: sd=80564000, csi_dev=80564000, enable=0
[   39.977976] tx_isp_csi_slake_subdev: CSI state 2->1, disabling clocks
[   39.977982] tx_isp_csi_slake_subdev: Disabled clock 0
[   39.977988] *** tx_isp_csi_slake_subdev: CSI slake complete, final state=1 ***
[   39.977993] ispcore_slake_module: CSI slake success
[   39.977997] *** ispcore_slake_module: Calling slake_module for VIC subdev ***
[   39.978003] *** tx_isp_vic_slake_subdev: ENTRY - sd=80564400 ***
[   39.978010] *** tx_isp_vic_slake_subdev: VIC slake/shutdown - vic_dev=80564400, current state=1 ***
[   39.978017] *** tx_isp_vic_slake_subdev: VIC slake complete, final state=1 ***
[   39.978022] ispcore_slake_module: VIC slake success
[   39.978027] *** ispcore_slake_module: All subdev slake operations completed using helper functions ***
[   39.978032] ispcore_slake_module: Managing ISP clocks
[   39.978036] ispcore_slake_module: Disabled IPU clockispcore_slake_module: Disabled ISP clock
[   39.978044] ispcore_slake_module: Complete, result=0<6>[   39.978050] *** ispcore_slake_module SUCCESS - ISP core should now be initialized ***
[   39.978056] *** vic_core_s_stream: VIC initialized, final state=1 ***
[   39.978063] *** tx_isp_video_s_stream: subdev[1] s_stream SUCCESS ***
[   39.978070] *** tx_isp_video_s_stream: Calling subdev[3]->ops->video->s_stream(1) ***
[   39.978077] gc2053: s_stream called with enable=1
[   39.978084] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   39.978090] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   39.978096] gc2053: About to write streaming registers for interface 1
[   39.978103] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   39.978112] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   39.978437] sensor_write: reg=0xfe val=0x00 SUCCESS
[   39.978446] sensor_write_array: reg[1] 0xfe=0x00 OK
[   39.978454] sensor_write: reg=0x3e val=0x91, client=8428e600, adapter=i2c0, addr=0x37
[   39.986647] sensor_write: reg=0x3e val=0x91 SUCCESS
[   39.986660] sensor_write_array: reg[2] 0x3e=0x91 OK
[   39.986666] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   39.986674] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   39.986680] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   39.986686] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   39.986692] *** tx_isp_video_s_stream: subdev[3] s_stream SUCCESS ***
[   39.986700] *** tx_isp_video_s_stream: Calling subdev[5]->ops->video->s_stream(1) ***
[   39.986706] gc2053: s_stream called with enable=1
[   39.986713] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   39.986719] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   39.986725] gc2053: About to write streaming registers for interface 1
[   39.986731] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   39.986741] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   39.987058] sensor_write: reg=0xfe val=0x00 SUCCESS
[   39.987066] sensor_write_array: reg[1] 0xfe=0x00 OK
[   39.987074] sensor_write: reg=0x3e val=0x91, client=8428e600, adapter=i2c0, addr=0x37
[   39.987392] sensor_write: reg=0x3e val=0x91 SUCCESS
[   39.987400] sensor_write_array: reg[2] 0x3e=0x91 OK
[   39.987406] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   39.987412] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   39.987418] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   39.987424] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   39.987430] *** tx_isp_video_s_stream: subdev[5] s_stream SUCCESS ***
[   39.987437] *** tx_isp_video_s_stream: Post-sensor s_stream re-trigger of CSI core->init ***
[   39.999183] csi_core_ops_init: sd=80564000, csi_dev=80564000, enable=1
[   39.999196] *** VIC POST-SENSOR REASSERT: re-applying routing/mask after sensor stream-on ***
[   40.038388] *** VIC POST-SENSOR REASSERT: No status bits asserted in 20ms window ***
[   40.038409] ISP IOCTL: cmd=0x800456d0 arg=0x7fc37a80
[   40.038416] TX_ISP_VIDEO_LINK_SETUP: config=0
[   40.038422] TX_ISP_VIDEO_LINK_SETUP: Link config unchanged (0)
[   40.038429] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   40.038436] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   40.038442] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   40.038449] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   40.038456] VIC activated: state 1 -> 2 (READY)
[   40.038462] *** VIC ACTIVATION: Buffers will be allocated on-demand during QBUF operations ***
[   40.038468] *** VIC ACTIVATION: Free buffer list initialized (empty) - allocation deferred ***
[   40.038474] *** VIC ACTIVATION: Using GOOD-THINGS deferred buffer allocation strategy ***
[   40.038480] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   40.038487] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   40.038493] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   40.038500] csi_video_s_stream: sd=80564000, enable=1
[   40.038506] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   40.038514] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80564400, enable=1 ***
[   40.038520] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   40.038525] *** vic_core_s_stream: STREAM ON ***
[   40.038530] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   40.038536] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   40.038542] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   40.038548] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   40.038557] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   40.038563] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   40.038570] *** DEBUG: sensor_attr=c06e20cc, dbus_type=1 ***
[   40.038576] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   40.038582] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   40.038588] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   40.038594] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   40.038599] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   40.038606] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   40.059138] MIPI interface configuration
[   40.059152] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   40.059158] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   40.059164] *** VIC UNLOCK: Initial register 0x0 value = 0x00000000 ***
[   40.059170] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   40.059176] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   40.059184] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   40.059189] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   40.081174] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   40.081184] *** Continuing anyway to prevent infinite hang ***
[   40.081190] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   40.081195] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   40.081202] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   40.081207] tx_isp_vic_start: Linear mode enabled
[   40.081212] *** VIC start completed - vic_start_ok = 1 ***
[   40.081220] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   40.081225] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   40.081231] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   40.081238] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   40.081244] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   40.081252] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   40.081259] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   40.081264] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   40.081271] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   40.081278] ispvic_frame_channel_s_stream: arg1=80564400, arg2=1
[   40.081284] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80564400
[   40.081290] ispvic_frame_channel_s_stream[2524]: streamon
[   40.081297] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   40.081303] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   40.081308] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   40.081314] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   40.081320] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   40.081327] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   40.081332] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   40.081340] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   40.081346] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   40.081352] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   40.081357] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   40.081362] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   40.081369] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   40.081376] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   40.081384] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   40.081392] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   40.081399] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   40.081407] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   40.081413] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   40.081418] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   40.081424] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   40.081431] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   40.081446] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   40.081454] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   40.081459] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   40.081464] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   40.081471] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   40.081476] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   40.081490] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   40.081498] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   40.081563] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   40.081575] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   40.081581] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   40.081590] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   40.081596] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   40.081602] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   40.081611] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   40.081618] *** VIC UNMASK-ALL TEST: [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (expect 0) ***
[   40.082627] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   40.082632] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   40.082638] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   40.082746] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   40.082756] *** CRITICAL: isp_irq_handle: IRQ 38 received, dev_id=80480000 ***
[   40.090207] *** isp_irq_handle: IRQ 38 received, dev_id=80480000 ***
[   40.090212] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   40.097936] *** VIC INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   40.106012] *** VIC IRQ: About to access isp_dev->vic_dev, isp_dev=80480000 ***
[   40.113545] *** VIC IRQ: Got vic_dev=80564400 ***
[   40.118398] *** VIC IRQ: Checking vic_dev validity: vic_dev=80564400 ***
[   40.125302] *** VIC IRQ: About to access vic_dev->vic_regs ***
[   40.131322] *** VIC IRQ: Got vic_regs=b33e0000 ***
[   40.136253] *** VIC IRQ: Checking vic_regs validity: vic_regs=b33e0000 ***
[   40.143338] *** VIC IRQ: vic_regs passed validity check - proceeding with register access ***
[   40.152138] *** VIC IRQ: About to read VIC registers at b33e0000 ***
[   40.158694] *** VIC IRQ: Using base b33e0000 [1e0]=0x200000 [1e4]=0x0 [1e8]=0xffdffffe [1ec]=0x0 ***
[   40.168125] *** VIC IRQ: CTRL[0x300]=0x80040020 DIMS[0x304]=0x7800438 STRIDE[0x310]=0xf00 ***
[   40.176917] *** VIC IRQ: Calculated v1_7 = 0x200000 v1_10 = 0x0 ***
[   40.183385] *** VIC IRQ: About to write v1_7=0x200000 to reg 0x1f0 (base=b33e0000) ***
[   40.191554] *** VIC IRQ: About to write v1_10=0x0 to reg 0x1f4 (base=b33e0000) ***
[   40.199364] *** VIC IRQ: Register writes completed (at base=b33e0000) ***
[   40.206363] *** VIC IRQ: Restored enables(0x1e0|=1) and MainMask=0xFFDFFFFE (allow framedone+bit21) ***
[   40.216054] *** VIC IRQ: About to check vic_start_ok - vic_start_ok=1 ***
[   40.223056] *** VIC IRQ: vic_start_ok=1, v1_7=0x200000, v1_10=0x0 ***
[   40.229702] *** VIC IRQ: No frame done interrupt (v1_7 & 1 = 0) ***
[   40.236160] *** VIC ERROR: control limit error (bit 21) ***
[   40.241903] *** VIC IRQ COMPLETE: Processed v1_7=0x200000, v1_10=0x0 - returning IRQ_HANDLED ***
[   40.439153] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   40.439267] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   40.439275] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   40.439280] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   40.439286] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   40.439292] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   40.439297] tx_vic_enable_irq: Calling VIC interrupt callback
[   40.439304] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   40.439311] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   40.439317] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   40.439326] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   40.439332] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   40.439340] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   40.439346] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   40.439353] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   40.439358] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   40.439363] *** tx_vic_enable_irq: completed successfully ***
[   40.853787] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   40.853801] *** vic_core_s_stream: VIC state 2 - letting tx_isp_video_s_stream handle state 2  3 transition ***
[   40.853808] *** vic_core_s_stream: VIC initialized, final state=2 ***
[   40.853819] gc2053: s_stream called with enable=1
[   40.853825] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   40.853832] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   40.853838] gc2053: About to write streaming registers for interface 1
[   40.853844] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   40.853854] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   40.854173] sensor_write: reg=0xfe val=0x00 SUCCESS
[   40.854181] sensor_write_array: reg[1] 0xfe=0x00 OK
[   40.854189] sensor_write: reg=0x3e val=0x91, client=8428e600, adapter=i2c0, addr=0x37
[   40.867288] sensor_write: reg=0x3e val=0x91 SUCCESS
[   40.867301] sensor_write_array: reg[2] 0x3e=0x91 OK
[   40.867307] sensor_write_array: Complete - wrote 2 registers, 0 errorsd
[   40.867315] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   40.867321] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   40.867327] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   40.867335] gc2053: s_stream called with enable=1
[   40.867342] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   40.867347] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   40.867354] gc2053: About to write streaming registers for interface 1
[   40.867360] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   40.867369] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   40.867687] sensor_write: reg=0xfe val=0x00 SUCCESS
[   40.867695] sensor_write_array: reg[1] 0xfe=0x00 OK
[   40.867703] sensor_write: reg=0x3e val=0x91, client=8428e600, adapter=i2c0, addr=0x37
[   40.868020] sensor_write: reg=0x3e val=0x91 SUCCESS
[   40.868027] sensor_write_array: reg[2] 0x3e=0x91 OK
[   40.868034] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   40.868041] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   40.868046] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   40.868052] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   41.081084] ISP M0 device open called from pid 2338
[   41.081118] *** REFERENCE DRIVER IMPLEMENTATION ***
[   41.081126] ISP M0 tuning buffer allocated: 805d0000 (size=0x500c, aligned)
[   41.081132] tisp_par_ioctl global variable set: 805d0000
[   41.081186] isp_core_tunning_unlocked_ioctl: Auto-initializing tuning for V4L2 control (one-time)
[   41.081193] isp_core_tunning_unlocked_ioctl: Initializing tuning data structure
[   41.081199] isp_core_tuning_init: Initializing tuning data structure
[   41.081218] isp_core_tuning_init: Tuning data structure initialized at 805d8000
[   41.081224] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   41.081230] *** SAFE: mode_flag properly initialized using struct member access ***
[   41.081236] isp_core_tunning_unlocked_ioctl: Tuning data allocated at 805d8000
[   41.081242] *** BINARY NINJA REFERENCE: Skipping auto-initialization - no hardware reset during tuning setup ***
[   41.081248] isp_core_tunning_unlocked_ioctl: ISP tuning auto-enabled for V4L2 controls (permanent)
[   41.081254] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.081262] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   41.081268] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   41.081274] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   41.081279] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   41.081303] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   41.081311] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980900
[   41.081317] CRITICAL: Cannot access brightness field - PREVENTS BadVA CRASH
[   41.081325] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   41.081331] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980902
[   41.081338] CRITICAL: Cannot access saturation field at 805d8024 - PREVENTING BadVA CRASH
[   41.081698] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.081711] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   41.081718] Set control: cmd=0x980901 value=128
[   41.081784] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.081792] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   41.081798] Set control: cmd=0x98091b value=128
[   41.081858] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.081866] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   41.081872] Set control: cmd=0x980902 value=128
[   41.081878] tisp_bcsh_saturation: saturation=128
[   41.081883] tiziano_bcsh_update: Updating BCSH parameters
[   41.081890]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   41.081896] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   41.081957] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.081965] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[INFO:WS.cpp]: Server started on port 8089
[   41.081972] Set control: cmd=0x980900 value=128
[   41.082050] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.082058] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   41.082064] Set control: cmd=0x980901 value=128
[   41.082122] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.082130] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   41.082137] Set control: cmd=0x98091b value=128
[   41.082198] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.082206] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   41.082212] Set control: cmd=0x980902 value=128
[   41.082218] tisp_bcsh_saturation: saturation=128
[   41.082223] tiziano_bcsh_update: Updating BCSH parameters
[   41.082230]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   41.082236] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   41.082295] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.082303] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   41.082310] Set control: cmd=0x980900 value=128
[   41.082375] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.082384] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.082390] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.082455] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.082462] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.082468] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.084156] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.084169] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980914 value=0
[   41.084176] Set control: cmd=0x980914 value=0
[   41.084648] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.084659] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980915 value=0
[   41.084666] Set control: cmd=0x980915 value=0
[   41.084843] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.084853] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.084859] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.085012] ISP IOCTL: cmd=0x800456d3 arg=0x0
[   41.085023] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=0 ***
[   41.085030] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   41.085037] csi_video_s_stream: sd=80564000, enable=0
[   41.085044] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 3 (enable=0)
[   41.085052] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80564400, enable=0 ***
[   41.085058] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   41.085064] *** vic_core_s_stream: STREAM OFF ***
[   41.085072] gc2053: s_stream called with enable=0
[   41.085079] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   41.085086] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   41.085091] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   41.085101] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   41.085424] sensor_write: reg=0xfe val=0x00 SUCCESS
[   41.085432] sensor_write_array: reg[1] 0xfe=0x00 OK
[   41.085440] sensor_write: reg=0x3e val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   41.088638] sensor_write: reg=0x3e val=0x00 SUCCESS
[   41.088650] sensor_write_array: reg[2] 0x3e=0x00 OK
[   41.088657] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   41.088664] gc2053: Sensor hardware streaming stopped
[   41.088672] gc2053: s_stream called with enable=0
[   41.088678] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   41.088684] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   41.088690] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   41.088700] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   41.089019] sensor_write: reg=0xfe val=0x00 SUCCESS
[   41.089026] sensor_write_array: reg[1] 0xfe=0x00 OK
[   41.089035] sensor_write: reg=0x3e val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   41.089378] sensor_write: reg=0x3e val=0x00 SUCCESS
[   41.089386] sensor_write_array: reg[2] 0x3e=0x00 OK
[   41.089393] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   41.089399] gc2053: Sensor hardware streaming stopped
[   41.089414] ISP IOCTL: cmd=0x800456d1 arg=0x7fc37a80
[   41.089422] tx_isp_video_link_destroy: Destroying links for config 0
[   41.089428] tx_isp_video_link_destroy: All links destroyed, config reset to -1
[   41.089438] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.089444] isp_core_tunning_unlocked_ioctl: Set control cmd=0x8000164 value=1
[   41.089452] Set control: cmd=0x8000164 value=1
[   41.089459] ISP IOCTL: cmd=0x800456d0 arg=0x7fc37a80
[   41.089465] TX_ISP_VIDEO_LINK_SETUP: config=0
[   41.089471] TX_ISP_VIDEO_LINK_SETUP: Link config changed from -1 to 0
[   41.089476] TX_ISP_VIDEO_LINK_SETUP: Link config updated to 0
[   41.089483] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   41.089490] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   41.089496] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   41.089502] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   41.089510] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   41.089516] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   41.089522] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   41.089528] csi_video_s_stream: sd=80564000, enable=1
[   41.089534] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   41.089542] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80564400, enable=1 ***
[   41.089548] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   41.089553] *** vic_core_s_stream: STREAM ON ***
[   41.089558] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   41.089564] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   41.089570] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   41.089576] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   41.089584] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   41.089590] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   41.089597] *** DEBUG: sensor_attr=c06e20cc, dbus_type=1 ***
[   41.089603] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   41.089609] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   41.089615] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   41.089621] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   41.089626] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   41.089632] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   41.089753] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.089763] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   41.089769] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   41.089775] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   41.089780] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   41.119165] MIPI interface configuration
[   41.119180] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   41.119186] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   41.119192] *** VIC UNLOCK: Initial register 0x0 value = 0x00000001 ***
[   41.119198] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   41.119204] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   41.119212] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   41.119218] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   41.141357] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   41.141367] *** Continuing anyway to prevent infinite hang ***
[   41.141374] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   41.141379] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   41.141385] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   41.141390] tx_isp_vic_start: Linear mode enabled
[   41.141396] *** VIC start completed - vic_start_ok = 1 ***
[   41.141403] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   41.141409] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   41.141414] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   41.141422] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   41.141428] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   41.141437] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   41.141443] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   41.141449] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   41.141455] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   41.141462] ispvic_frame_channel_s_stream: arg1=80564400, arg2=1
[   41.141468] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80564400
[   41.141474] ispvic_frame_channel_s_stream[2524]: streamon
[   41.141481] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   41.141487] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   41.141492] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   41.141498] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   41.141504] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   41.141511] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   41.141517] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   41.141524] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   41.141530] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   41.141536] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   41.141541] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   41.141547] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   41.141553] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   41.141561] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   41.141568] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   41.141576] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   41.141584] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   41.141591] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   41.141597] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   41.141603] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   41.141608] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   41.141616] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   41.141631] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   41.141638] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   41.141644] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   41.141649] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   41.141656] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   41.141660] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   41.141674] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   41.141682] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   41.141748] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   41.141760] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   41.141766] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   41.141775] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   41.141781] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   41.141786] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   41.141796] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   41.141804] *** VIC UNMASK-ALL TEST: [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (expect 0) ***
[   41.142812] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   41.142818] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   41.142823] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   41.142931] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   41.142940] *** CRITICAL: isp_irq_handle: IRQ 38 received, dev_id=80480000 ***
[   41.150386] *** isp_irq_handle: IRQ 38 received, dev_id=80480000 ***
[   41.150392] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   41.158104] *** VIC INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   41.166178] *** VIC IRQ: About to access isp_dev->vic_dev, isp_dev=80480000 ***
[   41.173709] *** VIC IRQ: Got vic_dev=80564400 ***
[   41.178560] *** VIC IRQ: Checking vic_dev validity: vic_dev=80564400 ***
[   41.185464] *** VIC IRQ: About to access vic_dev->vic_regs ***
[   41.191483] *** VIC IRQ: Got vic_regs=b33e0000 ***
[   41.196415] *** VIC IRQ: Checking vic_regs validity: vic_regs=b33e0000 ***
[   41.203502] *** VIC IRQ: vic_regs passed validity check - proceeding with register access ***
[   41.212301] *** VIC IRQ: About to read VIC registers at b33e0000 ***
[   41.218855] *** VIC IRQ: Using base b33e0000 [1e0]=0x200000 [1e4]=0x0 [1e8]=0xffdffffe [1ec]=0x0 ***
[   41.228284] *** VIC IRQ: CTRL[0x300]=0x80040020 DIMS[0x304]=0x7800438 STRIDE[0x310]=0xf00 ***
[   41.237075] *** VIC IRQ: Calculated v1_7 = 0x200000 v1_10 = 0x0 ***
[   41.243540] *** VIC IRQ: About to write v1_7=0x200000 to reg 0x1f0 (base=b33e0000) ***
[   41.251708] *** VIC IRQ: About to write v1_10=0x0 to reg 0x1f4 (base=b33e0000) ***
[   41.259509] *** VIC IRQ: Register writes completed (at base=b33e0000) ***
set jpeg streamMngCtx suceess
[   41.266502] *** VIC IRQ: Restored enables(0x1e0|=1) and MainMask=0xFFDFFFFE (allow framedone+bit21) ***
[   41.276198] *** VIC IRQ: About to check vic_start_ok - vic_start_ok=1 ***
[   41.283196] *** VIC IRQ: vic_start_ok=1, v1_7=0x200000, v1_10=0x0 ***
[   41.289842] *** VIC IRQ: No frame done interrupt (v1_7 & 1 = 0) ***
[   41.296301] *** VIC ERROR: control limit error (bit 21) ***
[   41.302048] *** VIC IRQ COMPLETE: Processed v1_7=0x200000, v1_10=0x0 - returning IRQ_HANDLED ***
[   41.499310] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   41.499423] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   41.499431] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   41.499436] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   41.499442] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   41.499448] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   41.499454] tx_vic_enable_irq: Calling VIC interrupt callback
[   41.499460] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   41.499466] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   41.499472] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   41.499481] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   41.499488] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   41.499495] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   41.499502] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   41.499508] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   41.499514] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   41.499519] *** tx_vic_enable_irq: completed successfully ***
[   41.910247] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   41.910262] *** vic_core_s_stream: VIC state 2 - letting tx_isp_video_s_stream handle state 2  3 transition ***
[   41.910268] *** vic_core_s_stream: VIC initialized, final state=2 ***
[   41.910279] gc2053: s_stream called with enable=1
[   41.910286] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   41.910293] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   41.910299] gc2053: About to write streaming registers for interface 1
[   41.910305] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   41.910315] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   41.910634] sensor_write: reg=0xfe val=0x00 SUCCESS
[   41.910641] sensor_write_array: reg[1] 0xfe=0x00 OK
[   41.910649] sensor_write: reg=0x3e val=0x91, client=8428e600, adapter=i2c0, addr=0x37
[   41.917321] sensor_write: reg=0x3e val=0x91 SUCCESS
[   41.917333] sensor_write_array: reg[2] 0x3e=0x91 OK
[   41.917341] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   41.917348] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   41.917354] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   41.917360] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   41.917367] gc2053: s_stream called with enable=1
[   41.917375] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   41.917381] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   41.917387] gc2053: About to write streaming registers for interface 1
[   41.917393] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   41.917403] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   41.917721] sensor_write: reg=0xfe val=0x00 SUCCESS
[   41.917728] sensor_write_array: reg[1] 0xfe=0x00 OK
[   41.917737] sensor_write: reg=0x3e val=0x91, client=8428e600, adapter=i2c0, addr=0x37
[   41.918054] sensor_write: reg=0x3e val=0x91 SUCCESS
[   41.918061] sensor_write_array: reg[2] 0x3e=0x91 OK
[   41.918067] sensor_write_array: Complete - wrote 2 registers, 0 errors
m[   41.918074] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   41.918080] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   41.918086] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   41.918297] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.918307] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980918 value=2
[   41.918315] Set control: cmd=0x980918 value=2
[   41.918459] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.918470] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.918475] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.918613] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.918621] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.918627] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.918753] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.918761] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.918767] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.918883] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.918891] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.918897] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.919048] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.919056] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.919062] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.919237] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.919247] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.919253] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.919406] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.919415] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.919421] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.919551] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.919559] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.919565] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.919781] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.919790] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.919796] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.919928] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.919937] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.919943] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   42.090037] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   42.090049] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   42.090055] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   42.090061] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   42.090067] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
root@ing-wyze-cam3-a000 ~# dmesg 
[   40.158694] *** VIC IRQ: Using base b33e0000 [1e0]=0x200000 [1e4]=0x0 [1e8]=0xffdffffe [1ec]=0x0 ***
[   40.168125] *** VIC IRQ: CTRL[0x300]=0x80040020 DIMS[0x304]=0x7800438 STRIDE[0x310]=0xf00 ***
[   40.176917] *** VIC IRQ: Calculated v1_7 = 0x200000 v1_10 = 0x0 ***
[   40.183385] *** VIC IRQ: About to write v1_7=0x200000 to reg 0x1f0 (base=b33e0000) ***
[   40.191554] *** VIC IRQ: About to write v1_10=0x0 to reg 0x1f4 (base=b33e0000) ***
[   40.199364] *** VIC IRQ: Register writes completed (at base=b33e0000) ***
[   40.206363] *** VIC IRQ: Restored enables(0x1e0|=1) and MainMask=0xFFDFFFFE (allow framedone+bit21) ***
[   40.216054] *** VIC IRQ: About to check vic_start_ok - vic_start_ok=1 ***
[   40.223056] *** VIC IRQ: vic_start_ok=1, v1_7=0x200000, v1_10=0x0 ***
[   40.229702] *** VIC IRQ: No frame done interrupt (v1_7 & 1 = 0) ***
[   40.236160] *** VIC ERROR: control limit error (bit 21) ***
[   40.241903] *** VIC IRQ COMPLETE: Processed v1_7=0x200000, v1_10=0x0 - returning IRQ_HANDLED ***
[   40.439153] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   40.439267] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   40.439275] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   40.439280] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   40.439286] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   40.439292] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   40.439297] tx_vic_enable_irq: Calling VIC interrupt callback
[   40.439304] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   40.439311] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   40.439317] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   40.439326] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   40.439332] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   40.439340] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   40.439346] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   40.439353] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   40.439358] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   40.439363] *** tx_vic_enable_irq: completed successfully ***
[   40.853787] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   40.853801] *** vic_core_s_stream: VIC state 2 - letting tx_isp_video_s_stream handle state 2  3 transition ***
[   40.853808] *** vic_core_s_stream: VIC initialized, final state=2 ***
[   40.853819] gc2053: s_stream called with enable=1
[   40.853825] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   40.853832] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   40.853838] gc2053: About to write streaming registers for interface 1
[   40.853844] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   40.853854] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   40.854173] sensor_write: reg=0xfe val=0x00 SUCCESS
[   40.854181] sensor_write_array: reg[1] 0xfe=0x00 OK
[   40.854189] sensor_write: reg=0x3e val=0x91, client=8428e600, adapter=i2c0, addr=0x37
[   40.867288] sensor_write: reg=0x3e val=0x91 SUCCESS
[   40.867301] sensor_write_array: reg[2] 0x3e=0x91 OK
[   40.867307] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   40.867315] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   40.867321] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   40.867327] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   40.867335] gc2053: s_stream called with enable=1
[   40.867342] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   40.867347] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   40.867354] gc2053: About to write streaming registers for interface 1
[   40.867360] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   40.867369] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   40.867687] sensor_write: reg=0xfe val=0x00 SUCCESS
[   40.867695] sensor_write_array: reg[1] 0xfe=0x00 OK
[   40.867703] sensor_write: reg=0x3e val=0x91, client=8428e600, adapter=i2c0, addr=0x37
[   40.868020] sensor_write: reg=0x3e val=0x91 SUCCESS
[   40.868027] sensor_write_array: reg[2] 0x3e=0x91 OK
[   40.868034] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   40.868041] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   40.868046] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   40.868052] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   41.081084] ISP M0 device open called from pid 2338
[   41.081118] *** REFERENCE DRIVER IMPLEMENTATION ***
[   41.081126] ISP M0 tuning buffer allocated: 805d0000 (size=0x500c, aligned)
[   41.081132] tisp_par_ioctl global variable set: 805d0000
[   41.081186] isp_core_tunning_unlocked_ioctl: Auto-initializing tuning for V4L2 control (one-time)
[   41.081193] isp_core_tunning_unlocked_ioctl: Initializing tuning data structure
[   41.081199] isp_core_tuning_init: Initializing tuning data structure
[   41.081218] isp_core_tuning_init: Tuning data structure initialized at 805d8000
[   41.081224] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   41.081230] *** SAFE: mode_flag properly initialized using struct member access ***
[   41.081236] isp_core_tunning_unlocked_ioctl: Tuning data allocated at 805d8000
[   41.081242] *** BINARY NINJA REFERENCE: Skipping auto-initialization - no hardware reset during tuning setup ***
[   41.081248] isp_core_tunning_unlocked_ioctl: ISP tuning auto-enabled for V4L2 controls (permanent)
[   41.081254] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.081262] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   41.081268] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   41.081274] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   41.081279] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   41.081303] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   41.081311] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980900
[   41.081317] CRITICAL: Cannot access brightness field - PREVENTS BadVA CRASH
[   41.081325] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   41.081331] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980902
[   41.081338] CRITICAL: Cannot access saturation field at 805d8024 - PREVENTING BadVA CRASH
[   41.081698] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.081711] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   41.081718] Set control: cmd=0x980901 value=128
[   41.081784] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.081792] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   41.081798] Set control: cmd=0x98091b value=128
[   41.081858] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.081866] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   41.081872] Set control: cmd=0x980902 value=128
[   41.081878] tisp_bcsh_saturation: saturation=128
[   41.081883] tiziano_bcsh_update: Updating BCSH parameters
[   41.081890]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   41.081896] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   41.081957] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.081965] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   41.081972] Set control: cmd=0x980900 value=128
[   41.082050] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.082058] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   41.082064] Set control: cmd=0x980901 value=128
[   41.082122] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.082130] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   41.082137] Set control: cmd=0x98091b value=128
[   41.082198] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.082206] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   41.082212] Set control: cmd=0x980902 value=128
[   41.082218] tisp_bcsh_saturation: saturation=128
[   41.082223] tiziano_bcsh_update: Updating BCSH parameters
[   41.082230]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   41.082236] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   41.082295] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.082303] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   41.082310] Set control: cmd=0x980900 value=128
[   41.082375] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.082384] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.082390] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.082455] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.082462] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.082468] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.084156] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.084169] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980914 value=0
[   41.084176] Set control: cmd=0x980914 value=0
[   41.084648] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.084659] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980915 value=0
[   41.084666] Set control: cmd=0x980915 value=0
[   41.084843] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.084853] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.084859] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.085012] ISP IOCTL: cmd=0x800456d3 arg=0x0
[   41.085023] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=0 ***
[   41.085030] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   41.085037] csi_video_s_stream: sd=80564000, enable=0
[   41.085044] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 3 (enable=0)
[   41.085052] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80564400, enable=0 ***
[   41.085058] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   41.085064] *** vic_core_s_stream: STREAM OFF ***
[   41.085072] gc2053: s_stream called with enable=0
[   41.085079] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   41.085086] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   41.085091] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   41.085101] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   41.085424] sensor_write: reg=0xfe val=0x00 SUCCESS
[   41.085432] sensor_write_array: reg[1] 0xfe=0x00 OK
[   41.085440] sensor_write: reg=0x3e val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   41.088638] sensor_write: reg=0x3e val=0x00 SUCCESS
[   41.088650] sensor_write_array: reg[2] 0x3e=0x00 OK
[   41.088657] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   41.088664] gc2053: Sensor hardware streaming stopped
[   41.088672] gc2053: s_stream called with enable=0
[   41.088678] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   41.088684] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   41.088690] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   41.088700] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   41.089019] sensor_write: reg=0xfe val=0x00 SUCCESS
[   41.089026] sensor_write_array: reg[1] 0xfe=0x00 OK
[   41.089035] sensor_write: reg=0x3e val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   41.089378] sensor_write: reg=0x3e val=0x00 SUCCESS
[   41.089386] sensor_write_array: reg[2] 0x3e=0x00 OK
[   41.089393] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   41.089399] gc2053: Sensor hardware streaming stopped
[   41.089414] ISP IOCTL: cmd=0x800456d1 arg=0x7fc37a80
[   41.089422] tx_isp_video_link_destroy: Destroying links for config 0
[   41.089428] tx_isp_video_link_destroy: All links destroyed, config reset to -1
[   41.089438] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.089444] isp_core_tunning_unlocked_ioctl: Set control cmd=0x8000164 value=1
[   41.089452] Set control: cmd=0x8000164 value=1
[   41.089459] ISP IOCTL: cmd=0x800456d0 arg=0x7fc37a80
[   41.089465] TX_ISP_VIDEO_LINK_SETUP: config=0
[   41.089471] TX_ISP_VIDEO_LINK_SETUP: Link config changed from -1 to 0
[   41.089476] TX_ISP_VIDEO_LINK_SETUP: Link config updated to 0
[   41.089483] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   41.089490] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   41.089496] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   41.089502] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   41.089510] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   41.089516] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   41.089522] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   41.089528] csi_video_s_stream: sd=80564000, enable=1
[   41.089534] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   41.089542] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80564400, enable=1 ***
[   41.089548] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   41.089553] *** vic_core_s_stream: STREAM ON ***
[   41.089558] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   41.089564] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   41.089570] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   41.089576] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   41.089584] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   41.089590] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   41.089597] *** DEBUG: sensor_attr=c06e20cc, dbus_type=1 ***
[   41.089603] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   41.089609] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   41.089615] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   41.089621] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   41.089626] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   41.089632] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   41.089753] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.089763] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   41.089769] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   41.089775] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   41.089780] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   41.119165] MIPI interface configuration
[   41.119180] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   41.119186] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   41.119192] *** VIC UNLOCK: Initial register 0x0 value = 0x00000001 ***
[   41.119198] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   41.119204] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   41.119212] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   41.119218] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   41.141357] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   41.141367] *** Continuing anyway to prevent infinite hang ***
[   41.141374] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   41.141379] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   41.141385] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   41.141390] tx_isp_vic_start: Linear mode enabled
[   41.141396] *** VIC start completed - vic_start_ok = 1 ***
[   41.141403] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   41.141409] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   41.141414] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   41.141422] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   41.141428] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   41.141437] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   41.141443] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   41.141449] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   41.141455] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   41.141462] ispvic_frame_channel_s_stream: arg1=80564400, arg2=1
[   41.141468] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80564400
[   41.141474] ispvic_frame_channel_s_stream[2524]: streamon
[   41.141481] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   41.141487] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   41.141492] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   41.141498] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   41.141504] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   41.141511] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   41.141517] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   41.141524] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   41.141530] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   41.141536] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   41.141541] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   41.141547] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   41.141553] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   41.141561] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   41.141568] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   41.141576] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   41.141584] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   41.141591] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   41.141597] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   41.141603] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   41.141608] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   41.141616] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   41.141631] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   41.141638] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   41.141644] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   41.141649] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   41.141656] ispvic_frame_channel_qbuf: arg1=80564400, arg2=  (null)
[   41.141660] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   41.141674] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   41.141682] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   41.141748] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   41.141760] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   41.141766] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   41.141775] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   41.141781] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   41.141786] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   41.141796] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   41.141804] *** VIC UNMASK-ALL TEST: [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (expect 0) ***
[   41.142812] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   41.142818] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   41.142823] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   41.142931] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   41.142940] *** CRITICAL: isp_irq_handle: IRQ 38 received, dev_id=80480000 ***
[   41.150386] *** isp_irq_handle: IRQ 38 received, dev_id=80480000 ***
[   41.150392] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   41.158104] *** VIC INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   41.166178] *** VIC IRQ: About to access isp_dev->vic_dev, isp_dev=80480000 ***
[   41.173709] *** VIC IRQ: Got vic_dev=80564400 ***
[   41.178560] *** VIC IRQ: Checking vic_dev validity: vic_dev=80564400 ***
[   41.185464] *** VIC IRQ: About to access vic_dev->vic_regs ***
[   41.191483] *** VIC IRQ: Got vic_regs=b33e0000 ***
[   41.196415] *** VIC IRQ: Checking vic_regs validity: vic_regs=b33e0000 ***
[   41.203502] *** VIC IRQ: vic_regs passed validity check - proceeding with register access ***
[   41.212301] *** VIC IRQ: About to read VIC registers at b33e0000 ***
[   41.218855] *** VIC IRQ: Using base b33e0000 [1e0]=0x200000 [1e4]=0x0 [1e8]=0xffdffffe [1ec]=0x0 ***
[   41.228284] *** VIC IRQ: CTRL[0x300]=0x80040020 DIMS[0x304]=0x7800438 STRIDE[0x310]=0xf00 ***
[   41.237075] *** VIC IRQ: Calculated v1_7 = 0x200000 v1_10 = 0x0 ***
[   41.243540] *** VIC IRQ: About to write v1_7=0x200000 to reg 0x1f0 (base=b33e0000) ***
[   41.251708] *** VIC IRQ: About to write v1_10=0x0 to reg 0x1f4 (base=b33e0000) ***
[   41.259509] *** VIC IRQ: Register writes completed (at base=b33e0000) ***
[   41.266502] *** VIC IRQ: Restored enables(0x1e0|=1) and MainMask=0xFFDFFFFE (allow framedone+bit21) ***
[   41.276198] *** VIC IRQ: About to check vic_start_ok - vic_start_ok=1 ***
[   41.283196] *** VIC IRQ: vic_start_ok=1, v1_7=0x200000, v1_10=0x0 ***
[   41.289842] *** VIC IRQ: No frame done interrupt (v1_7 & 1 = 0) ***
[   41.296301] *** VIC ERROR: control limit error (bit 21) ***
[   41.302048] *** VIC IRQ COMPLETE: Processed v1_7=0x200000, v1_10=0x0 - returning IRQ_HANDLED ***
[   41.499310] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   41.499423] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   41.499431] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   41.499436] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   41.499442] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   41.499448] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   41.499454] tx_vic_enable_irq: Calling VIC interrupt callback
[   41.499460] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   41.499466] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   41.499472] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   41.499481] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   41.499488] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   41.499495] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   41.499502] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   41.499508] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   41.499514] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   41.499519] *** tx_vic_enable_irq: completed successfully ***
[   41.910247] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   41.910262] *** vic_core_s_stream: VIC state 2 - letting tx_isp_video_s_stream handle state 2  3 transition ***
[   41.910268] *** vic_core_s_stream: VIC initialized, final state=2 ***
[   41.910279] gc2053: s_stream called with enable=1
[   41.910286] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   41.910293] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   41.910299] gc2053: About to write streaming registers for interface 1
[   41.910305] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   41.910315] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   41.910634] sensor_write: reg=0xfe val=0x00 SUCCESS
[   41.910641] sensor_write_array: reg[1] 0xfe=0x00 OK
[   41.910649] sensor_write: reg=0x3e val=0x91, client=8428e600, adapter=i2c0, addr=0x37
[   41.917321] sensor_write: reg=0x3e val=0x91 SUCCESS
[   41.917333] sensor_write_array: reg[2] 0x3e=0x91 OK
[   41.917341] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   41.917348] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   41.917354] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   41.917360] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   41.917367] gc2053: s_stream called with enable=1
[   41.917375] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   41.917381] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   41.917387] gc2053: About to write streaming registers for interface 1
[   41.917393] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   41.917403] sensor_write: reg=0xfe val=0x00, client=8428e600, adapter=i2c0, addr=0x37
[   41.917721] sensor_write: reg=0xfe val=0x00 SUCCESS
[   41.917728] sensor_write_array: reg[1] 0xfe=0x00 OK
[   41.917737] sensor_write: reg=0x3e val=0x91, client=8428e600, adapter=i2c0, addr=0x37
[   41.918054] sensor_write: reg=0x3e val=0x91 SUCCESS
[   41.918061] sensor_write_array: reg[2] 0x3e=0x91 OK
[   41.918067] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   41.918074] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   41.918080] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   41.918086] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   41.918297] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   41.918307] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980918 value=2
[   41.918315] Set control: cmd=0x980918 value=2
[   41.918459] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.918470] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.918475] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.918613] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.918621] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.918627] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.918753] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.918761] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.918767] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.918883] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.918891] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.918897] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.919048] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.919056] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.919062] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.919237] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.919247] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.919253] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.919406] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.919415] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.919421] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.919551] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.919559] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.919565] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.919781] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.919790] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.919796] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   41.919928] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   41.919937] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   41.919943] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   42.090037] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   42.090049] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   42.090055] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   42.090061] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   42.090067] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   42.243712] *** FRAME CHANNEL OPEN: minor=54 ***
[   42.243725] *** FRAME CHANNEL OPEN: Device not in array, creating new entry for minor 54 ***
[   42.243731] *** FRAME CHANNEL OPEN: Assigned to channel 0 ***
[   42.243737] *** FRAME CHANNEL 0: State set to 3 (ready for streaming) - Binary Ninja EXACT ***
[   42.243743] *** SAFE: Frame channel device stored in file->private_data ***
[   42.243749] *** FRAME CHANNEL 0 OPENED SUCCESSFULLY - NOW READY FOR IOCTLS ***
[   42.243757] Channel 0: Format 1920x1080, pixfmt=0x32315659, minor=54
[   42.243775] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc07056c3 ***
[   42.243783] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc07056c3 ***
[   42.243791] Channel 0: Set format 1920x1080 pixfmt=0x3231564e
[   42.244385] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0145608 ***
[   42.244397] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0145608 ***
[   42.244403] *** Channel 0: REQBUFS - MEMORY-AWARE implementation ***
[   42.244410] Channel 0: Request 4 buffers, type=1 memory=2
[   42.244416] Channel 0: USERPTR mode - client will provide buffers
[   42.244423] Channel 0: USERPTR mode - 4 user buffers expected
[   42.244432] *** Channel 0: REQBUFS allocated VBM buffer array for 4 buffers at 82238000 ***
[   42.244439] *** Channel 0: VIC active_buffer_count set to 4 ***
[   42.244445] *** REQBUFS: VIC DMA will be configured during streaming via vic_pipo_mdma_enable ***
[   42.244451] *** Channel 0: MEMORY-AWARE REQBUFS SUCCESS - 4 buffers ***
[   42.244476] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.244484] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.244490] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.244496] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   42.244504] *** Channel 0: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   42.244511] *** Channel 0: QBUF - Buffer m.offset=0x70d9000, m.userptr=0x70d9000 ***
[   42.244518] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.244525] *** Channel 0: QBUF - Validation: buffer.index=0, state->buffer_count=4 ***
[   42.244531] *** Channel 0: QBUF - Queue buffer index=0 ***
[   42.244537] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   42.244545] *** Channel 0: QBUF - Using buffer struct   (null) for index 0 ***
[   42.244551] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   42.244559] *** Channel 0: QBUF EVENT - No VIC callback ***
[   42.244565] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x70d9000 ***
[   42.244573] *** Channel 0: QBUF - Buffer 0: phys_addr=0x70d9000, size=4147200 (VALIDATED) ***
[   42.244581] *** Channel 0: QBUF VBM - Stored buffer[0] = 0x70d9000, total_count=1 ***
[   42.244589] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=1 ***
[   42.244596] *** Channel 0: QBUF - VBM buffer slot[0] available ***
[   42.244603] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x70d9000 ***
[   42.244609] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   42.244620] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.244627] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.244633] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.244639] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   42.244646] *** Channel 0: QBUF - Buffer received: index=1, type=1, memory=2 ***
[   42.244654] *** Channel 0: QBUF - Buffer m.offset=0x73d6000, m.userptr=0x73d6000 ***
[   42.244661] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.244667] *** Channel 0: QBUF - Validation: buffer.index=1, state->buffer_count=4 ***
[   42.244674] *** Channel 0: QBUF - Queue buffer index=1 ***
[   42.244679] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   42.244687] *** Channel 0: QBUF - Using buffer struct   (null) for index 1 ***
[   42.244693] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   42.244699] *** Channel 0: QBUF EVENT - No VIC callback ***
[   42.244705] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x73d6000 ***
[   42.244713] *** Channel 0: QBUF - Buffer 1: phys_addr=0x73d6000, size=4147200 (VALIDATED) ***
[   42.244721] *** Channel 0: QBUF VBM - Stored buffer[1] = 0x73d6000, total_count=2 ***
[   42.244729] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=2 ***
[   42.244735] *** Channel 0: QBUF - VBM buffer slot[1] available ***
[   42.244742] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x73d6000 ***
[   42.244748] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   42.244756] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.244763] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.244769] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.244775] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   42.244782] *** Channel 0: QBUF - Buffer received: index=2, type=1, memory=2 ***
[   42.244789] *** Channel 0: QBUF - Buffer m.offset=0x76d3000, m.userptr=0x76d3000 ***
[   42.244797] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.244803] *** Channel 0: QBUF - Validation: buffer.index=2, state->buffer_count=4 ***
[   42.244809] *** Channel 0: QBUF - Queue buffer index=2 ***
[   42.244815] *** QBUF: No buffer allocated for index 2 - VBM initialization mode ***
[   42.244822] *** Channel 0: QBUF - Using buffer struct   (null) for index 2 ***
[   42.244829] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   42.244835] *** Channel 0: QBUF EVENT - No VIC callback ***
[   42.244841] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x76d3000 ***
[   42.244849] *** Channel 0: QBUF - Buffer 2: phys_addr=0x76d3000, size=4147200 (VALIDATED) ***
[   42.244857] *** Channel 0: QBUF VBM - Stored buffer[2] = 0x76d3000, total_count=3 ***
[   42.244864] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=3 ***
[   42.244871] *** Channel 0: QBUF - VBM buffer slot[2] available ***
[   42.244877] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x76d3000 ***
[   42.244883] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   42.244892] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.244899] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.244904] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.244910] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   42.244917] *** Channel 0: QBUF - Buffer received: index=3, type=1, memory=2 ***
[   42.244925] *** Channel 0: QBUF - Buffer m.offset=0x79d0000, m.userptr=0x79d0000 ***
[   42.244932] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.244939] *** Channel 0: QBUF - Validation: buffer.index=3, state->buffer_count=4 ***
[   42.244945] *** Channel 0: QBUF - Queue buffer index=3 ***
[   42.244951] *** QBUF: No buffer allocated for index 3 - VBM initialization mode ***
[   42.244957] *** Channel 0: QBUF - Using buffer struct   (null) for index 3 ***
[   42.244964] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   42.244970] *** Channel 0: QBUF EVENT - No VIC callback ***
[   42.244977] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x79d0000 ***
[   42.244984] *** Channel 0: QBUF - Buffer 3: phys_addr=0x79d0000, size=4147200 (VALIDATED) ***
[   42.244992] *** Channel 0: QBUF VBM - Stored buffer[3] = 0x79d0000, total_count=4 ***
[   42.244999] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=4 ***
[   42.245006] *** Channel 0: QBUF - VBM buffer slot[3] available ***
[   42.245013] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x79d0000 ***
[   42.245019] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   42.245110] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x80045612 ***
[   42.245120] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x80045612 ***
[   42.245127] *** Channel 0: VIDIOC_STREAMON - Binary Ninja implementation ***
[   42.245133] Channel 0: STREAMON - Enqueuing buffers in driver
[   42.245139] *** Channel 0: STREAMON - Core device is stateless, only managing streaming flag ***
[   42.246661] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.246675] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.246681] *** Channel 0: Frame completion wait ***
[   42.246687] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.246693] *** Channel 0: Frame wait returned 10 ***
[   42.246699] *** Channel 0: Frame was ready, consuming it ***
[   42.246809] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   42.246817] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   42.246824] *** Channel 0: DQBUF - dequeue buffer request ***
[   42.246830] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   42.246840] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   42.246847] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   42.246853] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   42.246923] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.246931] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.246937] *** Channel 0: Frame completion wait ***
[   42.246943] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.339170] *** Channel 0: Frame wait returned 0 ***
[   42.339182] *** Channel 0: Frame wait timeout/error, generating frame ***
[   42.339204] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.339212] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.339218] *** Channel 0: Frame completion wait ***
[   42.339224] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.339230] *** Channel 0: Frame wait returned 10 ***
[   42.339236] *** Channel 0: Frame was ready, consuming it ***
[   42.339243] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.339250] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.339256] *** Channel 0: Frame completion wait ***
[   42.339261] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.439161] *** Channel 0: DQBUF wait returned 0 ***
[   42.439172] *** Channel 0: DQBUF timeout, generating frame ***
[   42.439181] *** Channel 0: DQBUF complete - buffer[0] seq=-1 flags=0x3 ***
[   42.439222] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   42.439230] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   42.439236] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   42.439242] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   42.439247] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   42.439367] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   42.439377] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   42.439384] *** Channel 0: DQBUF - dequeue buffer request ***
[   42.439390] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   42.439399] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   42.439406] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   42.439412] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   42.439430] *** Channel 0: Frame wait returned 0 ***
[   42.439438] *** Channel 0: Frame wait timeout/error, generating frame ***
[   42.439449] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.439456] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.439462] *** Channel 0: Frame completion wait ***
[   42.439468] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.439474] *** Channel 0: Frame wait returned 10 ***
[   42.439480] *** Channel 0: Frame was ready, consuming it ***
[   42.439488] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.439494] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.439500] *** Channel 0: Frame completion wait ***
[   42.439506] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.448186] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.448200] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.448206] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.448213] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   42.448220] *** Channel 0: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   42.448228] *** Channel 0: QBUF - Buffer m.offset=0x70d9000, m.userptr=0x70d9000 ***
[   42.448234] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.448242] *** Channel 0: QBUF - Validation: buffer.index=0, state->buffer_count=4 ***
[   42.448248] *** Channel 0: QBUF - Queue buffer index=0 ***
[   42.448254] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   42.448262] *** Channel 0: QBUF - Using buffer struct   (null) for index 0 ***
[   42.448268] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   42.448275] *** Channel 0: QBUF EVENT - No VIC callback ***
[   42.448282] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x70d9000 ***
[   42.448290] *** Channel 0: QBUF - Buffer 0: phys_addr=0x70d9000, size=4147200 (VALIDATED) ***
[   42.448297] *** Channel 0: QBUF VBM - Stored buffer[0] = 0x70d9000, total_count=4 ***
[   42.448305] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=4 ***
[   42.448312] *** Channel 0: QBUF - VBM buffer slot[0] available ***
[   42.448319] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x70d9000 ***
[   42.448330] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   42.448393] *** Channel 0: Frame wait returned 10 ***
[   42.448400] *** Channel 0: Frame was ready, consuming it ***
[   42.448412] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.448419] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.448426] *** Channel 0: Frame completion wait ***
[   42.448431] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.519567] *** FRAME CHANNEL OPEN: minor=53 ***
[   42.519579] *** FRAME CHANNEL OPEN: Device not in array, creating new entry for minor 53 ***
[   42.519586] *** FRAME CHANNEL OPEN: Assigned to channel 1 ***
[   42.519592] *** FRAME CHANNEL 1: State set to 3 (ready for streaming) - Binary Ninja EXACT ***
[   42.519598] *** SAFE: Frame channel device stored in file->private_data ***
[   42.519604] *** FRAME CHANNEL 1 OPENED SUCCESSFULLY - NOW READY FOR IOCTLS ***
[   42.519612] Channel 1: Format 640x360, pixfmt=0x32315659, minor=53
[   42.519630] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc07056c3 ***
[   42.519638] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc07056c3 ***
d[   42.519646] Channel 1: Set format 640x360 pixfmt=0x3231564e
[   42.520488] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0145608 ***
[   42.520499] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0145608 ***
[   42.520506] *** Channel 1: REQBUFS - MEMORY-AWARE implementation ***
[   42.520513] Channel 1: Request 2 buffers, type=1 memory=2
[   42.520519] Channel 1: USERPTR mode - client will provide buffers
[   42.520526] Channel 1: USERPTR mode - 2 user buffers expected
[   42.520535] *** Channel 1: REQBUFS allocated VBM buffer array for 2 buffers at 82238600 ***
[   42.520542] *** Channel 1: VIC active_buffer_count set to 2 ***
[   42.520548] *** REQBUFS: VIC DMA will be configured during streaming via vic_pipo_mdma_enable ***
[   42.520554] *** Channel 1: MEMORY-AWARE REQBUFS SUCCESS - 2 buffers ***
[   42.520568] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.520575] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.520581] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.520587] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   42.520594] *** Channel 1: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   42.520602] *** Channel 1: QBUF - Buffer m.offset=0x7e07100, m.userptr=0x7e07100 ***
[   42.520609] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.520616] *** Channel 1: QBUF - Validation: buffer.index=0, state->buffer_count=2 ***
[   42.520622] *** Channel 1: QBUF - Queue buffer index=0 ***
[   42.520628] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   42.520636] *** Channel 1: QBUF - Using buffer struct   (null) for index 0 ***
[   42.520643] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e07100 ***
[   42.520651] *** Channel 1: QBUF - Buffer 0: phys_addr=0x7e07100, size=460800 (VALIDATED) ***
[   42.520658] *** Channel 1: QBUF VBM - Stored buffer[0] = 0x7e07100, total_count=1 ***
[   42.520666] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=82238600, vbm_buffer_count=1 ***
[   42.520673] *** Channel 1: QBUF - VBM buffer slot[0] available ***
[   42.520680] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e07100 ***
[   42.520686] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   42.520696] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.520703] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.520709] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.520715] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   42.520722] *** Channel 1: QBUF - Buffer received: index=1, type=1, memory=2 ***
[   42.520730] *** Channel 1: QBUF - Buffer m.offset=0x7e5d500, m.userptr=0x7e5d500 ***
[   42.520736] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.520743] *** Channel 1: QBUF - Validation: buffer.index=1, state->buffer_count=2 ***
[   42.520750] *** Channel 1: QBUF - Queue buffer index=1 ***
[   42.520755] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   42.520762] *** Channel 1: QBUF - Using buffer struct   (null) for index 1 ***
[   42.520769] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e5d500 ***
[   42.520776] *** Channel 1: QBUF - Buffer 1: phys_addr=0x7e5d500, size=460800 (VALIDATED) ***
[   42.520784] *** Channel 1: QBUF VBM - Stored buffer[1] = 0x7e5d500, total_count=2 ***
[   42.520792] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=82238600, vbm_buffer_count=2 ***
[   42.520798] *** Channel 1: QBUF - VBM buffer slot[1] available ***
[   42.520805] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e5d500 ***
[   42.520811] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   42.520904] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x80045612 ***
[   42.520914] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x80045612 ***
[   42.520922] *** Channel 1: VIDIOC_STREAMON - Binary Ninja implementation ***
[   42.520928] Channel 1: STREAMON - Enqueuing buffers in driver
[   42.520934] *** Channel 1: STREAMON - Core device is stateless, only managing streaming flag ***
[   42.528921] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.528934] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.528941] *** Channel 1: Frame completion wait ***
[   42.528947] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.528953] *** Channel 1: Frame wait returned 10 ***
[   42.528959] *** Channel 1: Frame was ready, consuming it ***
[   42.529024] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   42.529032] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   42.529039] *** Channel 1: DQBUF - dequeue buffer request ***
[   42.529045] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   42.529055] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   42.529062] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   42.529068] *** Channel 1: DQBUF waiting for frame completion (timeout=200ms) ***
[   42.529084] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.529090] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.529096] *** Channel 1: Frame completion wait ***
[   42.529102] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.539178] *** Channel 0: Frame wait returned 0 ***
[   42.539190] *** Channel 0: Frame wait timeout/error, generating frame ***
[   42.539212] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.539219] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.539226] *** Channel 0: Frame completion wait ***
[   42.539231] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.539237] *** Channel 0: Frame wait returned 10 ***
[   42.539243] *** Channel 0: Frame was ready, consuming it ***
[   42.539250] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.539257] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.539263] *** Channel 0: Frame completion wait ***
[   42.539268] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.619159] *** Channel 1: Frame wait returned 0 ***
[   42.619170] *** Channel 1: Frame wait timeout/error, generating frame ***
[   42.619193] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.619200] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.619206] *** Channel 1: Frame completion wait ***
[   42.619212] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.619218] *** Channel 1: Frame wait returned 10 ***
[   42.619224] *** Channel 1: Frame was ready, consuming it ***
[   42.619232] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.619238] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.619244] *** Channel 1: Frame completion wait ***
[   42.619250] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.639291] *** Channel 0: DQBUF wait returned 0 ***
[   42.639303] *** Channel 0: DQBUF timeout, generating frame ***
[   42.639312] *** Channel 0: DQBUF complete - buffer[1] seq=0 flags=0x3 ***
[   42.639340] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   42.639348] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   42.639354] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   42.639360] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   42.639366] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   42.639487] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   42.639497] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   42.639504] *** Channel 0: DQBUF - dequeue buffer request ***
[   42.639509] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   42.639519] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   42.639526] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   42.639532] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   42.639550] *** Channel 0: Frame wait returned 0 ***
[   42.639557] *** Channel 0: Frame wait timeout/error, generating frame ***
[   42.639568] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.639575] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.639581] *** Channel 0: Frame completion wait ***
[   42.639586] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.639593] *** Channel 0: Frame wait returned 10 ***
[   42.639598] *** Channel 0: Frame was ready, consuming it ***
[   42.639606] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.639613] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.639618] *** Channel 0: Frame completion wait ***
[   42.639624] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.649694] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.649708] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.649714] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.649720] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   42.649728] *** Channel 0: QBUF - Buffer received: index=1, type=1, memory=2 ***
[   42.649735] *** Channel 0: QBUF - Buffer m.offset=0x73d6000, m.userptr=0x73d6000 ***
[   42.649742] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.649749] *** Channel 0: QBUF - Validation: buffer.index=1, state->buffer_count=4 ***
[   42.649756] *** Channel 0: QBUF - Queue buffer index=1 ***
[   42.649762] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   42.649769] *** Channel 0: QBUF - Using buffer struct   (null) for index 1 ***
[   42.649776] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   42.649783] *** Channel 0: QBUF EVENT - No VIC callback ***
[   42.649790] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x73d6000 ***
[   42.649798] *** Channel 0: QBUF - Buffer 1: phys_addr=0x73d6000, size=4147200 (VALIDATED) ***
[   42.649806] *** Channel 0: QBUF VBM - Stored buffer[1] = 0x73d6000, total_count=4 ***
[   42.649814] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=4 ***
[   42.649820] *** Channel 0: QBUF - VBM buffer slot[1] available ***
[   42.649828] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x73d6000 ***
[   42.649839] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   42.649951] *** Channel 0: Frame wait returned 9 ***
[   42.649958] *** Channel 0: Frame was ready, consuming it ***
[   42.649972] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.649980] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.649986] *** Channel 0: Frame completion wait ***
[   42.649992] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.719150] *** Channel 1: DQBUF wait returned 0 ***
[   42.719162] *** Channel 1: DQBUF timeout, generating frame ***
[   42.719170] *** Channel 1: DQBUF complete - buffer[0] seq=-1 flags=0x3 ***
[   42.719278] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   42.719288] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   42.719294] *** Channel 1: DQBUF - dequeue buffer request ***
[   42.719300] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   42.719310] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   42.719317] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   42.719324] *** Channel 1: DQBUF waiting for frame completion (timeout=200ms) ***
[   42.719340] *** Channel 1: Frame wait returned 0 ***
[   42.719347] *** Channel 1: Frame wait timeout/error, generating frame ***
[   42.719358] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.719366] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.719372] *** Channel 1: Frame completion wait ***
[   42.719378] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.719384] *** Channel 1: Frame wait returned 10 ***
[   42.719390] *** Channel 1: Frame was ready, consuming it ***
[   42.719397] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.719404] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.719410] *** Channel 1: Frame completion wait ***
[   42.719415] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.721026] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.721040] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.721046] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.721052] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   42.721060] *** Channel 1: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   42.721067] *** Channel 1: QBUF - Buffer m.offset=0x7e07100, m.userptr=0x7e07100 ***
[   42.721074] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.721081] *** Channel 1: QBUF - Validation: buffer.index=0, state->buffer_count=2 ***
[   42.721088] *** Channel 1: QBUF - Queue buffer index=0 ***
[   42.721093] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   42.721101] *** Channel 1: QBUF - Using buffer struct   (null) for index 0 ***
[   42.721108] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e07100 ***
[   42.721116] *** Channel 1: QBUF - Buffer 0: phys_addr=0x7e07100, size=460800 (VALIDATED) ***
[   42.721124] *** Channel 1: QBUF VBM - Stored buffer[0] = 0x7e07100, total_count=2 ***
[   42.721132] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=82238600, vbm_buffer_count=2 ***
[   42.721138] *** Channel 1: QBUF - VBM buffer slot[0] available ***
[   42.721146] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e07100 ***
[   42.721157] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   42.721238] *** Channel 1: Frame wait returned 10 ***
[   42.721245] *** Channel 1: Frame was ready, consuming it ***
[   42.721258] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.721265] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.721271] *** Channel 1: Frame completion wait ***
[   42.721277] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.749164] *** Channel 0: Frame wait returned 0 ***
[   42.749176] *** Channel 0: Frame wait timeout/error, generating frame ***
[   42.749221] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.749229] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.749235] *** Channel 0: Frame completion wait ***
[   42.749241] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.749247] *** Channel 0: Frame wait returned 10 ***
[   42.749253] *** Channel 0: Frame was ready, consuming it ***
[   42.749260] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.749267] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.749273] *** Channel 0: Frame completion wait ***
[   42.749278] *** Channel 0: Waiting for frame (timeout=100ms) ***
root@ing-wyze-cam3-a000 ~# dmesg 
[   42.244667] *** Channel 0: QBUF - Validation: buffer.index=1, state->buffer_count=4 ***
[   42.244674] *** Channel 0: QBUF - Queue buffer index=1 ***
[   42.244679] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   42.244687] *** Channel 0: QBUF - Using buffer struct   (null) for index 1 ***
[   42.244693] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   42.244699] *** Channel 0: QBUF EVENT - No VIC callback ***
[   42.244705] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x73d6000 ***
[   42.244713] *** Channel 0: QBUF - Buffer 1: phys_addr=0x73d6000, size=4147200 (VALIDATED) ***
[   42.244721] *** Channel 0: QBUF VBM - Stored buffer[1] = 0x73d6000, total_count=2 ***
[   42.244729] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=2 ***
[   42.244735] *** Channel 0: QBUF - VBM buffer slot[1] available ***
[   42.244742] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x73d6000 ***
[   42.244748] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   42.244756] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.244763] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.244769] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.244775] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   42.244782] *** Channel 0: QBUF - Buffer received: index=2, type=1, memory=2 ***
[   42.244789] *** Channel 0: QBUF - Buffer m.offset=0x76d3000, m.userptr=0x76d3000 ***
[   42.244797] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.244803] *** Channel 0: QBUF - Validation: buffer.index=2, state->buffer_count=4 ***
[   42.244809] *** Channel 0: QBUF - Queue buffer index=2 ***
[   42.244815] *** QBUF: No buffer allocated for index 2 - VBM initialization mode ***
[   42.244822] *** Channel 0: QBUF - Using buffer struct   (null) for index 2 ***
[   42.244829] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   42.244835] *** Channel 0: QBUF EVENT - No VIC callback ***
[   42.244841] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x76d3000 ***
[   42.244849] *** Channel 0: QBUF - Buffer 2: phys_addr=0x76d3000, size=4147200 (VALIDATED) ***
[   42.244857] *** Channel 0: QBUF VBM - Stored buffer[2] = 0x76d3000, total_count=3 ***
[   42.244864] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=3 ***
[   42.244871] *** Channel 0: QBUF - VBM buffer slot[2] available ***
[   42.244877] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x76d3000 ***
[   42.244883] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   42.244892] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.244899] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.244904] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.244910] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   42.244917] *** Channel 0: QBUF - Buffer received: index=3, type=1, memory=2 ***
[   42.244925] *** Channel 0: QBUF - Buffer m.offset=0x79d0000, m.userptr=0x79d0000 ***
[   42.244932] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.244939] *** Channel 0: QBUF - Validation: buffer.index=3, state->buffer_count=4 ***
[   42.244945] *** Channel 0: QBUF - Queue buffer index=3 ***
[   42.244951] *** QBUF: No buffer allocated for index 3 - VBM initialization mode ***
[   42.244957] *** Channel 0: QBUF - Using buffer struct   (null) for index 3 ***
[   42.244964] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   42.244970] *** Channel 0: QBUF EVENT - No VIC callback ***
[   42.244977] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x79d0000 ***
[   42.244984] *** Channel 0: QBUF - Buffer 3: phys_addr=0x79d0000, size=4147200 (VALIDATED) ***
[   42.244992] *** Channel 0: QBUF VBM - Stored buffer[3] = 0x79d0000, total_count=4 ***
[   42.244999] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=4 ***
[   42.245006] *** Channel 0: QBUF - VBM buffer slot[3] available ***
[   42.245013] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x79d0000 ***
[   42.245019] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   42.245110] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x80045612 ***
[   42.245120] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x80045612 ***
[   42.245127] *** Channel 0: VIDIOC_STREAMON - Binary Ninja implementation ***
[   42.245133] Channel 0: STREAMON - Enqueuing buffers in driver
[   42.245139] *** Channel 0: STREAMON - Core device is stateless, only managing streaming flag ***
[   42.246661] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.246675] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.246681] *** Channel 0: Frame completion wait ***
[   42.246687] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.246693] *** Channel 0: Frame wait returned 10 ***
[   42.246699] *** Channel 0: Frame was ready, consuming it ***
[   42.246809] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   42.246817] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   42.246824] *** Channel 0: DQBUF - dequeue buffer request ***
[   42.246830] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   42.246840] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   42.246847] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   42.246853] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   42.246923] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.246931] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.246937] *** Channel 0: Frame completion wait ***
[   42.246943] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.339170] *** Channel 0: Frame wait returned 0 ***
[   42.339182] *** Channel 0: Frame wait timeout/error, generating frame ***
[   42.339204] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.339212] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.339218] *** Channel 0: Frame completion wait ***
[   42.339224] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.339230] *** Channel 0: Frame wait returned 10 ***
[   42.339236] *** Channel 0: Frame was ready, consuming it ***
[   42.339243] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.339250] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.339256] *** Channel 0: Frame completion wait ***
[   42.339261] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.439161] *** Channel 0: DQBUF wait returned 0 ***
[   42.439172] *** Channel 0: DQBUF timeout, generating frame ***
[   42.439181] *** Channel 0: DQBUF complete - buffer[0] seq=-1 flags=0x3 ***
[   42.439222] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   42.439230] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   42.439236] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   42.439242] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   42.439247] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   42.439367] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   42.439377] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   42.439384] *** Channel 0: DQBUF - dequeue buffer request ***
[   42.439390] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   42.439399] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   42.439406] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   42.439412] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   42.439430] *** Channel 0: Frame wait returned 0 ***
[   42.439438] *** Channel 0: Frame wait timeout/error, generating frame ***
[   42.439449] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.439456] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.439462] *** Channel 0: Frame completion wait ***
[   42.439468] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.439474] *** Channel 0: Frame wait returned 10 ***
[   42.439480] *** Channel 0: Frame was ready, consuming it ***
[   42.439488] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.439494] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.439500] *** Channel 0: Frame completion wait ***
[   42.439506] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.448186] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.448200] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.448206] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.448213] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   42.448220] *** Channel 0: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   42.448228] *** Channel 0: QBUF - Buffer m.offset=0x70d9000, m.userptr=0x70d9000 ***
[   42.448234] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.448242] *** Channel 0: QBUF - Validation: buffer.index=0, state->buffer_count=4 ***
[   42.448248] *** Channel 0: QBUF - Queue buffer index=0 ***
[   42.448254] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   42.448262] *** Channel 0: QBUF - Using buffer struct   (null) for index 0 ***
[   42.448268] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   42.448275] *** Channel 0: QBUF EVENT - No VIC callback ***
[   42.448282] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x70d9000 ***
[   42.448290] *** Channel 0: QBUF - Buffer 0: phys_addr=0x70d9000, size=4147200 (VALIDATED) ***
[   42.448297] *** Channel 0: QBUF VBM - Stored buffer[0] = 0x70d9000, total_count=4 ***
[   42.448305] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=4 ***
[   42.448312] *** Channel 0: QBUF - VBM buffer slot[0] available ***
[   42.448319] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x70d9000 ***
[   42.448330] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   42.448393] *** Channel 0: Frame wait returned 10 ***
[   42.448400] *** Channel 0: Frame was ready, consuming it ***
[   42.448412] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.448419] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.448426] *** Channel 0: Frame completion wait ***
[   42.448431] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.519567] *** FRAME CHANNEL OPEN: minor=53 ***
[   42.519579] *** FRAME CHANNEL OPEN: Device not in array, creating new entry for minor 53 ***
[   42.519586] *** FRAME CHANNEL OPEN: Assigned to channel 1 ***
[   42.519592] *** FRAME CHANNEL 1: State set to 3 (ready for streaming) - Binary Ninja EXACT ***
[   42.519598] *** SAFE: Frame channel device stored in file->private_data ***
[   42.519604] *** FRAME CHANNEL 1 OPENED SUCCESSFULLY - NOW READY FOR IOCTLS ***
[   42.519612] Channel 1: Format 640x360, pixfmt=0x32315659, minor=53
[   42.519630] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc07056c3 ***
[   42.519638] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc07056c3 ***
[   42.519646] Channel 1: Set format 640x360 pixfmt=0x3231564e
[   42.520488] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0145608 ***
[   42.520499] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0145608 ***
[   42.520506] *** Channel 1: REQBUFS - MEMORY-AWARE implementation ***
[   42.520513] Channel 1: Request 2 buffers, type=1 memory=2
[   42.520519] Channel 1: USERPTR mode - client will provide buffers
[   42.520526] Channel 1: USERPTR mode - 2 user buffers expected
[   42.520535] *** Channel 1: REQBUFS allocated VBM buffer array for 2 buffers at 82238600 ***
[   42.520542] *** Channel 1: VIC active_buffer_count set to 2 ***
[   42.520548] *** REQBUFS: VIC DMA will be configured during streaming via vic_pipo_mdma_enable ***
[   42.520554] *** Channel 1: MEMORY-AWARE REQBUFS SUCCESS - 2 buffers ***
[   42.520568] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.520575] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.520581] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.520587] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   42.520594] *** Channel 1: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   42.520602] *** Channel 1: QBUF - Buffer m.offset=0x7e07100, m.userptr=0x7e07100 ***
[   42.520609] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.520616] *** Channel 1: QBUF - Validation: buffer.index=0, state->buffer_count=2 ***
[   42.520622] *** Channel 1: QBUF - Queue buffer index=0 ***
[   42.520628] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   42.520636] *** Channel 1: QBUF - Using buffer struct   (null) for index 0 ***
[   42.520643] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e07100 ***
[   42.520651] *** Channel 1: QBUF - Buffer 0: phys_addr=0x7e07100, size=460800 (VALIDATED) ***
[   42.520658] *** Channel 1: QBUF VBM - Stored buffer[0] = 0x7e07100, total_count=1 ***
[   42.520666] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=82238600, vbm_buffer_count=1 ***
[   42.520673] *** Channel 1: QBUF - VBM buffer slot[0] available ***
[   42.520680] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e07100 ***
[   42.520686] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   42.520696] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.520703] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.520709] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.520715] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   42.520722] *** Channel 1: QBUF - Buffer received: index=1, type=1, memory=2 ***
[   42.520730] *** Channel 1: QBUF - Buffer m.offset=0x7e5d500, m.userptr=0x7e5d500 ***
[   42.520736] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.520743] *** Channel 1: QBUF - Validation: buffer.index=1, state->buffer_count=2 ***
[   42.520750] *** Channel 1: QBUF - Queue buffer index=1 ***
[   42.520755] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   42.520762] *** Channel 1: QBUF - Using buffer struct   (null) for index 1 ***
[   42.520769] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e5d500 ***
[   42.520776] *** Channel 1: QBUF - Buffer 1: phys_addr=0x7e5d500, size=460800 (VALIDATED) ***
[   42.520784] *** Channel 1: QBUF VBM - Stored buffer[1] = 0x7e5d500, total_count=2 ***
[   42.520792] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=82238600, vbm_buffer_count=2 ***
[   42.520798] *** Channel 1: QBUF - VBM buffer slot[1] available ***
[   42.520805] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e5d500 ***
[   42.520811] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   42.520904] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x80045612 ***
[   42.520914] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x80045612 ***
[   42.520922] *** Channel 1: VIDIOC_STREAMON - Binary Ninja implementation ***
[   42.520928] Channel 1: STREAMON - Enqueuing buffers in driver
[   42.520934] *** Channel 1: STREAMON - Core device is stateless, only managing streaming flag ***
[   42.528921] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.528934] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.528941] *** Channel 1: Frame completion wait ***
[   42.528947] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.528953] *** Channel 1: Frame wait returned 10 ***
[   42.528959] *** Channel 1: Frame was ready, consuming it ***
[   42.529024] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   42.529032] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   42.529039] *** Channel 1: DQBUF - dequeue buffer request ***
[   42.529045] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   42.529055] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   42.529062] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   42.529068] *** Channel 1: DQBUF waiting for frame completion (timeout=200ms) ***
[   42.529084] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.529090] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.529096] *** Channel 1: Frame completion wait ***
[   42.529102] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.539178] *** Channel 0: Frame wait returned 0 ***
[   42.539190] *** Channel 0: Frame wait timeout/error, generating frame ***
[   42.539212] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.539219] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.539226] *** Channel 0: Frame completion wait ***
[   42.539231] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.539237] *** Channel 0: Frame wait returned 10 ***
[   42.539243] *** Channel 0: Frame was ready, consuming it ***
[   42.539250] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.539257] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.539263] *** Channel 0: Frame completion wait ***
[   42.539268] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.619159] *** Channel 1: Frame wait returned 0 ***
[   42.619170] *** Channel 1: Frame wait timeout/error, generating frame ***
[   42.619193] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.619200] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.619206] *** Channel 1: Frame completion wait ***
[   42.619212] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.619218] *** Channel 1: Frame wait returned 10 ***
[   42.619224] *** Channel 1: Frame was ready, consuming it ***
[   42.619232] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.619238] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.619244] *** Channel 1: Frame completion wait ***
[   42.619250] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.639291] *** Channel 0: DQBUF wait returned 0 ***
[   42.639303] *** Channel 0: DQBUF timeout, generating frame ***
[   42.639312] *** Channel 0: DQBUF complete - buffer[1] seq=0 flags=0x3 ***
[   42.639340] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   42.639348] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   42.639354] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   42.639360] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   42.639366] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   42.639487] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   42.639497] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   42.639504] *** Channel 0: DQBUF - dequeue buffer request ***
[   42.639509] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   42.639519] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   42.639526] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   42.639532] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   42.639550] *** Channel 0: Frame wait returned 0 ***
[   42.639557] *** Channel 0: Frame wait timeout/error, generating frame ***
[   42.639568] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.639575] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.639581] *** Channel 0: Frame completion wait ***
[   42.639586] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.639593] *** Channel 0: Frame wait returned 10 ***
[   42.639598] *** Channel 0: Frame was ready, consuming it ***
[   42.639606] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.639613] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.639618] *** Channel 0: Frame completion wait ***
[   42.639624] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.649694] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.649708] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.649714] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.649720] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   42.649728] *** Channel 0: QBUF - Buffer received: index=1, type=1, memory=2 ***
[   42.649735] *** Channel 0: QBUF - Buffer m.offset=0x73d6000, m.userptr=0x73d6000 ***
[   42.649742] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.649749] *** Channel 0: QBUF - Validation: buffer.index=1, state->buffer_count=4 ***
[   42.649756] *** Channel 0: QBUF - Queue buffer index=1 ***
[   42.649762] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   42.649769] *** Channel 0: QBUF - Using buffer struct   (null) for index 1 ***
[   42.649776] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   42.649783] *** Channel 0: QBUF EVENT - No VIC callback ***
[   42.649790] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x73d6000 ***
[   42.649798] *** Channel 0: QBUF - Buffer 1: phys_addr=0x73d6000, size=4147200 (VALIDATED) ***
[   42.649806] *** Channel 0: QBUF VBM - Stored buffer[1] = 0x73d6000, total_count=4 ***
[   42.649814] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=4 ***
[   42.649820] *** Channel 0: QBUF - VBM buffer slot[1] available ***
[   42.649828] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x73d6000 ***
[   42.649839] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   42.649951] *** Channel 0: Frame wait returned 9 ***
[   42.649958] *** Channel 0: Frame was ready, consuming it ***
[   42.649972] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.649980] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.649986] *** Channel 0: Frame completion wait ***
[   42.649992] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.719150] *** Channel 1: DQBUF wait returned 0 ***
[   42.719162] *** Channel 1: DQBUF timeout, generating frame ***
[   42.719170] *** Channel 1: DQBUF complete - buffer[0] seq=-1 flags=0x3 ***
[   42.719278] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   42.719288] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   42.719294] *** Channel 1: DQBUF - dequeue buffer request ***
[   42.719300] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   42.719310] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   42.719317] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   42.719324] *** Channel 1: DQBUF waiting for frame completion (timeout=200ms) ***
[   42.719340] *** Channel 1: Frame wait returned 0 ***
[   42.719347] *** Channel 1: Frame wait timeout/error, generating frame ***
[   42.719358] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.719366] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.719372] *** Channel 1: Frame completion wait ***
[   42.719378] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.719384] *** Channel 1: Frame wait returned 10 ***
[   42.719390] *** Channel 1: Frame was ready, consuming it ***
[   42.719397] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.719404] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.719410] *** Channel 1: Frame completion wait ***
[   42.719415] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.721026] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.721040] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.721046] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.721052] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   42.721060] *** Channel 1: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   42.721067] *** Channel 1: QBUF - Buffer m.offset=0x7e07100, m.userptr=0x7e07100 ***
[   42.721074] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.721081] *** Channel 1: QBUF - Validation: buffer.index=0, state->buffer_count=2 ***
[   42.721088] *** Channel 1: QBUF - Queue buffer index=0 ***
[   42.721093] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   42.721101] *** Channel 1: QBUF - Using buffer struct   (null) for index 0 ***
[   42.721108] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e07100 ***
[   42.721116] *** Channel 1: QBUF - Buffer 0: phys_addr=0x7e07100, size=460800 (VALIDATED) ***
[   42.721124] *** Channel 1: QBUF VBM - Stored buffer[0] = 0x7e07100, total_count=2 ***
[   42.721132] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=82238600, vbm_buffer_count=2 ***
[   42.721138] *** Channel 1: QBUF - VBM buffer slot[0] available ***
[   42.721146] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e07100 ***
[   42.721157] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   42.721238] *** Channel 1: Frame wait returned 10 ***
[   42.721245] *** Channel 1: Frame was ready, consuming it ***
[   42.721258] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.721265] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.721271] *** Channel 1: Frame completion wait ***
[   42.721277] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.749164] *** Channel 0: Frame wait returned 0 ***
[   42.749176] *** Channel 0: Frame wait timeout/error, generating frame ***
[   42.749221] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.749229] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.749235] *** Channel 0: Frame completion wait ***
[   42.749241] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.749247] *** Channel 0: Frame wait returned 10 ***
[   42.749253] *** Channel 0: Frame was ready, consuming it ***
[   42.749260] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.749267] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.749273] *** Channel 0: Frame completion wait ***
[   42.749278] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.819150] *** Channel 1: Frame wait returned 0 ***
[   42.819161] *** Channel 1: Frame wait timeout/error, generating frame ***
[   42.819182] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.819189] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.819196] *** Channel 1: Frame completion wait ***
[   42.819201] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.819207] *** Channel 1: Frame wait returned 10 ***
[   42.819213] *** Channel 1: Frame was ready, consuming it ***
[   42.819220] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.819227] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.819233] *** Channel 1: Frame completion wait ***
[   42.819238] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.839142] *** Channel 0: DQBUF wait returned 0 ***
[   42.839154] *** Channel 0: DQBUF timeout, generating frame ***
[   42.839162] *** Channel 0: DQBUF complete - buffer[2] seq=1 flags=0x3 ***
[   42.839186] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   42.839194] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   42.839200] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   42.839206] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   42.839212] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   42.839328] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   42.839338] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   42.839344] *** Channel 0: DQBUF - dequeue buffer request ***
[   42.839350] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   42.839360] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   42.839366] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   42.839373] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   42.849172] *** Channel 0: Frame wait returned 0 ***
[   42.849184] *** Channel 0: Frame wait timeout/error, generating frame ***
[   42.849205] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.849213] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.849219] *** Channel 0: Frame completion wait ***
[   42.849225] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.849231] *** Channel 0: Frame wait returned 10 ***
[   42.849236] *** Channel 0: Frame was ready, consuming it ***
[   42.849244] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.849251] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.849256] *** Channel 0: Frame completion wait ***
[   42.849262] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.849435] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.849445] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.849451] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.849458] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   42.849465] *** Channel 0: QBUF - Buffer received: index=2, type=1, memory=2 ***
[   42.849488] *** Channel 0: QBUF - Buffer m.offset=0x76d3000, m.userptr=0x76d3000 ***
[   42.849496] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.849504] *** Channel 0: QBUF - Validation: buffer.index=2, state->buffer_count=4 ***
[   42.849510] *** Channel 0: QBUF - Queue buffer index=2 ***
[   42.849516] *** QBUF: No buffer allocated for index 2 - VBM initialization mode ***
[   42.849524] *** Channel 0: QBUF - Using buffer struct   (null) for index 2 ***
[   42.849530] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   42.849538] *** Channel 0: QBUF EVENT - No VIC callback ***
[   42.849544] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x76d3000 ***
[   42.849552] *** Channel 0: QBUF - Buffer 2: phys_addr=0x76d3000, size=4147200 (VALIDATED) ***
[   42.849560] *** Channel 0: QBUF VBM - Stored buffer[2] = 0x76d3000, total_count=4 ***
[   42.849568] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=4 ***
[   42.849575] *** Channel 0: QBUF - VBM buffer slot[2] available ***
[   42.849582] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x76d3000 ***
[   42.849593] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   42.849682] *** Channel 0: DQBUF wait returned 19 ***
[   42.849694] *** Channel 0: DQBUF complete - buffer[3] seq=2 flags=0x3 ***
[   42.849710] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   42.849718] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   42.849724] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   42.849730] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   42.849735] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   42.849854] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   42.849865] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   42.849872] *** Channel 0: DQBUF - dequeue buffer request ***
[   42.849878] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   42.849887] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   42.849894] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   42.849901] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   42.859978] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.859991] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.859998] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.860004] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   42.860011] *** Channel 0: QBUF - Buffer received: index=3, type=1, memory=2 ***
[   42.860018] *** Channel 0: QBUF - Buffer m.offset=0x79d0000, m.userptr=0x79d0000 ***
[   42.860026] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.860032] *** Channel 0: QBUF - Validation: buffer.index=3, state->buffer_count=4 ***
[   42.860039] *** Channel 0: QBUF - Queue buffer index=3 ***
[   42.860045] *** QBUF: No buffer allocated for index 3 - VBM initialization mode ***
[   42.860052] *** Channel 0: QBUF - Using buffer struct   (null) for index 3 ***
[   42.860059] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   42.860066] *** Channel 0: QBUF EVENT - No VIC callback ***
[   42.860073] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x79d0000 ***
[   42.860081] *** Channel 0: QBUF - Buffer 3: phys_addr=0x79d0000, size=4147200 (VALIDATED) ***
[   42.860088] *** Channel 0: QBUF VBM - Stored buffer[3] = 0x79d0000, total_count=4 ***
[   42.860096] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=4 ***
[   42.860103] *** Channel 0: QBUF - VBM buffer slot[3] available ***
[   42.860110] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x79d0000 ***
[   42.860122] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   42.860188] *** Channel 0: Frame wait returned 9 ***
[   42.860195] *** Channel 0: Frame was ready, consuming it ***
[   42.860207] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.860214] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.860220] *** Channel 0: Frame completion wait ***
[   42.860226] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.919620] *** Channel 1: DQBUF wait returned 0 ***
[   42.919632] *** Channel 1: DQBUF timeout, generating frame ***
[   42.919640] *** Channel 1: DQBUF complete - buffer[1] seq=0 flags=0x3 ***
[   42.919751] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   42.919760] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   42.919766] *** Channel 1: DQBUF - dequeue buffer request ***
[   42.919772] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   42.919782] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   42.919789] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   42.919796] *** Channel 1: DQBUF waiting for frame completion (timeout=200ms) ***
[   42.919814] *** Channel 1: Frame wait returned 0 ***
[   42.919821] *** Channel 1: Frame wait timeout/error, generating frame ***
[   42.919832] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.919839] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.919845] *** Channel 1: Frame completion wait ***
[   42.919851] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.919857] *** Channel 1: Frame wait returned 10 ***
[   42.919862] *** Channel 1: Frame was ready, consuming it ***
[   42.919870] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.919877] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.919882] *** Channel 1: Frame completion wait ***
[   42.919888] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.921938] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   42.921952] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   42.921958] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   42.921964] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   42.921972] *** Channel 1: QBUF - Buffer received: index=1, type=1, memory=2 ***
[   42.921980] *** Channel 1: QBUF - Buffer m.offset=0x7e5d500, m.userptr=0x7e5d500 ***
[   42.921986] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   42.921994] *** Channel 1: QBUF - Validation: buffer.index=1, state->buffer_count=2 ***
[   42.922000] *** Channel 1: QBUF - Queue buffer index=1 ***
[   42.922025] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   42.922033] *** Channel 1: QBUF - Using buffer struct   (null) for index 1 ***
[   42.922040] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e5d500 ***
[   42.922048] *** Channel 1: QBUF - Buffer 1: phys_addr=0x7e5d500, size=460800 (VALIDATED) ***
[   42.922056] *** Channel 1: QBUF VBM - Stored buffer[1] = 0x7e5d500, total_count=2 ***
[   42.922064] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=82238600, vbm_buffer_count=2 ***
[   42.922071] *** Channel 1: QBUF - VBM buffer slot[1] available ***
[   42.922078] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e5d500 ***
[   42.922089] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   42.922175] *** Channel 1: Frame wait returned 10 ***
[   42.922182] *** Channel 1: Frame was ready, consuming it ***
[   42.922196] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.922203] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.922210] *** Channel 1: Frame completion wait ***
[   42.922215] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   42.959159] *** Channel 0: Frame wait returned 0 ***
[   42.959171] *** Channel 0: Frame wait timeout/error, generating frame ***
[   42.959192] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.959200] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.959206] *** Channel 0: Frame completion wait ***
[   42.959211] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   42.959218] *** Channel 0: Frame wait returned 10 ***
[   42.959223] *** Channel 0: Frame was ready, consuming it ***
[   42.959231] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   42.959238] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   42.959243] *** Channel 0: Frame completion wait ***
[   42.959249] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   43.019151] *** Channel 1: Frame wait returned 0 ***
[   43.019163] *** Channel 1: Frame wait timeout/error, generating frame ***
[   43.019185] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.019193] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.019199] *** Channel 1: Frame completion wait ***
[   43.019205] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   43.019211] *** Channel 1: Frame wait returned 10 ***
[   43.019216] *** Channel 1: Frame was ready, consuming it ***
[   43.019224] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.019231] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.019237] *** Channel 1: Frame completion wait ***
[   43.019242] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   43.049150] *** Channel 0: DQBUF wait returned 0 ***
[   43.049161] *** Channel 0: DQBUF timeout, generating frame ***
[   43.049171] *** Channel 0: DQBUF complete - buffer[0] seq=3 flags=0x3 ***
[   43.049195] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   43.049203] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   43.049209] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   43.049215] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   43.049220] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   43.049335] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   43.049345] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   43.049351] *** Channel 0: DQBUF - dequeue buffer request ***
[   43.049357] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   43.049367] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   43.049373] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   43.049380] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   43.059173] *** Channel 0: Frame wait returned 0 ***
[   43.059187] *** Channel 0: Frame wait timeout/error, generating frame ***
[   43.059211] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.059233] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.059239] *** Channel 0: Frame completion wait ***
[   43.059245] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   43.059251] *** Channel 0: Frame wait returned 10 ***
[   43.059256] *** Channel 0: Frame was ready, consuming it ***
[   43.059265] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.059272] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.059277] *** Channel 0: Frame completion wait ***
[   43.059283] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   43.059452] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   43.059461] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   43.059468] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   43.059474] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   43.059481] *** Channel 0: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   43.059489] *** Channel 0: QBUF - Buffer m.offset=0x70d9000, m.userptr=0x70d9000 ***
[   43.059495] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   43.059503] *** Channel 0: QBUF - Validation: buffer.index=0, state->buffer_count=4 ***
[   43.059509] *** Channel 0: QBUF - Queue buffer index=0 ***
[   43.059515] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   43.059523] *** Channel 0: QBUF - Using buffer struct   (null) for index 0 ***
[   43.059529] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   43.059537] *** Channel 0: QBUF EVENT - No VIC callback ***
[   43.059543] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x70d9000 ***
[   43.059551] *** Channel 0: QBUF - Buffer 0: phys_addr=0x70d9000, size=4147200 (VALIDATED) ***
[   43.059559] *** Channel 0: QBUF VBM - Stored buffer[0] = 0x70d9000, total_count=4 ***
[   43.059567] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=4 ***
[   43.059574] *** Channel 0: QBUF - VBM buffer slot[0] available ***
[   43.059581] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x70d9000 ***
[   43.059606] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   43.059674] *** Channel 0: DQBUF wait returned 19 ***
[   43.059686] *** Channel 0: DQBUF complete - buffer[1] seq=4 flags=0x3 ***
[   43.059702] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   43.059709] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   43.059715] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   43.059721] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   43.059727] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   43.059843] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   43.059855] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   43.059861] *** Channel 0: DQBUF - dequeue buffer request ***
[   43.059867] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   43.059877] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   43.059883] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   43.059890] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   43.070217] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   43.070231] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   43.070237] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   43.070244] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   43.070251] *** Channel 0: QBUF - Buffer received: index=1, type=1, memory=2 ***
[   43.070259] *** Channel 0: QBUF - Buffer m.offset=0x73d6000, m.userptr=0x73d6000 ***
[   43.070266] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   43.070273] *** Channel 0: QBUF - Validation: buffer.index=1, state->buffer_count=4 ***
[   43.070279] *** Channel 0: QBUF - Queue buffer index=1 ***
[   43.070285] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   43.070293] *** Channel 0: QBUF - Using buffer struct   (null) for index 1 ***
[   43.070300] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   43.070307] *** Channel 0: QBUF EVENT - No VIC callback ***
[   43.070314] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x73d6000 ***
[   43.070322] *** Channel 0: QBUF - Buffer 1: phys_addr=0x73d6000, size=4147200 (VALIDATED) ***
[   43.070330] *** Channel 0: QBUF VBM - Stored buffer[1] = 0x73d6000, total_count=4 ***
[   43.070338] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=4 ***
[   43.070345] *** Channel 0: QBUF - VBM buffer slot[1] available ***
[   43.070351] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x73d6000 ***
[   43.070363] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   43.070467] *** Channel 0: Frame wait returned 9 ***
[   43.070475] *** Channel 0: Frame was ready, consuming it ***
[   43.070488] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.070495] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.070501] *** Channel 0: Frame completion wait ***
[   43.070507] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   43.090388] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   43.090401] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   43.090407] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   43.090413] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   43.090418] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   43.119163] *** Channel 1: DQBUF wait returned 0 ***
[   43.119174] *** Channel 1: DQBUF timeout, generating frame ***
[   43.119183] *** Channel 1: DQBUF complete - buffer[0] seq=1 flags=0x3 ***
[   43.119288] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   43.119297] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   43.119304] *** Channel 1: DQBUF - dequeue buffer request ***
[   43.119310] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   43.119320] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   43.119327] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   43.119333] *** Channel 1: DQBUF waiting for frame completion (timeout=200ms) ***
[   43.119349] *** Channel 1: Frame wait returned 0 ***
[   43.119356] *** Channel 1: Frame wait timeout/error, generating frame ***
[   43.119367] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.119373] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.119380] *** Channel 1: Frame completion wait ***
[   43.119385] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   43.119391] *** Channel 1: Frame wait returned 10 ***
[   43.119397] *** Channel 1: Frame was ready, consuming it ***
[   43.119405] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.119411] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.119417] *** Channel 1: Frame completion wait ***
[   43.119423] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   43.119508] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   43.119517] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   43.119523] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   43.119529] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   43.119537] *** Channel 1: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   43.119544] *** Channel 1: QBUF - Buffer m.offset=0x7e07100, m.userptr=0x7e07100 ***
[   43.119551] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   43.119558] *** Channel 1: QBUF - Validation: buffer.index=0, state->buffer_count=2 ***
[   43.119564] *** Channel 1: QBUF - Queue buffer index=0 ***
[   43.119570] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   43.119577] *** Channel 1: QBUF - Using buffer struct   (null) for index 0 ***
[   43.119585] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e07100 ***
[   43.119593] *** Channel 1: QBUF - Buffer 0: phys_addr=0x7e07100, size=460800 (VALIDATED) ***
[   43.119601] *** Channel 1: QBUF VBM - Stored buffer[0] = 0x7e07100, total_count=2 ***
[   43.119609] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=82238600, vbm_buffer_count=2 ***
[   43.119615] *** Channel 1: QBUF - VBM buffer slot[0] available ***
[   43.119622] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e07100 ***
[   43.119634] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   43.119653] *** Channel 1: Frame wait returned 10 ***
[   43.119659] *** Channel 1: Frame was ready, consuming it ***
[   43.119669] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.119675] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.119681] *** Channel 1: Frame completion wait ***
[   43.119687] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   43.169309] *** Channel 0: Frame wait returned 0 ***
[   43.169321] *** Channel 0: Frame wait timeout/error, generating frame ***
[   43.169338] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.169346] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.169352] *** Channel 0: Frame completion wait ***
[   43.169358] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   43.169364] *** Channel 0: Frame wait returned 10 ***
[   43.169369] *** Channel 0: Frame was ready, consuming it ***
[   43.169377] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.169384] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.169390] *** Channel 0: Frame completion wait ***
[   43.169395] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   43.219165] *** Channel 1: Frame wait returned 0 ***
[   43.219177] *** Channel 1: Frame wait timeout/error, generating frame ***
[   43.219198] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.219221] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.219227] *** Channel 1: Frame completion wait ***
[   43.219233] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   43.219239] *** Channel 1: Frame wait returned 10 ***
[   43.219245] *** Channel 1: Frame was ready, consuming it ***
[   43.219253] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.219259] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.219265] *** Channel 1: Frame completion wait ***
[   43.219271] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   43.259153] *** Channel 0: DQBUF wait returned 0 ***
[   43.259165] *** Channel 0: DQBUF timeout, generating frame ***
[   43.259174] *** Channel 0: DQBUF complete - buffer[2] seq=5 flags=0x3 ***
[   43.259198] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   43.259206] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   43.259212] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   43.259217] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   43.259223] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   43.259336] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   43.259345] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   43.259352] *** Channel 0: DQBUF - dequeue buffer request ***
[   43.259358] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   43.259367] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   43.259374] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   43.259381] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   43.269169] *** Channel 0: Frame wait returned 0 ***
[   43.269183] *** Channel 0: Frame wait timeout/error, generating frame ***
[   43.269217] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.269224] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.269231] *** Channel 0: Frame completion wait ***
[   43.269236] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   43.269242] *** Channel 0: Frame wait returned 10 ***
[   43.269248] *** Channel 0: Frame was ready, consuming it ***
[   43.269438] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   43.269448] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   43.269455] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   43.269461] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   43.269468] *** Channel 0: QBUF - Buffer received: index=2, type=1, memory=2 ***
[   43.269476] *** Channel 0: QBUF - Buffer m.offset=0x76d3000, m.userptr=0x76d3000 ***
[   43.269483] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   43.269490] *** Channel 0: QBUF - Validation: buffer.index=2, state->buffer_count=4 ***
[   43.269496] *** Channel 0: QBUF - Queue buffer index=2 ***
[   43.269502] *** QBUF: No buffer allocated for index 2 - VBM initialization mode ***
[   43.269510] *** Channel 0: QBUF - Using buffer struct   (null) for index 2 ***
[   43.269517] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   43.269523] *** Channel 0: QBUF EVENT - No VIC callback ***
[   43.269530] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x76d3000 ***
[   43.269538] *** Channel 0: QBUF - Buffer 2: phys_addr=0x76d3000, size=4147200 (VALIDATED) ***
[   43.269546] *** Channel 0: QBUF VBM - Stored buffer[2] = 0x76d3000, total_count=4 ***
[   43.269554] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=4 ***
[   43.269561] *** Channel 0: QBUF - VBM buffer slot[2] available ***
[   43.269567] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x76d3000 ***
[   43.269578] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   43.270283] *** Channel 0: DQBUF wait returned 19 ***
[   43.270297] *** Channel 0: DQBUF complete - buffer[3] seq=6 flags=0x3 ***
[   43.270318] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   43.270325] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   43.270331] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   43.270337] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   43.270343] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   43.270462] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   43.270471] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   43.270478] *** Channel 0: DQBUF - dequeue buffer request ***
[   43.270484] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   43.270494] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   43.270501] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   43.270507] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   43.270905] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.270920] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.270927] *** Channel 0: Frame completion wait ***
[   43.270933] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   43.280667] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   43.280681] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   43.280687] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   43.280694] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   43.280701] *** Channel 0: QBUF - Buffer received: index=3, type=1, memory=2 ***
[   43.280709] *** Channel 0: QBUF - Buffer m.offset=0x79d0000, m.userptr=0x79d0000 ***
[   43.280716] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   43.280723] *** Channel 0: QBUF - Validation: buffer.index=3, state->buffer_count=4 ***
[   43.280729] *** Channel 0: QBUF - Queue buffer index=3 ***
[   43.280735] *** QBUF: No buffer allocated for index 3 - VBM initialization mode ***
[   43.280743] *** Channel 0: QBUF - Using buffer struct   (null) for index 3 ***
[   43.280749] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   43.280757] *** Channel 0: QBUF EVENT - No VIC callback ***
[   43.280763] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x79d0000 ***
[   43.280771] *** Channel 0: QBUF - Buffer 3: phys_addr=0x79d0000, size=4147200 (VALIDATED) ***
[   43.280779] *** Channel 0: QBUF VBM - Stored buffer[3] = 0x79d0000, total_count=4 ***
[   43.280787] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=82238000, vbm_buffer_count=4 ***
[   43.280794] *** Channel 0: QBUF - VBM buffer slot[3] available ***
[   43.280801] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x79d0000 ***
[   43.280813] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   43.280879] *** Channel 0: Frame wait returned 9 ***
[   43.280886] *** Channel 0: Frame was ready, consuming it ***
[   43.319155] *** Channel 1: DQBUF wait returned 0 ***
[   43.319166] *** Channel 1: DQBUF timeout, generating frame ***
[   43.319175] *** Channel 1: DQBUF complete - buffer[1] seq=2 flags=0x3 ***
[   43.319283] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   43.319291] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   43.319298] *** Channel 1: DQBUF - dequeue buffer request ***
[   43.319304] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   43.319314] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80565000 (name=gc2053) ***
[   43.319321] *** tx_isp_get_sensor: Found real sensor: 80565000 ***
[   43.319327] *** Channel 1: DQBUF waiting for frame completion (timeout=200ms) ***
[   43.319344] *** Channel 1: Frame wait returned 0 ***
[   43.319351] *** Channel 1: Frame wait timeout/error, generating frame ***
[   43.319362] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.319369] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.319375] *** Channel 1: Frame completion wait ***
[   43.319381] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   43.319387] *** Channel 1: Frame wait returned 10 ***
[   43.319393] *** Channel 1: Frame was ready, consuming it ***
[   43.319401] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.319407] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.319413] *** Channel 1: Frame completion wait ***
[   43.319419] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   43.319501] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   43.319511] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   43.319517] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   43.319523] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   43.319531] *** Channel 1: QBUF - Buffer received: index=1, type=1, memory=2 ***
[   43.319538] *** Channel 1: QBUF - Buffer m.offset=0x7e5d500, m.userptr=0x7e5d500 ***
[   43.319545] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   43.319552] *** Channel 1: QBUF - Validation: buffer.index=1, state->buffer_count=2 ***
[   43.319558] *** Channel 1: QBUF - Queue buffer index=1 ***
[   43.319564] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   43.319571] *** Channel 1: QBUF - Using buffer struct   (null) for index 1 ***
[   43.319579] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e5d500 ***
[   43.319587] *** Channel 1: QBUF - Buffer 1: phys_addr=0x7e5d500, size=460800 (VALIDATED) ***
[   43.319595] *** Channel 1: QBUF VBM - Stored buffer[1] = 0x7e5d500, total_count=2 ***
[   43.319602] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=82238600, vbm_buffer_count=2 ***
[   43.319609] *** Channel 1: QBUF - VBM buffer slot[1] available ***
[   43.319635] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e5d500 ***
[   43.319647] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   43.319689] *** Channel 1: Frame wait returned 10 ***
[   43.319696] *** Channel 1: Frame was ready, consuming it ***
[   43.319707] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   43.319715] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   43.319720] *** Channel 1: Frame completion wait ***
[   43.319726] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   43.419149] *** Channel 1: Frame wait returned 0 ***
[   43.419161] *** Channel 1: Frame wait timeout/error, generating frame ***
root@ing-wyze-cam3-a000 ~# cat /proc/interrupts 
           CPU0       
  9:          0   jz-intc  i2s_irq
 11:       9939   jz-intc  jz-timerost
 14:         56   jz-intc  ipu
 15:      73060   jz-intc  jz-sfc
 18:          0   jz-intc  pdma
 23:          0   jz-intc  GPIO C
 24:          1   jz-intc  GPIO B
 25:          0   jz-intc  GPIO A
 29:          1   jz-intc  dwc2
 37:          2   jz-intc  isp-m0
 38:          3   jz-intc  isp-w02
 44:       8756   jz-intc  jzmmc_v1.2.1
 45:          0   jz-intc  jzmmc_v1.2.0
 58:        383   jz-intc  uart1
 68:        160   jz-intc  jz-i2c.0
 70:         20   jz-intc  avpu.0
126:          0    GPIO B  GPIO Button
134:          1    GPIO B  mmc-insert-detect
ERR:          0
root@ing-wyze-cam3-a000 ~# [INFO:RTSP.cpp]: stream 0 available at: rtsp://192.168.50.211/ch0
[INFO:RTSP.cpp]: stream 1 available at: rtsp://192.168.50.211/ch1

