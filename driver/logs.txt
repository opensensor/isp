[   14.729184] codec_set_device: set device: speaker...
[   26.773098] *** tx_isp_init: EXACT Binary Ninja MCP reference implementation ***
[   26.775589] *** PROBE: tx_isp_platform_probe CALLED for device tx-isp ***
[   26.775607] *** PROBE: ISP device allocated successfully: 846e0000 ***
[   26.775623] *** PROBE: ISP core registers mapped at 0x13300000 for system_reg_write ***
[   26.775629] *** PROBE: ISP device mutex and spinlock initialized ***
[   26.775636] *** PROBE: Event callback structure initialized at 0x854e0200 (offset 0xc from isp_dev) ***
[   26.775647] parse_rmem_bootarg: Found rmem=29M@0x06300000 (size=0x01d00000)
[   26.775654] *** PROBE: Initialized rmem_addr=0x06300000, size=0x01d00000 ***
[   26.775659] *** PROBE: Platform data: c06b8cd0 ***
[   26.775665] *** PROBE: Platform data validation passed ***
[   26.775670] *** REFERENCE DRIVER: Individual subdevices will initialize their own memory regions ***
[   26.775676] *** PLATFORM DEVICES ALREADY REGISTERED IN INIT - SKIPPING DUPLICATE REGISTRATION ***
[   26.775681] *** tx_isp_module_init: EXACT Binary Ninja reference implementation ***
[   26.775687] *** tx_isp_module_init: Registering subdev platform drivers FIRST ***
[   26.775718] *** TX ISP SUBDEV PLATFORM DRIVERS REGISTRATION ***
[   26.796867] All ISP subdev platform drivers registered successfully
[   26.800503] *** tx_isp_create_graph_and_nodes: EXACT Binary Ninja reference implementation ***
[   26.800517] *** Registering platform device 0 from platform data ***
[   26.807065] *** tx_isp_subdev_init: CALLED for device 'isp-w01' ***
[   26.807081] *** tx_isp_subdev_init: pdev=c06b89b8, sd=85215800, ops=c06b8fd0 ***
[   26.807087] *** tx_isp_subdev_init: ourISPdev=846e0000 ***
[   26.807094] *** tx_isp_subdev_init: ops=c06b8fd0, ops->core=c06b9004 ***
[   26.807100] *** tx_isp_subdev_init: ops->core->init=c066e1b8 ***
[   26.807107] *** tx_isp_subdev_init: Set sd->dev=c06b89c8, sd->pdev=c06b89b8 ***
[   26.807113] *** tx_isp_subdev_init: CSI subdev registered at slot 0 ***
[   26.807119] tx_isp_module_init: Module initialized for isp-w01
[   26.807125] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   26.807131] *** isp-w01: Skipping IRQ request - device has no IRQ resource ***
[   26.807138] tx_isp_subdev_init: platform_get_resource returned c06b8aa8 for device isp-w01
[   26.807146] tx_isp_subdev_init: Memory resource found: start=0x10022000, end=0x10022fff, size=0x00001000
[   26.807155] *** tx_isp_subdev_init: Clock initialization deferred until streaming starts ***
[   26.807161] *** tx_isp_subdev_init: Clock count stored: 1 ***
[   26.807169] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b89b8, sd=85215800, ourISPdev=846e0000 ***
[   26.807175] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w01' to ourISPdev=846e0000 ***
[   26.807181] *** DEBUG: Device name comparison - checking 'isp-w01' ***
[   26.807187] *** DEBUG: About to check device name matches ***
[   26.807193] *** CSI BASIC REGISTERS SET: b0022000 (from tx_isp_subdev_init) ***
[   26.807199] *** LINKED CSI device: 85215800, regs: b0022000 ***
[   26.807205] *** CSI PROBE: Set dev_priv to csi_dev 85215800 AFTER subdev_init ***
[   26.807211] *** CSI PROBE: Set host_priv to csi_dev 85215800 AFTER subdev_init ***
[   26.807218] *** CSI PROBE: Using register mapping from tx_isp_subdev_init: b0022000 ***
[   26.807224] *** CSI PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   26.807243] *** Platform device 0 (isp-w01) registered successfully ***
[   26.807250] *** Registering platform device 1 from platform data ***
[   26.809586] *** VIC PROBE: IRQ numbers initialized to 38 ***
[   26.809601] *** VIC PROBE: Primary VIC registers mapped at 0x133e0000 -> b33e0000 ***
[   26.809607] *** VIC PROBE: VIC control registers mapped at 0x10023000 -> b0023000 ***
[   26.809613] *** VIC PROBE: Hardware IRQ function pointers set using SAFE struct members (tx_isp_enable/disable_irq) ***
[   26.809620] *** VIC PROBE: Secondary VIC register test - 0x1e0 = 0x00000000 (mapping verified) ***
[   26.809626] *** VIC PROBE: VIC interrupt registers will be configured during tx_isp_vic_start ***
[   26.809631] *** BINARY NINJA MCP: VIC buffer management ENABLED - following reference driver ***
[   26.809637] *** VIC will operate in FULL mode with complete buffer operations ***
[   26.809643] *** BINARY NINJA MCP: VIC full initialization complete - buffer management ENABLED ***
[   26.809649] *** VIC PROBE: Initialized default dimensions 1920x1080 and critical fields ***
[   26.809655] *** VIC PROBE: Event callback structure stored in VIC device field ***
[   26.809661] *** VIC PROBE: Stored vic_dev pointer 8473a000 in subdev dev_priv ***
[   26.809667] *** VIC PROBE: Set host_priv to vic_dev 8473a000 for Binary Ninja compatibility ***
[   26.809673] *** VIC PROBE: Skipping tx_isp_vic_hw_init - working branch configures interrupts during VIC operations ***
[   26.809681] *** tx_isp_subdev_init: CALLED for device 'isp-w02' ***
[   26.809688] *** tx_isp_subdev_init: pdev=c06b8ac8, sd=8473a000, ops=c06b8f50 ***
[   26.809695] *** tx_isp_subdev_init: ourISPdev=846e0000 ***
[   26.809701] *** tx_isp_subdev_init: ops=c06b8f50, ops->core=c06b8f6c ***
[   26.809707] *** tx_isp_subdev_init: ops->core->init=c0683e78 ***
[   26.809714] *** tx_isp_subdev_init: Set sd->dev=c06b8ad8, sd->pdev=c06b8ac8 ***
[   26.809721] *** tx_isp_subdev_init: VIC device linked and registered at slot 1 ***
[   26.809727] tx_isp_module_init: Module initialized for isp-w02
[   26.809732] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   26.809740] *** tx_isp_request_irq: platform_get_irq returned 38 for device isp-w02 ***
[   26.809747] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 38 (device: isp-w02) ***
[   26.809757] *** tx_isp_request_irq: About to call request_threaded_irq(irq=38, handler=c0676908, thread=c0669584, flags=0x80, name=isp-w02, dev_id=846e0000) ***
[   26.809765] *** tx_isp_request_irq: About to register IRQ 38 with handlers: main=c0676908, thread=c0669584 ***
[   26.819379] *** tx_isp_request_irq: request_threaded_irq returned 0 ***
[   26.819390] *** tx_isp_request_irq: IRQ 38 LEFT ENABLED (working version behavior) ***
[   26.819397] *** tx_isp_request_irq: IRQ 38 registered successfully for isp-w02 ***
[   26.819405] tx_isp_subdev_init: platform_get_resource returned c06b8bc0 for device isp-w02
[   26.819413] tx_isp_subdev_init: Memory resource found: start=0x10023000, end=0x10023fff, size=0x00001000
[   26.819422] *** tx_isp_subdev_init: Clock initialization deferred until streaming starts ***
[   26.819428] *** tx_isp_subdev_init: Clock count stored: 2 ***
[   26.819436] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b8ac8, sd=8473a000, ourISPdev=846e0000 ***
[   26.819443] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w02' to ourISPdev=846e0000 ***
[   26.819449] *** DEBUG: Device name comparison - checking 'isp-w02' ***
[   26.819454] *** DEBUG: About to check device name matches ***
[   26.819459] *** DEBUG: VIC DEVICE NAME MATCHED! Processing VIC device linking ***
[   26.819465] *** DEBUG: Retrieved vic_dev from subdev data: 8473a000 ***
[   26.819471] *** DEBUG: About to set ourISPdev->vic_dev = 8473a000 ***
[   26.819477] *** DEBUG: ourISPdev before linking: 846e0000 ***
[   26.819483] *** DEBUG: ourISPdev->vic_dev set to: 8473a000 ***
[   26.819489] *** VIC AUTO-LINK: VIC IRQ already registered (irq=38) ***
[   26.819494] *** VIC AUTO-LINK: Using existing VIC register mapping (0x133e0000) - NOT remapping ***
[   26.819500] *** VIC AUTO-LINK: Registers are mapped, registering interrupt handler ***
[   26.819507] *** VIC PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   26.819513] *** VIC PROBE: Sensor dimensions will be cached when sensor module loads ***
[   26.819518] *** VIC PROBE: VIC frame channel streaming will be initialized via tisp_init ***
[   26.819524] *** VIC PROBE: Waiting for core subdev init to call tisp_init which calls tx_isp_subdev_pipo ***
[   26.819545] *** Platform device 1 (isp-w02) registered successfully ***
[   26.819552] *** Registering platform device 2 from platform data ***
[   26.819877] *** tx_isp_subdev_init: CALLED for device 'isp-w00' ***
[   26.819892] *** tx_isp_subdev_init: pdev=c06b88e0, sd=85205e00, ops=c06b9e34 ***
[   26.819899] *** tx_isp_subdev_init: ourISPdev=846e0000 ***
[   26.819905] *** tx_isp_subdev_init: ops=c06b9e34, ops->core=c06b9e54 ***
[   26.819911] *** tx_isp_subdev_init: ops->core->init=c069043c ***
[   26.819918] *** tx_isp_subdev_init: Set sd->dev=c06b88f0, sd->pdev=c06b88e0 ***
[   26.819925] *** tx_isp_subdev_init: NOT A SENSOR - ops=c06b9e34 ***
[   26.819931] *** tx_isp_subdev_init: ops->sensor=  (null), csi_subdev_ops=c06b8fd0 ***
[   26.819937] tx_isp_module_init: Module initialized for isp-w00
[   26.819943] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   26.819951] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b88e0, sd=85205e00, ourISPdev=846e0000 ***
[   26.819959] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w00' to ourISPdev=846e0000 ***
[   26.819964] *** DEBUG: Device name comparison - checking 'isp-w00' ***
[   26.819989] *** DEBUG: About to check device name matches ***
[   26.819997] *** DEBUG: Unknown device name 'isp-w00' - no specific auto-link handling ***
[   26.820004] *** VIN PROBE: Set dev_priv to vin_dev 85205e00 AFTER subdev_init ***
[   26.820010] *** VIN PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   26.820027] *** Platform device 2 (isp-w00) registered successfully ***
[   26.820034] *** Registering platform device 3 from platform data ***
[   26.822577] *** tx_isp_subdev_init: CALLED for device 'isp-fs' ***
[   26.822593] *** tx_isp_subdev_init: pdev=c06b87a0, sd=85205c00, ops=c06b9084 ***
[   26.822599] *** tx_isp_subdev_init: ourISPdev=846e0000 ***
[   26.822606] *** tx_isp_subdev_init: ops=c06b9084, ops->core=c06bff0c ***
[   26.822611] *** tx_isp_subdev_init: WARNING - ops->core->init is NULL! ***
[   26.822618] *** tx_isp_subdev_init: Set sd->dev=c06b87b0, sd->pdev=c06b87a0 ***
[   26.822625] *** tx_isp_subdev_init: NOT A SENSOR - ops=c06b9084 ***
[   26.822631] *** tx_isp_subdev_init: ops->sensor=c06bff00, csi_subdev_ops=c06b8fd0 ***
[   26.822637] tx_isp_module_init: Module initialized for isp-fs
[   26.822643] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   26.822649] *** isp-fs: Skipping IRQ request - device has no IRQ resource ***
[   26.822656] tx_isp_subdev_init: platform_get_resource returned   (null) for device isp-fs
[   26.822662] tx_isp_subdev_init: No memory resource for device isp-fs (logical device - OK)
[   26.822669] *** FS PROBE: Set dev_priv to fs_dev 85205c00 AFTER subdev_init ***
[   26.822676] *** FS PROBE: Device linking handled automatically by tx_isp_subdev_auto_link() ***
[   26.822695] *** Platform device 3 (isp-fs) registered successfully ***
[   26.822701] *** Registering platform device 4 from platform data ***
[   26.825185] *** tx_isp_core_probe: NEW ARCHITECTURE - Creating separate core device ***
[   26.825198] *** tx_isp_create_core_device: Creating ISP core device ***
[   26.825207] *** tx_isp_create_core_device: Core device created successfully: 8473a400 ***
[   26.825214] *** CORE PROBE: Set dev_priv to core_dev 8473a400 ***
[   26.825220] *** CORE PROBE: Set host_priv to core_dev 8473a400 - PREVENTS BadVA CRASH ***
[   26.825227] *** tx_isp_subdev_init: CALLED for device 'isp-m0' ***
[   26.825234] *** tx_isp_subdev_init: pdev=c06b8680, sd=8473a400, ops=c06b8d88 ***
[   26.825240] *** tx_isp_subdev_init: ourISPdev=846e0000 ***
[   26.825247] *** tx_isp_subdev_init: ops=c06b8d88, ops->core=c06b8db4 ***
[   26.825253] *** tx_isp_subdev_init: ops->core->init=c0681038 ***
[   26.825260] *** tx_isp_subdev_init: Set sd->dev=c06b8690, sd->pdev=c06b8680 ***
[   26.825267] *** tx_isp_subdev_init: Core ISP subdev registered at slot 2 ***
[   26.825273] tx_isp_module_init: Module initialized for isp-m0
[   26.825278] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   26.825286] *** tx_isp_request_irq: platform_get_irq returned 37 for device isp-m0 ***
[   26.825293] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 37 (device: isp-m0) ***
[   26.825303] *** tx_isp_request_irq: About to call request_threaded_irq(irq=37, handler=c0676908, thread=c0669584, flags=0x80, name=isp-m0, dev_id=846e0000) ***
[   26.825311] *** tx_isp_request_irq: About to register IRQ 37 with handlers: main=c0676908, thread=c0669584 ***
[   26.827605] *** tx_isp_request_irq: request_threaded_irq returned 0 ***
[   26.827616] *** tx_isp_request_irq: IRQ 37 LEFT ENABLED (working version behavior) ***
[   26.827623] *** tx_isp_request_irq: IRQ 37 registered successfully for isp-m0 ***
[   26.827631] tx_isp_subdev_init: platform_get_resource returned c06b8768 for device isp-m0
[   26.827639] tx_isp_subdev_init: Memory resource found: start=0x13300000, end=0x133fffff, size=0x00100000
[   26.827649] *** tx_isp_subdev_init: Clock initialization deferred until streaming starts ***
[   26.827655] *** tx_isp_subdev_init: Clock count stored: 0 ***
[   26.827663] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b8680, sd=8473a400, ourISPdev=846e0000 ***
[   26.827670] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-m0' to ourISPdev=846e0000 ***
[   26.827676] *** DEBUG: Device name comparison - checking 'isp-m0' ***
[   26.827681] *** DEBUG: About to check device name matches ***
[   26.827687] *** DEBUG: CORE device name matched! Setting up Core device ***
[   26.827693] *** CRITICAL FIX: CORE regs mapped to core device: b3300000 ***
[   26.827701] *** tx_isp_link_core_device: Linking core device 8473a400 to ISP device 846e0000 ***
[   26.827707] *** tx_isp_link_core_device: Core device linked successfully ***
[   26.827713] *** Core subdev already registered at slot 2: 8473a400 ***
[   26.827719] *** LINKED CORE device: 8473a400 ***
[   26.827724] *** CORE SUBDEV REGISTERED AT INDEX 0 ***
[   26.827730] *** tx_isp_core_probe: Core subdev initialized successfully ***
[   26.827737] *** tx_isp_core_device_init: Initializing core device: 8473a400 ***
[   26.827748] *** tx_isp_core_device_init: State transitions handled by slake_module ***
[   26.827753] *** tx_isp_core_device_init: Core device initialized successfully ***
[   26.827759] *** tx_isp_core_device_init: Core sensor IOCTL handler set for sensor registration ***
[   26.827767] *** tx_isp_link_core_device: Linking core device 8473a400 to ISP device 846e0000 ***
[   26.827772] *** tx_isp_link_core_device: Core device linked successfully ***
[   26.827778] *** Core subdev already registered at slot 2: 8473a400 ***
[   26.827792] *** tx_isp_core_probe: Assigned frame_channels=8473a800 to core_dev ***
[   26.827797] *** tx_isp_core_probe: VIC device creation deferred to platform driver system ***
[   26.827803] *** tx_isp_core_probe: Platform drivers will call tx_isp_subdev_init for proper initialization ***
[   26.827809] *** tx_isp_core_probe: Calling sensor_early_init ***
[   26.827814] *** tx_isp_core_probe: ISP clock management handled by infrastructure ***
[   26.827820] *** tx_isp_core_probe: ispcore_slake_module will be called when VIC reaches streaming state ***
[   26.827825] *** tx_isp_core_probe: Core device setup complete ***
[   26.827831] ***   - Core device: 8473a400 ***
[   26.827836] ***   - Channel count: 6 ***
[   26.827841] ***   - Linked to ISP device: 846e0000 ***
[   26.827847] *** tx_isp_core_probe: Initializing core tuning system ***
[   26.827853] isp_core_tuning_init: Initializing tuning data structure
[   26.827865] isp_core_tuning_init: Tuning data structure initialized at 84d4e000
[   26.827871] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   26.827877] *** SAFE: mode_flag properly initialized using struct member access ***
[   26.827882] *** tx_isp_core_probe: Tuning init SUCCESS ***
[   26.827887] *** tx_isp_core_probe: Set platform driver data ***
[   26.827892] *** tx_isp_core_probe: Set global core device reference ***
[   26.827897] *** tx_isp_core_probe: SUCCESS - Core device fully initialized ***
[   26.827903] ***   - Core device: 8473a400 ***
[   26.827909] ***   - Tuning device: 84d4e000 ***
[   26.827913] *** tx_isp_core_probe: Creating frame channel devices ***
[   26.827919] *** tx_isp_create_framechan_devices: Creating frame channel devices ***
[   26.829525] *** Created frame channel device: /dev/framechan0 (major=10, minor=54) ***
[   26.839534] *** Created frame channel device: /dev/framechan1 (major=10, minor=53) ***
[   26.842174] *** Created frame channel device: /dev/framechan2 (major=10, minor=52) ***
[   26.844737] *** Created frame channel device: /dev/framechan3 (major=10, minor=51) ***
[   26.844747] *** tx_isp_create_framechan_devices: All frame channel devices created ***
[   26.844753] *** tx_isp_core_probe: Frame channel devices created successfully ***
[   26.844758] *** tx_isp_core_probe: Creating ISP M0 tuning device node ***
[   26.844764] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   26.844772] tisp_code_create_tuning_node: Allocated dynamic major 251
[   26.850665] *** ISP M0 TUNING DEVICE CREATED: /dev/isp-m0 (major=251, minor=0) ***
[   26.850677] *** tx_isp_core_probe: ISP M0 tuning device node created successfully ***
[   26.850682] *** tx_isp_core_probe: Core probe completed successfully ***
[   26.850701] *** Platform device 4 (isp-m0) registered successfully ***
[   26.850708] *** tx_isp_create_graph_and_nodes: Creating /proc/jz/isp entries ***
[   26.850731] *** Created /proc/jz/isp directory ***
[   26.850739] *** PROC ENTRY DEBUG: Using isp_vic_frd_fops for isp-w01 (with ioctl handler) ***
[   26.850747] *** Created /proc/jz/isp/isp-w01 entry with file ops ***
[   26.850754] *** PROC ENTRY DEBUG: Using vic_w02_proc_fops for isp-w02 (with write handler) ***
[   26.850761] *** PROC ENTRY DEBUG: vic_w02_proc_fops.write=c0685ec8 ***
[   26.850769] *** PROC ENTRY FIX: Using ISP device 846e0000 instead of VIC device 8473a000 for isp-w02 ***
[   26.850777] *** Created /proc/jz/isp/isp-w02 entry with file ops ***
[   26.850783] *** PROC ENTRY DEBUG: Using isp_vic_frd_fops for isp-w00 (with ioctl handler) ***
[   26.850792] *** Created /proc/jz/isp/isp-w00 entry with file ops ***
[   26.850801] *** Created /proc/jz/isp/isp-fs entry with file ops ***
[   26.850810] *** Created /proc/jz/isp/isp-m0 entry with file ops ***
[   26.850815] *** tx_isp_create_graph_and_nodes: Registering misc devices ***
[   26.850821] *** Misc device registration handled via main tx-isp device ***
[   26.850827] *** Misc device registration handled via main tx-isp device ***
[   26.850831] *** Misc device registration handled via main tx-isp device ***
[   26.850837] *** Misc device registration handled via main tx-isp device ***
[   26.850842] *** Misc device registration handled via main tx-isp device ***
[   26.850847] *** tx_isp_create_graph_and_nodes: Initializing frame channels ***
[   26.850856] *** Frame channel 0 initialized: 1920x1080, state=2 ***
[   26.850864] *** Frame channel 1 initialized: 640x360, state=2 ***
[   26.850869] *** tx_isp_create_graph_and_nodes: Binary Ninja reference implementation complete ***
[   26.850876] *** tx_isp_module_init: VIC device linkage check - isp_dev->vic_dev = 8473a000 ***
[   26.850881] *** ENABLING HARDWARE INTERRUPT GENERATION ***
[   26.850887] *** WRITING VIC INTERRUPT ENABLE REGISTERS ***
[   26.850893] *** EARLY VIC ENABLES (MODULE INIT): PRIMARY [1e0]=0x00000000 [1e4]=0x00000000 ***
[   26.850900] *** EARLY VIC ENABLES (MODULE INIT): CONTROL [1e0]=0x00000000 [1e4]=0x00000000 ***
[   26.850905] *** ENABLING ISP CORE INTERRUPT REGISTERS FOR MIPI DATA ***
[   26.850911] *** ISP CORE INTERRUPT REGISTERS ENABLED at legacy(+0xb*) and new(+0x98b*) ***
[   26.850917] *** BOTH VIC AND ISP CORE INTERRUPTS NOW ENABLED! ***
[   26.850922] *** tx_isp_module_init: Binary Ninja reference implementation complete ***
[   26.850927] *** PROBE: Binary Ninja reference implementation complete ***
[   26.859531] *** tx_isp_init: Platform device and driver registered successfully ***
[   28.578991] === gc2053 SENSOR MODULE INIT ===
[   28.581541] gc2053 I2C driver registered, waiting for device creation by ISP
[   31.475912] ISP opened successfully
[   31.476247] ISP IOCTL: cmd=0x805056c1 arg=0x77255d60
[   31.476261] subdev_sensor_ops_ioctl: cmd=0x2000000
[   31.476267] *** subdev_sensor_ops_ioctl: IOCTL 0x2000000 - Creating I2C sensor device ***
[   31.476273] *** Creating I2C sensor device on adapter 0 ***
[   31.476282] *** Creating I2C device: gc2053 at 0x37 ***
[   31.476287] *** isp_i2c_new_subdev_board: MIPS-SAFE implementation - FIXED CRASH ***
[   31.476295] Creating I2C subdev: type=gc2053 addr=0x37 on adapter i2c0 (MIPS-safe)
[   31.476300] *** MIPS-SAFE: Requesting sensor module gc2053 ***
[   31.490677] *** MIPS-SAFE: Valid I2C address 0x37, creating device ***
[   31.490983] === GC2053 SENSOR PROBE START ===
[   31.490998] sensor_probe: client=85562d00, addr=0x37, adapter=84074c10 (i2c0)
[   31.491004] === PERFORMING GPIO RESET SEQUENCE BEFORE I2C ===
[   31.491010] Requesting reset GPIO 18
[   31.491018] GPIO reset sequence: HIGH -> LOW -> HIGH
[   31.719308] GPIO reset sequence completed successfully
[   31.719321] === GPIO INITIALIZATION COMPLETE ===
[   31.719332] sensor_probe: Initialized sensor info - name=gc2053, i2c_addr=0x37
[   31.719346] sensor_probe: data_interface=1, sensor_max_fps=30
[   31.719352] sensor_probe: MIPI 30fps
[   31.719359] *** tx_isp_subdev_init: CALLED for device 'gc2053' ***
[   31.719367] *** tx_isp_subdev_init: pdev=c06e2168, sd=80487400, ops=c06e2248 ***
[   31.719373] *** tx_isp_subdev_init: ourISPdev=846e0000 ***
[   31.719380] *** tx_isp_subdev_init: ops=c06e2248, ops->core=c06e2274 ***
[   31.719386] *** tx_isp_subdev_init: ops->core->init=c06df6bc ***
[   31.719392] *** tx_isp_subdev_init: Set sd->dev=c06e2178, sd->pdev=c06e2168 ***
[   31.719400] *** tx_isp_subdev_init: DETECTED SENSOR SUBDEV - ops=c06e2248, ops->sensor=c06e225c ***
[   31.719405] *** tx_isp_subdev_init: Set up sensor module notify handler ***
[   31.719412] *** tx_isp_subdev_init: SENSOR subdev registered at slot 3, sd=80487400 ***
[   31.719419] *** tx_isp_subdev_init: SENSOR ops=c06e2248, ops->sensor=c06e225c ***
[   31.719424] *** tx_isp_subdev_init: Core state transitions handled by slake_module ***
[   31.719431] tx_isp_module_init: Module initialized for (null)
[   31.719436] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   31.719445] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06e2168, sd=80487400, ourISPdev=846e0000 ***
[   31.719452] *** tx_isp_subdev_auto_link: Auto-linking device 'gc2053' to ourISPdev=846e0000 ***
[   31.719458] *** DEBUG: Device name comparison - checking 'gc2053' ***
[   31.719463] *** DEBUG: About to check device name matches ***
[   31.719469] *** DETECTED SENSOR DEVICE: 'gc2053' - checking for existing registration ***
[   31.719476] *** SENSOR 'gc2053' registered at subdev index 5 ***
[   31.719482] *** SENSOR subdev: 80487400, ops: c06e2248 ***
[   31.719488] *** SENSOR ops->sensor: c06e225c ***
[   31.719493] *** SENSOR REGISTERED: Caching sensor dimensions from /proc/jz/sensor/ ***
[   31.719499] *** cache_sensor_dimensions_from_proc: Reading sensor dimensions during probe ***
[   31.719573] read_sensor_dimensions: Successfully read 1920x1080 from /proc/jz/sensor/
[   31.719581] *** cache_sensor_dimensions_from_proc: Successfully cached 1920x1080 ***
[   31.719587] sensor_probe: I2C client association complete
[   31.719595]   sd=80487400, client=85562d00, addr=0x37, adapter=i2c0
[   31.719601] === TESTING I2C COMMUNICATION AFTER GPIO RESET ===
[   31.719609] sensor_read: reg=0xf0, client=85562d00, adapter=i2c0, addr=0x37
[   31.720106] sensor_read: reg=0xf0 value=0x20 SUCCESS
[   31.720115] I2C test read (0xf0): ret=0, val=0x20 (expected 0x20)
[   31.720120] *** SUCCESS: I2C communication working after GPIO reset! ***
[   31.720129] sensor_read: reg=0xf1, client=85562d00, adapter=i2c0, addr=0x37
[   31.720614] sensor_read: reg=0xf1 value=0x53 SUCCESS
[   31.720622] I2C test read (0xf1): ret=0, val=0x53 (expected 0x53)
[   31.720627] === I2C COMMUNICATION TEST COMPLETE ===
[   31.720634] Registering gc2053 with ISP framework (sd=80487400, sensor=80487400)
[   31.720640] gc2053 registered with ISP framework successfully
[   31.720662] *** MIPS-SAFE: I2C device created successfully at 0x85562d00 ***
[   31.720670] *** MIPS-SAFE: Module reference acquired for gc2053 ***
[   31.720676] *** MIPS-SAFE: Sensor subdev data found, device ready ***
[   31.720682] *** I2C DEVICE READY: gc2053 at 0x37 (MIPS-safe) ***
[   31.720689] *** I2C sensor device created successfully: gc2053 at 0x37 ***
[   31.720724] ISP IOCTL: cmd=0xc050561a arg=0x7ff98228
[   31.720732] TX_ISP_SENSOR_ENUM_INPUT: Enumerating sensor at index 0
[   31.720738] TX_ISP_SENSOR_ENUM_INPUT: Returning sensor 'gc2053' at index 0
[   31.720746] ISP IOCTL: cmd=0xc050561a arg=0x7ff98228
[   31.720752] TX_ISP_SENSOR_ENUM_INPUT: Enumerating sensor at index 1
[   31.720758] TX_ISP_SENSOR_ENUM_INPUT: No sensor at index 1 - returning error to end enumeration
[   31.720766] ISP IOCTL: cmd=0xc0045627 arg=0x7ff98280
[   31.720776] ISP IOCTL: cmd=0x800856d5 arg=0x7ff98278
[   31.720782] TX_ISP_GET_BUF: IOCTL handler called
[   31.720788] TX_ISP_GET_BUF: core_dev=8473a400, isp_dev=846e0000
[   31.720795] TX_ISP_GET_BUF: Using dimensions 1920x1080 from core device
[   31.720802] TX_ISP_GET_BUF: Returning buffer size=4685424, paddr=0x6300000
[   31.792402] ISP IOCTL: cmd=0x800856d4 arg=0x7ff98278
[   31.792416] TX_ISP_SET_BUF: addr=0x6300000 size=0
[   31.796575] ISP IOCTL: cmd=0x40045626 arg=0x7ff98290
[   31.796589] subdev_sensor_ops_ioctl: cmd=0x2000003
[   31.796595] subdev_sensor_ops_ioctl: IOCTL 0x2000003 - Get sensor input
[   31.796602] subdev_sensor_ops_ioctl: Auto-selected first sensor at slot 0 as index 0
[   31.796607] subdev_sensor_ops_ioctl: Returning current sensor index 0
[   31.796616] ISP IOCTL: cmd=0x80045612 arg=0x0
[   31.796624] *** tx_isp_video_s_stream: EXACT Binary Ninja reference implementation - enable=1 ***
[   31.796629] === ISP Subdevice Array Status ===
[   31.796637]   [0]: isp-w01 (sd=85215800)
[   31.796644]   [1]: isp-w02 (sd=8473a000)
[   31.796650]   [2]: isp-m0 (sd=8473a400)
[   31.796656]   [3]: gc2053 (sd=80487400)
[   31.796662]   [4]: (empty)
[   31.796668]   [5]: gc2053 (sd=80487400)
[   31.796673]   [6]: (empty)
[   31.796678]   [7]: (empty)
[   31.796683]   [8]: (empty)
[   31.796688]   [9]: (empty)
[   31.796693]   [10]: (empty)
[   31.796698]   [11]: (empty)
[   31.796703]   [12]: (empty)
[   31.796708]   [13]: (empty)
[   31.796713]   [14]: (empty)
[   31.796718]   [15]: (empty)
[   31.796722] === End Subdevice Array ===
[   31.796728] *** tx_isp_video_s_stream: STREAM ON - Initializing core first ***
[   31.796733] *** tx_isp_video_s_stream: VIC state is 1, calling activate_module ***
[   31.796739] *** ispcore_activate_module: Fixed for our struct layouts ***
[   31.796744] *** VIC device in state 1, proceeding with activation ***
[   31.796751] *** CLOCK CONFIGURATION SECTION: clk_array=  (null), clk_count=2 ***
[   31.796756] *** SUBDEVICE VALIDATION SECTION ***
[   31.796761] VIC device state set to 2 (activated)
[   31.796766] *** CRITICAL FUNCTION POINTER CALL SECTION ***
[   31.796771] *** CALLING CRITICAL VIC INITIALIZATION FUNCTION ***
[   31.796776] *** VIC control register written with 0x4000000 to ISP+0x9a00 ***
[   31.796781] *** SUBDEVICE INITIALIZATION LOOP ***
[   31.796786] *** SUBDEVICE INITIALIZATION: Traversing backwards to initialize sensors first ***
[   31.796793] Calling subdev 5 initialization (REVERSE ORDER - sensors first)
[   31.796800] *** SENSOR_INIT: gc2053 enable=1 ***
[   31.796808] SENSOR_INIT: Configuring gc2053 (chip_id=0x2053, 1920x1080)
[   31.796815] *** CALLING SENSOR_WRITE_ARRAY WITH c06e2e20 (should be 137 registers) ***
[   31.796824] sensor_write: reg=0xfe val=0x80, client=85562d00, adapter=i2c0, addr=0x37
[   31.797148] sensor_write: reg=0xfe val=0x80 SUCCESS
[   31.797155] sensor_write_array: reg[1] 0xfe=0x80 OK
[   31.797164] sensor_write: reg=0xfe val=0x80, client=85562d00, adapter=i2c0, addr=0x37
[   31.798507] sensor_write: reg=0xfe val=0x80 SUCCESS
[   31.798520] sensor_write_array: reg[2] 0xfe=0x80 OK
[   31.798530] sensor_write: reg=0xfe val=0x80, client=85562d00, adapter=i2c0, addr=0x37
[   31.798852] sensor_write: reg=0xfe val=0x80 SUCCESS
[   31.798859] sensor_write_array: reg[3] 0xfe=0x80 OK
[   31.798868] sensor_write: reg=0xfe val=0x00, client=85562d00, adapter=i2c0, addr=0x37
[   31.799204] sensor_write: reg=0xfe val=0x00 SUCCESS
[   31.799211] sensor_write_array: reg[4] 0xfe=0x00 OK
[   31.799219] sensor_write: reg=0xf2 val=0x00, client=85562d00, adapter=i2c0, addr=0x37
[   31.804715] sensor_write: reg=0xf2 val=0x00 SUCCESS
[   31.804727] sensor_write_array: reg[5] 0xf2=0x00 OK
[   31.804738] sensor_write: reg=0xf3 val=0x00, client=85562d00, adapter=i2c0, addr=0x37
[   31.805056] sensor_write: reg=0xf3 val=0x00 SUCCESS
[   31.805063] sensor_write_array: reg[6] 0xf3=0x00 OK
[   31.805072] sensor_write: reg=0xf4 val=0x36, client=85562d00, adapter=i2c0, addr=0x37
root@ing-wyze-cam3-a000 ~# dmesg 
[   31.888202] sensor_write: reg=0xfe val=0x00 SUCCESS
[   31.888210] sensor_write: reg=0x7b val=0x2a, client=85562d00, adapter=i2c0, addr=0x37
[   31.888523] sensor_write: reg=0x7b val=0x2a SUCCESS
[   31.888532] sensor_write: reg=0x23 val=0x2d, client=85562d00, adapter=i2c0, addr=0x37
[   31.895588] sensor_write: reg=0x23 val=0x2d SUCCESS
[   31.895604] sensor_write: reg=0xfe val=0x03, client=85562d00, adapter=i2c0, addr=0x37
[   31.896433] sensor_write: reg=0xfe val=0x03 SUCCESS
[   31.896449] sensor_write: reg=0x01 val=0x27, client=85562d00, adapter=i2c0, addr=0x37
[   31.896770] sensor_write: reg=0x01 val=0x27 SUCCESS
[   31.896778] sensor_write: reg=0x02 val=0x56, client=85562d00, adapter=i2c0, addr=0x37
[   31.897775] sensor_write: reg=0x02 val=0x56 SUCCESS
[   31.897788] sensor_write: reg=0x03 val=0x8e, client=85562d00, adapter=i2c0, addr=0x37
[   31.898107] sensor_write: reg=0x03 val=0x8e SUCCESS
[   31.898116] sensor_write: reg=0x12 val=0x80, client=85562d00, adapter=i2c0, addr=0x37
[   31.898451] sensor_write: reg=0x12 val=0x80 SUCCESS
[   31.898461] sensor_write: reg=0x13 val=0x07, client=85562d00, adapter=i2c0, addr=0x37
[   31.898776] sensor_write: reg=0x13 val=0x07 SUCCESS
[   31.898784] sensor_write: reg=0x15 val=0x12, client=85562d00, adapter=i2c0, addr=0x37
[   31.899098] sensor_write: reg=0x15 val=0x12 SUCCESS
[   31.899106] sensor_write: reg=0xfe val=0x00, client=85562d00, adapter=i2c0, addr=0x37
[   31.899446] sensor_write: reg=0xfe val=0x00 SUCCESS
[   31.899456] sensor_write: reg=0x3e val=0x91, client=85562d00, adapter=i2c0, addr=0x37
[   31.899768] sensor_write: reg=0x3e val=0x91 SUCCESS
[   31.899776] sensor_write_array: Complete - wrote 137 registers, 0 errors
[   31.899782] *** SENSOR_WRITE_ARRAY RETURNED: 0 ***
[   31.899788] *** SENSOR_INIT: gc2053 initialization complete - marked as initialized ***
[   31.899796] Calling subdev 3 initialization (REVERSE ORDER - sensors first)
[   31.899802] *** SENSOR_INIT: gc2053 enable=1 ***
[   31.899808] *** SENSOR_INIT: gc2053 already initialized, skipping to prevent CSI PHY reconfiguration ***
[   31.899814] *** SENSOR_INIT: This prevents register reset that disables ISP/VIC interrupts ***
[   31.899821] Calling subdev 2 initialization (REVERSE ORDER - sensors first)
[   31.899828] *** ispcore_core_ops_init: ENTRY - sd=8473a400, on=1 ***
[   31.899835] *** ispcore_core_ops_init: sd->dev_priv=8473a400, sd->host_priv=8473a400 ***
[   31.899842] *** ispcore_core_ops_init: sd->pdev=c06b8680, sd->ops=c06b8d88 ***
[   31.899848] *** ispcore_core_ops_init: EXACT Binary Ninja MCP implementation, on=1 ***
[   31.899854] *** ispcore_core_ops_init: ISP device=846e0000 ****** ispcore_core_ops_init: Frame sync work structure initialized ***
[   31.899862] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   31.899870] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   31.899877] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   31.899883] ispcore_core_ops_init: Using sensor attributes from sensor: gc2053
[   31.899888] *** ispcore_core_ops_init: s0 (core_dev) = 8473a400 from sd->host_priv ***
[   31.899896] ispcore_core_ops_init: core_dev=8473a400, vic_dev=8473a000, vic_state=2
[   31.899900] *** ispcore_core_ops_init: INITIALIZING CORE (on=1) ****** ispcore_core_ops_init: Current vic_state (VIC state): 2 ***
[   31.899909] *** ispcore_core_ops_init: VIC in ready state (2) - normal initialization ****** ispcore_core_ops_init: VIC state check passed, proceeding with initialization ***
[   31.899916] *** VIC STATE 4: Initializing clocks for streaming ***
[   31.899924] *** Initializing CSI clocks (1 clocks) ***
[   31.899930] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 1 clocks
[   31.899937] isp_subdev_init_clks: Using platform data clock arrays: c06b8aa0
[   31.899944] isp_subdev_init_clks: Using platform data clock configs
[   31.899952] Platform data clock[0]: name=csi, rate=65535
[   31.899962] Clock csi enabled successfully
[   31.929459] CPM clock gates configured
[   31.929472] isp_subdev_init_clks: Successfully initialized 1 clocks
[   31.929480] *** Initializing VIC clocks (2 clocks) ***
[   31.929486] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 2 clocks
[   31.929493] isp_subdev_init_clks: Using platform data clock arrays: c06b8bb0
[   31.929500] isp_subdev_init_clks: Using platform data clock configs
[   31.929509] Platform data clock[0]: name=cgu_isp, rate=100000000
[   31.929520] Clock cgu_isp: set rate 100000000 Hz, result=0
[   31.929528] Clock cgu_isp enabled successfully
[   31.929535] Platform data clock[1]: name=isp, rate=65535
[   31.929542] Clock isp enabled successfully
[   31.959315] CPM clock gates configured
[   31.959330] isp_subdev_init_clks: Successfully initialized 2 clocks
[   31.959337] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   31.959347] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   31.959354] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   31.959360] *** ispcore_core_ops_init: BINARY NINJA MCP - Second tisp_init call (00079058) ***
[   31.959366] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   31.959372] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   31.959379] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 2200x1418 ***
[   31.959385] tisp_init: Initializing ISP hardware for sensor (2200x1418)
[   31.959391] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   31.959396] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   31.959402] tisp_event_init: Initializing ISP event system
[   31.959409] tisp_event_init: SAFE event system initialized with 20 nodes
[   31.959415] tisp_event_set_cb: Setting callback for event 4
[   31.959422] tisp_event_set_cb: Event 4 callback set to c0686af0
[   31.959428] tisp_event_set_cb: Setting callback for event 5
[   31.959434] tisp_event_set_cb: Event 5 callback set to c0686fb8
[   31.959440] tisp_event_set_cb: Setting callback for event 7
[   31.959446] tisp_event_set_cb: Event 7 callback set to c0686b84
[   31.959451] tisp_event_set_cb: Setting callback for event 9
[   31.959458] tisp_event_set_cb: Event 9 callback set to c0686c0c
[   31.959463] tisp_event_set_cb: Setting callback for event 8
[   31.959470] tisp_event_set_cb: Event 8 callback set to c0686cd0
[   31.959476] *** system_irq_func_set: Registered handler c067f9b0 at index 13 ***
[   31.967103] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   31.967111] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   31.967118] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   31.967125] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   31.967132] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   31.967139] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   31.967146] *** SYSTEM_REG_WRITE: reg[0xb018] = 0x40404040 (Binary Ninja EXACT) ***
[   31.967153] *** SYSTEM_REG_WRITE: reg[0xb01c] = 0x40404040 (Binary Ninja EXACT) ***
[   31.967160] *** SYSTEM_REG_WRITE: reg[0xb020] = 0x40404040 (Binary Ninja EXACT) ***
[   31.967166] *** SYSTEM_REG_WRITE: reg[0xb024] = 0x404040 (Binary Ninja EXACT) ***
[   31.967174] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   31.967180] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   31.967187] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   31.967194] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   31.967201] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   31.967208] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   31.967214] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   31.967220] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   31.967227] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   31.967234] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   31.967240] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   31.967247] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   31.967864] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   31.967877] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   31.968006] *** SYSTEM_REG_WRITE: reg[0x9804] = 0x3f00 (Binary Ninja EXACT) ***
[   31.968013] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   31.968020] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   31.968027] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   31.968406] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   31.968520] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   31.968528] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   31.968641] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   31.968647] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   31.968654] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   31.968661] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   31.969058] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   31.969070] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   31.969198] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   31.969205] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   31.969212] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   31.969974] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   31.969986] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   31.969993] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   31.970380] *** TUNING SYSTEM: VIC control registers 0x9ac0/0x9ac8 REMOVED - not in Binary Ninja reference ***
[   31.970395] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 2200x1418)
[   31.970524] *** SYSTEM_REG_WRITE: reg[0x4] = 0x898058a (Binary Ninja EXACT) ***
[   31.970626] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   31.970633] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   31.970638] *** tisp_init: ISP control register set to enable processing pipeline ***
[   31.970645] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   31.971021] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   31.971034] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   31.971161] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   31.971168] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   31.971175] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   31.971180] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   31.971187] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   31.971557] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   31.971665] *** tisp_init: ISP control mode set to 8 (streaming not active) ***
[   31.971673] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   31.971680] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=8, 0x800=1 ***
[   31.971794] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   31.971801] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   31.971808] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   31.971814] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   31.972193] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   31.972207] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   31.972344] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   31.972351] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   31.972357] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   31.972495] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   31.972502] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   31.972994] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   31.973008] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   31.973014] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   31.973396] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   31.973529] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   31.973622] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   31.973630] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   31.973635] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   31.973641] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   31.973646] *** This should eliminate green frames by enabling proper color processing ***
[   31.974031] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   31.974174] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   31.974181] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   31.974188] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   31.974194] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   31.974338] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   31.974665] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   31.974677] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   31.974824] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   31.974831] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   31.974836] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   31.974842] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   31.974848] *** tisp_init: Standard tuning parameters loaded successfully ***
[   31.975220] *** tisp_init: Custom tuning parameters loaded successfully ***
[   31.975233] tisp_set_csc_version: Setting CSC version 0
[   31.975366] *** SYSTEM_REG_WRITE: reg[0xc] = 0x80700008 (Binary Ninja EXACT) ***
[   31.975480] *** CRITICAL FIX: ISP bypass register set to EXACT reference value 0x80700008 - prevents hardware reset ***
[   31.975487] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   31.975493] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   31.975500] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   31.975506] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   31.975511] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   31.975518] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   31.975524] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   31.975529] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   31.975536] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   31.975542] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   31.975548] *** tisp_init: ISP processing pipeline fully enabled ***
[   31.975554] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   31.975560] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   31.975566] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   31.975574] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   31.975580] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   31.975585] tisp_init: ISP memory buffers configured
[   31.975590] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   31.975598] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   31.975608] tiziano_ae_params_refresh: Refreshing AE parameters
[   31.975620] tiziano_ae_params_refresh: AE parameters refreshed
[   31.975626] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   31.975632] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   31.975637] tiziano_ae_para_addr: Setting up AE parameter addresses
[   31.975642] tiziano_ae_para_addr: AE parameter addresses configured
[   31.975649] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   31.975656] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   31.975663] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   31.975670] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   31.975676] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   31.975684] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   31.975690] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   31.975697] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b9d9814 (Binary Ninja EXACT) ***
[   31.975704] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   31.975711] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   31.975717] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   31.975724] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   31.975730] tiziano_ae_set_hardware_param: Parameters written to AE0
[   31.975736] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   31.975743] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   31.975749] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   31.975756] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   31.975762] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   31.975769] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   31.975776] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   31.975782] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   31.975788] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   31.975795] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   31.975802] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   31.975808] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   31.975814] tiziano_ae_set_hardware_param: Parameters written to AE1
[   31.975820] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   31.975828] *** system_irq_func_set: Registered handler c0687cc8 at index 10 ***
[   31.984200] *** system_irq_func_set: Registered handler c0687dbc at index 27 ***
[   31.992522] *** system_irq_func_set: Registered handler c0687cc8 at index 26 ***
[   32.002698] *** system_irq_func_set: Registered handler c0687ea4 at index 29 ***
[   32.011431] *** system_irq_func_set: Registered handler c0687e30 at index 28 ***
[   32.019104] *** system_irq_func_set: Registered handler c0687f18 at index 30 ***
[   32.027670] *** system_irq_func_set: Registered handler c0687f6c at index 20 ***
[   32.036350] *** system_irq_func_set: Registered handler c0687fc0 at index 18 ***
[   32.044716] *** system_irq_func_set: Registered handler c0688014 at index 31 ***
[   32.053044] *** system_irq_func_set: Registered handler c0688068 at index 11 ***
[   32.061452] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   32.061868] tiziano_deflicker_expt: Generated 119 LUT entries
[   32.062022] tisp_event_set_cb: Setting callback for event 1
[   32.062030] tisp_event_set_cb: Event 1 callback set to c06878c8
[   32.062036] tisp_event_set_cb: Setting callback for event 6
[   32.062042] tisp_event_set_cb: Event 6 callback set to c0686e28
[   32.062426] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   32.062438] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   32.062577] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   32.062702] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   32.062708] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   32.062714] tiziano_awb_init: AWB hardware blocks enabled
[   32.063095] tiziano_gamma_init: Initializing Gamma processing
[   32.063106] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   32.063898] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   32.063911] tiziano_gib_init: Initializing GIB processing
[   32.064292] tiziano_lsc_init: Initializing LSC processing
[   32.064304] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   32.064438] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   32.064446] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   32.064453] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   32.064458] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   32.065513] tiziano_ccm_init: Initializing Color Correction Matrix
[   32.065639] tiziano_ccm_init: Using linear CCM parameters
[   32.065646] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   32.065759] jz_isp_ccm: EV=64, CT=9984
[   32.065766] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   32.065772] cm_control: saturation=128
[   32.066140] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   32.066291] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   32.066298] tiziano_ccm_init: CCM initialized successfully
[   32.066303] tiziano_dmsc_init: Initializing DMSC processing
[   32.066308] tiziano_sharpen_init: Initializing Sharpening
[   32.066314] tiziano_sharpen_init: Using linear sharpening parameters
[   32.069556] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   32.069686] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   32.069789] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   32.070201] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   32.070216] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   32.070222] tiziano_sharpen_init: Sharpening initialized successfully
[   32.070228] tiziano_sdns_init: Initializing SDNS processing
[   32.070237] tiziano_sdns_init: Using linear SDNS parameters
[   32.070242] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   32.070249] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   32.070255] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   32.070288] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   32.070295] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   32.070300] tiziano_sdns_init: SDNS processing initialized successfully
[   32.070306] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   32.070312] tiziano_mdns_init: Using linear MDNS parameters
[   32.070322] tiziano_mdns_init: MDNS processing initialized successfully
[   32.070328] tiziano_clm_init: Initializing CLM processing
[   32.070332] tiziano_dpc_init: Initializing DPC processing
[   32.070338] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   32.070344] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   32.070351] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   32.070356] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   32.070372] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   32.070378] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   32.070384] tiziano_hldc_init: Initializing HLDC processing
[   32.070390] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   32.070396] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   32.070403] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   32.070410] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   32.070417] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   32.070424] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   32.070430] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   32.070437] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   32.070444] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   32.070451] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   32.070458] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   32.070465] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   32.070472] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   32.070477] tiziano_adr_params_refresh: Refreshing ADR parameters
[   32.070483] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   32.070488] tiziano_adr_params_init: Initializing ADR parameter arrays
[   32.070495] tisp_adr_set_params: Writing ADR parameters to registers
[   32.070527] tisp_adr_set_params: ADR parameters written to hardware
[   32.070533] tisp_event_set_cb: Setting callback for event 18
[   32.070540] tisp_event_set_cb: Event 18 callback set to c0687fc0
[   32.070546] tisp_event_set_cb: Setting callback for event 2
[   32.070552] tisp_event_set_cb: Event 2 callback set to c0686ac4
[   32.070558] tiziano_adr_init: ADR processing initialized successfully
[   32.070564] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   32.070570] tiziano_bcsh_init: Initializing BCSH processing
[   32.070574] tiziano_ydns_init: Initializing YDNS processing
[   32.070580] tiziano_rdns_init: Initializing RDNS processing
[   32.070585] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   32.070599] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x1150000 (Binary Ninja EXACT) ***
[   32.070607] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x1151000 (Binary Ninja EXACT) ***
[   32.070614] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x1152000 (Binary Ninja EXACT) ***
[   32.070621] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x1153000 (Binary Ninja EXACT) ***
[   32.070628] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x1154000 (Binary Ninja EXACT) ***
[   32.070635] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x1154800 (Binary Ninja EXACT) ***
[   32.070642] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x1155000 (Binary Ninja EXACT) ***
[   32.070649] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x1155800 (Binary Ninja EXACT) ***
[   32.070656] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   32.070662] *** tisp_init: AE0 buffer allocated at 0x01150000 ***
[   32.070668] *** CRITICAL FIX: data_b2f3c initialized to 0x81150000 (prevents stack corruption) ***
[   32.070676] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x1158000 (Binary Ninja EXACT) ***
[   32.070683] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x1159000 (Binary Ninja EXACT) ***
[   32.070690] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x115a000 (Binary Ninja EXACT) ***
[   32.070697] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x115b000 (Binary Ninja EXACT) ***
[   32.070704] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x115c000 (Binary Ninja EXACT) ***
[   32.070710] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x115c800 (Binary Ninja EXACT) ***
[   32.070718] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x115d000 (Binary Ninja EXACT) ***
[   32.070724] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x115d800 (Binary Ninja EXACT) ***
[   32.070731] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   32.070738] *** tisp_init: AE1 buffer allocated at 0x01158000 ***
[   32.070742] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   32.070749] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   32.070756] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   32.070761] *** tisp_init: Second ISP control mode set to 8 (streaming not active) ***
[   32.070768] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   32.070773] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   32.070780] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   32.070790] tiziano_ae_params_refresh: Refreshing AE parameters
[   32.070802] tiziano_ae_params_refresh: AE parameters refreshed
[   32.070808] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   32.070814] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   32.070819] tiziano_ae_para_addr: Setting up AE parameter addresses
[   32.071682] tiziano_ae_para_addr: AE parameter addresses configured
[   32.071706] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   32.071714] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   32.071722] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   32.071729] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   32.071736] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   32.071742] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   32.071749] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   32.071756] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b9d9814 (Binary Ninja EXACT) ***
[   32.071763] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   32.071770] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   32.071776] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   32.071783] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   32.071789] tiziano_ae_set_hardware_param: Parameters written to AE0
[   32.071796] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   32.071802] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   32.071809] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   32.071816] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   32.071822] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   32.071828] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   32.071835] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   32.071842] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   32.071848] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   32.071854] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   32.071861] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   32.071868] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   32.071874] tiziano_ae_set_hardware_param: Parameters written to AE1
[   32.071879] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   32.071887] *** system_irq_func_set: Registered handler c0687cc8 at index 10 ***
[   32.086331] *** system_irq_func_set: Registered handler c0687dbc at index 27 ***
[   32.098319] *** system_irq_func_set: Registered handler c0687cc8 at index 26 ***
[   32.113470] *** system_irq_func_set: Registered handler c0687ea4 at index 29 ***
[   32.125221] *** system_irq_func_set: Registered handler c0687e30 at index 28 ***
[   32.143512] *** system_irq_func_set: Registered handler c0687f18 at index 30 ***
[   32.155531] *** system_irq_func_set: Registered handler c0687f6c at index 20 ***
[   32.168375] *** system_irq_func_set: Registered handler c0687fc0 at index 18 ***
[   32.180445] *** system_irq_func_set: Registered handler c0688014 at index 31 ***
[   32.198621] *** system_irq_func_set: Registered handler c0688068 at index 11 ***
[   32.218463] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   32.218485] tiziano_deflicker_expt: Generated 119 LUT entries
[   32.218491] tisp_event_set_cb: Setting callback for event 1
[   32.218499] tisp_event_set_cb: Event 1 callback set to c06878c8
[   32.218505] tisp_event_set_cb: Setting callback for event 6
[   32.218511] tisp_event_set_cb: Event 6 callback set to c0686e28
[   32.218517] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   32.218522] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   32.218530] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   32.218537] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   32.218544] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   32.218549] tiziano_awb_init: AWB hardware blocks enabled
[   32.218555] tiziano_gamma_init: Initializing Gamma processing
[   32.218560] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   32.218619] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   32.218625] tiziano_gib_init: Initializing GIB processing
[   32.218630] tiziano_lsc_init: Initializing LSC processing
[   32.218635] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   32.218642] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   32.218649] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   32.218655] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   32.218661] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   32.218719] tiziano_ccm_init: Initializing Color Correction Matrix
[   32.218724] tiziano_ccm_init: Using linear CCM parameters
[   32.218729] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   32.218736] jz_isp_ccm: EV=64, CT=9984
[   32.218742] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   32.218748] cm_control: saturation=128
[   32.218753] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   32.218759] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   32.218765] tiziano_ccm_init: CCM initialized successfully
[   32.218769] tiziano_dmsc_init: Initializing DMSC processing
[   32.218775] tiziano_sharpen_init: Initializing Sharpening
[   32.218780] tiziano_sharpen_init: Using linear sharpening parameters
[   32.218786] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   32.218793] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   32.218799] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   32.218825] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   32.218832] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   32.218837] tiziano_sharpen_init: Sharpening initialized successfully
[   32.218843] tiziano_sdns_init: Initializing SDNS processing
[   32.218851] tiziano_sdns_init: Using linear SDNS parameters
[   32.218857] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   32.218863] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   32.218869] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   32.218901] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   32.218908] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   32.218913] tiziano_sdns_init: SDNS processing initialized successfully
[   32.218919] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   32.218925] tiziano_mdns_init: Using linear MDNS parameters
[   32.218935] tiziano_mdns_init: MDNS processing initialized successfully
[   32.218940] tiziano_clm_init: Initializing CLM processing
[   32.218945] tiziano_dpc_init: Initializing DPC processing
[   32.218951] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   32.218956] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   32.218963] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   32.218969] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   32.218983] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   32.218990] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   32.218995] tiziano_hldc_init: Initializing HLDC processing
[   32.219001] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   32.219008] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   32.219015] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   32.219021] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   32.219028] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   32.219035] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   32.219041] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   32.219049] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   32.219055] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   32.219062] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   32.219069] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   32.219076] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   32.219083] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   32.219088] tiziano_adr_params_refresh: Refreshing ADR parameters
[   32.219094] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   32.219099] tiziano_adr_params_init: Initializing ADR parameter arrays
[   32.219106] tisp_adr_set_params: Writing ADR parameters to registers
[   32.219138] tisp_adr_set_params: ADR parameters written to hardware
[   32.219143] tisp_event_set_cb: Setting callback for event 18
[   32.219150] tisp_event_set_cb: Event 18 callback set to c0687fc0
[   32.219156] tisp_event_set_cb: Setting callback for event 2
[   32.219162] tisp_event_set_cb: Event 2 callback set to c0686ac4
[   32.219167] tiziano_adr_init: ADR processing initialized successfully
[   32.219173] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   32.219179] tiziano_bcsh_init: Initializing BCSH processing
[   32.219183] tiziano_ydns_init: Initializing YDNS processing
[   32.219189] tiziano_rdns_init: Initializing RDNS processing
[   32.219194] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   32.219199] tisp_event_init: Initializing ISP event system
[   32.219206] tisp_event_init: SAFE event system initialized with 20 nodes
[   32.219212] tisp_event_set_cb: Setting callback for event 4
[   32.219218] tisp_event_set_cb: Event 4 callback set to c0686af0
[   32.219224] tisp_event_set_cb: Setting callback for event 5
[   32.219230] tisp_event_set_cb: Event 5 callback set to c0686fb8
[   32.219235] tisp_event_set_cb: Setting callback for event 7
[   32.219242] tisp_event_set_cb: Event 7 callback set to c0686b84
[   32.219247] tisp_event_set_cb: Setting callback for event 9
[   32.219253] tisp_event_set_cb: Event 9 callback set to c0686c0c
[   32.219259] tisp_event_set_cb: Setting callback for event 8
[   32.219265] tisp_event_set_cb: Event 8 callback set to c0686cd0
[   32.219305] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   32.219312] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   32.219318] tisp_param_operate_init: Initializing parameter operations
[   32.219325] tisp_netlink_init: Initializing netlink communication
[   32.219331] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   32.219361] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   32.219371] tisp_netlink_init: Netlink socket created successfully
[   32.219378] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   32.219383] tisp_code_create_tuning_node: Device already created, skipping
[   32.219389] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   32.219395] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   32.219402] *** ispcore_core_ops_init: Second tisp_init completed ***
[   32.219407] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[   32.219417] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[   32.219424] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   32.219429] *** ISP CORE: Hardware interrupt generation ENABLED ***
[   32.219435] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   32.219441] *** ispcore_core_ops_init: ISP Core hardware interrupts ENABLED - Frame sync should now work! ***
[   32.219446] ispcore_core_ops_init: Complete, result=0<6>[   32.219453] Calling subdev 1 initialization (REVERSE ORDER - sensors first)
[   32.219460] *** vic_core_ops_init: ENTRY - sd=8473a000, enable=1 ***
[   32.219467] *** vic_core_ops_init: vic_dev=8473a000, current state check ***
[   32.219473] *** vic_core_ops_init: current_state=3, enable=1 ***
[   32.219479] Calling subdev 0 initialization (REVERSE ORDER - sensors first)
[   32.219487] csi_core_ops_init: sd=85215800, csi_dev=85215800, enable=1
[   32.219493] *** VIC device final state set to 2 (fully activated) ***
[   32.219498] *** ispcore_activate_module: SUCCESS - ALL REGISTER WRITES SHOULD NOW BE TRIGGERED ***
[   32.219504] *** tx_isp_video_s_stream: ispcore_activate_module completed ***
[   32.219510] *** tx_isp_video_s_stream: VIC state is 2, calling VIC core->init ***
[   32.219516] *** vic_core_ops_init: ENTRY - sd=8473a000, enable=1 ***
[   32.219522] *** vic_core_ops_init: vic_dev=8473a000, current state check ***
[   32.219529] *** vic_core_ops_init: current_state=2, enable=1 ***
[   32.219534] *** vic_core_ops_init: Calling VIC hardware init for interrupt setup ***
[   32.219540] *** VIC HW INIT: Using PRIMARY VIC space for interrupt configuration ***
[   32.219545] *** VIC HW INIT: Configuring ACTUAL VIC interrupt registers (0x1e0-0x1f4 range) ***
[   32.219551] *** VIC HW INIT: Basic interrupt clearing complete - full interrupt config happens later ***
[   32.219557] *** VIC HW INIT: Interrupt handler registration SKIPPED - main module handles IRQ 38 routing ***
[   32.219565] *** VIC HW INIT VERIFY: 0x00=0x00000000 (should be 0), 0x20=0x00000000 (should be 0) ***
[   32.219571] *** VIC HW INIT: SUCCESS - Basic VIC hardware initialization complete ***
[   32.219576] *** VIC HW INIT: Hardware interrupt configuration complete - ready for main module IRQ routing ***
[   32.219582] *** vic_core_ops_init: VIC hardware init SUCCESS - interrupts should now work ***
[   32.219588] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   32.219594] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   32.219599] tx_vic_enable_irq: Calling VIC interrupt callback
[   32.219605] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   32.219612] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   32.219618] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   32.219627] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   32.219633] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   32.219641] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   32.219647] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   32.219654] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   32.219659] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   32.219665] *** tx_vic_enable_irq: completed successfully ***
[   32.219671] *** tx_isp_video_s_stream: VIC core->init completed, VIC should now be state 3 ***
[   32.219677] *** tx_isp_video_s_stream: Core initialization complete, proceeding with subdev streaming ***
[   32.219683] *** tx_isp_video_s_stream: CRITICAL FIX - Initializing all subdevs before streaming ***
[   32.219691] *** tx_isp_video_s_stream: Initializing Core subdev ***
[   32.219698] *** ispcore_core_ops_init: ENTRY - sd=8473a400, on=1 ***
[   32.219705] *** ispcore_core_ops_init: sd->dev_priv=8473a400, sd->host_priv=8473a400 ***
[   32.219712] *** ispcore_core_ops_init: sd->pdev=c06b8680, sd->ops=c06b8d88 ***
[   32.219717] *** ispcore_core_ops_init: EXACT Binary Ninja MCP implementation, on=1 ***
[   32.219723] *** ispcore_core_ops_init: ISP device=846e0000 ****** ispcore_core_ops_init: Frame sync work structure initialized ***
[   32.219731] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   32.219739] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   32.219746] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   32.219752] ispcore_core_ops_init: Using sensor attributes from sensor: gc2053
[   32.219757] *** ispcore_core_ops_init: s0 (core_dev) = 8473a400 from sd->host_priv ***
[   32.219765] ispcore_core_ops_init: core_dev=8473a400, vic_dev=8473a000, vic_state=3
[   32.219769] *** ispcore_core_ops_init: INITIALIZING CORE (on=1) ****** ispcore_core_ops_init: Current vic_state (VIC state): 3 ***
[   32.219778] *** ispcore_core_ops_init: VIC in ready state (3) - normal initialization ****** ispcore_core_ops_init: VIC state check passed, proceeding with initialization ***
[   32.219786] *** VIC STATE 4: Initializing clocks for streaming ***
[   32.219792] *** Initializing CSI clocks (1 clocks) ***
[   32.219798] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 1 clocks
[   32.219805] isp_subdev_init_clks: Using platform data clock arrays: c06b8aa0
[   32.219811] isp_subdev_init_clks: Using platform data clock configs
[   32.219817] Platform data clock[0]: name=csi, rate=65535
[   32.219827] Clock csi enabled successfully
[   32.249313] CPM clock gates configured
[   32.249326] isp_subdev_init_clks: Successfully initialized 1 clocks
[   32.249333] *** Initializing VIC clocks (2 clocks) ***
[   32.249339] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 2 clocks
[   32.249347] isp_subdev_init_clks: Using platform data clock arrays: c06b8bb0
[   32.249354] isp_subdev_init_clks: Using platform data clock configs
[   32.249362] Platform data clock[0]: name=cgu_isp, rate=100000000
[   32.249380] Clock cgu_isp: set rate 100000000 Hz, result=0
[   32.249387] Clock cgu_isp enabled successfully
[   32.249393] Platform data clock[1]: name=isp, rate=65535
[   32.249400] Clock isp enabled successfully
[   32.279297] CPM clock gates configured
[   32.279311] isp_subdev_init_clks: Successfully initialized 2 clocks
[   32.279318] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   32.279328] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
d[   32.279335] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   32.279341] *** ispcore_core_ops_init: BINARY NINJA MCP - Second tisp_init call (00079058) ***
[   32.279347] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   32.279352] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   32.279359] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 2200x1418 ***
[   32.279365] tisp_init: Initializing ISP hardware for sensor (2200x1418)
[   32.279371] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   32.279377] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   32.279382] tisp_event_init: Initializing ISP event system
[   32.279389] tisp_event_init: SAFE event system initialized with 20 nodes
[   32.279395] tisp_event_set_cb: Setting callback for event 4
[   32.279402] tisp_event_set_cb: Event 4 callback set to c0686af0
[   32.279407] tisp_event_set_cb: Setting callback for event 5
[   32.279413] tisp_event_set_cb: Event 5 callback set to c0686fb8
[   32.279419] tisp_event_set_cb: Setting callback for event 7
[   32.279425] tisp_event_set_cb: Event 7 callback set to c0686b84
[   32.279431] tisp_event_set_cb: Setting callback for event 9
[   32.279437] tisp_event_set_cb: Event 9 callback set to c0686c0c
[   32.279443] tisp_event_set_cb: Setting callback for event 8
[   32.279449] tisp_event_set_cb: Event 8 callback set to c0686cd0
[   32.279456] *** system_irq_func_set: Registered handler c067f9b0 at index 13 ***
[   32.287084] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   32.287092] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   32.287099] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   32.287106] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   32.287113] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   32.287119] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   32.287127] *** SYSTEM_REG_WRITE: reg[0xb018] = 0x40404040 (Binary Ninja EXACT) ***
[   32.287133] *** SYSTEM_REG_WRITE: reg[0xb01c] = 0x40404040 (Binary Ninja EXACT) ***
[   32.287140] *** SYSTEM_REG_WRITE: reg[0xb020] = 0x40404040 (Binary Ninja EXACT) ***
[   32.287147] *** SYSTEM_REG_WRITE: reg[0xb024] = 0x404040 (Binary Ninja EXACT) ***
[   32.287154] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   32.287161] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   32.287167] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   32.287174] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   32.287181] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   32.287187] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   32.287194] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   32.287199] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   32.287206] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   32.287213] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   32.287220] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   32.287227] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   32.287232] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   32.287237] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   32.287244] *** SYSTEM_REG_WRITE: reg[0x9804] = 0x3f00 (Binary Ninja EXACT) ***
[   32.287251] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   32.287257] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   32.287264] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   32.287271] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   32.287277] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   32.287285] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   32.287291] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   32.287297] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   32.287303] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   32.287311] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   32.287317] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   32.287324] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   32.287331] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   32.287337] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   32.287343] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   32.287350] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   32.287357] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   32.287363] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   32.287369] *** TUNING SYSTEM: VIC control registers 0x9ac0/0x9ac8 REMOVED - not in Binary Ninja reference ***
[   32.287377] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 2200x1418)
[   32.287384] *** SYSTEM_REG_WRITE: reg[0x4] = 0x898058a (Binary Ninja EXACT) ***
[   32.287390] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   32.287397] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   32.287402] *** tisp_init: ISP control register set to enable processing pipeline ***
[   32.287409] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   32.287415] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   32.287421] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   32.287427] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   32.287433] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   32.287440] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   32.287450] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=846e0000 ***
[   32.294896] *** isp_irq_handle: IRQ 37 received, dev_id=846e0000 ***
[   32.294901] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   32.302621] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=846e0000 ***
[   32.310066] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   32.317791] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
[   32.325325] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   32.331518] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   32.339601] *** ISP CORE: ABOUT TO CALL callback[10] for bit 10 - callback=c0687cc8 ***
[   32.347855] *** ISP CORE: CALLING CALLBACK NOW - IF SYSTEM HANGS, THIS CALLBACK IS THE PROBLEM ***
[   32.357099] ae0_interrupt_static: Processing AE0 static interrupt
[   32.357106] *** AE0: Processing interrupt using register-based statistics (Binary Ninja MCP) ***
[   32.357112] ae0_interrupt_static: AE0 static interrupt processed
[   32.357118] *** ISP CORE: CALLBACK RETURNED SUCCESSFULLY - callback[10] returned 1 ***
[   32.365290] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
[   32.423191] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   32.423207] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   32.423335] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   32.423341] *** tisp_init: ISP control mode set to 8 (streaming not active) ***
[   32.423348] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   32.423492] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=8, 0x800=1 ***
[   32.426035] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   32.426058] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   32.426065] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   32.426072] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   32.426077] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   32.426084] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   32.426091] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   32.426097] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   32.426104] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   32.426111] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   32.426117] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   32.426124] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   32.426133] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   32.426140] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   32.426147] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   32.426154] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   32.426160] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   32.426167] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   32.426173] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   32.426178] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   32.426184] *** This should eliminate green frames by enabling proper color processing ***
[   32.426190] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   32.426197] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   32.426203] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   32.426210] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   32.426217] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   32.426223] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   32.426230] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   32.426236] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   32.426243] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   32.426249] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   32.426254] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   32.426259] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   32.426265] *** tisp_init: Standard tuning parameters loaded successfully ***
[   32.426270] *** tisp_init: Custom tuning parameters loaded successfully ***
[   32.426277] tisp_set_csc_version: Setting CSC version 0
[   32.426283] *** SYSTEM_REG_WRITE: reg[0xc] = 0x80700008 (Binary Ninja EXACT) ***
[   32.426290] *** CRITICAL FIX: ISP bypass register set to EXACT reference value 0x80700008 - prevents hardware reset ***
[   32.426295] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   32.426302] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   32.426309] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   32.426314] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   32.426320] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   32.426326] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   32.426333] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   32.426338] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   32.426345] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   32.426351] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   32.426357] *** tisp_init: ISP processing pipeline fully enabled ***
[   32.426363] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   32.426369] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
m[   32.426375] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   32.426382] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   32.426389] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   32.426394] tisp_init: ISP memory buffers configured
[   32.426399] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   32.426407] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   32.426417] tiziano_ae_params_refresh: Refreshing AE parameters
[   32.426429] tiziano_ae_params_refresh: AE parameters refreshed
[   32.426435] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   32.426441] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   32.426446] tiziano_ae_para_addr: Setting up AE parameter addresses
[   32.426451] tiziano_ae_para_addr: AE parameter addresses configured
[   32.426458] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   32.426465] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   32.426472] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   32.426479] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   32.426485] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   32.426492] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   32.426499] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   32.426506] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b9d9814 (Binary Ninja EXACT) ***
[   32.426513] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   32.426520] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   32.426526] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   32.426533] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   32.426539] tiziano_ae_set_hardware_param: Parameters written to AE0
[   32.426545] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   32.426552] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   32.426558] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   32.426565] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   32.426571] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   32.426578] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   32.426585] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   32.426591] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   32.426598] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   32.426605] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   32.426611] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   32.426618] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   32.426623] tiziano_ae_set_hardware_param: Parameters written to AE1
[   32.426629] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   32.426637] *** system_irq_func_set: Registered handler c0687cc8 at index 10 ***
[   32.448417] *** system_irq_func_set: Registered handler c0687dbc at index 27 ***
[   32.465689] *** system_irq_func_set: Registered handler c0687cc8 at index 26 ***
[   32.479305] *** system_irq_func_set: Registered handler c0687ea4 at index 29 ***
[   32.495565] *** system_irq_func_set: Registered handler c0687e30 at index 28 ***
[   32.509322] *** system_irq_func_set: Registered handler c0687f18 at index 30 ***
[   32.527134] *** system_irq_func_set: Registered handler c0687f6c at index 20 ***
[   32.541066] *** system_irq_func_set: Registered handler c0687fc0 at index 18 ***
root@ing-wyze-cam3-a000 ~# dmesg 
[   32.219705] *** ispcore_core_ops_init: sd->dev_priv=8473a400, sd->host_priv=8473a400 ***
[   32.219712] *** ispcore_core_ops_init: sd->pdev=c06b8680, sd->ops=c06b8d88 ***
[   32.219717] *** ispcore_core_ops_init: EXACT Binary Ninja MCP implementation, on=1 ***
[   32.219723] *** ispcore_core_ops_init: ISP device=846e0000 ****** ispcore_core_ops_init: Frame sync work structure initialized ***
[   32.219731] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   32.219739] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   32.219746] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   32.219752] ispcore_core_ops_init: Using sensor attributes from sensor: gc2053
[   32.219757] *** ispcore_core_ops_init: s0 (core_dev) = 8473a400 from sd->host_priv ***
[   32.219765] ispcore_core_ops_init: core_dev=8473a400, vic_dev=8473a000, vic_state=3
[   32.219769] *** ispcore_core_ops_init: INITIALIZING CORE (on=1) ****** ispcore_core_ops_init: Current vic_state (VIC state): 3 ***
[   32.219778] *** ispcore_core_ops_init: VIC in ready state (3) - normal initialization ****** ispcore_core_ops_init: VIC state check passed, proceeding with initialization ***
[   32.219786] *** VIC STATE 4: Initializing clocks for streaming ***
[   32.219792] *** Initializing CSI clocks (1 clocks) ***
[   32.219798] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 1 clocks
[   32.219805] isp_subdev_init_clks: Using platform data clock arrays: c06b8aa0
[   32.219811] isp_subdev_init_clks: Using platform data clock configs
[   32.219817] Platform data clock[0]: name=csi, rate=65535
[   32.219827] Clock csi enabled successfully
[   32.249313] CPM clock gates configured
[   32.249326] isp_subdev_init_clks: Successfully initialized 1 clocks
[   32.249333] *** Initializing VIC clocks (2 clocks) ***
[   32.249339] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 2 clocks
[   32.249347] isp_subdev_init_clks: Using platform data clock arrays: c06b8bb0
[   32.249354] isp_subdev_init_clks: Using platform data clock configs
[   32.249362] Platform data clock[0]: name=cgu_isp, rate=100000000
[   32.249380] Clock cgu_isp: set rate 100000000 Hz, result=0
[   32.249387] Clock cgu_isp enabled successfully
[   32.249393] Platform data clock[1]: name=isp, rate=65535
[   32.249400] Clock isp enabled successfully
[   32.279297] CPM clock gates configured
[   32.279311] isp_subdev_init_clks: Successfully initialized 2 clocks
[   32.279318] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   32.279328] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   32.279335] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   32.279341] *** ispcore_core_ops_init: BINARY NINJA MCP - Second tisp_init call (00079058) ***
[   32.279347] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   32.279352] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   32.279359] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 2200x1418 ***
[   32.279365] tisp_init: Initializing ISP hardware for sensor (2200x1418)
[   32.279371] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   32.279377] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   32.279382] tisp_event_init: Initializing ISP event system
[   32.279389] tisp_event_init: SAFE event system initialized with 20 nodes
[   32.279395] tisp_event_set_cb: Setting callback for event 4
[   32.279402] tisp_event_set_cb: Event 4 callback set to c0686af0
[   32.279407] tisp_event_set_cb: Setting callback for event 5
[   32.279413] tisp_event_set_cb: Event 5 callback set to c0686fb8
[   32.279419] tisp_event_set_cb: Setting callback for event 7
[   32.279425] tisp_event_set_cb: Event 7 callback set to c0686b84
[   32.279431] tisp_event_set_cb: Setting callback for event 9
[   32.279437] tisp_event_set_cb: Event 9 callback set to c0686c0c
[   32.279443] tisp_event_set_cb: Setting callback for event 8
[   32.279449] tisp_event_set_cb: Event 8 callback set to c0686cd0
[   32.279456] *** system_irq_func_set: Registered handler c067f9b0 at index 13 ***
[   32.287084] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   32.287092] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   32.287099] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   32.287106] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   32.287113] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   32.287119] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   32.287127] *** SYSTEM_REG_WRITE: reg[0xb018] = 0x40404040 (Binary Ninja EXACT) ***
[   32.287133] *** SYSTEM_REG_WRITE: reg[0xb01c] = 0x40404040 (Binary Ninja EXACT) ***
[   32.287140] *** SYSTEM_REG_WRITE: reg[0xb020] = 0x40404040 (Binary Ninja EXACT) ***
[   32.287147] *** SYSTEM_REG_WRITE: reg[0xb024] = 0x404040 (Binary Ninja EXACT) ***
[   32.287154] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   32.287161] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   32.287167] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   32.287174] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   32.287181] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   32.287187] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   32.287194] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   32.287199] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   32.287206] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   32.287213] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   32.287220] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   32.287227] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   32.287232] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   32.287237] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   32.287244] *** SYSTEM_REG_WRITE: reg[0x9804] = 0x3f00 (Binary Ninja EXACT) ***
[   32.287251] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   32.287257] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   32.287264] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   32.287271] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   32.287277] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   32.287285] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   32.287291] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   32.287297] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   32.287303] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   32.287311] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   32.287317] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   32.287324] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   32.287331] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   32.287337] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   32.287343] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   32.287350] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   32.287357] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   32.287363] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   32.287369] *** TUNING SYSTEM: VIC control registers 0x9ac0/0x9ac8 REMOVED - not in Binary Ninja reference ***
[   32.287377] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 2200x1418)
[   32.287384] *** SYSTEM_REG_WRITE: reg[0x4] = 0x898058a (Binary Ninja EXACT) ***
[   32.287390] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   32.287397] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   32.287402] *** tisp_init: ISP control register set to enable processing pipeline ***
[   32.287409] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   32.287415] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   32.287421] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   32.287427] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   32.287433] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   32.287440] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   32.287450] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=846e0000 ***
[   32.294896] *** isp_irq_handle: IRQ 37 received, dev_id=846e0000 ***
[   32.294901] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   32.302621] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=846e0000 ***
[   32.310066] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   32.317791] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
[   32.325325] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   32.331518] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   32.339601] *** ISP CORE: ABOUT TO CALL callback[10] for bit 10 - callback=c0687cc8 ***
[   32.347855] *** ISP CORE: CALLING CALLBACK NOW - IF SYSTEM HANGS, THIS CALLBACK IS THE PROBLEM ***
[   32.357099] ae0_interrupt_static: Processing AE0 static interrupt
[   32.357106] *** AE0: Processing interrupt using register-based statistics (Binary Ninja MCP) ***
[   32.357112] ae0_interrupt_static: AE0 static interrupt processed
[   32.357118] *** ISP CORE: CALLBACK RETURNED SUCCESSFULLY - callback[10] returned 1 ***
[   32.365290] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
[   32.423191] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   32.423207] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   32.423335] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   32.423341] *** tisp_init: ISP control mode set to 8 (streaming not active) ***
[   32.423348] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   32.423492] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=8, 0x800=1 ***
[   32.426035] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   32.426058] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   32.426065] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   32.426072] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   32.426077] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   32.426084] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   32.426091] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   32.426097] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   32.426104] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   32.426111] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   32.426117] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   32.426124] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   32.426133] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   32.426140] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   32.426147] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   32.426154] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   32.426160] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   32.426167] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   32.426173] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   32.426178] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   32.426184] *** This should eliminate green frames by enabling proper color processing ***
[   32.426190] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   32.426197] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   32.426203] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   32.426210] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   32.426217] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   32.426223] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   32.426230] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   32.426236] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   32.426243] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   32.426249] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   32.426254] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   32.426259] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   32.426265] *** tisp_init: Standard tuning parameters loaded successfully ***
[   32.426270] *** tisp_init: Custom tuning parameters loaded successfully ***
[   32.426277] tisp_set_csc_version: Setting CSC version 0
[   32.426283] *** SYSTEM_REG_WRITE: reg[0xc] = 0x80700008 (Binary Ninja EXACT) ***
[   32.426290] *** CRITICAL FIX: ISP bypass register set to EXACT reference value 0x80700008 - prevents hardware reset ***
[   32.426295] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   32.426302] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   32.426309] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   32.426314] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   32.426320] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   32.426326] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   32.426333] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   32.426338] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   32.426345] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   32.426351] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   32.426357] *** tisp_init: ISP processing pipeline fully enabled ***
[   32.426363] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   32.426369] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   32.426375] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   32.426382] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   32.426389] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   32.426394] tisp_init: ISP memory buffers configured
[   32.426399] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   32.426407] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   32.426417] tiziano_ae_params_refresh: Refreshing AE parameters
[   32.426429] tiziano_ae_params_refresh: AE parameters refreshed
[   32.426435] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   32.426441] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   32.426446] tiziano_ae_para_addr: Setting up AE parameter addresses
[   32.426451] tiziano_ae_para_addr: AE parameter addresses configured
[   32.426458] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   32.426465] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   32.426472] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   32.426479] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   32.426485] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   32.426492] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   32.426499] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   32.426506] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b9d9814 (Binary Ninja EXACT) ***
[   32.426513] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   32.426520] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   32.426526] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   32.426533] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   32.426539] tiziano_ae_set_hardware_param: Parameters written to AE0
[   32.426545] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   32.426552] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   32.426558] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   32.426565] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   32.426571] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   32.426578] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   32.426585] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   32.426591] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   32.426598] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   32.426605] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   32.426611] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   32.426618] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   32.426623] tiziano_ae_set_hardware_param: Parameters written to AE1
[   32.426629] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   32.426637] *** system_irq_func_set: Registered handler c0687cc8 at index 10 ***
[   32.448417] *** system_irq_func_set: Registered handler c0687dbc at index 27 ***
[   32.465689] *** system_irq_func_set: Registered handler c0687cc8 at index 26 ***
[   32.479305] *** system_irq_func_set: Registered handler c0687ea4 at index 29 ***
[   32.495565] *** system_irq_func_set: Registered handler c0687e30 at index 28 ***
[   32.509322] *** system_irq_func_set: Registered handler c0687f18 at index 30 ***
[   32.527134] *** system_irq_func_set: Registered handler c0687f6c at index 20 ***
[   32.541066] *** system_irq_func_set: Registered handler c0687fc0 at index 18 ***
[   32.558910] *** system_irq_func_set: Registered handler c0688014 at index 31 ***
[   32.580446] *** system_irq_func_set: Registered handler c0688068 at index 11 ***
[   32.588086] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   32.588104] tiziano_deflicker_expt: Generated 119 LUT entries
[   32.588110] tisp_event_set_cb: Setting callback for event 1
[   32.588117] tisp_event_set_cb: Event 1 callback set to c06878c8
[   32.588123] tisp_event_set_cb: Setting callback for event 6
[   32.588129] tisp_event_set_cb: Event 6 callback set to c0686e28
[   32.588134] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   32.588140] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   32.588147] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   32.588155] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   32.588161] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   32.588167] tiziano_awb_init: AWB hardware blocks enabled
[   32.588172] tiziano_gamma_init: Initializing Gamma processing
[   32.588177] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   32.588237] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   32.588243] tiziano_gib_init: Initializing GIB processing
[   32.588248] tiziano_lsc_init: Initializing LSC processing
[   32.588253] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   32.588260] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   32.588266] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   32.588273] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   32.588279] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   32.588337] tiziano_ccm_init: Initializing Color Correction Matrix
[   32.588343] tiziano_ccm_init: Using linear CCM parameters
[   32.588348] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   32.588355] jz_isp_ccm: EV=64, CT=9984
[   32.588361] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   32.588367] cm_control: saturation=128
[   32.588372] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   32.588379] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   32.588384] tiziano_ccm_init: CCM initialized successfully
[   32.588389] tiziano_dmsc_init: Initializing DMSC processing
[   32.588394] tiziano_sharpen_init: Initializing Sharpening
[   32.588399] tiziano_sharpen_init: Using linear sharpening parameters
[   32.588405] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   32.588412] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   32.588418] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   32.588445] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   32.588451] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   32.588456] tiziano_sharpen_init: Sharpening initialized successfully
[   32.588461] tiziano_sdns_init: Initializing SDNS processing
[   32.588470] tiziano_sdns_init: Using linear SDNS parameters
[   32.588475] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   32.588482] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   32.588488] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   32.588521] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   32.588527] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   32.588533] tiziano_sdns_init: SDNS processing initialized successfully
[   32.588539] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   32.588544] tiziano_mdns_init: Using linear MDNS parameters
[   32.588554] tiziano_mdns_init: MDNS processing initialized successfully
[   32.588559] tiziano_clm_init: Initializing CLM processing
[   32.588565] tiziano_dpc_init: Initializing DPC processing
[   32.588570] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   32.588576] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   32.588583] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   32.588589] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   32.588603] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   32.588610] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   32.588615] tiziano_hldc_init: Initializing HLDC processing
[   32.588622] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   32.588628] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   32.588635] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   32.588641] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   32.588649] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   32.588655] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   32.588662] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   32.588669] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   32.588675] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   32.588683] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   32.588689] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   32.588696] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   32.588703] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   32.588728] tiziano_adr_params_refresh: Refreshing ADR parameters
[   32.588735] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   32.588740] tiziano_adr_params_init: Initializing ADR parameter arrays
[   32.588747] tisp_adr_set_params: Writing ADR parameters to registers
[   32.588779] tisp_adr_set_params: ADR parameters written to hardware
[   32.588785] tisp_event_set_cb: Setting callback for event 18
[   32.588792] tisp_event_set_cb: Event 18 callback set to c0687fc0
[   32.588797] tisp_event_set_cb: Setting callback for event 2
[   32.588803] tisp_event_set_cb: Event 2 callback set to c0686ac4
[   32.588809] tiziano_adr_init: ADR processing initialized successfully
[   32.588815] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   32.588821] tiziano_bcsh_init: Initializing BCSH processing
[   32.588825] tiziano_ydns_init: Initializing YDNS processing
[   32.588831] tiziano_rdns_init: Initializing RDNS processing
[   32.588836] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   32.588849] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x1168000 (Binary Ninja EXACT) ***
[   32.588856] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x1169000 (Binary Ninja EXACT) ***
[   32.588863] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x116a000 (Binary Ninja EXACT) ***
[   32.588870] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x116b000 (Binary Ninja EXACT) ***
[   32.588877] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x116c000 (Binary Ninja EXACT) ***
[   32.588884] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x116c800 (Binary Ninja EXACT) ***
[   32.588891] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x116d000 (Binary Ninja EXACT) ***
[   32.588897] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x116d800 (Binary Ninja EXACT) ***
[   32.588904] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   32.588910] *** tisp_init: AE0 buffer allocated at 0x01168000 ***
[   32.588917] *** CRITICAL FIX: data_b2f3c initialized to 0x81168000 (prevents stack corruption) ***
[   32.588925] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x1170000 (Binary Ninja EXACT) ***
[   32.588932] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x1171000 (Binary Ninja EXACT) ***
[   32.588939] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x1172000 (Binary Ninja EXACT) ***
[   32.588945] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x1173000 (Binary Ninja EXACT) ***
[   32.588953] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x1174000 (Binary Ninja EXACT) ***
[   32.588959] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x1174800 (Binary Ninja EXACT) ***
[   32.588966] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x1175000 (Binary Ninja EXACT) ***
[   32.588973] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x1175800 (Binary Ninja EXACT) ***
[   32.588980] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   32.588986] *** tisp_init: AE1 buffer allocated at 0x01170000 ***
[   32.588991] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   32.588997] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   32.589004] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   32.589010] *** tisp_init: Second ISP control mode set to 8 (streaming not active) ***
[   32.589017] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   32.589022] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   32.589029] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   32.589037] tiziano_ae_params_refresh: Refreshing AE parameters
[   32.589048] tiziano_ae_params_refresh: AE parameters refreshed
[   32.589053] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   32.589059] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   32.589065] tiziano_ae_para_addr: Setting up AE parameter addresses
[   32.589070] tiziano_ae_para_addr: AE parameter addresses configured
[   32.589077] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   32.589084] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   32.589091] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   32.589097] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   32.589105] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   32.589111] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   32.589118] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   32.589125] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b9d9814 (Binary Ninja EXACT) ***
[   32.598423] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   32.598435] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   32.598441] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   32.598448] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   32.598454] tiziano_ae_set_hardware_param: Parameters written to AE0
[   32.598461] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   32.598468] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   32.598474] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   32.598481] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   32.598487] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   32.598494] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   32.598500] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   32.598507] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   32.598513] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   32.598520] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   32.598527] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   32.598533] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   32.598539] tiziano_ae_set_hardware_param: Parameters written to AE1
[   32.598545] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   32.598552] *** system_irq_func_set: Registered handler c0687cc8 at index 10 ***
[   32.616387] *** system_irq_func_set: Registered handler c0687dbc at index 27 ***
[   32.634607] *** system_irq_func_set: Registered handler c0687cc8 at index 26 ***
[   32.642425] *** system_irq_func_set: Registered handler c0687ea4 at index 29 ***
[   32.659319] *** system_irq_func_set: Registered handler c0687e30 at index 28 ***
[   32.673513] *** system_irq_func_set: Registered handler c0687f18 at index 30 ***
[   32.696353] *** system_irq_func_set: Registered handler c0687f6c at index 20 ***
[   32.714189] *** system_irq_func_set: Registered handler c0687fc0 at index 18 ***
[   32.729314] *** system_irq_func_set: Registered handler c0688014 at index 31 ***
[   32.747206] *** system_irq_func_set: Registered handler c0688068 at index 11 ***
[   32.767395] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   32.767417] tiziano_deflicker_expt: Generated 119 LUT entries
[   32.767424] tisp_event_set_cb: Setting callback for event 1
[   32.767431] tisp_event_set_cb: Event 1 callback set to c06878c8
[   32.767437] tisp_event_set_cb: Setting callback for event 6
[   32.767443] tisp_event_set_cb: Event 6 callback set to c0686e28
[   32.767449] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   32.767455] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   32.767462] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   32.767469] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   32.767476] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   32.767481] tiziano_awb_init: AWB hardware blocks enabled
[   32.767487] tiziano_gamma_init: Initializing Gamma processing
[   32.767493] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   32.767552] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   32.767557] tiziano_gib_init: Initializing GIB processing
[   32.767563] tiziano_lsc_init: Initializing LSC processing
[   32.767568] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   32.767575] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   32.767581] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   32.767589] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   32.767593] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   32.767651] tiziano_ccm_init: Initializing Color Correction Matrix
[   32.767656] tiziano_ccm_init: Using linear CCM parameters
[   32.767662] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   32.767668] jz_isp_ccm: EV=64, CT=9984
[   32.767675] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   32.767680] cm_control: saturation=128
[   32.767685] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   32.767691] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   32.767697] tiziano_ccm_init: CCM initialized successfully
[   32.767702] tiziano_dmsc_init: Initializing DMSC processing
[   32.767707] tiziano_sharpen_init: Initializing Sharpening
[   32.767713] tiziano_sharpen_init: Using linear sharpening parameters
[   32.767718] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   32.767725] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   32.767731] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   32.767757] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   32.767764] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   32.767769] tiziano_sharpen_init: Sharpening initialized successfully
[   32.767775] tiziano_sdns_init: Initializing SDNS processing
[   32.767783] tiziano_sdns_init: Using linear SDNS parameters
[   32.767788] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   32.767795] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   32.767800] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   32.767833] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   32.767839] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   32.767845] tiziano_sdns_init: SDNS processing initialized successfully
[   32.767851] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   32.767856] tiziano_mdns_init: Using linear MDNS parameters
[   32.767867] tiziano_mdns_init: MDNS processing initialized successfully
[   32.767872] tiziano_clm_init: Initializing CLM processing
[   32.767877] tiziano_dpc_init: Initializing DPC processing
[   32.767882] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   32.767888] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   32.767895] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   32.767900] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   32.767915] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   32.767921] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   32.767927] tiziano_hldc_init: Initializing HLDC processing
[   32.767933] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   32.767940] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   32.767946] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   32.767953] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   32.767960] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   32.767967] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   32.767973] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   32.767980] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   32.767987] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   32.767994] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   32.768001] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   32.768007] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   32.768014] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   32.768020] tiziano_adr_params_refresh: Refreshing ADR parameters
[   32.768026] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   32.768031] tiziano_adr_params_init: Initializing ADR parameter arrays
[   32.768038] tisp_adr_set_params: Writing ADR parameters to registers
[   32.768070] tisp_adr_set_params: ADR parameters written to hardware
[   32.768076] tisp_event_set_cb: Setting callback for event 18
[   32.768082] tisp_event_set_cb: Event 18 callback set to c0687fc0
[   32.768088] tisp_event_set_cb: Setting callback for event 2
[   32.768094] tisp_event_set_cb: Event 2 callback set to c0686ac4
[   32.768099] tiziano_adr_init: ADR processing initialized successfully
[   32.768105] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   32.768110] tiziano_bcsh_init: Initializing BCSH processing
[   32.768116] tiziano_ydns_init: Initializing YDNS processing
[   32.768120] tiziano_rdns_init: Initializing RDNS processing
[   32.768126] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   32.768131] tisp_event_init: Initializing ISP event system
[   32.768138] tisp_event_init: SAFE event system initialized with 20 nodes
[   32.768143] tisp_event_set_cb: Setting callback for event 4
[   32.768150] tisp_event_set_cb: Event 4 callback set to c0686af0
[   32.768155] tisp_event_set_cb: Setting callback for event 5
[   32.768162] tisp_event_set_cb: Event 5 callback set to c0686fb8
[   32.768167] tisp_event_set_cb: Setting callback for event 7
[   32.768173] tisp_event_set_cb: Event 7 callback set to c0686b84
[   32.768179] tisp_event_set_cb: Setting callback for event 9
[   32.768185] tisp_event_set_cb: Event 9 callback set to c0686c0c
[   32.768190] tisp_event_set_cb: Setting callback for event 8
[   32.768197] tisp_event_set_cb: Event 8 callback set to c0686cd0
[   32.768202] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   32.768208] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   32.768214] tisp_param_operate_init: Initializing parameter operations
[   32.768221] tisp_netlink_init: Initializing netlink communication
[   32.768226] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   32.768257] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   32.768270] tisp_netlink_init: Custom protocol failed, trying with nlcfg structure
[   32.768282] tisp_netlink_init: Failed to create netlink socket - continuing without netlink support
[   32.768288] tisp_netlink_init: ISP tuning parameters may not be available, but VIC interrupts should still work
[   32.768294] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   32.768300] tisp_code_create_tuning_node: Device already created, skipping
[   32.768306] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   32.768311] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   32.768318] *** ispcore_core_ops_init: Second tisp_init completed ***
[   32.768323] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[   32.768332] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[   32.768339] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   32.768344] *** ISP CORE: Hardware interrupt generation ENABLED ***
[   32.768350] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   32.768356] *** ispcore_core_ops_init: ISP Core hardware interrupts ENABLED - Frame sync should now work! ***
[   32.768361] ispcore_core_ops_init: Complete, result=0<6>[   32.768366] *** tx_isp_video_s_stream: Core init SUCCESS ***
[   32.768373] *** tx_isp_video_s_stream: Activating VIC subdev (state 3 -> 2) before CSI init ***
[   32.768380] *** tx_isp_video_s_stream: VIC subdev activation done, state=3 ***
[   32.768386] *** tx_isp_video_s_stream: Activating CSI subdev (state 1 -> 2) before CSI init ***
[   32.768395] *** tx_isp_video_s_stream: CSI subdev activation done, state=2 ***
[   32.768400] *** tx_isp_video_s_stream: Initializing CSI subdev ***
[   32.768408] csi_core_ops_init: sd=85215800, csi_dev=85215800, enable=1
[   32.768414] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   32.768424] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   32.768430] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   32.768437] *** csi_core_ops_init: interface_type=1 (1=MIPI, 2=DVP) ***
[   32.768442] *** csi_core_ops_init: Set csi_dev->interface_type = 1 ***
[   32.839314] *** tx_isp_video_s_stream: CSI init SUCCESS ***
[   32.839397] *** tx_isp_video_s_stream: Initializing VIC subdev ***
[   32.839407] *** vic_core_ops_init: ENTRY - sd=8473a000, enable=1 ***
[   32.839413] *** vic_core_ops_init: vic_dev=8473a000, current state check ***
[   32.839420] *** vic_core_ops_init: current_state=3, enable=1 ***
[   32.839425] *** tx_isp_video_s_stream: VIC init SUCCESS ***
[   32.839430] *** tx_isp_video_s_stream: Initializing Sensor subdev ***
[   32.839439] *** SENSOR_INIT: gc2053 enable=1 ***
[   32.839446] *** SENSOR_INIT: gc2053 already initialized, skipping to prevent CSI PHY reconfiguration ***
[   32.839452] *** SENSOR_INIT: This prevents register reset that disables ISP/VIC interrupts ***
[   32.839457] *** tx_isp_video_s_stream: Sensor init SUCCESS ***
[   32.839463] *** tx_isp_video_s_stream: All subdev initialization complete - proceeding with s_stream ***
[   32.839470] *** tx_isp_video_s_stream: Calling subdev[0]->ops->video->s_stream(1) ***
[   32.839584] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   32.839593] csi_video_s_stream: sd=85215800, enable=1
[   32.839600] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   32.839606] *** tx_isp_video_s_stream: subdev[0] s_stream SUCCESS ***
[   32.839613] *** tx_isp_video_s_stream: Calling subdev[1]->ops->video->s_stream(1) ***
[   32.839620] *** vic_core_s_stream: BINARY NINJA EXACT - sd=8473a000, enable=1 ***
[   32.839626] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=3 ***
[   32.839631] *** vic_core_s_stream: STREAM ON ***
[   32.839636] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   32.839642] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   32.839649] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   32.839657] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   32.839664] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   32.839670] *** tx_isp_vic_start: Using single VIC register base - EXACT Binary Ninja reference ***
[   32.839676] *** STREAMING: Configuring CPM registers for VIC access ***
[   32.869301] STREAMING: CPM clocks configured for VIC access
[   32.869316] *** tx_isp_vic_start: CRITICAL DEBUG - interface_type=1, checking if == 1 ***
[   32.869322] *** tx_isp_vic_start: MIPI interface detected - configuring VIC for MIPI ***
[   32.869328] *** tx_isp_vic_start: vic_dev->width=1920, vic_dev->height=1080 ***
[   32.869334] *** tx_isp_vic_start: sensor_mode != interface_type, writing 0xa000a to 0x1a4 ***
[   32.869340] *** tx_isp_vic_start: Writing VIC configuration registers - EXACT Binary Ninja sequence ***
[   32.869346] *** tx_isp_vic_start: Adding CRITICAL missing VIC configuration registers ***
[   32.869354] *** tx_isp_vic_start: CRITICAL VIC configuration registers written - hardware protection should be prevented ***
[   32.869361] *** tx_isp_vic_start: Frame size 0x07800438 written to register 0x4 ***
[   32.869368] *** tx_isp_vic_start: VIC unlock sequence using SECONDARY VIC space (0x10023000) ***
[   32.869374] *** tx_isp_vic_start: VIC unlock sequence - FIXED register space issue ***
[   32.869380] *** VIC unlock: Commands written, checking VIC status register ***
[   32.869386] *** VIC unlock: Completed with final status=0x0 after 0 iterations ***
[   32.869392] *** tx_isp_vic_start: VIC unlock completed using SECONDARY VIC space ***
[   32.869398] *** tx_isp_vic_start: VIC enabled using SECONDARY VIC space ***
[   32.869404] *** tx_isp_vic_start: CRITICAL FIX - Writing VIC Control register sequence ***
[   32.869409] *** tx_isp_vic_start: VIC processing enabled (0x0=0x1, 0x4=0x1) ***
[   32.869415] *** tx_isp_vic_start: Configuring VIC hardware prerequisites for interrupt registers ***
[   32.869490] read_sensor_dimensions: Successfully read 1920x1080 from /proc/jz/sensor/
[   32.869498] *** VIC DIMENSIONS: Using /proc/jz/sensor/ dimensions 1920x1080 (RELIABLE) ***
[   32.869505] *** VIC REGISTER CONFIG: Writing VIC configuration registers (vic_start_ok=0) ***
[   32.869512] *** VIC REGISTER CONFIG: VIC configuration registers written (0xc=2, 0x10=0x07800438, 0x14=3840) ***
[   32.869520] *** VIC HARDWARE PREREQUISITES: Dimensions 1920x1080, stride 3840, MIPI mode 2 ***
[   32.869526] *** VIC INTERRUPT CONFIG: VIC unlock sequence will be completed first, then interrupt config ***
[   32.869533] *** VIC INTERRUPT STATUS CHECK (BEFORE UNLOCK): STATUS=0x00000000, MASK_STATUS=0x00000000 ***
[   32.869539] *** VIC INTERRUPT CONFIG: Using WORKING BRANCH registers (NOT Binary Ninja) ***
[   32.869545] *** VIC INTERRUPT CONFIG: Configuring interrupt masks (WORKING BRANCH) ***
[   32.869551] *** VIC INTERRUPT CONFIG: Configuring ISP control interrupts (WORKING BRANCH) ***
[   32.869557] *** VIC INTERRUPT CONFIG: Applying VIC interrupt system configuration (WORKING BRANCH) ***
[   32.869563] *** VIC PRIMARY: leaving 0x14=stride as-is (readback=0x00000000) ***
[   32.869569] *** VIC INTERRUPT CONFIG: WORKING BRANCH interrupt configuration complete ***
[   32.869574] *** VIC INTERRUPT CONFIG: Mirroring WORKING BRANCH registers to control bank ***
[   32.869581] *** VIC CONTROL VERIFY: 0x0c(IMCR)=0x00000001 (expect 0xb5742249) ***
[   32.869587] *** VIC INTERRUPT CONFIG: Control bank configuration complete ***
[   32.869592] *** ISP CORE INTERRUPT CONFIG: Enabling ISP core interrupt generation (MISSING FROM CURRENT BRANCH) ***
[   32.869599] *** ISP CORE CONFIG: Writing ISP core interrupt registers at VIC start ***
[   32.869605] *** ISP CORE CONFIG: ISP core interrupt registers written (0x30=0xffffffff, 0x10=0x133) ***
[   32.869610] *** ISP CORE: Hardware interrupt generation ENABLED (0x30=0xffffffff, 0x10=0x133) ***
[   32.869616] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   32.869624] *** ISP CORE VERIFY: 0x30=0x8fffffff, 0x10=0x00000133 ***
[   32.869630] *** VIC INTERRUPT CONFIG: Starting verification of WORKING BRANCH interrupt registers ***
[   32.869639] *** VIC INTERRUPT CONTROL VERIFY (WORKING BRANCH REGS): 0x04=0x07800438, 0x0c=0x00000001, 0x100=0x000002d0, 0x14=0x00000000 ***
[   32.869645] *** VIC INTERRUPT: Some WORKING BRANCH interrupt register configuration failed ***
[   32.869651] *** VIC INTERRUPT: Expected: 0x04=0x07800438, 0x0c=0xb5742249, 0x100=0x2d0, 0x14=0x2b ***
[   32.869659] *** VIC INTERRUPT: imr_ok=1, imcr_ok=0, config_ok=1, control_ok=0 ***
[   32.869664] *** tx_isp_vic_start: vic_start_ok set to 1 - EXACT Binary Ninja reference ***
[   32.869670] *** tx_isp_vic_start: VIC Control register sequence complete - streaming should start ***
[   32.869676] *** tx_isp_vic_start: VIC should now generate frame done interrupts! ***
[   32.869682] *** tx_isp_vic_start: VIC interrupt will be enabled by tx_vic_enable_irq callback ***
[   32.869688] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   32.869694] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   32.869702] ispvic_frame_channel_qbuf: arg1=8473a000, arg2=  (null)
[   32.869708] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   32.869714] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   32.869720] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   32.869727] ispvic_frame_channel_s_stream: arg1=8473a000, arg2=1
[   32.869733] ispvic_frame_channel_s_stream: s0 (vic_dev) = 8473a000
[   32.869740] ispvic_frame_channel_s_stream[2471]: streamon
[   32.869746] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   32.869752] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   32.869758] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   32.869763] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   32.869768] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   32.869776] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   32.869781] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   32.869788] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   32.869794] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   32.869800] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   32.869806] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   32.869812] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   32.869818] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   32.869825] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   32.869833] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   32.869840] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   32.869848] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   32.869856] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   32.869862] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   32.869868] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   32.869873] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   32.869880] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   32.869886] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then GATE REASSERT [9ac0/9ac8] ***
[   32.869892] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   32.869898] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   32.869904] ispvic_frame_channel_qbuf: arg1=8473a000, arg2=  (null)
[   32.869909] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   32.869922] *** VIC VERIFY (PRIMARY): [0x0]=0x00000000 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (UNMASK-ALL)***
[   32.869930] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x00000000 (PRIMARY 0x14=stride) ***
[   32.869995] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000000 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 ***
[   32.870006] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   32.870013] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   32.870022] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   32.870028] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   32.870034] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   32.870040] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a ***
[   32.870047] *** VIC UNMASK-ALL TEST: [0x1e8]=0x00000000 [0x1ec]=0x00000000 (expect 0) ***
[   32.871056] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   32.871061] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   32.871066] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   32.871174] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   32.871282] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   32.871289] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   32.871294] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   32.871300] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   32.871306] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   32.871311] tx_vic_enable_irq: Calling VIC interrupt callback
[   32.871318] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   32.871324] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   32.871330] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   32.871339] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   32.871346] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   32.871353] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   32.871360] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   32.871366] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   32.871372] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   32.871377] *** tx_vic_enable_irq: completed successfully ***
[   33.390838] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   33.390852] *** vic_core_s_stream: VIC state transition 3 → 4 (STREAMING) ***
[   33.390857] *** VIC STATE 4: Calling ispcore_slake_module to initialize ISP core ***
[   33.390864] *** ispcore_slake_module: EXACT Binary Ninja MCP implementation ***
[   33.390872] ispcore_slake_module: VIC device=8473a000, state=4ispcore_slake_module: ISP state >= 3, calling ispcore_core_ops_init
[   33.390880] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   33.390890] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   33.390896] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   33.390902] ispcore_slake_module: Using sensor attributes from connected sensor
[   33.390908] *** ispcore_core_ops_init_with_sensor: GOOD-THINGS approach - isp=846e0000, sensor_attr=c06e30cc ****** ispcore_core_ops_init_with_sensor: Calling tisp_init with sensor parameters (good-things approach) ***
[   33.390917] *** This will configure MIPI CSI lanes and enable proper interrupt flow ****** ispcore_core_ops_init_with_sensor: Calling tisp_init(&sensor_params, "gc2053") ***
[   33.390926] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   33.390932] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   33.390938] *** tisp_init: Invalid sensor dimensions 1x0, using defaults 1920x1080 ***
[   33.390945] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 1920x1080 ***
[   33.390952] tisp_init: Initializing ISP hardware for sensor (1920x1080)
[   33.390957] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   33.390963] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   33.390968] tisp_event_init: Initializing ISP event system
[   33.390976] tisp_event_init: SAFE event system initialized with 20 nodes
[   33.390982] tisp_event_set_cb: Setting callback for event 4
[   33.390988] tisp_event_set_cb: Event 4 callback set to c0686af0
[   33.390994] tisp_event_set_cb: Setting callback for event 5
[   33.391000] tisp_event_set_cb: Event 5 callback set to c0686fb8
[   33.391006] tisp_event_set_cb: Setting callback for event 7
[   33.391012] tisp_event_set_cb: Event 7 callback set to c0686b84
[   33.391018] tisp_event_set_cb: Setting callback for event 9
[   33.391024] tisp_event_set_cb: Event 9 callback set to c0686c0c
[   33.391030] tisp_event_set_cb: Setting callback for event 8
[   33.391036] tisp_event_set_cb: Event 8 callback set to c0686cd0
[   33.391043] *** system_irq_func_set: Registered handler c067f9b0 at index 13 ***
[   33.419136] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   33.419153] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   33.419160] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   33.419167] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   33.419174] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   33.419181] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   33.419188] system_reg_write: BLOCKED core-control reg[0xb018]=0x40404040 during streaming (preserve interrupts)
[   33.419196] system_reg_write: BLOCKED core-control reg[0xb01c]=0x40404040 during streaming (preserve interrupts)
[   33.419203] system_reg_write: BLOCKED core-control reg[0xb020]=0x40404040 during streaming (preserve interrupts)
[   33.419210] system_reg_write: BLOCKED core-control reg[0xb024]=0x404040 during streaming (preserve interrupts)
[   33.419217] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   33.419224] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   33.419231] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   33.419238] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   33.419244] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   33.419251] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   33.419258] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   33.419263] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   33.419270] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   33.419324] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   33.419332] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   33.419338] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   33.419344] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   33.419350] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   33.419356] system_reg_write: BLOCKED reg[0x9804]=0x3f00 during streaming to protect interrupts
[   33.419364] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   33.419370] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   33.419377] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   33.419384] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   33.419390] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   33.419397] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   33.419404] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   33.419410] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   33.419416] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   33.419423] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   33.419430] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   33.419437] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   33.419443] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   33.419450] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   33.419456] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   33.419463] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   33.419470] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   33.419476] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   33.419482] *** TUNING SYSTEM: VIC control registers 0x9ac0/0x9ac8 REMOVED - not in Binary Ninja reference ***
[   33.419490] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 1920x1080)
[   33.419497] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   33.419503] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   33.419510] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   33.419516] *** tisp_init: ISP control register set to enable processing pipeline ***
[   33.419522] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   33.419528] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   33.419535] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   33.419540] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   33.419546] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   33.419553] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   33.419562] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=846e0000 ***
[   33.427020] *** isp_irq_handle: IRQ 37 received, dev_id=846e0000 ***
[   33.427025] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   33.434748] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=846e0000 ***
[   33.442193] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   33.449917] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
[   33.457455] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   33.463647] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   33.471725] *** ISP CORE: ABOUT TO CALL callback[10] for bit 10 - callback=c0687cc8 ***
[   33.479978] *** ISP CORE: CALLING CALLBACK NOW - IF SYSTEM HANGS, THIS CALLBACK IS THE PROBLEM ***
[   33.489223] ae0_interrupt_static: Processing AE0 static interrupt
[   33.489230] *** AE0: Processing interrupt using register-based statistics (Binary Ninja MCP) ***
[   33.489235] ae0_interrupt_static: AE0 static interrupt processed
[   33.489242] *** ISP CORE: CALLBACK RETURNED SUCCESSFULLY - callback[10] returned 1 ***
[   33.497405] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
root@ing-wyze-cam3-a000 ~# dmesg 
[   33.390952] tisp_init: Initializing ISP hardware for sensor (1920x1080)
[   33.390957] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   33.390963] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   33.390968] tisp_event_init: Initializing ISP event system
[   33.390976] tisp_event_init: SAFE event system initialized with 20 nodes
[   33.390982] tisp_event_set_cb: Setting callback for event 4
[   33.390988] tisp_event_set_cb: Event 4 callback set to c0686af0
[   33.390994] tisp_event_set_cb: Setting callback for event 5
[   33.391000] tisp_event_set_cb: Event 5 callback set to c0686fb8
[   33.391006] tisp_event_set_cb: Setting callback for event 7
[   33.391012] tisp_event_set_cb: Event 7 callback set to c0686b84
[   33.391018] tisp_event_set_cb: Setting callback for event 9
[   33.391024] tisp_event_set_cb: Event 9 callback set to c0686c0c
[   33.391030] tisp_event_set_cb: Setting callback for event 8
[   33.391036] tisp_event_set_cb: Event 8 callback set to c0686cd0
[   33.391043] *** system_irq_func_set: Registered handler c067f9b0 at index 13 ***
[   33.419136] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   33.419153] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   33.419160] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   33.419167] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   33.419174] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   33.419181] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   33.419188] system_reg_write: BLOCKED core-control reg[0xb018]=0x40404040 during streaming (preserve interrupts)
[   33.419196] system_reg_write: BLOCKED core-control reg[0xb01c]=0x40404040 during streaming (preserve interrupts)
[   33.419203] system_reg_write: BLOCKED core-control reg[0xb020]=0x40404040 during streaming (preserve interrupts)
[   33.419210] system_reg_write: BLOCKED core-control reg[0xb024]=0x404040 during streaming (preserve interrupts)
[   33.419217] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   33.419224] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   33.419231] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   33.419238] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   33.419244] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   33.419251] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   33.419258] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   33.419263] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   33.419270] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   33.419324] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   33.419332] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   33.419338] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   33.419344] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   33.419350] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   33.419356] system_reg_write: BLOCKED reg[0x9804]=0x3f00 during streaming to protect interrupts
[   33.419364] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   33.419370] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   33.419377] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   33.419384] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   33.419390] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   33.419397] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   33.419404] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   33.419410] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   33.419416] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   33.419423] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   33.419430] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   33.419437] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   33.419443] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   33.419450] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   33.419456] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   33.419463] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   33.419470] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   33.419476] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   33.419482] *** TUNING SYSTEM: VIC control registers 0x9ac0/0x9ac8 REMOVED - not in Binary Ninja reference ***
[   33.419490] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 1920x1080)
[   33.419497] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   33.419503] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   33.419510] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   33.419516] *** tisp_init: ISP control register set to enable processing pipeline ***
[   33.419522] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   33.419528] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   33.419535] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   33.419540] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   33.419546] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   33.419553] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   33.419562] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=846e0000 ***
[   33.427020] *** isp_irq_handle: IRQ 37 received, dev_id=846e0000 ***
[   33.427025] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   33.434748] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=846e0000 ***
[   33.442193] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   33.449917] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
[   33.457455] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   33.463647] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   33.471725] *** ISP CORE: ABOUT TO CALL callback[10] for bit 10 - callback=c0687cc8 ***
[   33.479978] *** ISP CORE: CALLING CALLBACK NOW - IF SYSTEM HANGS, THIS CALLBACK IS THE PROBLEM ***
[   33.489223] ae0_interrupt_static: Processing AE0 static interrupt
[   33.489230] *** AE0: Processing interrupt using register-based statistics (Binary Ninja MCP) ***
[   33.489235] ae0_interrupt_static: AE0 static interrupt processed
[   33.489242] *** ISP CORE: CALLBACK RETURNED SUCCESSFULLY - callback[10] returned 1 ***
[   33.497405] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
[   33.596231] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   33.596247] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   33.596253] *** tisp_init: STREAMING ACTIVE - Skipping ISP control register write to prevent shutdown ***
[   33.596259] *** tisp_init: VIC streaming detected - keeping ISP controls enabled ***
[   33.596265] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   33.596273] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=SKIPPED, 0x800=1 ***
[   33.596279] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   33.596287] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   33.596293] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   33.596300] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   33.596305] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   33.596312] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   33.596319] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   33.596325] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   33.596331] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   33.596338] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   33.596345] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   33.596351] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   33.596361] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   33.596367] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   33.596375] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   33.596381] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   33.596388] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   33.596394] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   33.596400] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   33.596405] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   33.596411] *** This should eliminate green frames by enabling proper color processing ***
[   33.596417] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   33.596424] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   33.596431] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   33.596437] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   33.596444] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   33.596451] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   33.596457] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   33.596463] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   33.596470] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   33.596475] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   33.596481] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   33.596487] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   33.596492] *** tisp_init: Standard tuning parameters loaded successfully ***
[   33.596497] *** tisp_init: Custom tuning parameters loaded successfully ***
[   33.596504] tisp_set_csc_version: Setting CSC version 0
[   33.596510] *** SYSTEM_REG_WRITE: reg[0xc] = 0x80700008 (Binary Ninja EXACT) ***
[   33.596517] *** CRITICAL FIX: ISP bypass register set to EXACT reference value 0x80700008 - prevents hardware reset ***
[   33.596523] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   33.596529] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   33.596536] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   33.596541] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   33.596547] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   33.596553] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   33.596559] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   33.596565] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   33.596571] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   33.596578] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   33.596583] *** tisp_init: ISP processing pipeline fully enabled ***
[   33.596589] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   33.596596] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   33.596602] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   33.596609] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   33.596615] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   33.596621] tisp_init: ISP memory buffers configured
[   33.596625] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   33.596633] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   33.596641] tiziano_ae_params_refresh: Refreshing AE parameters
[   33.596652] tiziano_ae_params_refresh: AE parameters refreshed
[   33.596658] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   33.596664] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   33.596669] tiziano_ae_para_addr: Setting up AE parameter addresses
[   33.596675] tiziano_ae_para_addr: AE parameter addresses configured
[   33.596681] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   33.596687] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   33.596695] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   33.596701] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   33.596708] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   33.596715] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   33.596722] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   33.596729] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b9d9814 (Binary Ninja EXACT) ***
[   33.596735] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   33.596742] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   33.596749] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   33.596755] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   33.596761] tiziano_ae_set_hardware_param: Parameters written to AE0
[   33.596767] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   33.596774] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   33.596781] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   33.596787] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   33.596794] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   33.596800] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   33.596807] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   33.596813] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   33.596820] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   33.596827] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   33.596833] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   33.596839] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   33.596845] tiziano_ae_set_hardware_param: Parameters written to AE1
[   33.596851] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   33.596859] *** system_irq_func_set: Registered handler c0687cc8 at index 10 ***
[   33.616429] *** system_irq_func_set: Registered handler c0687dbc at index 27 ***
[   33.634500] *** system_irq_func_set: Registered handler c0687cc8 at index 26 ***
[   33.651875] *** system_irq_func_set: Registered handler c0687ea4 at index 29 ***
[   33.669324] *** system_irq_func_set: Registered handler c0687e30 at index 28 ***
[   33.687127] *** system_irq_func_set: Registered handler c0687f18 at index 30 ***
[   33.697212] *** system_irq_func_set: Registered handler c0687f6c at index 20 ***
[   33.717415] *** system_irq_func_set: Registered handler c0687fc0 at index 18 ***
[   33.727491] *** system_irq_func_set: Registered handler c0688014 at index 31 ***
[   33.747693] *** system_irq_func_set: Registered handler c0688068 at index 11 ***
[   33.759450] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   33.759472] tiziano_deflicker_expt: Generated 119 LUT entries
[   33.759478] tisp_event_set_cb: Setting callback for event 1
[   33.759486] tisp_event_set_cb: Event 1 callback set to c06878c8
[   33.759491] tisp_event_set_cb: Setting callback for event 6
[   33.759498] tisp_event_set_cb: Event 6 callback set to c0686e28
[   33.759504] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   33.759509] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   33.759517] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   33.759525] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   33.759531] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   33.759537] tiziano_awb_init: AWB hardware blocks enabled
[   33.759542] tiziano_gamma_init: Initializing Gamma processing
[   33.759547] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   33.759607] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   33.759613] tiziano_gib_init: Initializing GIB processing
[   33.759618] tiziano_lsc_init: Initializing LSC processing
[   33.759623] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   33.759630] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   33.759637] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   33.759643] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   33.759649] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   33.759708] tiziano_ccm_init: Initializing Color Correction Matrix
[   33.759713] tiziano_ccm_init: Using linear CCM parameters
[   33.759719] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   33.759725] jz_isp_ccm: EV=64, CT=9984
[   33.759732] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   33.759737] cm_control: saturation=128
[   33.759743] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   33.759749] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   33.759755] tiziano_ccm_init: CCM initialized successfully
[   33.759759] tiziano_dmsc_init: Initializing DMSC processing
[   33.759765] tiziano_sharpen_init: Initializing Sharpening
[   33.759770] tiziano_sharpen_init: Using linear sharpening parameters
[   33.759775] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   33.759783] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   33.759789] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   33.759815] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   33.759822] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   33.759827] tiziano_sharpen_init: Sharpening initialized successfully
[   33.759833] tiziano_sdns_init: Initializing SDNS processing
[   33.759841] tiziano_sdns_init: Using linear SDNS parameters
[   33.759847] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   33.759853] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   33.759859] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   33.759892] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   33.759899] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   33.759904] tiziano_sdns_init: SDNS processing initialized successfully
[   33.759910] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   33.759915] tiziano_mdns_init: Using linear MDNS parameters
[   33.759925] tiziano_mdns_init: MDNS processing initialized successfully
[   33.759931] tiziano_clm_init: Initializing CLM processing
[   33.759936] tiziano_dpc_init: Initializing DPC processing
[   33.759941] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   33.759947] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   33.759954] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   33.759959] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   33.759974] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   33.759981] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   33.759986] tiziano_hldc_init: Initializing HLDC processing
[   33.759993] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   33.759999] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   33.760005] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   33.760013] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   33.760019] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   33.760027] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   33.760033] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   33.760040] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   33.760047] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   33.760054] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   33.760061] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   33.760067] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   33.760074] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   33.760080] tiziano_adr_params_refresh: Refreshing ADR parameters
[   33.760085] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   33.760091] tiziano_adr_params_init: Initializing ADR parameter arrays
[   33.760097] tisp_adr_set_params: Writing ADR parameters to registers
[   33.760130] tisp_adr_set_params: ADR parameters written to hardware
[   33.760136] tisp_event_set_cb: Setting callback for event 18
[   33.760142] tisp_event_set_cb: Event 18 callback set to c0687fc0
[   33.760148] tisp_event_set_cb: Setting callback for event 2
[   33.760154] tisp_event_set_cb: Event 2 callback set to c0686ac4
[   33.760159] tiziano_adr_init: ADR processing initialized successfully
[   33.760166] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   33.760171] tiziano_bcsh_init: Initializing BCSH processing
[   33.760176] tiziano_ydns_init: Initializing YDNS processing
[   33.760181] tiziano_rdns_init: Initializing RDNS processing
[   33.760187] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   33.760200] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x1178000 (Binary Ninja EXACT) ***
[   33.760207] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x1179000 (Binary Ninja EXACT) ***
[   33.760214] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x117a000 (Binary Ninja EXACT) ***
[   33.760221] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x117b000 (Binary Ninja EXACT) ***
[   33.760228] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x117c000 (Binary Ninja EXACT) ***
[   33.760235] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x117c800 (Binary Ninja EXACT) ***
[   33.760242] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x117d000 (Binary Ninja EXACT) ***
[   33.760249] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x117d800 (Binary Ninja EXACT) ***
[   33.760255] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   33.760261] *** tisp_init: AE0 buffer allocated at 0x01178000 ***
[   33.760268] *** CRITICAL FIX: data_b2f3c initialized to 0x81178000 (prevents stack corruption) ***
[   33.760277] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x540000 (Binary Ninja EXACT) ***
[   33.760284] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x541000 (Binary Ninja EXACT) ***
[   33.760291] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x542000 (Binary Ninja EXACT) ***
[   33.760297] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x543000 (Binary Ninja EXACT) ***
[   33.760304] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x544000 (Binary Ninja EXACT) ***
[   33.760311] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x544800 (Binary Ninja EXACT) ***
[   33.760318] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x545000 (Binary Ninja EXACT) ***
[   33.760325] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x545800 (Binary Ninja EXACT) ***
[   33.760331] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   33.760337] *** tisp_init: AE1 buffer allocated at 0x00540000 ***
[   33.760343] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   33.760349] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   33.760355] *** tisp_init: STREAMING ACTIVE - Skipping second ISP control register write ***
[   33.760361] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   33.760367] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   33.760374] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   33.760382] tiziano_ae_params_refresh: Refreshing AE parameters
[   33.760393] tiziano_ae_params_refresh: AE parameters refreshed
[   33.760398] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   33.760405] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   33.760410] tiziano_ae_para_addr: Setting up AE parameter addresses
[   33.760415] tiziano_ae_para_addr: AE parameter addresses configured
[   33.760421] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   33.760428] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   33.760435] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   33.760442] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   33.760449] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   33.760456] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   33.760463] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   33.760469] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b9d9814 (Binary Ninja EXACT) ***
[   33.760476] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   33.760483] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   33.760489] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   33.760497] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   33.760503] tiziano_ae_set_hardware_param: Parameters written to AE0
[   33.760509] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   33.760515] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   33.760522] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   33.760528] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   33.760535] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   33.760541] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   33.760548] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   33.760555] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   33.760561] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
---- FPGA board is ready ----
  Board UID : 30AB6E51
  Board HW ID : 72000460
  Board rev.  : 5DE5A975
  Board date  : 20190326
-----------------------------
[   33.760567] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   33.760574] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   33.760581] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   33.760587] tiziano_ae_set_hardware_param: Parameters written to AE1
[   33.760592] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   33.760599] *** system_irq_func_set: Registered handler c0687cc8 at index 10 ***
[   33.784768] *** system_irq_func_set: Registered handler c0687dbc at index 27 ***
[   33.802610] *** system_irq_func_set: Registered handler c0687cc8 at index 26 ***
[   33.819329] *** system_irq_func_set: Registered handler c0687ea4 at index 29 ***
[   33.837133] *** system_irq_func_set: Registered handler c0687e30 at index 28 ***
[   33.847210] *** system_irq_func_set: Registered handler c0687f18 at index 30 ***
[   33.863515] *** system_irq_func_set: Registered handler c0687f6c at index 20 ***
[   33.879321] *** system_irq_func_set: Registered handler c0687fc0 at index 18 ***
[   33.897131] *** system_irq_func_set: Registered handler c0688014 at index 31 ***
[   33.917349] *** system_irq_func_set: Registered handler c0688068 at index 11 ***
[   33.925013] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   33.925031] tiziano_deflicker_expt: Generated 119 LUT entries
[   33.925037] tisp_event_set_cb: Setting callback for event 1
[   33.925044] tisp_event_set_cb: Event 1 callback set to c06878c8
[   33.925049] tisp_event_set_cb: Setting callback for event 6
[   33.925056] tisp_event_set_cb: Event 6 callback set to c0686e28
[   33.925061] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   33.925067] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   33.925075] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   33.925082] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   33.925089] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   33.925094] tiziano_awb_init: AWB hardware blocks enabled
[   33.925099] tiziano_gamma_init: Initializing Gamma processing
[   33.925105] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   33.925164] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   33.925170] tiziano_gib_init: Initializing GIB processing
[   33.925175] tiziano_lsc_init: Initializing LSC processing
[   33.925180] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   33.925187] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   33.925194] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   33.925201] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   33.925206] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   33.925263] tiziano_ccm_init: Initializing Color Correction Matrix
[   33.925269] tiziano_ccm_init: Using linear CCM parameters
[   33.925275] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   33.925281] jz_isp_ccm: EV=64, CT=9984
[   33.925287] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   33.925293] cm_control: saturation=128
[   33.925298] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   33.925305] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   33.925310] tiziano_ccm_init: CCM initialized successfully
[   33.925315] tiziano_dmsc_init: Initializing DMSC processing
[   33.925321] tiziano_sharpen_init: Initializing Sharpening
[   33.925326] tiziano_sharpen_init: Using linear sharpening parameters
[   33.925331] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   33.925338] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   33.925344] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   33.925371] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   33.925377] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   33.925383] tiziano_sharpen_init: Sharpening initialized successfully
[   33.925388] tiziano_sdns_init: Initializing SDNS processing
[   33.925396] tiziano_sdns_init: Using linear SDNS parameters
[   33.925401] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   33.925408] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   33.925414] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   33.925447] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   33.925453] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   33.925459] tiziano_sdns_init: SDNS processing initialized successfully
[   33.925465] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   33.925470] tiziano_mdns_init: Using linear MDNS parameters
[   33.925480] tiziano_mdns_init: MDNS processing initialized successfully
[   33.925485] tiziano_clm_init: Initializing CLM processing
[   33.925491] tiziano_dpc_init: Initializing DPC processing
[   33.925496] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   33.925502] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   33.925509] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   33.925514] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   33.925529] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   33.925535] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   33.925541] tiziano_hldc_init: Initializing HLDC processing
[   33.925547] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   33.925553] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   33.925560] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   33.925567] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   33.925574] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   33.925581] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   33.925587] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   33.925594] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   33.925601] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   33.925608] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   33.925615] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   33.925621] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   33.925629] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   33.925634] tiziano_adr_params_refresh: Refreshing ADR parameters
[   33.925640] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   33.925645] tiziano_adr_params_init: Initializing ADR parameter arrays
[   33.925652] tisp_adr_set_params: Writing ADR parameters to registers
[   33.925684] tisp_adr_set_params: ADR parameters written to hardware
[   33.925690] tisp_event_set_cb: Setting callback for event 18
[   33.925696] tisp_event_set_cb: Event 18 callback set to c0687fc0
[   33.925702] tisp_event_set_cb: Setting callback for event 2
[   33.925708] tisp_event_set_cb: Event 2 callback set to c0686ac4
[   33.925713] tiziano_adr_init: ADR processing initialized successfully
[   33.925719] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   33.925725] tiziano_bcsh_init: Initializing BCSH processing
[   33.925730] tiziano_ydns_init: Initializing YDNS processing
[   33.925735] tiziano_rdns_init: Initializing RDNS processing
[   33.925740] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   33.925745] tisp_event_init: Initializing ISP event system
[   33.925753] tisp_event_init: SAFE event system initialized with 20 nodes
[   33.925759] tisp_event_set_cb: Setting callback for event 4
[   33.925765] tisp_event_set_cb: Event 4 callback set to c0686af0
[   33.925770] tisp_event_set_cb: Setting callback for event 5
[   33.925777] tisp_event_set_cb: Event 5 callback set to c0686fb8
[   33.925782] tisp_event_set_cb: Setting callback for event 7
[   33.925789] tisp_event_set_cb: Event 7 callback set to c0686b84
[   33.925794] tisp_event_set_cb: Setting callback for event 9
[   33.925800] tisp_event_set_cb: Event 9 callback set to c0686c0c
[   33.925806] tisp_event_set_cb: Setting callback for event 8
[   33.925812] tisp_event_set_cb: Event 8 callback set to c0686cd0
[   33.925818] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   33.925824] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   33.925829] tisp_param_operate_init: Initializing parameter operations
[   33.925837] tisp_netlink_init: Initializing netlink communication
[   33.925842] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   33.925873] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   33.925887] tisp_netlink_init: Custom protocol failed, trying with nlcfg structure
[   33.925899] tisp_netlink_init: Failed to create netlink socket - continuing without netlink support
[   33.925905] tisp_netlink_init: ISP tuning parameters may not be available, but VIC interrupts should still work
[   33.925911] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   33.925916] tisp_code_create_tuning_node: Device already created, skipping
[   33.925922] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   33.925928] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   33.925935] *** ispcore_core_ops_init_with_sensor: tisp_init SUCCESS - MIPI CSI should now be configured ***
[   33.925941] *** ispcore_core_ops_init_with_sensor: VIC already in state 4 (>= 3) ****** ispcore_core_ops_init_with_sensor: Calling tx_isp_subdev_pipo to program VIC and start MDMA/IRQs ***
[   33.925951] *** tx_isp_subdev_pipo: EXACT Binary Ninja MCP implementation ***
[   33.925957] tx_isp_subdev_pipo: entry - sd=8473a000, arg=846e0000
[   33.925964] tx_isp_subdev_pipo: vic_dev retrieved from host_priv: 8473a000
[   33.925969] tx_isp_subdev_pipo: set processing = 1 (Binary Ninja offset 0x20c)
[   33.925975] tx_isp_subdev_pipo: arg is not NULL - initializing pipe structures (Binary Ninja MCP)
[   33.925981] tx_isp_subdev_pipo: initialized linked list heads (Binary Ninja MCP)
[   33.925986] tx_isp_subdev_pipo: initialized spinlock (Binary Ninja MCP)
[   33.925992] *** CRITICAL: Set ispvic_frame_channel_s_stream at raw_pipe[3] (offset 0xc) ***
[   33.925997] *** tx_isp_subdev_pipo: GOOD-THINGS approach - deferring buffer allocation ***
[   33.926003] *** Buffers will be allocated on-demand during QBUF operations ***
[   33.926009] tx_isp_subdev_pipo: initialized buffer index 0 (allocation deferred)
[   33.926015] tx_isp_subdev_pipo: cleared VIC register at offset 0x318 for buffer 0
[   33.926021] tx_isp_subdev_pipo: initialized buffer index 1 (allocation deferred)
[   33.926028] tx_isp_subdev_pipo: cleared VIC register at offset 0x31c for buffer 1
[   33.926034] tx_isp_subdev_pipo: initialized buffer index 2 (allocation deferred)
[   33.926041] tx_isp_subdev_pipo: cleared VIC register at offset 0x320 for buffer 2
[   33.926047] tx_isp_subdev_pipo: initialized buffer index 3 (allocation deferred)
[   33.926053] tx_isp_subdev_pipo: cleared VIC register at offset 0x324 for buffer 3
[   33.926059] tx_isp_subdev_pipo: initialized buffer index 4 (allocation deferred)
[   33.926065] tx_isp_subdev_pipo: cleared VIC register at offset 0x328 for buffer 4
[   33.926071] *** tx_isp_subdev_pipo: Using GOOD-THINGS deferred buffer allocation strategy ***
[   33.926077] tx_isp_subdev_pipo: initialized 5 buffer structures (safe implementation)
[   33.926083] tx_isp_subdev_pipo: set processing = 1 (pipe enabled, safe struct access)
[   33.926089] *** tx_isp_subdev_pipo: RESETTING stream_state to 0 before calling ispvic_frame_channel_s_stream ***
[   33.926095] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_qbuf to write buffer addresses ***
[   33.926101] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   33.926108] ispvic_frame_channel_qbuf: arg1=8473a000, arg2=  (null)
[   33.926114] *** tx_isp_subdev_pipo: ispvic_frame_channel_qbuf SUCCESS - buffer addresses written to VIC hardware ***
[   33.926120] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_s_stream to start VIC streaming ***
[   33.926126] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   33.926133] ispvic_frame_channel_s_stream: arg1=8473a000, arg2=1
[   33.926139] ispvic_frame_channel_s_stream: s0 (vic_dev) = 8473a000
[   33.926145] ispvic_frame_channel_s_stream[2471]: streamon
[   33.926152] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   33.926158] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   33.926164] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   33.926169] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   33.926175] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   33.926182] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   33.926188] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   33.926195] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   33.926201] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   33.926207] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   33.926213] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   33.926219] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   33.926225] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   33.926233] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   33.926240] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   33.926248] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   33.926255] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   33.926263] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   33.926269] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   33.926275] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   33.926281] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   33.926287] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   33.926293] *** tx_isp_subdev_pipo: ispvic_frame_channel_s_stream SUCCESS - VIC streaming started! ***
[   33.926299] *** tx_isp_subdev_pipo: CALLING vic_core_s_stream to enable VIC interrupts ***
[   33.926307] *** vic_core_s_stream: BINARY NINJA EXACT - sd=8473a000, enable=1 ***
[   33.926313] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=4 ***
[   33.926318] *** vic_core_s_stream: STREAM ON ***
[   33.926323] *** vic_core_s_stream: EXACT Binary Ninja - State=4, no action needed ***
[   33.926329] *** tx_isp_subdev_pipo: vic_core_s_stream SUCCESS - VIC interrupts should now be ENABLED! ***
[   33.926335] tx_isp_subdev_pipo: completed successfully, returning 0
[   33.926341] *** ispcore_core_ops_init_with_sensor: SUCCESS - Core initialized and VIC streaming/IRQs armed ***
[   33.926346] ispcore_slake_module: Initializing channelsispcore_slake_module: Channel 0 enabled
[   33.926354] ispcore_slake_module: Channel 1 enabledispcore_slake_module: Channel 2 enabled
[   33.926361] ispcore_slake_module: Channel 3 enabledispcore_slake_module: Channel 4 enabled
[   33.926369] ispcore_slake_module: Channel 5 enabledispcore_slake_module: Calling VIC control function (0x4000001, 0)
[   33.926377] ispcore_slake_module: VIC control register written: 0x4000001ispcore_slake_module: Set VIC state to INIT (1)
[   33.926384] ispcore_slake_module: Processing subdevices*** DEBUG: isp_dev=846e0000, isp_dev->subdevs=846e3274 ***
[   33.926397] *** ispcore_slake_module: Calling slake_module for CSI subdev ***
[   33.926404] *** tx_isp_csi_slake_subdev: CSI slake/shutdown - current state=4 ***
[   33.926409] tx_isp_csi_slake_subdev: CSI in streaming state, stopping stream
[   33.926415] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   33.926421] csi_video_s_stream: sd=85215800, enable=0
[   33.926428] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 3 (enable=0)
[   33.926433] tx_isp_csi_slake_subdev: CSI in state 3, calling core_ops_init(disable)
[   33.926441] csi_core_ops_init: sd=85215800, csi_dev=85215800, enable=0
[   33.926448] tx_isp_csi_slake_subdev: CSI state 2->1, disabling clocks
[   33.926455] tx_isp_csi_slake_subdev: Disabled clock 0
[   33.926461] *** tx_isp_csi_slake_subdev: CSI slake complete, final state=1 ***
[   33.926466] ispcore_slake_module: CSI slake success
[   33.926470] *** ispcore_slake_module: Calling slake_module for VIC subdev ***
[   33.926476] *** tx_isp_vic_slake_subdev: ENTRY - sd=8473a000 ***
[   33.926483] *** tx_isp_vic_slake_subdev: VIC slake/shutdown - vic_dev=8473a000, current state=1 ***
[   33.926490] *** tx_isp_vic_slake_subdev: VIC slake complete, final state=1 ***
[   33.926495] ispcore_slake_module: VIC slake success
[   33.926500] *** ispcore_slake_module: All subdev slake operations completed using helper functions ***
[   33.926505] ispcore_slake_module: Managing ISP clocks
[   33.926510] ispcore_slake_module: Disabled IPU clockispcore_slake_module: Disabled ISP clock
[   33.926517] ispcore_slake_module: Complete, result=0<6>[   33.926524] *** ispcore_slake_module SUCCESS - ISP core should now be initialized ***
[   33.926529] *** vic_core_s_stream: VIC initialized, final state=1 ***
[   33.926536] *** tx_isp_video_s_stream: subdev[1] s_stream SUCCESS ***
[   33.926543] *** tx_isp_video_s_stream: Calling subdev[3]->ops->video->s_stream(1) ***
[   33.926550] gc2053: s_stream called with enable=1
[   33.926557] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   33.926563] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   33.926569] gc2053: About to write streaming registers for interface 1
[   33.926575] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   33.926585] sensor_write: reg=0xfe val=0x00, client=85562d00, adapter=i2c0, addr=0x37
[   33.926909] sensor_write: reg=0xfe val=0x00 SUCCESS
[   33.926917] sensor_write_array: reg[1] 0xfe=0x00 OK
[   33.926925] sensor_write: reg=0x3e val=0x91, client=85562d00, adapter=i2c0, addr=0x37
[   33.937564] sensor_write: reg=0x3e val=0x91 SUCCESS
[   33.937576] sensor_write_array: reg[2] 0x3e=0x91 OK
[   33.937583] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   33.937591] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   33.937597] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   33.937603] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   33.937609] *** tx_isp_video_s_stream: subdev[3] s_stream SUCCESS ***
[   33.937616] *** tx_isp_video_s_stream: Calling subdev[5]->ops->video->s_stream(1) ***
[   33.937623] gc2053: s_stream called with enable=1
[   33.937629] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   33.937635] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   33.937642] gc2053: About to write streaming registers for interface 1
[   33.937648] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   33.937657] sensor_write: reg=0xfe val=0x00, client=85562d00, adapter=i2c0, addr=0x37
[   33.937975] sensor_write: reg=0xfe val=0x00 SUCCESS
[   33.937982] sensor_write_array: reg[1] 0xfe=0x00 OK
[   33.937991] sensor_write: reg=0x3e val=0x91, client=85562d00, adapter=i2c0, addr=0x37
[   33.938309] sensor_write: reg=0x3e val=0x91 SUCCESS
[   33.938316] sensor_write_array: reg[2] 0x3e=0x91 OK
[   33.938322] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   33.938329] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   33.938334] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   33.938340] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   33.938346] *** tx_isp_video_s_stream: subdev[5] s_stream SUCCESS ***
[   33.938353] *** tx_isp_video_s_stream: Post-sensor s_stream re-trigger of CSI core->init ***
[   33.949336] csi_core_ops_init: sd=85215800, csi_dev=85215800, enable=1
[   33.949348] *** VIC POST-SENSOR REASSERT: re-applying routing/mask after sensor stream-on ***
[   33.977653] *** VIC POST-SENSOR REASSERT: No status bits asserted in 20ms window ***
[   33.977697] ISP IOCTL: cmd=0x800456d0 arg=0x7ff98290
[   33.977705] TX_ISP_VIDEO_LINK_SETUP: config=0
[   33.977711] TX_ISP_VIDEO_LINK_SETUP: Link config unchanged (0)
[   33.977718] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   33.977725] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   33.977731] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   33.977738] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   33.977745] VIC activated: state 1 -> 2 (READY)
[   33.977752] *** VIC ACTIVATION: Buffers will be allocated on-demand during QBUF operations ***
[   33.977757] *** VIC ACTIVATION: Free buffer list initialized (empty) - allocation deferred ***
[   33.977763] *** VIC ACTIVATION: Using GOOD-THINGS deferred buffer allocation strategy ***
[   33.977769] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   33.977776] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   33.977782] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   33.977789] csi_video_s_stream: sd=85215800, enable=1
[   33.977796] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   33.977804] *** vic_core_s_stream: BINARY NINJA EXACT - sd=8473a000, enable=1 ***
[   33.977810] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   33.977815] *** vic_core_s_stream: STREAM ON ***
[   33.977821] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   33.977827] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   33.977833] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   33.977842] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   33.977849] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   33.977855] *** tx_isp_vic_start: Using single VIC register base - EXACT Binary Ninja reference ***
[   33.977861] *** STREAMING: Configuring CPM registers for VIC access ***
[   33.999345] STREAMING: CPM clocks configured for VIC access
[   33.999361] *** tx_isp_vic_start: CRITICAL DEBUG - interface_type=1, checking if == 1 ***
[   33.999367] *** tx_isp_vic_start: MIPI interface detected - configuring VIC for MIPI ***
[   33.999374] *** tx_isp_vic_start: vic_dev->width=1920, vic_dev->height=1080 ***
[   33.999380] *** tx_isp_vic_start: sensor_mode != interface_type, writing 0xa000a to 0x1a4 ***
[   33.999386] *** tx_isp_vic_start: Writing VIC configuration registers - EXACT Binary Ninja sequence ***
[   33.999392] *** tx_isp_vic_start: Adding CRITICAL missing VIC configuration registers ***
[   33.999401] *** tx_isp_vic_start: CRITICAL VIC configuration registers written - hardware protection should be prevented ***
[   33.999407] *** tx_isp_vic_start: Frame size 0x07800438 written to register 0x4 ***
[   33.999415] *** tx_isp_vic_start: VIC unlock sequence using SECONDARY VIC space (0x10023000) ***
[   33.999421] *** tx_isp_vic_start: VIC unlock sequence - FIXED register space issue ***
[   33.999426] *** VIC unlock: Commands written, checking VIC status register ***
[   33.999433] *** VIC unlock: Completed with final status=0x0 after 0 iterations ***
[   33.999439] *** tx_isp_vic_start: VIC unlock completed using SECONDARY VIC space ***
[   33.999445] *** tx_isp_vic_start: VIC enabled using SECONDARY VIC space ***
[   33.999450] *** tx_isp_vic_start: CRITICAL FIX - Writing VIC Control register sequence ***
[   33.999456] *** tx_isp_vic_start: VIC processing enabled (0x0=0x1, 0x4=0x1) ***
[   33.999461] *** tx_isp_vic_start: Configuring VIC hardware prerequisites for interrupt registers ***
[   33.999538] read_sensor_dimensions: Successfully read 1920x1080 from /proc/jz/sensor/
[   33.999545] *** VIC DIMENSIONS: Using /proc/jz/sensor/ dimensions 1920x1080 (RELIABLE) ***
[   33.999552] *** VIC REGISTER PROTECTION: SKIPPING interrupt-disrupting registers 0xc, 0x10, 0x14 - VIC interrupts already working ***
[   33.999560] *** VIC HARDWARE PREREQUISITES: Dimensions 1920x1080, stride 3840, MIPI mode 2 ***
[   33.999566] *** VIC INTERRUPT CONFIG: VIC unlock sequence will be completed first, then interrupt config ***
[   33.999573] *** VIC INTERRUPT STATUS CHECK (BEFORE UNLOCK): STATUS=0x00000000, MASK_STATUS=0x00000000 ***
[   33.999579] *** VIC INTERRUPT CONFIG: Using WORKING BRANCH registers (NOT Binary Ninja) ***
[   33.999585] *** VIC INTERRUPT CONFIG: Configuring interrupt masks (WORKING BRANCH) ***
[   33.999591] *** VIC INTERRUPT CONFIG: Configuring ISP control interrupts (WORKING BRANCH) ***
[   33.999597] *** VIC INTERRUPT CONFIG: Applying VIC interrupt system configuration (WORKING BRANCH) ***
[   33.999603] *** VIC PRIMARY: leaving 0x14=stride as-is (readback=0x00000001) ***
[   33.999609] *** VIC INTERRUPT CONFIG: WORKING BRANCH interrupt configuration complete ***
[   33.999615] *** VIC INTERRUPT CONFIG: Mirroring WORKING BRANCH registers to control bank ***
[   33.999621] *** VIC CONTROL VERIFY: 0x0c(IMCR)=0x00000001 (expect 0xb5742249) ***
[   33.999627] *** VIC INTERRUPT CONFIG: Control bank configuration complete ***
[   33.999633] *** ISP CORE INTERRUPT CONFIG: Enabling ISP core interrupt generation (MISSING FROM CURRENT BRANCH) ***
[   33.999639] *** ISP CORE CONFIG: Writing ISP core interrupt registers at VIC start ***
[   33.999645] *** ISP CORE CONFIG: ISP core interrupt registers written (0x30=0xffffffff, 0x10=0x133) ***
[   33.999651] *** ISP CORE: Hardware interrupt generation ENABLED (0x30=0xffffffff, 0x10=0x133) ***
[   33.999657] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   33.999664] *** ISP CORE VERIFY: 0x30=0x8fffffff, 0x10=0x00000133 ***
[   33.999670] *** VIC INTERRUPT CONFIG: Starting verification of WORKING BRANCH interrupt registers ***
[   33.999679] *** VIC INTERRUPT CONTROL VERIFY (WORKING BRANCH REGS): 0x04=0x07800438, 0x0c=0x00000001, 0x100=0x000002d0, 0x14=0x00000001 ***
[   33.999686] *** VIC INTERRUPT: Some WORKING BRANCH interrupt register configuration failed ***
[   33.999692] *** VIC INTERRUPT: Expected: 0x04=0x07800438, 0x0c=0xb5742249, 0x100=0x2d0, 0x14=0x2b ***
[   33.999699] *** VIC INTERRUPT: imr_ok=1, imcr_ok=0, config_ok=1, control_ok=0 ***
[   33.999705] *** tx_isp_vic_start: vic_start_ok set to 1 - EXACT Binary Ninja reference ***
[   33.999711] *** tx_isp_vic_start: VIC Control register sequence complete - streaming should start ***
[   33.999717] *** tx_isp_vic_start: VIC should now generate frame done interrupts! ***
[   33.999722] *** tx_isp_vic_start: VIC interrupt will be enabled by tx_vic_enable_irq callback ***
[   33.999729] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   33.999735] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   33.999743] ispvic_frame_channel_qbuf: arg1=8473a000, arg2=  (null)
[   33.999749] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   33.999755] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   33.999761] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   33.999767] ispvic_frame_channel_s_stream: arg1=8473a000, arg2=1
[   33.999773] ispvic_frame_channel_s_stream: s0 (vic_dev) = 8473a000
[   33.999781] ispvic_frame_channel_s_stream[2471]: streamon
[   33.999787] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   33.999793] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   33.999799] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   33.999805] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   33.999810] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   33.999817] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   33.999823] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   33.999830] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   33.999836] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   33.999842] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   33.999847] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   33.999853] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   33.999860] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   33.999867] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   33.999875] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   33.999883] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   33.999890] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   33.999897] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   33.999903] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   33.999909] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   33.999915] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   33.999922] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   33.999929] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then GATE REASSERT [9ac0/9ac8] ***
[   33.999934] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   33.999939] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   33.999946] ispvic_frame_channel_qbuf: arg1=8473a000, arg2=  (null)
[   33.999951] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   33.999965] *** VIC VERIFY (PRIMARY): [0x0]=0x00000000 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (UNMASK-ALL)***
[   33.999973] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x00000001 (PRIMARY 0x14=stride) ***
[   34.000037] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000000 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 ***
[   34.000049] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   34.000055] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   34.000064] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   34.000070] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   34.000075] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   34.000082] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a ***
[   34.000089] *** VIC UNMASK-ALL TEST: [0x1e8]=0x00000000 [0x1ec]=0x00000000 (expect 0) ***
[   34.001097] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   34.001103] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   34.001108] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   34.001216] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   34.001324] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   34.001331] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   34.001337] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   34.001342] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   34.001348] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   34.001353] tx_vic_enable_irq: Calling VIC interrupt callback
[   34.001359] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   34.001367] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   34.001373] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   34.001381] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   34.001388] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   34.001396] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   34.001402] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   34.001409] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   34.001414] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   34.001419] *** tx_vic_enable_irq: completed successfully ***
[   34.405796] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   34.405810] *** vic_core_s_stream: VIC state 2 - letting tx_isp_video_s_stream handle state 2 → 3 transition ***
[   34.405817] *** vic_core_s_stream: VIC initialized, final state=2 ***
[   34.405828] gc2053: s_stream called with enable=1
[   34.405835] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   34.405841] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   34.405847] gc2053: About to write streaming registers for interface 1
[   34.405853] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   34.405864] sensor_write: reg=0xfe val=0x00, client=85562d00, adapter=i2c0, addr=0x37
[   34.406184] sensor_write: reg=0xfe val=0x00 SUCCESS
[   34.406191] sensor_write_array: reg[1] 0xfe=0x00 OK
[   34.406200] sensor_write: reg=0x3e val=0x91, client=85562d00, adapter=i2c0, addr=0x37
[   34.412216] sensor_write: reg=0x3e val=0x91 SUCCESS
[   34.412230] sensor_write_array: reg[2] 0x3e=0x91 OK
[   34.412236] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   34.412244] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   34.412250] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   34.412256] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   34.412264] gc2053: s_stream called with enable=1
[   34.412270] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   34.412276] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   34.412282] gc2053: About to write streaming registers for interface 1
[   34.412288] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   34.412298] sensor_write: reg=0xfe val=0x00, client=85562d00, adapter=i2c0, addr=0x37
[   34.412616] sensor_write: reg=0xfe val=0x00 SUCCESS
[   34.412624] sensor_write_array: reg[1] 0xfe=0x00 OK
[   34.412632] sensor_write: reg=0x3e val=0x91, client=85562d00, adapter=i2c0, addr=0x37
[   34.412950] sensor_write: reg=0x3e val=0x91 SUCCESS
[   34.412958] sensor_write_array: reg[2] 0x3e=0x91 OK
[   34.412964] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   34.412970] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   34.412976] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   34.412982] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
root@ing-wyze-cam3-a000 ~# [INFO:WS.cpp]: Server started on port 8089
set jpeg streamMngCtx suceess
dm[INFO:RTSP.cpp]: stream 0 available at: rtsp://192.168.50.211/ch0
[INFO:RTSP.cpp]: stream 1 available at: rtsp://192.168.50.211/ch1
root@ing-wyze-cam3-a000 ~# dmesg 
[   34.619072] isp_core_tunning_unlocked_ioctl: Auto-initializing tuning for V4L2 control (one-time)
[   34.619080] isp_core_tunning_unlocked_ioctl: Initializing tuning data structure
[   34.619086] isp_core_tuning_init: Initializing tuning data structure
[   34.619106] isp_core_tuning_init: Tuning data structure initialized at 811d0000
[   34.619112] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   34.619118] *** SAFE: mode_flag properly initialized using struct member access ***
[   34.619124] isp_core_tunning_unlocked_ioctl: Tuning data allocated at 811d0000
[   34.619130] *** BINARY NINJA REFERENCE: Skipping auto-initialization - no hardware reset during tuning setup ***
[   34.619136] isp_core_tunning_unlocked_ioctl: ISP tuning auto-enabled for V4L2 controls (permanent)
[   34.619142] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   34.619150] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   34.619156] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   34.619161] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   34.619166] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   34.619190] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   34.619198] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980900
[   34.619204] CRITICAL: Cannot access brightness field - PREVENTS BadVA CRASH
[   34.619212] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   34.619218] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980902
[   34.619225] CRITICAL: Cannot access saturation field at 811d0024 - PREVENTING BadVA CRASH
[   34.620110] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   34.620122] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   34.620130] Set control: cmd=0x980901 value=128
[   34.620199] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   34.620207] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   34.620214] Set control: cmd=0x98091b value=128
[   34.620274] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   34.620282] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   34.620289] Set control: cmd=0x980902 value=128
[   34.620295] tisp_bcsh_saturation: saturation=128
[   34.620300] tiziano_bcsh_update: Updating BCSH parameters
[   34.620308]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   34.620313] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   34.621208] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   34.621220] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   34.621227] Set control: cmd=0x980900 value=128
[   34.621418] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   34.621429] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   34.621436] Set control: cmd=0x980901 value=128
[   34.621567] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   34.621576] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   34.621583] Set control: cmd=0x98091b value=128
[   34.621708] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   34.621718] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   34.621724] Set control: cmd=0x980902 value=128
[   34.621730] tisp_bcsh_saturation: saturation=128
[   34.621736] tiziano_bcsh_update: Updating BCSH parameters
[   34.621743]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   34.621748] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   34.621873] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   34.621882] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   34.621889] Set control: cmd=0x980900 value=128
[   34.622022] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   34.622032] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   34.622038] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   34.622178] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   34.622187] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   34.622193] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   34.622508] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   34.622519] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980914 value=0
[   34.622526] Set control: cmd=0x980914 value=0
[   34.622717] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   34.622728] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980915 value=0
[   34.622734] Set control: cmd=0x980915 value=0
[   34.622864] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   34.622874] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   34.622880] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   34.623026] ISP IOCTL: cmd=0x800456d3 arg=0x0
[   34.623037] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=0 ***
[   34.623044] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   34.623051] csi_video_s_stream: sd=85215800, enable=0
[   34.623058] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 3 (enable=0)
[   34.623066] *** vic_core_s_stream: BINARY NINJA EXACT - sd=8473a000, enable=0 ***
[   34.623072] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   34.623077] *** vic_core_s_stream: STREAM OFF ***
[   34.623086] gc2053: s_stream called with enable=0
[   34.623092] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   34.623099] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   34.623105] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   34.623114] sensor_write: reg=0xfe val=0x00, client=85562d00, adapter=i2c0, addr=0x37
[   34.623438] sensor_write: reg=0xfe val=0x00 SUCCESS
[   34.623446] sensor_write_array: reg[1] 0xfe=0x00 OK
[   34.623454] sensor_write: reg=0x3e val=0x00, client=85562d00, adapter=i2c0, addr=0x37
[   34.628027] sensor_write: reg=0x3e val=0x00 SUCCESS
[   34.628040] sensor_write_array: reg[2] 0x3e=0x00 OK
[   34.628047] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   34.628054] gc2053: Sensor hardware streaming stopped
[   34.628062] gc2053: s_stream called with enable=0
[   34.628068] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   34.628074] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   34.628080] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   34.628090] sensor_write: reg=0xfe val=0x00, client=85562d00, adapter=i2c0, addr=0x37
[   34.628500] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   34.628508] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   34.628515] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   34.628520] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   34.628526] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   34.628648] sensor_write: reg=0xfe val=0x00 SUCCESS
[   34.628659] sensor_write_array: reg[1] 0xfe=0x00 OK
[   34.628669] sensor_write: reg=0x3e val=0x00, client=85562d00, adapter=i2c0, addr=0x37
[   34.628988] sensor_write: reg=0x3e val=0x00 SUCCESS
[   34.628995] sensor_write_array: reg[2] 0x3e=0x00 OK
[   34.629002] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   34.629008] gc2053: Sensor hardware streaming stopped
[   34.629020] ISP IOCTL: cmd=0x800456d1 arg=0x7ff98290
[   34.629028] tx_isp_video_link_destroy: Destroying links for config 0
[   34.629035] tx_isp_video_link_destroy: All links destroyed, config reset to -1
[   34.629043] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   34.629050] isp_core_tunning_unlocked_ioctl: Set control cmd=0x8000164 value=1
[   34.629057] Set control: cmd=0x8000164 value=1
[   34.629065] ISP IOCTL: cmd=0x800456d0 arg=0x7ff98290
[   34.629071] TX_ISP_VIDEO_LINK_SETUP: config=0
[   34.629077] TX_ISP_VIDEO_LINK_SETUP: Link config changed from -1 to 0
[   34.629082] TX_ISP_VIDEO_LINK_SETUP: Link config updated to 0
[   34.629089] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   34.629096] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   34.629101] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   34.629108] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   34.629115] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   34.629121] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   34.629127] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   34.629134] csi_video_s_stream: sd=85215800, enable=1
[   34.629140] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   34.629148] *** vic_core_s_stream: BINARY NINJA EXACT - sd=8473a000, enable=1 ***
[   34.629154] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   34.629159] *** vic_core_s_stream: STREAM ON ***
[   34.629164] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   34.629170] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   34.629176] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   34.629185] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   34.629191] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   34.629198] *** tx_isp_vic_start: Using single VIC register base - EXACT Binary Ninja reference ***
[   34.629204] *** STREAMING: Configuring CPM registers for VIC access ***
[   34.649346] STREAMING: CPM clocks configured for VIC access
[   34.649360] *** tx_isp_vic_start: CRITICAL DEBUG - interface_type=1, checking if == 1 ***
[   34.649366] *** tx_isp_vic_start: MIPI interface detected - configuring VIC for MIPI ***
[   34.649373] *** tx_isp_vic_start: vic_dev->width=1920, vic_dev->height=1080 ***
[   34.649379] *** tx_isp_vic_start: sensor_mode != interface_type, writing 0xa000a to 0x1a4 ***
[   34.649385] *** tx_isp_vic_start: Writing VIC configuration registers - EXACT Binary Ninja sequence ***
[   34.649390] *** tx_isp_vic_start: Adding CRITICAL missing VIC configuration registers ***
[   34.649399] *** tx_isp_vic_start: CRITICAL VIC configuration registers written - hardware protection should be prevented ***
[   34.649406] *** tx_isp_vic_start: Frame size 0x07800438 written to register 0x4 ***
[   34.649413] *** tx_isp_vic_start: VIC unlock sequence using SECONDARY VIC space (0x10023000) ***
[   34.649418] *** tx_isp_vic_start: VIC unlock sequence - FIXED register space issue ***
[   34.649424] *** VIC unlock: Commands written, checking VIC status register ***
[   34.649431] *** VIC unlock: Completed with final status=0x0 after 0 iterations ***
[   34.649436] *** tx_isp_vic_start: VIC unlock completed using SECONDARY VIC space ***
[   34.649442] *** tx_isp_vic_start: VIC enabled using SECONDARY VIC space ***
[   34.649448] *** tx_isp_vic_start: CRITICAL FIX - Writing VIC Control register sequence ***
[   34.649454] *** tx_isp_vic_start: VIC processing enabled (0x0=0x1, 0x4=0x1) ***
[   34.649459] *** tx_isp_vic_start: Configuring VIC hardware prerequisites for interrupt registers ***
[   34.649534] read_sensor_dimensions: Successfully read 1920x1080 from /proc/jz/sensor/
[   34.649542] *** VIC DIMENSIONS: Using /proc/jz/sensor/ dimensions 1920x1080 (RELIABLE) ***
[   34.649549] *** VIC REGISTER PROTECTION: SKIPPING interrupt-disrupting registers 0xc, 0x10, 0x14 - VIC interrupts already working ***
[   34.649557] *** VIC HARDWARE PREREQUISITES: Dimensions 1920x1080, stride 3840, MIPI mode 2 ***
[   34.649562] *** VIC INTERRUPT CONFIG: VIC unlock sequence will be completed first, then interrupt config ***
[   34.649570] *** VIC INTERRUPT STATUS CHECK (BEFORE UNLOCK): STATUS=0x00000000, MASK_STATUS=0x00000000 ***
[   34.649576] *** VIC INTERRUPT CONFIG: Using WORKING BRANCH registers (NOT Binary Ninja) ***
[   34.649582] *** VIC INTERRUPT CONFIG: Configuring interrupt masks (WORKING BRANCH) ***
[   34.649588] *** VIC INTERRUPT CONFIG: Configuring ISP control interrupts (WORKING BRANCH) ***
[   34.649594] *** VIC INTERRUPT CONFIG: Applying VIC interrupt system configuration (WORKING BRANCH) ***
[   34.649600] *** VIC PRIMARY: leaving 0x14=stride as-is (readback=0x00000001) ***
[   34.649606] *** VIC INTERRUPT CONFIG: WORKING BRANCH interrupt configuration complete ***
[   34.649611] *** VIC INTERRUPT CONFIG: Mirroring WORKING BRANCH registers to control bank ***
[   34.649618] *** VIC CONTROL VERIFY: 0x0c(IMCR)=0x00000001 (expect 0xb5742249) ***
[   34.649624] *** VIC INTERRUPT CONFIG: Control bank configuration complete ***
[   34.649629] *** ISP CORE INTERRUPT CONFIG: Enabling ISP core interrupt generation (MISSING FROM CURRENT BRANCH) ***
[   34.649636] *** ISP CORE CONFIG: Writing ISP core interrupt registers at VIC start ***
[   34.649641] *** ISP CORE CONFIG: ISP core interrupt registers written (0x30=0xffffffff, 0x10=0x133) ***
[   34.649647] *** ISP CORE: Hardware interrupt generation ENABLED (0x30=0xffffffff, 0x10=0x133) ***
[   34.649653] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   34.649660] *** ISP CORE VERIFY: 0x30=0x8fffffff, 0x10=0x00000133 ***
[   34.649666] *** VIC INTERRUPT CONFIG: Starting verification of WORKING BRANCH interrupt registers ***
[   34.649676] *** VIC INTERRUPT CONTROL VERIFY (WORKING BRANCH REGS): 0x04=0x07800438, 0x0c=0x00000001, 0x100=0x000002d0, 0x14=0x00000001 ***
[   34.649682] *** VIC INTERRUPT: Some WORKING BRANCH interrupt register configuration failed ***
[   34.649688] *** VIC INTERRUPT: Expected: 0x04=0x07800438, 0x0c=0xb5742249, 0x100=0x2d0, 0x14=0x2b ***
[   34.649695] *** VIC INTERRUPT: imr_ok=1, imcr_ok=0, config_ok=1, control_ok=0 ***
[   34.649700] *** tx_isp_vic_start: vic_start_ok set to 1 - EXACT Binary Ninja reference ***
[   34.649706] *** tx_isp_vic_start: VIC Control register sequence complete - streaming should start ***
[   34.649712] *** tx_isp_vic_start: VIC should now generate frame done interrupts! ***
[   34.649718] *** tx_isp_vic_start: VIC interrupt will be enabled by tx_vic_enable_irq callback ***
[   34.649724] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   34.649730] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   34.649738] ispvic_frame_channel_qbuf: arg1=8473a000, arg2=  (null)
[   34.649744] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   34.649750] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   34.649756] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   34.649763] ispvic_frame_channel_s_stream: arg1=8473a000, arg2=1
[   34.649769] ispvic_frame_channel_s_stream: s0 (vic_dev) = 8473a000
[   34.649776] ispvic_frame_channel_s_stream[2471]: streamon
[   34.649782] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   34.649788] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   34.649794] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   34.649799] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   34.649804] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   34.649812] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   34.649817] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   34.649824] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   34.649830] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   34.649836] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   34.649841] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   34.649847] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   34.649854] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   34.649861] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   34.649869] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   34.649876] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   34.649884] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   34.649892] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   34.649898] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   34.649904] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   34.649909] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   34.649916] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   34.649922] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then GATE REASSERT [9ac0/9ac8] ***
[   34.649928] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   34.649934] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   34.649940] ispvic_frame_channel_qbuf: arg1=8473a000, arg2=  (null)
[   34.649946] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   34.649958] *** VIC VERIFY (PRIMARY): [0x0]=0x00000000 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (UNMASK-ALL)***
[   34.649966] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x00000001 (PRIMARY 0x14=stride) ***
[   34.650030] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000000 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 ***
[   34.650042] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   34.650049] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   34.650058] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   34.650064] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   34.650069] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   34.650076] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a ***
[   34.650083] *** VIC UNMASK-ALL TEST: [0x1e8]=0x00000000 [0x1ec]=0x00000000 (expect 0) ***
[   34.651091] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   34.651096] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   34.651102] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   34.651210] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   34.651318] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   34.651325] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   34.651330] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   34.651336] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   34.651342] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   34.651346] tx_vic_enable_irq: Calling VIC interrupt callback
[   34.651353] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   34.651360] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   34.651366] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   34.651375] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   34.651381] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   34.651389] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   34.651395] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   34.651402] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   34.651407] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   34.651412] *** tx_vic_enable_irq: completed successfully ***
[   35.069775] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   35.069790] *** vic_core_s_stream: VIC state 2 - letting tx_isp_video_s_stream handle state 2 → 3 transition ***
[   35.069797] *** vic_core_s_stream: VIC initialized, final state=2 ***
[   35.069807] gc2053: s_stream called with enable=1
[   35.069815] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   35.069821] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   35.069827] gc2053: About to write streaming registers for interface 1
[   35.069833] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   35.069843] sensor_write: reg=0xfe val=0x00, client=85562d00, adapter=i2c0, addr=0x37
[   35.070161] sensor_write: reg=0xfe val=0x00 SUCCESS
[   35.070169] sensor_write_array: reg[1] 0xfe=0x00 OK
[   35.070177] sensor_write: reg=0x3e val=0x91, client=85562d00, adapter=i2c0, addr=0x37
[   35.070495] sensor_write: reg=0x3e val=0x91 SUCCESS
[   35.070503] sensor_write_array: reg[2] 0x3e=0x91 OK
[   35.070509] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   35.070515] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   35.070522] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   35.070528] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   35.070534] gc2053: s_stream called with enable=1
[   35.070541] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   35.070547] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   35.070553] gc2053: About to write streaming registers for interface 1
[   35.070559] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   35.070567] sensor_write: reg=0xfe val=0x00, client=85562d00, adapter=i2c0, addr=0x37
[   35.070879] sensor_write: reg=0xfe val=0x00 SUCCESS
[   35.070886] sensor_write_array: reg[1] 0xfe=0x00 OK
[   35.070895] sensor_write: reg=0x3e val=0x91, client=85562d00, adapter=i2c0, addr=0x37
[   35.071208] sensor_write: reg=0x3e val=0x91 SUCCESS
[   35.071215] sensor_write_array: reg[2] 0x3e=0x91 OK
[   35.071221] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   35.071228] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   35.071234] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   35.071240] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   35.071489] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   35.071501] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980918 value=2
[   35.071508] Set control: cmd=0x980918 value=2
[   35.071656] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   35.071667] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   35.071673] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   35.071810] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   35.071819] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   35.071825] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   35.071950] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   35.071959] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   35.071965] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   35.072081] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   35.072089] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   35.072095] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   35.072246] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   35.072255] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   35.072261] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   35.072389] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   35.072397] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   35.072403] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   35.072532] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   35.072541] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   35.072547] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   35.072677] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   35.072687] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   35.072692] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   35.072911] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   35.072920] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   35.072926] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   35.073064] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   35.073072] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   35.073078] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   35.403792] *** FRAME CHANNEL OPEN: minor=54 ***
[   35.403804] *** FRAME CHANNEL OPEN: Device not in array, creating new entry for minor 54 ***
[   35.403810] *** FRAME CHANNEL OPEN: Assigned to channel 0 ***
[   35.403817] *** FRAME CHANNEL 0: State set to 3 (ready for streaming) - Binary Ninja EXACT ***
[   35.403823] *** SAFE: Frame channel device stored in file->private_data ***
[   35.403828] *** FRAME CHANNEL 0 OPENED SUCCESSFULLY - NOW READY FOR IOCTLS ***
[   35.403837] Channel 0: Format 1920x1080, pixfmt=0x32315659, minor=54
[   35.403855] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc07056c3 ***
[   35.403862] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc07056c3 ***
[   35.403870] Channel 0: Set format 1920x1080 pixfmt=0x3231564e
[   35.404471] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0145608 ***
[   35.404482] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0145608 ***
[   35.404489] *** Channel 0: REQBUFS - MEMORY-AWARE implementation ***
[   35.404495] Channel 0: Request 4 buffers, type=1 memory=2
[   35.404501] Channel 0: USERPTR mode - client will provide buffers
[   35.404507] Channel 0: USERPTR mode - 4 user buffers expected
[   35.404517] *** Channel 0: REQBUFS allocated VBM buffer array for 4 buffers at 8200f300 ***
[   35.404525] *** Channel 0: VIC active_buffer_count set to 4 ***
[   35.404530] *** REQBUFS: VIC DMA will be configured during streaming via vic_pipo_mdma_enable ***
[   35.404537] *** Channel 0: MEMORY-AWARE REQBUFS SUCCESS - 4 buffers ***
[   35.404561] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   35.404569] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   35.404575] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   35.404581] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   35.404588] *** Channel 0: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   35.404595] *** Channel 0: QBUF - Buffer m.offset=0x70d9000, m.userptr=0x70d9000 ***
[   35.404602] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   35.404609] *** Channel 0: QBUF - Validation: buffer.index=0, state->buffer_count=4 ***
[   35.404616] *** Channel 0: QBUF - Queue buffer index=0 ***
[   35.404622] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   35.404629] *** Channel 0: QBUF - Using buffer struct   (null) for index 0 ***
[   35.404636] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   35.404643] *** Channel 0: QBUF EVENT - No VIC callback ***
[   35.404649] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x70d9000 ***
[   35.404658] *** Channel 0: QBUF - Buffer 0: phys_addr=0x70d9000, size=4147200 (VALIDATED) ***
[   35.404666] *** Channel 0: QBUF VBM - Stored buffer[0] = 0x70d9000, total_count=1 ***
[   35.404673] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=8200f300, vbm_buffer_count=1 ***
[   35.404680] *** Channel 0: QBUF - VBM buffer slot[0] available ***
[   35.404687] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x70d9000 ***
[   35.404694] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   35.404704] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   35.404711] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   35.404717] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   35.404723] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   35.404731] *** Channel 0: QBUF - Buffer received: index=1, type=1, memory=2 ***
[   35.404738] *** Channel 0: QBUF - Buffer m.offset=0x73d6000, m.userptr=0x73d6000 ***
[   35.404745] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   35.404751] *** Channel 0: QBUF - Validation: buffer.index=1, state->buffer_count=4 ***
[   35.404758] *** Channel 0: QBUF - Queue buffer index=1 ***
[   35.404763] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   35.404771] *** Channel 0: QBUF - Using buffer struct   (null) for index 1 ***
[   35.404777] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   35.404783] *** Channel 0: QBUF EVENT - No VIC callback ***
[   35.404789] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x73d6000 ***
[   35.404797] *** Channel 0: QBUF - Buffer 1: phys_addr=0x73d6000, size=4147200 (VALIDATED) ***
[   35.404805] *** Channel 0: QBUF VBM - Stored buffer[1] = 0x73d6000, total_count=2 ***
[   35.404813] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=8200f300, vbm_buffer_count=2 ***
[   35.404819] *** Channel 0: QBUF - VBM buffer slot[1] available ***
[   35.404825] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x73d6000 ***
[   35.404832] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   35.404840] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   35.404847] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   35.404853] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   35.404859] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   35.404866] *** Channel 0: QBUF - Buffer received: index=2, type=1, memory=2 ***
[   35.404873] *** Channel 0: QBUF - Buffer m.offset=0x76d3000, m.userptr=0x76d3000 ***
[   35.404880] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   35.404887] *** Channel 0: QBUF - Validation: buffer.index=2, state->buffer_count=4 ***
[   35.404893] *** Channel 0: QBUF - Queue buffer index=2 ***
[   35.404899] *** QBUF: No buffer allocated for index 2 - VBM initialization mode ***
[   35.404906] *** Channel 0: QBUF - Using buffer struct   (null) for index 2 ***
[   35.404912] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   35.404918] *** Channel 0: QBUF EVENT - No VIC callback ***
[   35.404925] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x76d3000 ***
[   35.404933] *** Channel 0: QBUF - Buffer 2: phys_addr=0x76d3000, size=4147200 (VALIDATED) ***
[   35.404940] *** Channel 0: QBUF VBM - Stored buffer[2] = 0x76d3000, total_count=3 ***
[   35.404947] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=8200f300, vbm_buffer_count=3 ***
[   35.404954] *** Channel 0: QBUF - VBM buffer slot[2] available ***
[   35.404961] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x76d3000 ***
[   35.404967] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   35.404975] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   35.404982] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   35.404988] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   35.404994] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   35.405001] *** Channel 0: QBUF - Buffer received: index=3, type=1, memory=2 ***
[   35.405009] *** Channel 0: QBUF - Buffer m.offset=0x79d0000, m.userptr=0x79d0000 ***
[   35.405015] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   35.405023] *** Channel 0: QBUF - Validation: buffer.index=3, state->buffer_count=4 ***
[   35.405029] *** Channel 0: QBUF - Queue buffer index=3 ***
[   35.405035] *** QBUF: No buffer allocated for index 3 - VBM initialization mode ***
[   35.405041] *** Channel 0: QBUF - Using buffer struct   (null) for index 3 ***
[   35.405048] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   35.405054] *** Channel 0: QBUF EVENT - No VIC callback ***
[   35.405060] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x79d0000 ***
[   35.405068] *** Channel 0: QBUF - Buffer 3: phys_addr=0x79d0000, size=4147200 (VALIDATED) ***
[   35.405076] *** Channel 0: QBUF VBM - Stored buffer[3] = 0x79d0000, total_count=4 ***
[   35.405083] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=8200f300, vbm_buffer_count=4 ***
[   35.405090] *** Channel 0: QBUF - VBM buffer slot[3] available ***
[   35.405097] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x79d0000 ***
[   35.405103] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   35.405193] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x80045612 ***
[   35.405203] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x80045612 ***
[   35.405211] *** Channel 0: VIDIOC_STREAMON - Binary Ninja implementation ***
[   35.405217] Channel 0: STREAMON - Enqueuing buffers in driver
[   35.405223] *** Channel 0: STREAMON - Core device is stateless, only managing streaming flag ***
[   35.410041] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.410054] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.410060] *** Channel 0: Frame completion wait ***
[   35.410066] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   35.410072] *** Channel 0: Frame wait returned 10 ***
[   35.410078] *** Channel 0: Frame was ready, consuming it ***
[   35.410181] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   35.410189] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   35.410196] *** Channel 0: DQBUF - dequeue buffer request ***
[   35.410202] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   35.410212] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   35.410219] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   35.410225] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   35.410244] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.410251] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.410257] *** Channel 0: Frame completion wait ***
[   35.410263] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   35.470568] *** FRAME CHANNEL OPEN: minor=53 ***
[   35.470580] *** FRAME CHANNEL OPEN: Device not in array, creating new entry for minor 53 ***
[   35.470586] *** FRAME CHANNEL OPEN: Assigned to channel 1 ***
[   35.470593] *** FRAME CHANNEL 1: State set to 3 (ready for streaming) - Binary Ninja EXACT ***
[   35.470598] *** SAFE: Frame channel device stored in file->private_data ***
[   35.470604] *** FRAME CHANNEL 1 OPENED SUCCESSFULLY - NOW READY FOR IOCTLS ***
[   35.470613] Channel 1: Format 640x360, pixfmt=0x32315659, minor=53
[   35.470630] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc07056c3 ***
[   35.470637] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc07056c3 ***
[   35.470645] Channel 1: Set format 640x360 pixfmt=0x3231564e
[   35.471485] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0145608 ***
[   35.471495] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0145608 ***
[   35.471502] *** Channel 1: REQBUFS - MEMORY-AWARE implementation ***
[   35.471509] Channel 1: Request 2 buffers, type=1 memory=2
[   35.471515] Channel 1: USERPTR mode - client will provide buffers
[   35.471521] Channel 1: USERPTR mode - 2 user buffers expected
[   35.471531] *** Channel 1: REQBUFS allocated VBM buffer array for 2 buffers at 8200f600 ***
[   35.471538] *** Channel 1: VIC active_buffer_count set to 2 ***
[   35.471544] *** REQBUFS: VIC DMA will be configured during streaming via vic_pipo_mdma_enable ***
[   35.471550] *** Channel 1: MEMORY-AWARE REQBUFS SUCCESS - 2 buffers ***
[   35.471565] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   35.471572] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   35.471579] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   35.471585] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   35.471592] *** Channel 1: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   35.471599] *** Channel 1: QBUF - Buffer m.offset=0x7e07100, m.userptr=0x7e07100 ***
[   35.471606] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   35.471613] *** Channel 1: QBUF - Validation: buffer.index=0, state->buffer_count=2 ***
[   35.471619] *** Channel 1: QBUF - Queue buffer index=0 ***
[   35.471625] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   35.471633] *** Channel 1: QBUF - Using buffer struct   (null) for index 0 ***
[   35.471640] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e07100 ***
[   35.471648] *** Channel 1: QBUF - Buffer 0: phys_addr=0x7e07100, size=460800 (VALIDATED) ***
[   35.471656] *** Channel 1: QBUF VBM - Stored buffer[0] = 0x7e07100, total_count=1 ***
[   35.471663] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=8200f600, vbm_buffer_count=1 ***
[   35.471670] *** Channel 1: QBUF - VBM buffer slot[0] available ***
[   35.471677] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e07100 ***
[   35.471684] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   35.471694] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   35.471701] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   35.471707] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   35.471713] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   35.471720] *** Channel 1: QBUF - Buffer received: index=1, type=1, memory=2 ***
[   35.471727] *** Channel 1: QBUF - Buffer m.offset=0x7e5d500, m.userptr=0x7e5d500 ***
[   35.471734] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   35.471741] *** Channel 1: QBUF - Validation: buffer.index=1, state->buffer_count=2 ***
[   35.471747] *** Channel 1: QBUF - Queue buffer index=1 ***
[   35.471753] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   35.471760] *** Channel 1: QBUF - Using buffer struct   (null) for index 1 ***
[   35.471767] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e5d500 ***
[   35.471775] *** Channel 1: QBUF - Buffer 1: phys_addr=0x7e5d500, size=460800 (VALIDATED) ***
[   35.471783] *** Channel 1: QBUF VBM - Stored buffer[1] = 0x7e5d500, total_count=2 ***
[   35.471790] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=8200f600, vbm_buffer_count=2 ***
[   35.471796] *** Channel 1: QBUF - VBM buffer slot[1] available ***
[   35.471803] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e5d500 ***
[   35.471809] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   35.471903] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x80045612 ***
[   35.471913] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x80045612 ***
[   35.471921] *** Channel 1: VIDIOC_STREAMON - Binary Ninja implementation ***
[   35.471926] Channel 1: STREAMON - Enqueuing buffers in driver
[   35.471933] *** Channel 1: STREAMON - Core device is stateless, only managing streaming flag ***
[   35.482879] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.482892] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.482899] *** Channel 1: Frame completion wait ***
[   35.482904] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   35.482911] *** Channel 1: Frame wait returned 10 ***
[   35.482917] *** Channel 1: Frame was ready, consuming it ***
[   35.482976] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   35.482984] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   35.482991] *** Channel 1: DQBUF - dequeue buffer request ***
[   35.482996] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   35.483007] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   35.483013] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   35.483020] *** Channel 1: DQBUF waiting for frame completion (timeout=200ms) ***
[   35.483036] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.483043] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.483049] *** Channel 1: Frame completion wait ***
[   35.483055] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   35.509362] *** Channel 0: Frame wait returned 0 ***
[   35.509374] *** Channel 0: Frame wait timeout/error, generating frame ***
[   35.509396] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.509403] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.509410] *** Channel 0: Frame completion wait ***
[   35.509415] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   35.509421] *** Channel 0: Frame wait returned 10 ***
[   35.509426] *** Channel 0: Frame was ready, consuming it ***
[   35.509434] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.509441] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.509447] *** Channel 0: Frame completion wait ***
[   35.509452] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   35.579343] *** Channel 1: Frame wait returned 0 ***
[   35.579355] *** Channel 1: Frame wait timeout/error, generating frame ***
[   35.579377] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.579385] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.579391] *** Channel 1: Frame completion wait ***
[   35.579396] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   35.579402] *** Channel 1: Frame wait returned 10 ***
[   35.579408] *** Channel 1: Frame was ready, consuming it ***
[   35.579416] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.579423] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.579428] *** Channel 1: Frame completion wait ***
[   35.579434] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   35.609335] *** Channel 0: DQBUF wait returned 0 ***
[   35.609346] *** Channel 0: DQBUF timeout, generating frame ***
[   35.609355] *** Channel 0: DQBUF complete - buffer[0] seq=-1 flags=0x3 ***
[   35.609394] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   35.609402] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   35.609408] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   35.609414] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   35.609419] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   35.609543] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   35.609553] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   35.609560] *** Channel 0: DQBUF - dequeue buffer request ***
[   35.609566] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   35.609575] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   35.609582] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   35.609588] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   35.609606] *** Channel 0: Frame wait returned 0 ***
[   35.609613] *** Channel 0: Frame wait timeout/error, generating frame ***
[   35.609625] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.609632] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.609638] *** Channel 0: Frame completion wait ***
[   35.609644] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   35.609650] *** Channel 0: Frame wait returned 10 ***
[   35.609656] *** Channel 0: Frame was ready, consuming it ***
[   35.609664] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.609670] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.609676] *** Channel 0: Frame completion wait ***
[   35.609682] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   35.619427] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   35.619440] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   35.619447] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   35.619453] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   35.619460] *** Channel 0: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   35.619468] *** Channel 0: QBUF - Buffer m.offset=0x70d9000, m.userptr=0x70d9000 ***
[   35.619475] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   35.619482] *** Channel 0: QBUF - Validation: buffer.index=0, state->buffer_count=4 ***
[   35.619488] *** Channel 0: QBUF - Queue buffer index=0 ***
[   35.619494] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   35.619502] *** Channel 0: QBUF - Using buffer struct   (null) for index 0 ***
[   35.619509] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   35.619516] *** Channel 0: QBUF EVENT - No VIC callback ***
[   35.619522] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x70d9000 ***
[   35.619530] *** Channel 0: QBUF - Buffer 0: phys_addr=0x70d9000, size=4147200 (VALIDATED) ***
[   35.619538] *** Channel 0: QBUF VBM - Stored buffer[0] = 0x70d9000, total_count=4 ***
[   35.619546] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=8200f300, vbm_buffer_count=4 ***
[   35.619553] *** Channel 0: QBUF - VBM buffer slot[0] available ***
[   35.619560] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x70d9000 ***
[   35.619572] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   35.619640] *** Channel 0: Frame wait returned 9 ***
[   35.619647] *** Channel 0: Frame was ready, consuming it ***
[   35.619660] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.619667] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.619674] *** Channel 0: Frame completion wait ***
[   35.619694] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   35.679339] *** Channel 1: DQBUF wait returned 0 ***
[   35.679350] *** Channel 1: DQBUF timeout, generating frame ***
[   35.679369] *** Channel 1: DQBUF complete - buffer[0] seq=-1 flags=0x3 ***
[   35.679486] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   35.679496] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   35.679503] *** Channel 1: DQBUF - dequeue buffer request ***
[   35.679509] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   35.679519] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   35.679526] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   35.679532] *** Channel 1: DQBUF waiting for frame completion (timeout=200ms) ***
[   35.679551] *** Channel 1: Frame wait returned 0 ***
[   35.679558] *** Channel 1: Frame wait timeout/error, generating frame ***
[   35.679587] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.679594] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.679601] *** Channel 1: Frame completion wait ***
[   35.679607] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   35.679613] *** Channel 1: Frame wait returned 10 ***
[   35.679618] *** Channel 1: Frame was ready, consuming it ***
[   35.679626] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.679633] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.679639] *** Channel 1: Frame completion wait ***
[   35.679644] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   35.704276] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   35.704290] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   35.704296] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   35.704302] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   35.704307] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   35.706214] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   35.706228] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   35.706234] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   35.706240] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   35.706248] *** Channel 1: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   35.706255] *** Channel 1: QBUF - Buffer m.offset=0x7e07100, m.userptr=0x7e07100 ***
[   35.706262] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   35.706269] *** Channel 1: QBUF - Validation: buffer.index=0, state->buffer_count=2 ***
[   35.706276] *** Channel 1: QBUF - Queue buffer index=0 ***
[   35.706282] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   35.706290] *** Channel 1: QBUF - Using buffer struct   (null) for index 0 ***
[   35.706296] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e07100 ***
[   35.706304] *** Channel 1: QBUF - Buffer 0: phys_addr=0x7e07100, size=460800 (VALIDATED) ***
[   35.706312] *** Channel 1: QBUF VBM - Stored buffer[0] = 0x7e07100, total_count=2 ***
[   35.706320] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=8200f600, vbm_buffer_count=2 ***
[   35.706327] *** Channel 1: QBUF - VBM buffer slot[0] available ***
[   35.706334] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e07100 ***
[   35.706346] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   35.706411] *** Channel 1: Frame wait returned 8 ***
[   35.706418] *** Channel 1: Frame was ready, consuming it ***
[   35.706430] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.706436] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.706443] *** Channel 1: Frame completion wait ***
[   35.706448] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   35.719352] *** Channel 0: Frame wait returned 0 ***
[   35.719364] *** Channel 0: Frame wait timeout/error, generating frame ***
[   35.719385] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.719393] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.719399] *** Channel 0: Frame completion wait ***
[   35.719405] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   35.719411] *** Channel 0: Frame wait returned 10 ***
[   35.719416] *** Channel 0: Frame was ready, consuming it ***
[   35.719424] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.719431] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.719437] *** Channel 0: Frame completion wait ***
[   35.719442] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   35.799331] *** Channel 1: Frame wait returned 0 ***
[   35.799343] *** Channel 1: Frame wait timeout/error, generating frame ***
[   35.799364] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.799371] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.799377] *** Channel 1: Frame completion wait ***
[   35.799383] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   35.799389] *** Channel 1: Frame wait returned 10 ***
[   35.799394] *** Channel 1: Frame was ready, consuming it ***
[   35.799402] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.799409] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.799415] *** Channel 1: Frame completion wait ***
[   35.799420] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   35.809340] *** Channel 0: DQBUF wait returned 0 ***
[   35.809352] *** Channel 0: DQBUF timeout, generating frame ***
[   35.809361] *** Channel 0: DQBUF complete - buffer[1] seq=0 flags=0x3 ***
[   35.809386] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   35.809393] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   35.809400] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   35.809405] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   35.809410] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   35.809544] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   35.809554] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   35.810008] *** Channel 0: DQBUF - dequeue buffer request ***
[   35.810021] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   35.810032] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   35.810039] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   35.810045] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   35.819351] *** Channel 0: Frame wait returned 0 ***
[   35.819366] *** Channel 0: Frame wait timeout/error, generating frame ***
[   35.819388] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.819395] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.819402] *** Channel 0: Frame completion wait ***
[   35.819407] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   35.819413] *** Channel 0: Frame wait returned 10 ***
[   35.819419] *** Channel 0: Frame was ready, consuming it ***
[   35.819426] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.819433] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.819439] *** Channel 0: Frame completion wait ***
[   35.819444] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   35.819800] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   35.819811] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   35.819817] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   35.819824] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   35.819831] *** Channel 0: QBUF - Buffer received: index=1, type=1, memory=2 ***
[   35.819838] *** Channel 0: QBUF - Buffer m.offset=0x73d6000, m.userptr=0x73d6000 ***
[   35.819845] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   35.819852] *** Channel 0: QBUF - Validation: buffer.index=1, state->buffer_count=4 ***
[   35.819858] *** Channel 0: QBUF - Queue buffer index=1 ***
[   35.819864] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   35.819872] *** Channel 0: QBUF - Using buffer struct   (null) for index 1 ***
[   35.819879] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   35.819886] *** Channel 0: QBUF EVENT - No VIC callback ***
[   35.819893] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x73d6000 ***
[   35.819901] *** Channel 0: QBUF - Buffer 1: phys_addr=0x73d6000, size=4147200 (VALIDATED) ***
[   35.819909] *** Channel 0: QBUF VBM - Stored buffer[1] = 0x73d6000, total_count=4 ***
[   35.819917] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=8200f300, vbm_buffer_count=4 ***
[   35.819924] *** Channel 0: QBUF - VBM buffer slot[1] available ***
[   35.819930] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x73d6000 ***
[   35.819942] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   35.820006] *** Channel 0: Frame wait returned 10 ***
[   35.820015] *** Channel 0: Frame was ready, consuming it ***
[   35.820026] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.820034] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.820040] *** Channel 0: Frame completion wait ***
[   35.820046] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   35.879336] *** Channel 1: DQBUF wait returned 0 ***
[   35.879348] *** Channel 1: DQBUF timeout, generating frame ***
[   35.879356] *** Channel 1: DQBUF complete - buffer[1] seq=0 flags=0x3 ***
[   35.879480] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   35.879490] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   35.879496] *** Channel 1: DQBUF - dequeue buffer request ***
[   35.879502] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   35.879512] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   35.879518] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   35.879525] *** Channel 1: DQBUF waiting for frame completion (timeout=200ms) ***
[   35.882166] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   35.882180] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   35.882186] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   35.882192] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   35.882200] *** Channel 1: QBUF - Buffer received: index=1, type=1, memory=2 ***
[   35.882207] *** Channel 1: QBUF - Buffer m.offset=0x7e5d500, m.userptr=0x7e5d500 ***
[   35.882214] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   35.882221] *** Channel 1: QBUF - Validation: buffer.index=1, state->buffer_count=2 ***
[   35.882228] *** Channel 1: QBUF - Queue buffer index=1 ***
[   35.882233] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   35.882241] *** Channel 1: QBUF - Using buffer struct   (null) for index 1 ***
[   35.882248] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e5d500 ***
[   35.882256] *** Channel 1: QBUF - Buffer 1: phys_addr=0x7e5d500, size=460800 (VALIDATED) ***
[   35.882264] *** Channel 1: QBUF VBM - Stored buffer[1] = 0x7e5d500, total_count=2 ***
[   35.882272] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=8200f600, vbm_buffer_count=2 ***
[   35.882278] *** Channel 1: QBUF - VBM buffer slot[1] available ***
[   35.882286] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e5d500 ***
[   35.882298] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   35.882391] *** Channel 1: DQBUF wait returned 20 ***
[   35.882402] *** Channel 1: DQBUF complete - buffer[0] seq=1 flags=0x3 ***
[   35.882500] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   35.882510] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   35.882517] *** Channel 1: DQBUF - dequeue buffer request ***
[   35.882523] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   35.882533] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 80487400 (name=gc2053) ***
[   35.882540] *** tx_isp_get_sensor: Found real sensor: 80487400 ***
[   35.882546] *** Channel 1: DQBUF waiting for frame completion (timeout=200ms) ***
[   35.884990] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   35.885004] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   35.885010] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   35.885017] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   35.885024] *** Channel 1: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   35.885032] *** Channel 1: QBUF - Buffer m.offset=0x7e07100, m.userptr=0x7e07100 ***
[   35.885038] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   35.885046] *** Channel 1: QBUF - Validation: buffer.index=0, state->buffer_count=2 ***
[   35.885052] *** Channel 1: QBUF - Queue buffer index=0 ***
[   35.885058] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   35.885066] *** Channel 1: QBUF - Using buffer struct   (null) for index 0 ***
[   35.885072] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e07100 ***
[   35.885080] *** Channel 1: QBUF - Buffer 0: phys_addr=0x7e07100, size=460800 (VALIDATED) ***
[   35.885088] *** Channel 1: QBUF VBM - Stored buffer[0] = 0x7e07100, total_count=2 ***
[   35.885096] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=8200f600, vbm_buffer_count=2 ***
[   35.885103] *** Channel 1: QBUF - VBM buffer slot[0] available ***
[   35.885110] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e07100 ***
[   35.885122] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   35.885184] *** Channel 1: Frame wait returned 2 ***
[   35.885191] *** Channel 1: Frame was ready, consuming it ***
[   35.885203] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   35.885210] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   35.885217] *** Channel 1: Frame completion wait ***
[   35.885222] *** Channel 1: Waiting for frame (timeout=100ms) ***
root@ing-wyze-cam3-a000 ~# cat /proc/interrupts 
           CPU0       
  9:          0   jz-intc  i2s_irq
 11:       9362   jz-intc  jz-timerost
 14:         96   jz-intc  ipu
 15:      86453   jz-intc  jz-sfc
 18:          0   jz-intc  pdma
 23:          0   jz-intc  GPIO C
 24:          1   jz-intc  GPIO B
 25:          0   jz-intc  GPIO A
 29:          1   jz-intc  dwc2
 37:          2   jz-intc  isp-m0
 38:          0   jz-intc  isp-w02
 44:       8374   jz-intc  jzmmc_v1.2.1
 45:          0   jz-intc  jzmmc_v1.2.0
 58:        384   jz-intc  uart1
 68:        160   jz-intc  jz-i2c.0
 70:         21   jz-intc  avpu.0
126:          0    GPIO B  GPIO Button
134:          1    GPIO B  mmc-insert-detect
ERR:          0
root@ing-wyze-cam3-a000 ~# 
