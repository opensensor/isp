[    8.918053] IPv6: ADDRCONF(NETDEV_UP): wlan0: link is not ready
[   10.603072] RTW: rtw_set_802_11_connect(wlan0)  fw_state=0x00000008
[   10.828969] RTW: start auth
[   10.833552] RTW: auth success, start assoc
[   10.839211] RTW: assoc success
[   10.839307] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
[   10.840879] RTW: ============ STA [e8:9c:25:02:11:0c]  ===================
[   10.840891] RTW: mac_id : 0
[   10.840896] RTW: wireless_mode : 0x0b
[   10.840901] RTW: mimo_type : 0
[   10.840907] RTW: static smps : N
[   10.840913] RTW: bw_mode : 20MHz, ra_bw_mode : 20MHz
[   10.840919] RTW: rate_id : 3
[   10.840925] RTW: rssi : -1 (%), rssi_level : 0
[   10.840931] RTW: is_support_sgi : Y, is_vht_enable : N
[   10.840937] RTW: disable_ra : N, disable_pt : N
[   10.840942] RTW: is_noisy : N
[   10.840947] RTW: txrx_state : 0
[   10.840954] RTW: curr_tx_rate : CCK_1M (L)
[   10.840959] RTW: curr_tx_bw : 20MHz
[   10.840965] RTW: curr_retry_ratio : 0
[   10.840971] RTW: ra_mask : 0x00000000000fffff
[   10.840971] 
[   10.844135] RTW: recv eapol packet 1/4
[   10.845296] RTW: send eapol packet 2/4
[   10.850871] RTW: recv eapol packet 3/4
[   10.851247] RTW: send eapol packet 4/4
[   10.852668] RTW: set pairwise key camid:0, addr:e8:9c:25:02:11:0c, kid:0, type:AES
[   10.852965] RTW: set group key camid:1, addr:e8:9c:25:02:11:0c, kid:1, type:AES
[   13.718473] codec_codec_ctl: set repaly channel...
[   13.718512] cgu_set_rate, parent = 1392000000, rate = 4096000, n = 10875, reg val = 0x22002a7b
[   13.718518] codec_codec_ctl: set sample rate...
[   13.718604] codec_codec_ctl: set device...
[   13.949171] codec_set_device: set device: speaker...
[   43.333163] *** tx_isp_init: EXACT Binary Ninja MCP reference implementation ***
[   43.339501] *** PROBE: tx_isp_platform_probe CALLED for device tx-isp ***
[   43.339519] *** PROBE: ISP device allocated successfully: 805e4000 ***
[   43.339535] *** PROBE: ISP core registers mapped at 0x13300000 for system_reg_write ***
[   43.339540] *** PROBE: ISP device mutex and spinlock initialized ***
[   43.339547] *** PROBE: Event callback structure initialized at 0x811f4280 (offset 0xc from isp_dev) ***
[   43.339557] parse_rmem_bootarg: Found rmem=29M@0x06300000 (size=0x01d00000)
[   43.339565] *** PROBE: Initialized rmem_addr=0x06300000, size=0x01d00000 ***
[   43.339571] *** PROBE: Platform data: c06b6ca0 ***
[   43.339576] *** PROBE: Platform data validation passed ***
[   43.339581] *** REFERENCE DRIVER: Individual subdevices will initialize their own memory regions ***
[   43.339587] *** PLATFORM DEVICES ALREADY REGISTERED IN INIT - SKIPPING DUPLICATE REGISTRATION ***
[   43.339593] *** tx_isp_module_init: EXACT Binary Ninja reference implementation ***
[   43.339598] *** tx_isp_module_init: Registering subdev platform drivers FIRST ***
[   43.339604] *** TX ISP SUBDEV PLATFORM DRIVERS REGISTRATION ***
[   43.355985] All ISP subdev platform drivers registered successfully
[   43.358453] *** tx_isp_create_graph_and_nodes: EXACT Binary Ninja reference implementation ***
[   43.358467] *** Registering platform device 0 from platform data ***
[   43.363617] *** tx_isp_subdev_init: CALLED for device 'isp-w01' ***
[   43.363632] *** tx_isp_subdev_init: pdev=c06b6988, sd=85219400, ops=c06b6fa0 ***
[   43.363639] *** tx_isp_subdev_init: ourISPdev=805e4000 ***
[   43.363645] *** tx_isp_subdev_init: ops=c06b6fa0, ops->core=c06b6fd4 ***
[   43.363651] *** tx_isp_subdev_init: ops->core->init=c066c6b8 ***
[   43.363658] *** tx_isp_subdev_init: Set sd->dev=c06b6998, sd->pdev=c06b6988 ***
[   43.363665] *** tx_isp_subdev_init: CSI subdev registered at slot 0 ***
[   43.363671] tx_isp_module_init: Module initialized for isp-w01
[   43.363677] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   43.363683] *** isp-w01: Skipping IRQ request - device has no IRQ resource ***
[   43.363690] tx_isp_subdev_init: platform_get_resource returned c06b6a78 for device isp-w01
[   43.363698] tx_isp_subdev_init: Memory resource found: start=0x10022000, end=0x10022fff, size=0x00001000
[   43.363707] *** tx_isp_subdev_init: Clock initialization deferred until streaming starts ***
[   43.363713] *** tx_isp_subdev_init: Clock count stored: 1 ***
[   43.363721] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b6988, sd=85219400, ourISPdev=805e4000 ***
[   43.363727] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w01' to ourISPdev=805e4000 ***
[   43.363733] *** DEBUG: Device name comparison - checking 'isp-w01' ***
[   43.363739] *** DEBUG: About to check device name matches ***
[   43.363745] *** CSI BASIC REGISTERS SET: b0022000 (from tx_isp_subdev_init) ***
[   43.363752] *** LINKED CSI device: 85219400, regs: b0022000 ***
[   43.363758] *** CSI PROBE: Set dev_priv to csi_dev 85219400 AFTER subdev_init ***
[   43.363764] *** CSI PROBE: Set host_priv to csi_dev 85219400 AFTER subdev_init ***
[   43.363771] *** CSI PROBE: Using register mapping from tx_isp_subdev_init: b0022000 ***
[   43.363777] *** CSI PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   43.363797] *** Platform device 0 (isp-w01) registered successfully ***
[   43.363803] *** Registering platform device 1 from platform data ***
[   43.369539] *** VIC PROBE: IRQ numbers initialized to 38 ***
[   43.369554] *** VIC PROBE: Primary VIC registers mapped at 0x133e0000 -> b33e0000 ***
[   43.369561] *** VIC PROBE: VIC control registers mapped at 0x10023000 -> b0023000 ***
[   43.369567] *** VIC PROBE: Hardware IRQ function pointers set using SAFE struct members (tx_isp_enable/disable_irq) ***
[   43.369573] *** VIC PROBE: Secondary VIC register test - 0x1e0 = 0x00000000 (mapping verified) ***
[   43.369579] *** VIC PROBE: VIC interrupt registers will be configured during tx_isp_vic_start ***
[   43.369585] *** BINARY NINJA MCP: VIC buffer management ENABLED - following reference driver ***
[   43.369591] *** VIC will operate in FULL mode with complete buffer operations ***
[   43.369596] *** BINARY NINJA MCP: VIC full initialization complete - buffer management ENABLED ***
[   43.369603] *** VIC PROBE: Initialized default dimensions 1920x1080 and critical fields ***
[   43.369609] *** VIC PROBE: Event callback structure stored in VIC device field ***
[   43.369615] *** VIC PROBE: Stored vic_dev pointer 805ee000 in subdev dev_priv ***
[   43.369621] *** VIC PROBE: Set host_priv to vic_dev 805ee000 for Binary Ninja compatibility ***
[   43.369627] *** VIC PROBE: Skipping tx_isp_vic_hw_init - working branch configures interrupts during VIC operations ***
[   43.369635] *** tx_isp_subdev_init: CALLED for device 'isp-w02' ***
[   43.369643] *** tx_isp_subdev_init: pdev=c06b6a98, sd=805ee000, ops=c06b6f20 ***
[   43.369649] *** tx_isp_subdev_init: ourISPdev=805e4000 ***
[   43.369656] *** tx_isp_subdev_init: ops=c06b6f20, ops->core=c06b6f3c ***
[   43.369662] *** tx_isp_subdev_init: ops->core->init=c068232c ***
[   43.369669] *** tx_isp_subdev_init: Set sd->dev=c06b6aa8, sd->pdev=c06b6a98 ***
[   43.369675] *** tx_isp_subdev_init: VIC device linked and registered at slot 1 ***
[   43.369681] tx_isp_module_init: Module initialized for isp-w02
[   43.369687] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   43.369695] *** tx_isp_request_irq: platform_get_irq returned 38 for device isp-w02 ***
[   43.369702] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 38 (device: isp-w02) ***
[   43.369712] *** tx_isp_request_irq: About to call request_threaded_irq(irq=38, handler=c0674fe0, thread=c0668584, flags=0x80, name=isp-w02, dev_id=805e4000) ***
[   43.369720] *** tx_isp_request_irq: About to register IRQ 38 with handlers: main=c0674fe0, thread=c0668584 ***
[   43.371993] *** tx_isp_request_irq: request_threaded_irq returned 0 ***
[   43.372005] *** tx_isp_request_irq: IRQ 38 LEFT ENABLED (working version behavior) ***
[   43.372012] *** tx_isp_request_irq: IRQ 38 registered successfully for isp-w02 ***
[   43.372021] tx_isp_subdev_init: platform_get_resource returned c06b6b90 for device isp-w02
[   43.372029] tx_isp_subdev_init: Memory resource found: start=0x10023000, end=0x10023fff, size=0x00001000
[   43.372038] *** tx_isp_subdev_init: Clock initialization deferred until streaming starts ***
[   43.372044] *** tx_isp_subdev_init: Clock count stored: 2 ***
[   43.372052] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b6a98, sd=805ee000, ourISPdev=805e4000 ***
[   43.372059] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w02' to ourISPdev=805e4000 ***
[   43.372065] *** DEBUG: Device name comparison - checking 'isp-w02' ***
[   43.372070] *** DEBUG: About to check device name matches ***
[   43.372076] *** DEBUG: VIC DEVICE NAME MATCHED! Processing VIC device linking ***
[   43.372082] *** DEBUG: Retrieved vic_dev from subdev data: 805ee000 ***
[   43.372088] *** DEBUG: About to set ourISPdev->vic_dev = 805ee000 ***
[   43.372094] *** DEBUG: ourISPdev before linking: 805e4000 ***
[   43.372100] *** DEBUG: ourISPdev->vic_dev set to: 805ee000 ***
[   43.372106] *** VIC AUTO-LINK: VIC IRQ already registered (irq=38) ***
[   43.372111] *** VIC AUTO-LINK: Using existing VIC register mapping (0x133e0000) - NOT remapping ***
[   43.372117] *** VIC AUTO-LINK: Registers are mapped, registering interrupt handler ***
[   43.372125] *** VIC PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   43.372131] *** VIC PROBE: Sensor dimensions will be cached when sensor module loads ***
[   43.372136] *** VIC PROBE: VIC frame channel streaming will be initialized via tisp_init ***
[   43.372142] *** VIC PROBE: Waiting for core subdev init to call tisp_init which calls tx_isp_subdev_pipo ***
[   43.372163] *** Platform device 1 (isp-w02) registered successfully ***
[   43.372170] *** Registering platform device 2 from platform data ***
[   43.373748] *** tx_isp_subdev_init: CALLED for device 'isp-w00' ***
[   43.373763] *** tx_isp_subdev_init: pdev=c06b68b0, sd=84cde000, ops=c06b7e04 ***
[   43.373770] *** tx_isp_subdev_init: ourISPdev=805e4000 ***
[   43.373777] *** tx_isp_subdev_init: ops=c06b7e04, ops->core=c06b7e24 ***
[   43.373783] *** tx_isp_subdev_init: ops->core->init=c068efa8 ***
[   43.373789] *** tx_isp_subdev_init: Set sd->dev=c06b68c0, sd->pdev=c06b68b0 ***
[   43.373796] *** tx_isp_subdev_init: NOT A SENSOR - ops=c06b7e04 ***
[   43.373803] *** tx_isp_subdev_init: ops->sensor=  (null), csi_subdev_ops=c06b6fa0 ***
[   43.373809] tx_isp_module_init: Module initialized for isp-w00
[   43.373815] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   43.373823] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b68b0, sd=84cde000, ourISPdev=805e4000 ***
[   43.373830] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w00' to ourISPdev=805e4000 ***
[   43.373836] *** DEBUG: Device name comparison - checking 'isp-w00' ***
[   43.373841] *** DEBUG: About to check device name matches ***
[   43.373849] *** DEBUG: Unknown device name 'isp-w00' - no specific auto-link handling ***
[   43.373855] *** VIN PROBE: Set dev_priv to vin_dev 84cde000 AFTER subdev_init ***
[   43.373861] *** VIN PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   43.373881] *** Platform device 2 (isp-w00) registered successfully ***
[   43.373887] *** Registering platform device 3 from platform data ***
[   43.379533] *** tx_isp_subdev_init: CALLED for device 'isp-fs' ***
[   43.379549] *** tx_isp_subdev_init: pdev=c06b6770, sd=8540aa00, ops=c06b7054 ***
[   43.379555] *** tx_isp_subdev_init: ourISPdev=805e4000 ***
[   43.379562] *** tx_isp_subdev_init: ops=c06b7054, ops->core=c06bdedc ***
[   43.379568] *** tx_isp_subdev_init: WARNING - ops->core->init is NULL! ***
[   43.379575] *** tx_isp_subdev_init: Set sd->dev=c06b6780, sd->pdev=c06b6770 ***
[   43.379581] *** tx_isp_subdev_init: NOT A SENSOR - ops=c06b7054 ***
[   43.379588] *** tx_isp_subdev_init: ops->sensor=c06bded0, csi_subdev_ops=c06b6fa0 ***
[   43.379594] tx_isp_module_init: Module initialized for isp-fs
[   43.379599] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   43.379606] *** isp-fs: Skipping IRQ request - device has no IRQ resource ***
[   43.379613] tx_isp_subdev_init: platform_get_resource returned   (null) for device isp-fs
[   43.379619] tx_isp_subdev_init: No memory resource for device isp-fs (logical device - OK)
[   43.379627] *** FS PROBE: Set dev_priv to fs_dev 8540aa00 AFTER subdev_init ***
[   43.379633] *** FS PROBE: Device linking handled automatically by tx_isp_subdev_auto_link() ***
[   43.379652] *** Platform device 3 (isp-fs) registered successfully ***
[   43.379659] *** Registering platform device 4 from platform data ***
[   43.382143] *** tx_isp_core_probe: NEW ARCHITECTURE - Creating separate core device ***
[   43.382157] *** tx_isp_create_core_device: Creating ISP core device ***
[   43.382166] *** tx_isp_create_core_device: Core device created successfully: 805ee400 ***
[   43.382173] *** CORE PROBE: Set dev_priv to core_dev 805ee400 ***
[   43.382179] *** CORE PROBE: Set host_priv to core_dev 805ee400 - PREVENTS BadVA CRASH ***
[   43.382185] *** tx_isp_subdev_init: CALLED for device 'isp-m0' ***
[   43.382193] *** tx_isp_subdev_init: pdev=c06b6650, sd=805ee400, ops=c06b6d58 ***
[   43.382199] *** tx_isp_subdev_init: ourISPdev=805e4000 ***
[   43.382206] *** tx_isp_subdev_init: ops=c06b6d58, ops->core=c06b6d84 ***
[   43.382213] *** tx_isp_subdev_init: ops->core->init=c067f554 ***
[   43.382219] *** tx_isp_subdev_init: Set sd->dev=c06b6660, sd->pdev=c06b6650 ***
[   43.382226] *** tx_isp_subdev_init: Core ISP subdev registered at slot 2 ***
[   43.382232] tx_isp_module_init: Module initialized for isp-m0
[   43.382238] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   43.382246] *** tx_isp_request_irq: platform_get_irq returned 37 for device isp-m0 ***
[   43.382253] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 37 (device: isp-m0) ***
[   43.382263] *** tx_isp_request_irq: About to call request_threaded_irq(irq=37, handler=c0674fe0, thread=c0668584, flags=0x80, name=isp-m0, dev_id=805e4000) ***
[   43.382271] *** tx_isp_request_irq: About to register IRQ 37 with handlers: main=c0674fe0, thread=c0668584 ***
[   43.390330] *** tx_isp_request_irq: request_threaded_irq returned 0 ***
[   43.390341] *** tx_isp_request_irq: IRQ 37 LEFT ENABLED (working version behavior) ***
[   43.390348] *** tx_isp_request_irq: IRQ 37 registered successfully for isp-m0 ***
[   43.390357] tx_isp_subdev_init: platform_get_resource returned c06b6738 for device isp-m0
[   43.390365] tx_isp_subdev_init: Memory resource found: start=0x13300000, end=0x133fffff, size=0x00100000
[   43.390375] *** tx_isp_subdev_init: Clock initialization deferred until streaming starts ***
[   43.390381] *** tx_isp_subdev_init: Clock count stored: 0 ***
[   43.390389] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b6650, sd=805ee400, ourISPdev=805e4000 ***
[   43.390397] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-m0' to ourISPdev=805e4000 ***
[   43.390403] *** DEBUG: Device name comparison - checking 'isp-m0' ***
[   43.390407] *** DEBUG: About to check device name matches ***
[   43.390414] *** DEBUG: CORE device name matched! Setting up Core device ***
[   43.390420] *** CRITICAL FIX: CORE regs mapped to core device: b3300000 ***
[   43.390428] *** tx_isp_link_core_device: Linking core device 805ee400 to ISP device 805e4000 ***
[   43.390434] *** tx_isp_link_core_device: Core device linked successfully ***
[   43.390441] *** Core subdev already registered at slot 2: 805ee400 ***
[   43.390447] *** LINKED CORE device: 805ee400 ***
[   43.390451] *** CORE SUBDEV REGISTERED AT INDEX 0 ***
[   43.390457] *** tx_isp_core_probe: Core subdev initialized successfully ***
[   43.390464] *** tx_isp_core_device_init: Initializing core device: 805ee400 ***
[   43.390475] *** tx_isp_core_device_init: State transitions handled by slake_module ***
[   43.390481] *** tx_isp_core_device_init: Core device initialized successfully ***
[   43.390486] *** tx_isp_core_device_init: Core sensor IOCTL handler set for sensor registration ***
[   43.390494] *** tx_isp_link_core_device: Linking core device 805ee400 to ISP device 805e4000 ***
[   43.390499] *** tx_isp_link_core_device: Core device linked successfully ***
[   43.390506] *** Core subdev already registered at slot 2: 805ee400 ***
[   43.390519] *** tx_isp_core_probe: Assigned frame_channels=805ee800 to core_dev ***
[   43.390525] *** tx_isp_core_probe: VIC device creation deferred to platform driver system ***
[   43.390531] *** tx_isp_core_probe: Platform drivers will call tx_isp_subdev_init for proper initialization ***
[   43.390536] *** tx_isp_core_probe: Calling sensor_early_init ***
[   43.390542] *** tx_isp_core_probe: ISP clock management handled by infrastructure ***
[   43.390547] *** tx_isp_core_probe: ispcore_slake_module will be called when VIC reaches streaming state ***
[   43.390553] *** tx_isp_core_probe: Core device setup complete ***
[   43.390559] ***   - Core device: 805ee400 ***
[   43.390564] ***   - Channel count: 6 ***
[   43.390569] ***   - Linked to ISP device: 805e4000 ***
[   43.390575] *** tx_isp_core_probe: Initializing core tuning system ***
[   43.390580] isp_core_tuning_init: Initializing tuning data structure
[   43.390593] isp_core_tuning_init: Tuning data structure initialized at 84bf6000
[   43.390599] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   43.390605] *** SAFE: mode_flag properly initialized using struct member access ***
[   43.390610] *** tx_isp_core_probe: Tuning init SUCCESS ***
[   43.390615] *** tx_isp_core_probe: Set platform driver data ***
[   43.390620] *** tx_isp_core_probe: Set global core device reference ***
[   43.390625] *** tx_isp_core_probe: SUCCESS - Core device fully initialized ***
[   43.390631] ***   - Core device: 805ee400 ***
[   43.390637] ***   - Tuning device: 84bf6000 ***
[   43.390642] *** tx_isp_core_probe: Creating frame channel devices ***
[   43.390647] *** tx_isp_create_framechan_devices: Creating frame channel devices ***
[   43.391002] *** Created frame channel device: /dev/framechan0 (major=10, minor=54) ***
[   43.393542] *** Created frame channel device: /dev/framechan1 (major=10, minor=53) ***
[   43.396689] *** Created frame channel device: /dev/framechan2 (major=10, minor=52) ***
[   43.404070] *** Created frame channel device: /dev/framechan3 (major=10, minor=51) ***
[   43.404081] *** tx_isp_create_framechan_devices: All frame channel devices created ***
[   43.404086] *** tx_isp_core_probe: Frame channel devices created successfully ***
[   43.404092] *** tx_isp_core_probe: Creating ISP M0 tuning device node ***
[   43.404097] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   43.404106] tisp_code_create_tuning_node: Allocated dynamic major 251
[   43.409017] *** ISP M0 TUNING DEVICE CREATED: /dev/isp-m0 (major=251, minor=0) ***
[   43.409029] *** tx_isp_core_probe: ISP M0 tuning device node created successfully ***
[   43.409035] *** tx_isp_core_probe: Core probe completed successfully ***
[   43.409055] *** Platform device 4 (isp-m0) registered successfully ***
[   43.409062] *** tx_isp_create_graph_and_nodes: Creating /proc/jz/isp entries ***
[   43.409085] *** Created /proc/jz/isp directory ***
[   43.409093] *** PROC ENTRY DEBUG: Using isp_vic_frd_fops for isp-w01 (with ioctl handler) ***
[   43.409102] *** Created /proc/jz/isp/isp-w01 entry with file ops ***
[   43.409109] *** PROC ENTRY DEBUG: Using vic_w02_proc_fops for isp-w02 (with write handler) ***
[   43.409116] *** PROC ENTRY DEBUG: vic_w02_proc_fops.write=c0684a34 ***
[   43.409124] *** PROC ENTRY FIX: Using ISP device 805e4000 instead of VIC device 805ee000 for isp-w02 ***
[   43.409132] *** Created /proc/jz/isp/isp-w02 entry with file ops ***
[   43.409139] *** PROC ENTRY DEBUG: Using isp_vic_frd_fops for isp-w00 (with ioctl handler) ***
[   43.409147] *** Created /proc/jz/isp/isp-w00 entry with file ops ***
[   43.409157] *** Created /proc/jz/isp/isp-fs entry with file ops ***
[   43.409166] *** Created /proc/jz/isp/isp-m0 entry with file ops ***
[   43.409171] *** tx_isp_create_graph_and_nodes: Registering misc devices ***
[   43.409177] *** Misc device registration handled via main tx-isp device ***
[   43.409182] *** Misc device registration handled via main tx-isp device ***
[   43.409187] *** Misc device registration handled via main tx-isp device ***
[   43.409193] *** Misc device registration handled via main tx-isp device ***
[   43.409304] *** Misc device registration handled via main tx-isp device ***
[   43.409313] *** tx_isp_create_graph_and_nodes: Initializing frame channels ***
[   43.409322] *** Frame channel 0 initialized: 1920x1080, state=2 ***
[   43.409329] *** Frame channel 1 initialized: 640x360, state=2 ***
[   43.409335] *** tx_isp_create_graph_and_nodes: Binary Ninja reference implementation complete ***
[   43.409342] *** tx_isp_module_init: VIC device linkage check - isp_dev->vic_dev = 805ee000 ***
[   43.409347] *** ENABLING HARDWARE INTERRUPT GENERATION ***
[   43.409353] *** WRITING VIC INTERRUPT ENABLE REGISTERS ***
[   43.409360] *** EARLY VIC ENABLES (MODULE INIT): PRIMARY [1e0]=0x00000000 [1e4]=0x00000000 ***
[   43.409367] *** EARLY VIC ENABLES (MODULE INIT): CONTROL [1e0]=0x00000000 [1e4]=0x00000000 ***
[   43.409373] *** ENABLING ISP CORE INTERRUPT REGISTERS FOR MIPI DATA ***
[   43.409378] *** ISP CORE INTERRUPT REGISTERS ENABLED at legacy(+0xb*) and new(+0x98b*) ***
[   43.409383] *** BOTH VIC AND ISP CORE INTERRUPTS NOW ENABLED! ***
[   43.409389] *** tx_isp_module_init: Binary Ninja reference implementation complete ***
[   43.409395] *** PROBE: Binary Ninja reference implementation complete ***
[   43.414190] *** tx_isp_init: Platform device and driver registered successfully ***
[   44.131458] === gc2053 SENSOR MODULE INIT ===
[   44.133949] gc2053 I2C driver registered, waiting for device creation by ISP
[   46.378027] ISP opened successfully
[   46.378361] ISP IOCTL: cmd=0x805056c1 arg=0x77e61d60
[   46.378375] subdev_sensor_ops_ioctl: cmd=0x2000000
[   46.378381] *** subdev_sensor_ops_ioctl: IOCTL 0x2000000 - Creating I2C sensor device ***
[   46.378387] *** Creating I2C sensor device on adapter 0 ***
[   46.378395] *** Creating I2C device: gc2053 at 0x37 ***
[   46.378401] *** isp_i2c_new_subdev_board: MIPS-SAFE implementation - FIXED CRASH ***
[   46.378409] Creating I2C subdev: type=gc2053 addr=0x37 on adapter i2c0 (MIPS-safe)
[   46.378414] *** MIPS-SAFE: Requesting sensor module gc2053 ***
[   46.389563] *** MIPS-SAFE: Valid I2C address 0x37, creating device ***
[   46.389865] === GC2053 SENSOR PROBE START ===
[   46.389881] sensor_probe: client=8552cc00, addr=0x37, adapter=84074c10 (i2c0)
[   46.389887] === PERFORMING GPIO RESET SEQUENCE BEFORE I2C ===
[   46.389893] Requesting reset GPIO 18
[   46.389901] GPIO reset sequence: HIGH -> LOW -> HIGH
[   46.619271] GPIO reset sequence completed successfully
[   46.619283] === GPIO INITIALIZATION COMPLETE ===
[   46.619294] sensor_probe: Initialized sensor info - name=gc2053, i2c_addr=0x37
[   46.619308] sensor_probe: data_interface=1, sensor_max_fps=30
[   46.619314] sensor_probe: MIPI 30fps
[   46.619321] *** tx_isp_subdev_init: CALLED for device 'gc2053' ***
[   46.619329] *** tx_isp_subdev_init: pdev=c06e0168, sd=811ef400, ops=c06e0248 ***
[   46.619335] *** tx_isp_subdev_init: ourISPdev=805e4000 ***
[   46.619342] *** tx_isp_subdev_init: ops=c06e0248, ops->core=c06e0274 ***
[   46.619348] *** tx_isp_subdev_init: ops->core->init=c06dd6bc ***
[   46.619354] *** tx_isp_subdev_init: Set sd->dev=c06e0178, sd->pdev=c06e0168 ***
[   46.619362] *** tx_isp_subdev_init: DETECTED SENSOR SUBDEV - ops=c06e0248, ops->sensor=c06e025c ***
[   46.619368] *** tx_isp_subdev_init: Set up sensor module notify handler ***
[   46.619374] *** tx_isp_subdev_init: SENSOR subdev registered at slot 3, sd=811ef400 ***
[   46.619382] *** tx_isp_subdev_init: SENSOR ops=c06e0248, ops->sensor=c06e025c ***
[   46.619387] *** tx_isp_subdev_init: Core state transitions handled by slake_module ***
[   46.619393] tx_isp_module_init: Module initialized for (null)
[   46.619399] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   46.619407] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06e0168, sd=811ef400, ourISPdev=805e4000 ***
[   46.619414] *** tx_isp_subdev_auto_link: Auto-linking device 'gc2053' to ourISPdev=805e4000 ***
[   46.619420] *** DEBUG: Device name comparison - checking 'gc2053' ***
[   46.619425] *** DEBUG: About to check device name matches ***
[   46.619432] *** DETECTED SENSOR DEVICE: 'gc2053' - checking for existing registration ***
[   46.619438] *** SENSOR 'gc2053' registered at subdev index 5 ***
[   46.619445] *** SENSOR subdev: 811ef400, ops: c06e0248 ***
[   46.619451] *** SENSOR ops->sensor: c06e025c ***
[   46.619456] *** SENSOR REGISTERED: Caching sensor dimensions from /proc/jz/sensor/ ***
[   46.619462] *** cache_sensor_dimensions_from_proc: Reading sensor dimensions during probe ***
[   46.619534] read_sensor_dimensions: Successfully read 1920x1080 from /proc/jz/sensor/
[   46.619542] *** cache_sensor_dimensions_from_proc: Successfully cached 1920x1080 ***
[   46.619548] sensor_probe: I2C client association complete
[   46.619556]   sd=811ef400, client=8552cc00, addr=0x37, adapter=i2c0
[   46.619562] === TESTING I2C COMMUNICATION AFTER GPIO RESET ===
[   46.619570] sensor_read: reg=0xf0, client=8552cc00, adapter=i2c0, addr=0x37
[   46.620068] sensor_read: reg=0xf0 value=0x20 SUCCESS
[   46.620076] I2C test read (0xf0): ret=0, val=0x20 (expected 0x20)
[   46.620081] *** SUCCESS: I2C communication working after GPIO reset! ***
[   46.620089] sensor_read: reg=0xf1, client=8552cc00, adapter=i2c0, addr=0x37
[   46.620576] sensor_read: reg=0xf1 value=0x53 SUCCESS
[   46.620582] I2C test read (0xf1): ret=0, val=0x53 (expected 0x53)
[   46.620588] === I2C COMMUNICATION TEST COMPLETE ===
[   46.620596] Registering gc2053 with ISP framework (sd=811ef400, sensor=811ef400)
[   46.620602] gc2053 registered with ISP framework successfully
[   46.620624] *** MIPS-SAFE: I2C device created successfully at 0x8552cc00 ***
[   46.620631] *** MIPS-SAFE: Module reference acquired for gc2053 ***
[   46.620638] *** MIPS-SAFE: Sensor subdev data found, device ready ***
[   46.620644] *** I2C DEVICE READY: gc2053 at 0x37 (MIPS-safe) ***
[   46.620651] *** I2C sensor device created successfully: gc2053 at 0x37 ***
[   46.620686] ISP IOCTL: cmd=0xc050561a arg=0x7fad7ec8
[   46.620694] TX_ISP_SENSOR_ENUM_INPUT: Enumerating sensor at index 0
[   46.620700] TX_ISP_SENSOR_ENUM_INPUT: Returning sensor 'gc2053' at index 0
[   46.620708] ISP IOCTL: cmd=0xc050561a arg=0x7fad7ec8
[   46.620714] TX_ISP_SENSOR_ENUM_INPUT: Enumerating sensor at index 1
[   46.620720] TX_ISP_SENSOR_ENUM_INPUT: No sensor at index 1 - returning error to end enumeration
[   46.620728] ISP IOCTL: cmd=0xc0045627 arg=0x7fad7f20
[   46.620738] ISP IOCTL: cmd=0x800856d5 arg=0x7fad7f18
[   46.620744] TX_ISP_GET_BUF: IOCTL handler called
[   46.620750] TX_ISP_GET_BUF: core_dev=805ee400, isp_dev=805e4000
[   46.620756] TX_ISP_GET_BUF: Using dimensions 1920x1080 from core device
[   46.620764] TX_ISP_GET_BUF: Returning buffer size=4685424, paddr=0x6300000
root@ing-wyze-cam3-a000 ~# dmesg 
[   46.796004] sensor_write: reg=0xfe val=0x00 SUCCESS
[   46.796018] sensor_write: reg=0x7b val=0x2a, client=8552cc00, adapter=i2c0, addr=0x37
[   46.796335] sensor_write: reg=0x7b val=0x2a SUCCESS
[   46.796344] sensor_write: reg=0x23 val=0x2d, client=8552cc00, adapter=i2c0, addr=0x37
[   46.796662] sensor_write: reg=0x23 val=0x2d SUCCESS
[   46.796672] sensor_write: reg=0xfe val=0x03, client=8552cc00, adapter=i2c0, addr=0x37
[   46.796983] sensor_write: reg=0xfe val=0x03 SUCCESS
[   46.796992] sensor_write: reg=0x01 val=0x27, client=8552cc00, adapter=i2c0, addr=0x37
[   46.797306] sensor_write: reg=0x01 val=0x27 SUCCESS
[   46.797314] sensor_write: reg=0x02 val=0x56, client=8552cc00, adapter=i2c0, addr=0x37
[   46.797628] sensor_write: reg=0x02 val=0x56 SUCCESS
[   46.797636] sensor_write: reg=0x03 val=0x8e, client=8552cc00, adapter=i2c0, addr=0x37
[   46.797948] sensor_write: reg=0x03 val=0x8e SUCCESS
[   46.797956] sensor_write: reg=0x12 val=0x80, client=8552cc00, adapter=i2c0, addr=0x37
[   46.804616] sensor_write: reg=0x12 val=0x80 SUCCESS
[   46.804633] sensor_write: reg=0x13 val=0x07, client=8552cc00, adapter=i2c0, addr=0x37
[   46.804948] sensor_write: reg=0x13 val=0x07 SUCCESS
[   46.804957] sensor_write: reg=0x15 val=0x12, client=8552cc00, adapter=i2c0, addr=0x37
[   46.805289] sensor_write: reg=0x15 val=0x12 SUCCESS
[   46.805298] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   46.805610] sensor_write: reg=0xfe val=0x00 SUCCESS
[   46.805634] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   46.805950] sensor_write: reg=0x3e val=0x91 SUCCESS
[   46.805957] sensor_write_array: Complete - wrote 137 registers, 0 errors
[   46.805964] *** SENSOR_WRITE_ARRAY RETURNED: 0 ***
[   46.805970] *** SENSOR_INIT: gc2053 initialization complete - marked as initialized ***
[   46.805978] Calling subdev 3 initialization (REVERSE ORDER - sensors first)
[   46.805984] *** SENSOR_INIT: gc2053 enable=1 ***
[   46.805990] *** SENSOR_INIT: gc2053 already initialized, skipping to prevent CSI PHY reconfiguration ***
[   46.805996] *** SENSOR_INIT: This prevents register reset that disables ISP/VIC interrupts ***
[   46.806003] Calling subdev 2 initialization (REVERSE ORDER - sensors first)
[   46.806010] *** ispcore_core_ops_init: ENTRY - sd=805ee400, on=1 ***
[   46.806017] *** ispcore_core_ops_init: sd->dev_priv=805ee400, sd->host_priv=805ee400 ***
[   46.806024] *** ispcore_core_ops_init: sd->pdev=c06b6650, sd->ops=c06b6d58 ***
[   46.806030] *** ispcore_core_ops_init: EXACT Binary Ninja MCP implementation, on=1 ***
[   46.806088] *** ispcore_core_ops_init: ISP device=805e4000 ****** ispcore_core_ops_init: Frame sync work structure initialized ***
[   46.806097] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   46.806105] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   46.806112] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   46.806117] ispcore_core_ops_init: Using sensor attributes from sensor: gc2053
[   46.806122] *** ispcore_core_ops_init: s0 (core_dev) = 805ee400 from sd->host_priv ***
[   46.806130] ispcore_core_ops_init: core_dev=805ee400, vic_dev=805ee000, vic_state=2
[   46.806134] *** ispcore_core_ops_init: INITIALIZING CORE (on=1) ****** ispcore_core_ops_init: Current vic_state (VIC state): 2 ***
[   46.806144] *** ispcore_core_ops_init: VIC in ready state (2) - normal initialization ****** ispcore_core_ops_init: VIC state check passed, proceeding with initialization ***
[   46.806152] *** VIC STATE 4: Initializing clocks for streaming ***
[   46.806159] *** Initializing CSI clocks (1 clocks) ***
[   46.806166] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 1 clocks
[   46.806172] isp_subdev_init_clks: Using platform data clock arrays: c06b6a70
[   46.806179] isp_subdev_init_clks: Using platform data clock configs
[   46.806186] Platform data clock[0]: name=csi, rate=65535
[   46.806196] Clock csi enabled successfully
[   46.829268] CPM clock gates configured
[   46.829282] isp_subdev_init_clks: Successfully initialized 1 clocks
[   46.829288] *** Initializing VIC clocks (2 clocks) ***
[   46.829294] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 2 clocks
[   46.829302] isp_subdev_init_clks: Using platform data clock arrays: c06b6b80
[   46.829310] isp_subdev_init_clks: Using platform data clock configs
[   46.829318] Platform data clock[0]: name=cgu_isp, rate=100000000
[   46.829330] Clock cgu_isp: set rate 100000000 Hz, result=0
[   46.829338] Clock cgu_isp enabled successfully
[   46.829344] Platform data clock[1]: name=isp, rate=65535
[   46.829352] Clock isp enabled successfully
[   46.859282] CPM clock gates configured
[   46.859296] isp_subdev_init_clks: Successfully initialized 2 clocks
[   46.859303] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   46.859314] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   46.859320] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   46.859326] *** ispcore_core_ops_init: BINARY NINJA MCP - Second tisp_init call (00079058) ***
[   46.859333] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   46.859339] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   46.859346] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 2200x1418 ***
[   46.859352] tisp_init: Initializing ISP hardware for sensor (2200x1418)
[   46.859358] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   46.859364] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   46.859369] tisp_event_init: Initializing ISP event system
[   46.859378] tisp_event_init: SAFE event system initialized with 20 nodes
[   46.859384] tisp_event_set_cb: Setting callback for event 4
[   46.859390] tisp_event_set_cb: Event 4 callback set to c068565c
[   46.859396] tisp_event_set_cb: Setting callback for event 5
[   46.859402] tisp_event_set_cb: Event 5 callback set to c0685b24
[   46.859408] tisp_event_set_cb: Setting callback for event 7
[   46.859414] tisp_event_set_cb: Event 7 callback set to c06856f0
[   46.859420] tisp_event_set_cb: Setting callback for event 9
[   46.859426] tisp_event_set_cb: Event 9 callback set to c0685778
[   46.859432] tisp_event_set_cb: Setting callback for event 8
[   46.859438] tisp_event_set_cb: Event 8 callback set to c068583c
[   46.859446] *** system_irq_func_set: Registered handler c067df34 at index 13 ***
[   46.867947] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   46.867964] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   46.868091] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   46.868098] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   46.868106] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   46.868112] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   46.868507] *** SYSTEM_REG_WRITE: reg[0xb018] = 0x40404040 (Binary Ninja EXACT) ***
[   46.868648] *** SYSTEM_REG_WRITE: reg[0xb01c] = 0x40404040 (Binary Ninja EXACT) ***
[   46.868750] *** SYSTEM_REG_WRITE: reg[0xb020] = 0x40404040 (Binary Ninja EXACT) ***
[   46.868758] *** SYSTEM_REG_WRITE: reg[0xb024] = 0x404040 (Binary Ninja EXACT) ***
[   46.868765] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   46.868772] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   46.869171] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   46.869184] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   46.869928] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   46.869941] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   46.869948] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   46.870334] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   46.870349] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   46.870477] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   46.870485] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   46.870606] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   46.870612] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   46.870618] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   46.871148] *** SYSTEM_REG_WRITE: reg[0x9804] = 0x3f00 (Binary Ninja EXACT) ***
[   46.871307] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   46.871315] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   46.871322] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   46.871328] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   46.871335] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   46.871342] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   46.871523] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   46.871529] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   46.871536] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   46.871543] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   46.871550] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   46.871556] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   46.871563] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   46.871570] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   46.871576] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   46.871583] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   46.871590] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   46.871596] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   46.871602] *** TUNING SYSTEM: VIC control registers 0x9ac0/0x9ac8 REMOVED - not in Binary Ninja reference ***
[   46.871841] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 2200x1418)
[   46.871849] *** SYSTEM_REG_WRITE: reg[0x4] = 0x898058a (Binary Ninja EXACT) ***
[   46.871856] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   46.871862] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   46.871868] *** tisp_init: ISP control register set to enable processing pipeline ***
[   46.872016] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   46.872056] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   46.872136] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   46.872173] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   46.872247] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   46.872285] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   46.872360] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   46.872398] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   46.872472] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   46.872509] *** tisp_init: ISP control mode set to 8 (streaming not active) ***
[   46.872582] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   46.872620] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=8, 0x800=1 ***
[   46.872694] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   46.872731] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   46.872831] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   46.872874] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   46.872910] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   46.872994] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   46.873031] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   46.873105] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   46.873144] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   46.873217] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   46.873255] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   46.873329] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   46.873368] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   46.873442] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   46.873481] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   46.873554] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   46.873592] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   46.873665] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   46.873702] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   46.873875] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   46.874072] *** This should eliminate green frames by enabling proper color processing ***
[   46.874122] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   46.874199] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   46.874238] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   46.874311] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   46.874349] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   46.874422] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   46.874460] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   46.874532] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   46.874570] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   46.874642] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   46.874679] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   46.874720] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   46.874726] *** tisp_init: Standard tuning parameters loaded successfully ***
[   46.874732] *** tisp_init: Custom tuning parameters loaded successfully ***
[   46.874738] tisp_set_csc_version: Setting CSC version 0
[   46.874745] *** SYSTEM_REG_WRITE: reg[0xc] = 0x80700008 (Binary Ninja EXACT) ***
[   46.874752] *** CRITICAL FIX: ISP bypass register set to EXACT reference value 0x80700008 - prevents hardware reset ***
[   46.874758] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   46.874764] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   46.874771] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   46.874776] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   46.874782] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   46.874788] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   46.874795] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   46.874800] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   46.874806] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   46.874813] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   46.874818] *** tisp_init: ISP processing pipeline fully enabled ***
[   46.874825] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   46.874832] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   46.874838] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   46.874844] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   46.874851] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   46.874856] tisp_init: ISP memory buffers configured
[   46.874862] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   46.874869] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   46.874878] tiziano_ae_params_refresh: Refreshing AE parameters
[   46.874890] tiziano_ae_params_refresh: AE parameters refreshed
[   46.874896] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   46.874902] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   46.874908] tiziano_ae_para_addr: Setting up AE parameter addresses
[   46.874913] tiziano_ae_para_addr: AE parameter addresses configured
[   46.874920] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   46.874926] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   46.874934] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   46.874940] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   46.874948] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   46.874954] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   46.874961] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   46.874968] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7d6814 (Binary Ninja EXACT) ***
[   46.874975] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   46.874982] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   46.874988] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   46.874995] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   46.875001] tiziano_ae_set_hardware_param: Parameters written to AE0
[   46.875007] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   46.875014] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   46.875020] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   46.875027] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   46.875034] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   46.875040] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   46.875047] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   46.875054] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   46.875060] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   46.875066] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   46.875073] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   46.875080] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   46.875086] tiziano_ae_set_hardware_param: Parameters written to AE1
[   46.875091] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   46.875100] *** system_irq_func_set: Registered handler c0686834 at index 10 ***
[   46.883397] *** system_irq_func_set: Registered handler c0686928 at index 27 ***
[   46.891432] *** system_irq_func_set: Registered handler c0686834 at index 26 ***
[   46.899130] *** system_irq_func_set: Registered handler c0686a10 at index 29 ***
[   46.907110] *** system_irq_func_set: Registered handler c068699c at index 28 ***
[   46.916448] *** system_irq_func_set: Registered handler c0686a84 at index 30 ***
[   46.924440] *** system_irq_func_set: Registered handler c0686ad8 at index 20 ***
[   46.932442] *** system_irq_func_set: Registered handler c0686b2c at index 18 ***
[   46.940509] *** system_irq_func_set: Registered handler c0686b80 at index 31 ***
[   46.949045] *** system_irq_func_set: Registered handler c0686bd4 at index 11 ***
[   46.957038] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   46.957266] tiziano_deflicker_expt: Generated 119 LUT entries
[   46.957305] tisp_event_set_cb: Setting callback for event 1
[   46.957379] tisp_event_set_cb: Event 1 callback set to c0686434
[   46.957416] tisp_event_set_cb: Setting callback for event 6
[   46.957489] tisp_event_set_cb: Event 6 callback set to c0685994
[   46.957526] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   46.957599] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   46.957637] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   46.957712] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   46.957750] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   46.957821] tiziano_awb_init: AWB hardware blocks enabled
[   46.957857] tiziano_gamma_init: Initializing Gamma processing
[   46.957929] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   46.959042] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   46.959195] tiziano_gib_init: Initializing GIB processing
[   46.959202] tiziano_lsc_init: Initializing LSC processing
[   46.960354] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   46.960484] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   46.960492] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   46.960500] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   46.960505] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   46.961588] tiziano_ccm_init: Initializing Color Correction Matrix
[   46.961722] tiziano_ccm_init: Using linear CCM parameters
[   46.961728] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   46.961736] jz_isp_ccm: EV=64, CT=9984
[   46.961742] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   46.961916] cm_control: saturation=128
[   46.962242] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   46.962255] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   46.962406] tiziano_ccm_init: CCM initialized successfully
[   46.962412] tiziano_dmsc_init: Initializing DMSC processing
[   46.962418] tiziano_sharpen_init: Initializing Sharpening
[   46.962424] tiziano_sharpen_init: Using linear sharpening parameters
[   46.962429] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   46.962810] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   46.962822] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   46.963086] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   46.965289] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   46.965301] tiziano_sharpen_init: Sharpening initialized successfully
[   46.965307] tiziano_sdns_init: Initializing SDNS processing
[   46.965316] tiziano_sdns_init: Using linear SDNS parameters
[   46.965322] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   46.965329] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   46.965335] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   46.965368] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   46.965375] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   46.965380] tiziano_sdns_init: SDNS processing initialized successfully
[   46.965387] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   46.965392] tiziano_mdns_init: Using linear MDNS parameters
[   46.965403] tiziano_mdns_init: MDNS processing initialized successfully
[   46.965408] tiziano_clm_init: Initializing CLM processing
[   46.965414] tiziano_dpc_init: Initializing DPC processing
[   46.965419] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   46.965425] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   46.965432] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   46.965438] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   46.965452] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   46.965459] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   46.965464] tiziano_hldc_init: Initializing HLDC processing
[   46.965471] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   46.965478] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   46.965484] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   46.965492] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   46.965498] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   46.965506] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   46.965512] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   46.965519] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   46.965526] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   46.965533] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   46.965540] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   46.965547] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   46.965554] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   46.965559] tiziano_adr_params_refresh: Refreshing ADR parameters
[   46.965565] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   46.965570] tiziano_adr_params_init: Initializing ADR parameter arrays
[   46.965578] tisp_adr_set_params: Writing ADR parameters to registers
[   46.965610] tisp_adr_set_params: ADR parameters written to hardware
[   46.965616] tisp_event_set_cb: Setting callback for event 18
[   46.965624] tisp_event_set_cb: Event 18 callback set to c0686b2c
[   46.965630] tisp_event_set_cb: Setting callback for event 2
[   46.965636] tisp_event_set_cb: Event 2 callback set to c0685630
[   46.965641] tiziano_adr_init: ADR processing initialized successfully
[   46.965648] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   46.965653] tiziano_bcsh_init: Initializing BCSH processing
[   46.965658] tiziano_ydns_init: Initializing YDNS processing
[   46.965663] tiziano_rdns_init: Initializing RDNS processing
[   46.965668] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   46.965684] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x5f88000 (Binary Ninja EXACT) ***
[   46.965691] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x5f89000 (Binary Ninja EXACT) ***
[   46.965698] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x5f8a000 (Binary Ninja EXACT) ***
[   46.965705] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x5f8b000 (Binary Ninja EXACT) ***
[   46.965712] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x5f8c000 (Binary Ninja EXACT) ***
[   46.965718] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x5f8c800 (Binary Ninja EXACT) ***
[   46.965726] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x5f8d000 (Binary Ninja EXACT) ***
[   46.965732] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x5f8d800 (Binary Ninja EXACT) ***
[   46.965739] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   46.965746] *** tisp_init: AE0 buffer allocated at 0x05f88000 ***
[   46.965752] *** CRITICAL FIX: data_b2f3c initialized to 0x85f88000 (prevents stack corruption) ***
[   46.965760] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x5f90000 (Binary Ninja EXACT) ***
[   46.965767] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x5f91000 (Binary Ninja EXACT) ***
[   46.965774] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x5f92000 (Binary Ninja EXACT) ***
[   46.965781] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x5f93000 (Binary Ninja EXACT) ***
[   46.965788] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x5f94000 (Binary Ninja EXACT) ***
[   46.965795] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x5f94800 (Binary Ninja EXACT) ***
[   46.965802] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x5f95000 (Binary Ninja EXACT) ***
[   46.965809] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x5f95800 (Binary Ninja EXACT) ***
[   46.965816] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   46.965822] *** tisp_init: AE1 buffer allocated at 0x05f90000 ***
[   46.965828] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   46.965834] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   46.965840] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   46.965846] *** tisp_init: Second ISP control mode set to 8 (streaming not active) ***
[   46.965853] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   46.965858] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   46.965866] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   46.965875] tiziano_ae_params_refresh: Refreshing AE parameters
[   46.965887] tiziano_ae_params_refresh: AE parameters refreshed
[   46.965893] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   46.965899] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   46.965904] tiziano_ae_para_addr: Setting up AE parameter addresses
[   46.965910] tiziano_ae_para_addr: AE parameter addresses configured
[   46.965916] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   46.965924] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   46.965930] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   46.965937] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   46.965944] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   46.965951] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   46.965958] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   46.965965] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7d6814 (Binary Ninja EXACT) ***
[   46.965972] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   46.965978] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   46.965985] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   46.965992] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   46.965998] tiziano_ae_set_hardware_param: Parameters written to AE0
[   46.966004] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   46.966011] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   46.966017] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   46.966024] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   46.966030] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   46.966037] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   46.966044] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   46.966050] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   46.966057] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   46.966064] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   46.966070] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   46.966076] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   46.966082] tiziano_ae_set_hardware_param: Parameters written to AE1
[   46.966088] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   46.966096] *** system_irq_func_set: Registered handler c0686834 at index 10 ***
[   46.974481] *** system_irq_func_set: Registered handler c0686928 at index 27 ***
[   46.983128] *** system_irq_func_set: Registered handler c0686834 at index 26 ***
[   46.991510] *** system_irq_func_set: Registered handler c0686a10 at index 29 ***
[   47.000036] *** system_irq_func_set: Registered handler c068699c at index 28 ***
[   47.008086] *** system_irq_func_set: Registered handler c0686a84 at index 30 ***
[   47.016422] *** system_irq_func_set: Registered handler c0686ad8 at index 20 ***
[   47.024814] *** system_irq_func_set: Registered handler c0686b2c at index 18 ***
[   47.033499] *** system_irq_func_set: Registered handler c0686b80 at index 31 ***
[   47.041870] *** system_irq_func_set: Registered handler c0686bd4 at index 11 ***
[   47.050202] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   47.050334] tiziano_deflicker_expt: Generated 119 LUT entries
[   47.050342] tisp_event_set_cb: Setting callback for event 1
[   47.050734] tisp_event_set_cb: Event 1 callback set to c0686434
[   47.050745] tisp_event_set_cb: Setting callback for event 6
[   47.050880] tisp_event_set_cb: Event 6 callback set to c0685994
[   47.050887] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   47.050893] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   47.051026] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   47.051430] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   47.051574] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   47.051580] tiziano_awb_init: AWB hardware blocks enabled
[   47.051586] tiziano_gamma_init: Initializing Gamma processing
[   47.051592] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   47.055625] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   47.056008] tiziano_gib_init: Initializing GIB processing
[   47.056140] tiziano_lsc_init: Initializing LSC processing
[   47.056146] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   47.056249] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   47.056257] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   47.056264] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   47.056270] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   47.056964] tiziano_ccm_init: Initializing Color Correction Matrix
[   47.056978] tiziano_ccm_init: Using linear CCM parameters
[   47.056984] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   47.056992] jz_isp_ccm: EV=64, CT=9984
[   47.056998] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   47.057004] cm_control: saturation=128
[   47.057010] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   47.057016] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   47.057021] tiziano_ccm_init: CCM initialized successfully
[   47.057026] tiziano_dmsc_init: Initializing DMSC processing
[   47.057032] tiziano_sharpen_init: Initializing Sharpening
[   47.057037] tiziano_sharpen_init: Using linear sharpening parameters
[   47.057043] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   47.057050] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   47.057056] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   47.057082] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   47.057090] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   47.057096] tiziano_sharpen_init: Sharpening initialized successfully
[   47.057101] tiziano_sdns_init: Initializing SDNS processing
[   47.057110] tiziano_sdns_init: Using linear SDNS parameters
[   47.057115] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   47.057122] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   47.057128] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   47.057161] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   47.057168] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   47.057173] tiziano_sdns_init: SDNS processing initialized successfully
[   47.057180] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   47.057185] tiziano_mdns_init: Using linear MDNS parameters
[   47.057195] tiziano_mdns_init: MDNS processing initialized successfully
[   47.057201] tiziano_clm_init: Initializing CLM processing
[   47.057206] tiziano_dpc_init: Initializing DPC processing
[   47.057212] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   47.057218] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   47.057224] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   47.057230] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   47.057245] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   47.057252] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   47.057257] tiziano_hldc_init: Initializing HLDC processing
[   47.057264] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   47.057270] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   47.057277] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   47.057284] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   47.057291] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   47.057298] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   47.057305] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   47.057312] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   47.057319] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   47.057326] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   47.057333] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   47.057340] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   47.057346] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   47.057352] tiziano_adr_params_refresh: Refreshing ADR parameters
[   47.057358] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   47.057364] tiziano_adr_params_init: Initializing ADR parameter arrays
[   47.057370] tisp_adr_set_params: Writing ADR parameters to registers
[   47.057402] tisp_adr_set_params: ADR parameters written to hardware
[   47.057408] tisp_event_set_cb: Setting callback for event 18
[   47.057416] tisp_event_set_cb: Event 18 callback set to c0686b2c
[   47.057422] tisp_event_set_cb: Setting callback for event 2
[   47.057428] tisp_event_set_cb: Event 2 callback set to c0685630
[   47.057434] tiziano_adr_init: ADR processing initialized successfully
[   47.057440] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   47.057445] tiziano_bcsh_init: Initializing BCSH processing
[   47.057450] tiziano_ydns_init: Initializing YDNS processing
[   47.057456] tiziano_rdns_init: Initializing RDNS processing
[   47.057461] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   47.057466] tisp_event_init: Initializing ISP event system
[   47.057474] tisp_event_init: SAFE event system initialized with 20 nodes
[   47.057480] tisp_event_set_cb: Setting callback for event 4
[   47.057486] tisp_event_set_cb: Event 4 callback set to c068565c
[   47.057492] tisp_event_set_cb: Setting callback for event 5
[   47.057498] tisp_event_set_cb: Event 5 callback set to c0685b24
[   47.057503] tisp_event_set_cb: Setting callback for event 7
[   47.057510] tisp_event_set_cb: Event 7 callback set to c06856f0
[   47.057515] tisp_event_set_cb: Setting callback for event 9
[   47.057522] tisp_event_set_cb: Event 9 callback set to c0685778
[   47.057527] tisp_event_set_cb: Setting callback for event 8
[   47.057534] tisp_event_set_cb: Event 8 callback set to c068583c
[   47.057539] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   47.057545] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   47.057551] tisp_param_operate_init: Initializing parameter operations
[   47.057558] tisp_netlink_init: Initializing netlink communication
[   47.057564] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   47.057596] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   47.057608] tisp_netlink_init: Netlink socket created successfully
[   47.057614] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   47.057620] tisp_code_create_tuning_node: Device already created, skipping
[   47.057626] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   47.057632] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   47.057639] *** ispcore_core_ops_init: Second tisp_init completed ***
[   47.057644] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[   47.057653] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[   47.057662] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   47.057667] *** ISP CORE: Hardware interrupt generation ENABLED ***
[   47.057673] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   47.057679] *** ispcore_core_ops_init: ISP Core hardware interrupts ENABLED - Frame sync should now work! ***
[   47.057684] ispcore_core_ops_init: Complete, result=0<6>[   47.057691] Calling subdev 1 initialization (REVERSE ORDER - sensors first)
[   47.057698] *** vic_core_ops_init: ENTRY - sd=805ee000, enable=1 ***
[   47.057704] *** vic_core_ops_init: vic_dev=805ee000, current state check ***
[   47.057710] *** vic_core_ops_init: current_state=3, enable=1 ***
[   47.057717] Calling subdev 0 initialization (REVERSE ORDER - sensors first)
[   47.057725] csi_core_ops_init: sd=85219400, csi_dev=85219400, enable=1
[   47.057730] *** VIC device final state set to 2 (fully activated) ***
[   47.057736] *** ispcore_activate_module: SUCCESS - ALL REGISTER WRITES SHOULD NOW BE TRIGGERED ***
[   47.057742] *** tx_isp_video_s_stream: ispcore_activate_module completed ***
[   47.057748] *** tx_isp_video_s_stream: VIC state is 2, calling VIC core->init ***
[   47.057754] *** vic_core_ops_init: ENTRY - sd=805ee000, enable=1 ***
[   47.057760] *** vic_core_ops_init: vic_dev=805ee000, current state check ***
[   47.057766] *** vic_core_ops_init: current_state=2, enable=1 ***
[   47.057772] *** vic_core_ops_init: Calling VIC hardware init for interrupt setup ***
[   47.057778] *** VIC HW INIT: Using PRIMARY VIC space for interrupt configuration ***
[   47.057784] *** VIC HW INIT: Configuring ACTUAL VIC interrupt registers (0x1e0-0x1f4 range) ***
[   47.057790] *** VIC HW INIT: Basic interrupt clearing complete - full interrupt config happens later ***
[   47.057796] *** VIC HW INIT: Interrupt handler registration SKIPPED - main module handles IRQ 38 routing ***
[   47.057804] *** VIC HW INIT VERIFY: 0x00=0x00000000 (should be 0), 0x20=0x00000000 (should be 0) ***
[   47.057810] *** VIC HW INIT: SUCCESS - Basic VIC hardware initialization complete ***
[   47.057816] *** VIC HW INIT: Hardware interrupt configuration complete - ready for main module IRQ routing ***
[   47.057822] *** vic_core_ops_init: VIC hardware init SUCCESS - interrupts should now work ***
[   47.057828] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   47.057833] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   47.057838] tx_vic_enable_irq: Calling VIC interrupt callback
[   47.057845] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   47.057852] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   47.057858] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   47.057868] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   47.057874] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   47.057882] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   47.057888] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   47.057895] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   47.057901] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   47.057906] *** tx_vic_enable_irq: completed successfully ***
[   47.057912] *** tx_isp_video_s_stream: VIC core->init completed, VIC should now be state 3 ***
[   47.057918] *** tx_isp_video_s_stream: Core initialization complete, proceeding with subdev streaming ***
[   47.057924] *** tx_isp_video_s_stream: CRITICAL FIX - Initializing all subdevs before streaming ***
[   47.057933] *** tx_isp_video_s_stream: Initializing Core subdev ***
[   47.057940] *** ispcore_core_ops_init: ENTRY - sd=805ee400, on=1 ***
[   47.057947] *** ispcore_core_ops_init: sd->dev_priv=805ee400, sd->host_priv=805ee400 ***
[   47.057954] *** ispcore_core_ops_init: sd->pdev=c06b6650, sd->ops=c06b6d58 ***
[   47.057960] *** ispcore_core_ops_init: EXACT Binary Ninja MCP implementation, on=1 ***
[   47.057964] *** ispcore_core_ops_init: ISP device=805e4000 ****** ispcore_core_ops_init: Frame sync work structure initialized ***
[   47.057973] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   47.057982] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   47.057989] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   47.057994] ispcore_core_ops_init: Using sensor attributes from sensor: gc2053
[   47.058000] *** ispcore_core_ops_init: s0 (core_dev) = 805ee400 from sd->host_priv ***
[   47.058008] ispcore_core_ops_init: core_dev=805ee400, vic_dev=805ee000, vic_state=3
[   47.058012] *** ispcore_core_ops_init: INITIALIZING CORE (on=1) ****** ispcore_core_ops_init: Current vic_state (VIC state): 3 ***
[   47.058021] *** ispcore_core_ops_init: VIC in ready state (3) - normal initialization ****** ispcore_core_ops_init: VIC state check passed, proceeding with initialization ***
[   47.058029] *** VIC STATE 4: Initializing clocks for streaming ***
[   47.058035] *** Initializing CSI clocks (1 clocks) ***
[   47.058042] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 1 clocks
[   47.058048] isp_subdev_init_clks: Using platform data clock arrays: c06b6a70
[   47.058054] isp_subdev_init_clks: Using platform data clock configs
[   47.058060] Platform data clock[0]: name=csi, rate=65535
[   47.058070] Clock csi enabled successfully
[   47.079267] CPM clock gates configured
[   47.079280] isp_subdev_init_clks: Successfully initialized 1 clocks
[   47.079288] *** Initializing VIC clocks (2 clocks) ***
[   47.079294] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 2 clocks
[   47.079301] isp_subdev_init_clks: Using platform data clock arrays: c06b6b80
[   47.079309] isp_subdev_init_clks: Using platform data clock configs
[   47.079317] Platform data clock[0]: name=cgu_isp, rate=100000000
[   47.079326] Clock cgu_isp: set rate 100000000 Hz, result=0
[   47.079332] Clock cgu_isp enabled successfully
[   47.079339] Platform data clock[1]: name=isp, rate=65535
[   47.079346] Clock isp enabled successfully
[   47.109249] CPM clock gates configured
[   47.109263] isp_subdev_init_clks: Successfully initialized 2 clocks
[   47.109269] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   47.109280] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
d[   47.109287] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   47.109293] *** ispcore_core_ops_init: BINARY NINJA MCP - Second tisp_init call (00079058) ***
[   47.109299] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   47.109304] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   47.109311] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 2200x1418 ***
[   47.109318] tisp_init: Initializing ISP hardware for sensor (2200x1418)
[   47.109323] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   47.109329] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   47.109334] tisp_event_init: Initializing ISP event system
[   47.109342] tisp_event_init: SAFE event system initialized with 20 nodes
[   47.109348] tisp_event_set_cb: Setting callback for event 4
[   47.109354] tisp_event_set_cb: Event 4 callback set to c068565c
[   47.109360] tisp_event_set_cb: Setting callback for event 5
[   47.109366] tisp_event_set_cb: Event 5 callback set to c0685b24
[   47.109372] tisp_event_set_cb: Setting callback for event 7
[   47.109378] tisp_event_set_cb: Event 7 callback set to c06856f0
[   47.109384] tisp_event_set_cb: Setting callback for event 9
[   47.109390] tisp_event_set_cb: Event 9 callback set to c0685778
[   47.109395] tisp_event_set_cb: Setting callback for event 8
[   47.109402] tisp_event_set_cb: Event 8 callback set to c068583c
[   47.109409] *** system_irq_func_set: Registered handler c067df34 at index 13 ***
[   47.127389] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   47.127405] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   47.127413] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   47.127419] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   47.127427] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   47.127433] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   47.127440] *** SYSTEM_REG_WRITE: reg[0xb018] = 0x40404040 (Binary Ninja EXACT) ***
[   47.127447] *** SYSTEM_REG_WRITE: reg[0xb01c] = 0x40404040 (Binary Ninja EXACT) ***
[   47.127454] *** SYSTEM_REG_WRITE: reg[0xb020] = 0x40404040 (Binary Ninja EXACT) ***
[   47.127461] *** SYSTEM_REG_WRITE: reg[0xb024] = 0x404040 (Binary Ninja EXACT) ***
[   47.127468] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   47.127475] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   47.127481] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   47.127489] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   47.127495] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   47.127502] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   47.127509] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   47.127515] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   47.127521] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   47.127528] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   47.127535] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   47.127541] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   47.127547] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
m[   47.127553] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   47.127559] *** SYSTEM_REG_WRITE: reg[0x9804] = 0x3f00 (Binary Ninja EXACT) ***
[   47.127566] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   47.127573] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   47.127579] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   47.127586] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   47.127593] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   47.127600] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   47.127607] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   47.127612] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   47.127619] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   47.127626] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   47.127633] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   47.127639] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   47.127646] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   47.127653] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   47.127659] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   47.127666] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   47.127673] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   47.127679] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   47.127685] *** TUNING SYSTEM: VIC control registers 0x9ac0/0x9ac8 REMOVED - not in Binary Ninja reference ***
[   47.127693] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 2200x1418)
[   47.127700] *** SYSTEM_REG_WRITE: reg[0x4] = 0x898058a (Binary Ninja EXACT) ***
[   47.127707] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   47.127713] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   47.127719] *** tisp_init: ISP control register set to enable processing pipeline ***
[   47.127725] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   47.127731] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   47.127738] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   47.127743] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   47.127750] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   47.127757] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   47.127767] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=805e4000 ***
[   47.135218] *** isp_irq_handle: IRQ 37 received, dev_id=805e4000 ***
[   47.135223] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   47.142942] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=805e4000 ***
[   47.150394] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   47.158115] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
[   47.165660] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   47.171853] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   47.179926] *** ISP CORE: ABOUT TO CALL callback[10] for bit 10 - callback=c0686834 ***
[   47.188178] *** ISP CORE: CALLING CALLBACK NOW - IF SYSTEM HANGS, THIS CALLBACK IS THE PROBLEM ***
[   47.197423] ae0_interrupt_static: Processing AE0 static interrupt
[   47.197430] *** AE0: Processing interrupt using register-based statistics (Binary Ninja MCP) ***
[   47.197435] ae0_interrupt_static: AE0 static interrupt processed
[   47.197442] *** ISP CORE: CALLBACK RETURNED SUCCESSFULLY - callback[10] returned 1 ***
[   47.205607] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
[   47.226634] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   47.226649] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   47.226657] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   47.226662] *** tisp_init: ISP control mode set to 8 (streaming not active) ***
[   47.226669] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   47.226677] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=8, 0x800=1 ***
[   47.226683] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   47.226690] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   47.226697] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   47.226704] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   47.226709] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   47.226716] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   47.226723] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   47.226729] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   47.226736] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   47.226743] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   47.226749] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   47.226756] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   47.226765] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   47.226772] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   47.226779] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   47.226785] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   47.226792] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   47.226799] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   47.226804] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   47.226810] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   47.226815] *** This should eliminate green frames by enabling proper color processing ***
[   47.226822] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   47.226829] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   47.226835] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   47.226842] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   47.226849] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   47.226855] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   47.226862] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   47.226869] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   47.226875] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   47.226881] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   47.226886] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   47.226891] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   47.226897] *** tisp_init: Standard tuning parameters loaded successfully ***
[   47.226903] *** tisp_init: Custom tuning parameters loaded successfully ***
[   47.226909] tisp_set_csc_version: Setting CSC version 0
[   47.226915] *** SYSTEM_REG_WRITE: reg[0xc] = 0x80700008 (Binary Ninja EXACT) ***
[   47.226922] *** CRITICAL FIX: ISP bypass register set to EXACT reference value 0x80700008 - prevents hardware reset ***
[   47.226928] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   47.226934] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   47.226941] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   47.226947] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   47.226952] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   47.226959] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   47.226965] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   47.226971] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   47.226977] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   47.226983] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   47.226989] *** tisp_init: ISP processing pipeline fully enabled ***
[   47.226995] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   47.227002] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   47.227008] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   47.227015] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   47.227021] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   47.227027] tisp_init: ISP memory buffers configured
[   47.227032] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   47.227039] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   47.227049] tiziano_ae_params_refresh: Refreshing AE parameters
[   47.227060] tiziano_ae_params_refresh: AE parameters refreshed
[   47.227065] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   47.227071] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   47.227077] tiziano_ae_para_addr: Setting up AE parameter addresses
[   47.227082] tiziano_ae_para_addr: AE parameter addresses configured
[   47.227089] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   47.227095] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   47.227102] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   47.227109] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   47.227116] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   47.227123] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   47.227130] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   47.227137] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7d6814 (Binary Ninja EXACT) ***
[   47.227143] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   47.227151] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   47.227157] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   47.227164] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   47.227170] tiziano_ae_set_hardware_param: Parameters written to AE0
[   47.227176] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   47.227183] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   47.227189] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   47.227196] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   47.227203] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   47.227209] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   47.227216] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   47.227223] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   47.227229] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   47.227235] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   47.227242] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   47.227249] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   47.227255] tiziano_ae_set_hardware_param: Parameters written to AE1
[   47.227260] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   47.227268] *** system_irq_func_set: Registered handler c0686834 at index 10 ***
[   47.238732] *** system_irq_func_set: Registered handler c0686928 at index 27 ***
[   47.254261] *** system_irq_func_set: Registered handler c0686834 at index 26 ***
[   47.265264] *** system_irq_func_set: Registered handler c0686a10 at index 29 ***
[   47.276390] *** system_irq_func_set: Registered handler c068699c at index 28 ***
[   47.287661] *** system_irq_func_set: Registered handler c0686a84 at index 30 ***
[   47.298946] *** system_irq_func_set: Registered handler c0686ad8 at index 20 ***
root@ing-wyze-cam3-a000 ~# dmesg 
[   47.057161] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   47.057168] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   47.057173] tiziano_sdns_init: SDNS processing initialized successfully
[   47.057180] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   47.057185] tiziano_mdns_init: Using linear MDNS parameters
[   47.057195] tiziano_mdns_init: MDNS processing initialized successfully
[   47.057201] tiziano_clm_init: Initializing CLM processing
[   47.057206] tiziano_dpc_init: Initializing DPC processing
[   47.057212] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   47.057218] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   47.057224] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   47.057230] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   47.057245] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   47.057252] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   47.057257] tiziano_hldc_init: Initializing HLDC processing
[   47.057264] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   47.057270] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   47.057277] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   47.057284] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   47.057291] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   47.057298] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   47.057305] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   47.057312] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   47.057319] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   47.057326] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   47.057333] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   47.057340] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   47.057346] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   47.057352] tiziano_adr_params_refresh: Refreshing ADR parameters
[   47.057358] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   47.057364] tiziano_adr_params_init: Initializing ADR parameter arrays
[   47.057370] tisp_adr_set_params: Writing ADR parameters to registers
[   47.057402] tisp_adr_set_params: ADR parameters written to hardware
[   47.057408] tisp_event_set_cb: Setting callback for event 18
[   47.057416] tisp_event_set_cb: Event 18 callback set to c0686b2c
[   47.057422] tisp_event_set_cb: Setting callback for event 2
[   47.057428] tisp_event_set_cb: Event 2 callback set to c0685630
[   47.057434] tiziano_adr_init: ADR processing initialized successfully
[   47.057440] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   47.057445] tiziano_bcsh_init: Initializing BCSH processing
[   47.057450] tiziano_ydns_init: Initializing YDNS processing
[   47.057456] tiziano_rdns_init: Initializing RDNS processing
[   47.057461] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   47.057466] tisp_event_init: Initializing ISP event system
[   47.057474] tisp_event_init: SAFE event system initialized with 20 nodes
[   47.057480] tisp_event_set_cb: Setting callback for event 4
[   47.057486] tisp_event_set_cb: Event 4 callback set to c068565c
[   47.057492] tisp_event_set_cb: Setting callback for event 5
[   47.057498] tisp_event_set_cb: Event 5 callback set to c0685b24
[   47.057503] tisp_event_set_cb: Setting callback for event 7
[   47.057510] tisp_event_set_cb: Event 7 callback set to c06856f0
[   47.057515] tisp_event_set_cb: Setting callback for event 9
[   47.057522] tisp_event_set_cb: Event 9 callback set to c0685778
[   47.057527] tisp_event_set_cb: Setting callback for event 8
[   47.057534] tisp_event_set_cb: Event 8 callback set to c068583c
[   47.057539] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   47.057545] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   47.057551] tisp_param_operate_init: Initializing parameter operations
[   47.057558] tisp_netlink_init: Initializing netlink communication
[   47.057564] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   47.057596] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   47.057608] tisp_netlink_init: Netlink socket created successfully
[   47.057614] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   47.057620] tisp_code_create_tuning_node: Device already created, skipping
[   47.057626] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   47.057632] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   47.057639] *** ispcore_core_ops_init: Second tisp_init completed ***
[   47.057644] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[   47.057653] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[   47.057662] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   47.057667] *** ISP CORE: Hardware interrupt generation ENABLED ***
[   47.057673] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   47.057679] *** ispcore_core_ops_init: ISP Core hardware interrupts ENABLED - Frame sync should now work! ***
[   47.057684] ispcore_core_ops_init: Complete, result=0<6>[   47.057691] Calling subdev 1 initialization (REVERSE ORDER - sensors first)
[   47.057698] *** vic_core_ops_init: ENTRY - sd=805ee000, enable=1 ***
[   47.057704] *** vic_core_ops_init: vic_dev=805ee000, current state check ***
[   47.057710] *** vic_core_ops_init: current_state=3, enable=1 ***
[   47.057717] Calling subdev 0 initialization (REVERSE ORDER - sensors first)
[   47.057725] csi_core_ops_init: sd=85219400, csi_dev=85219400, enable=1
[   47.057730] *** VIC device final state set to 2 (fully activated) ***
[   47.057736] *** ispcore_activate_module: SUCCESS - ALL REGISTER WRITES SHOULD NOW BE TRIGGERED ***
[   47.057742] *** tx_isp_video_s_stream: ispcore_activate_module completed ***
[   47.057748] *** tx_isp_video_s_stream: VIC state is 2, calling VIC core->init ***
[   47.057754] *** vic_core_ops_init: ENTRY - sd=805ee000, enable=1 ***
[   47.057760] *** vic_core_ops_init: vic_dev=805ee000, current state check ***
[   47.057766] *** vic_core_ops_init: current_state=2, enable=1 ***
[   47.057772] *** vic_core_ops_init: Calling VIC hardware init for interrupt setup ***
[   47.057778] *** VIC HW INIT: Using PRIMARY VIC space for interrupt configuration ***
[   47.057784] *** VIC HW INIT: Configuring ACTUAL VIC interrupt registers (0x1e0-0x1f4 range) ***
[   47.057790] *** VIC HW INIT: Basic interrupt clearing complete - full interrupt config happens later ***
[   47.057796] *** VIC HW INIT: Interrupt handler registration SKIPPED - main module handles IRQ 38 routing ***
[   47.057804] *** VIC HW INIT VERIFY: 0x00=0x00000000 (should be 0), 0x20=0x00000000 (should be 0) ***
[   47.057810] *** VIC HW INIT: SUCCESS - Basic VIC hardware initialization complete ***
[   47.057816] *** VIC HW INIT: Hardware interrupt configuration complete - ready for main module IRQ routing ***
[   47.057822] *** vic_core_ops_init: VIC hardware init SUCCESS - interrupts should now work ***
[   47.057828] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   47.057833] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   47.057838] tx_vic_enable_irq: Calling VIC interrupt callback
[   47.057845] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   47.057852] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   47.057858] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   47.057868] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   47.057874] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   47.057882] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   47.057888] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   47.057895] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   47.057901] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   47.057906] *** tx_vic_enable_irq: completed successfully ***
[   47.057912] *** tx_isp_video_s_stream: VIC core->init completed, VIC should now be state 3 ***
[   47.057918] *** tx_isp_video_s_stream: Core initialization complete, proceeding with subdev streaming ***
[   47.057924] *** tx_isp_video_s_stream: CRITICAL FIX - Initializing all subdevs before streaming ***
[   47.057933] *** tx_isp_video_s_stream: Initializing Core subdev ***
[   47.057940] *** ispcore_core_ops_init: ENTRY - sd=805ee400, on=1 ***
[   47.057947] *** ispcore_core_ops_init: sd->dev_priv=805ee400, sd->host_priv=805ee400 ***
[   47.057954] *** ispcore_core_ops_init: sd->pdev=c06b6650, sd->ops=c06b6d58 ***
[   47.057960] *** ispcore_core_ops_init: EXACT Binary Ninja MCP implementation, on=1 ***
[   47.057964] *** ispcore_core_ops_init: ISP device=805e4000 ****** ispcore_core_ops_init: Frame sync work structure initialized ***
[   47.057973] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   47.057982] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   47.057989] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   47.057994] ispcore_core_ops_init: Using sensor attributes from sensor: gc2053
[   47.058000] *** ispcore_core_ops_init: s0 (core_dev) = 805ee400 from sd->host_priv ***
[   47.058008] ispcore_core_ops_init: core_dev=805ee400, vic_dev=805ee000, vic_state=3
[   47.058012] *** ispcore_core_ops_init: INITIALIZING CORE (on=1) ****** ispcore_core_ops_init: Current vic_state (VIC state): 3 ***
[   47.058021] *** ispcore_core_ops_init: VIC in ready state (3) - normal initialization ****** ispcore_core_ops_init: VIC state check passed, proceeding with initialization ***
[   47.058029] *** VIC STATE 4: Initializing clocks for streaming ***
[   47.058035] *** Initializing CSI clocks (1 clocks) ***
[   47.058042] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 1 clocks
[   47.058048] isp_subdev_init_clks: Using platform data clock arrays: c06b6a70
[   47.058054] isp_subdev_init_clks: Using platform data clock configs
[   47.058060] Platform data clock[0]: name=csi, rate=65535
[   47.058070] Clock csi enabled successfully
[   47.079267] CPM clock gates configured
[   47.079280] isp_subdev_init_clks: Successfully initialized 1 clocks
[   47.079288] *** Initializing VIC clocks (2 clocks) ***
[   47.079294] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 2 clocks
[   47.079301] isp_subdev_init_clks: Using platform data clock arrays: c06b6b80
[   47.079309] isp_subdev_init_clks: Using platform data clock configs
[   47.079317] Platform data clock[0]: name=cgu_isp, rate=100000000
[   47.079326] Clock cgu_isp: set rate 100000000 Hz, result=0
[   47.079332] Clock cgu_isp enabled successfully
[   47.079339] Platform data clock[1]: name=isp, rate=65535
[   47.079346] Clock isp enabled successfully
[   47.109249] CPM clock gates configured
[   47.109263] isp_subdev_init_clks: Successfully initialized 2 clocks
[   47.109269] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   47.109280] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   47.109287] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   47.109293] *** ispcore_core_ops_init: BINARY NINJA MCP - Second tisp_init call (00079058) ***
[   47.109299] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   47.109304] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   47.109311] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 2200x1418 ***
[   47.109318] tisp_init: Initializing ISP hardware for sensor (2200x1418)
[   47.109323] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   47.109329] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   47.109334] tisp_event_init: Initializing ISP event system
[   47.109342] tisp_event_init: SAFE event system initialized with 20 nodes
[   47.109348] tisp_event_set_cb: Setting callback for event 4
[   47.109354] tisp_event_set_cb: Event 4 callback set to c068565c
[   47.109360] tisp_event_set_cb: Setting callback for event 5
[   47.109366] tisp_event_set_cb: Event 5 callback set to c0685b24
[   47.109372] tisp_event_set_cb: Setting callback for event 7
[   47.109378] tisp_event_set_cb: Event 7 callback set to c06856f0
[   47.109384] tisp_event_set_cb: Setting callback for event 9
[   47.109390] tisp_event_set_cb: Event 9 callback set to c0685778
[   47.109395] tisp_event_set_cb: Setting callback for event 8
[   47.109402] tisp_event_set_cb: Event 8 callback set to c068583c
[   47.109409] *** system_irq_func_set: Registered handler c067df34 at index 13 ***
[   47.127389] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   47.127405] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   47.127413] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   47.127419] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   47.127427] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   47.127433] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   47.127440] *** SYSTEM_REG_WRITE: reg[0xb018] = 0x40404040 (Binary Ninja EXACT) ***
[   47.127447] *** SYSTEM_REG_WRITE: reg[0xb01c] = 0x40404040 (Binary Ninja EXACT) ***
[   47.127454] *** SYSTEM_REG_WRITE: reg[0xb020] = 0x40404040 (Binary Ninja EXACT) ***
[   47.127461] *** SYSTEM_REG_WRITE: reg[0xb024] = 0x404040 (Binary Ninja EXACT) ***
[   47.127468] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   47.127475] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   47.127481] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   47.127489] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   47.127495] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   47.127502] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   47.127509] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   47.127515] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   47.127521] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   47.127528] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   47.127535] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   47.127541] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   47.127547] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   47.127553] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   47.127559] *** SYSTEM_REG_WRITE: reg[0x9804] = 0x3f00 (Binary Ninja EXACT) ***
[   47.127566] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   47.127573] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   47.127579] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   47.127586] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   47.127593] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   47.127600] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   47.127607] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   47.127612] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   47.127619] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   47.127626] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   47.127633] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   47.127639] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   47.127646] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   47.127653] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   47.127659] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   47.127666] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   47.127673] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   47.127679] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   47.127685] *** TUNING SYSTEM: VIC control registers 0x9ac0/0x9ac8 REMOVED - not in Binary Ninja reference ***
[   47.127693] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 2200x1418)
[   47.127700] *** SYSTEM_REG_WRITE: reg[0x4] = 0x898058a (Binary Ninja EXACT) ***
[   47.127707] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   47.127713] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   47.127719] *** tisp_init: ISP control register set to enable processing pipeline ***
[   47.127725] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   47.127731] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   47.127738] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   47.127743] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   47.127750] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   47.127757] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   47.127767] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=805e4000 ***
[   47.135218] *** isp_irq_handle: IRQ 37 received, dev_id=805e4000 ***
[   47.135223] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   47.142942] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=805e4000 ***
[   47.150394] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   47.158115] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
[   47.165660] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   47.171853] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   47.179926] *** ISP CORE: ABOUT TO CALL callback[10] for bit 10 - callback=c0686834 ***
[   47.188178] *** ISP CORE: CALLING CALLBACK NOW - IF SYSTEM HANGS, THIS CALLBACK IS THE PROBLEM ***
[   47.197423] ae0_interrupt_static: Processing AE0 static interrupt
[   47.197430] *** AE0: Processing interrupt using register-based statistics (Binary Ninja MCP) ***
[   47.197435] ae0_interrupt_static: AE0 static interrupt processed
[   47.197442] *** ISP CORE: CALLBACK RETURNED SUCCESSFULLY - callback[10] returned 1 ***
[   47.205607] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
[   47.226634] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   47.226649] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   47.226657] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   47.226662] *** tisp_init: ISP control mode set to 8 (streaming not active) ***
[   47.226669] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   47.226677] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=8, 0x800=1 ***
[   47.226683] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   47.226690] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   47.226697] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   47.226704] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   47.226709] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   47.226716] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   47.226723] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   47.226729] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   47.226736] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   47.226743] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   47.226749] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   47.226756] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   47.226765] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   47.226772] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   47.226779] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   47.226785] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   47.226792] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   47.226799] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   47.226804] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   47.226810] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   47.226815] *** This should eliminate green frames by enabling proper color processing ***
[   47.226822] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   47.226829] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   47.226835] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   47.226842] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   47.226849] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   47.226855] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   47.226862] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   47.226869] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   47.226875] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   47.226881] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   47.226886] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   47.226891] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   47.226897] *** tisp_init: Standard tuning parameters loaded successfully ***
[   47.226903] *** tisp_init: Custom tuning parameters loaded successfully ***
[   47.226909] tisp_set_csc_version: Setting CSC version 0
[   47.226915] *** SYSTEM_REG_WRITE: reg[0xc] = 0x80700008 (Binary Ninja EXACT) ***
[   47.226922] *** CRITICAL FIX: ISP bypass register set to EXACT reference value 0x80700008 - prevents hardware reset ***
[   47.226928] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   47.226934] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   47.226941] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   47.226947] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   47.226952] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   47.226959] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   47.226965] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   47.226971] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   47.226977] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   47.226983] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   47.226989] *** tisp_init: ISP processing pipeline fully enabled ***
[   47.226995] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   47.227002] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   47.227008] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   47.227015] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   47.227021] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   47.227027] tisp_init: ISP memory buffers configured
[   47.227032] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   47.227039] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   47.227049] tiziano_ae_params_refresh: Refreshing AE parameters
[   47.227060] tiziano_ae_params_refresh: AE parameters refreshed
[   47.227065] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   47.227071] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   47.227077] tiziano_ae_para_addr: Setting up AE parameter addresses
[   47.227082] tiziano_ae_para_addr: AE parameter addresses configured
[   47.227089] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   47.227095] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   47.227102] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   47.227109] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   47.227116] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   47.227123] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   47.227130] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   47.227137] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7d6814 (Binary Ninja EXACT) ***
[   47.227143] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   47.227151] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   47.227157] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   47.227164] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   47.227170] tiziano_ae_set_hardware_param: Parameters written to AE0
[   47.227176] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   47.227183] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   47.227189] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   47.227196] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   47.227203] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   47.227209] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   47.227216] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   47.227223] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   47.227229] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   47.227235] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   47.227242] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   47.227249] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   47.227255] tiziano_ae_set_hardware_param: Parameters written to AE1
[   47.227260] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   47.227268] *** system_irq_func_set: Registered handler c0686834 at index 10 ***
[   47.238732] *** system_irq_func_set: Registered handler c0686928 at index 27 ***
[   47.254261] *** system_irq_func_set: Registered handler c0686834 at index 26 ***
[   47.265264] *** system_irq_func_set: Registered handler c0686a10 at index 29 ***
[   47.276390] *** system_irq_func_set: Registered handler c068699c at index 28 ***
[   47.287661] *** system_irq_func_set: Registered handler c0686a84 at index 30 ***
[   47.298946] *** system_irq_func_set: Registered handler c0686ad8 at index 20 ***
[   47.329083] *** system_irq_func_set: Registered handler c0686b2c at index 18 ***
[   47.347123] *** system_irq_func_set: Registered handler c0686b80 at index 31 ***
[   47.367307] *** system_irq_func_set: Registered handler c0686bd4 at index 11 ***
[   47.377389] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   47.377409] tiziano_deflicker_expt: Generated 119 LUT entries
[   47.377416] tisp_event_set_cb: Setting callback for event 1
[   47.377423] tisp_event_set_cb: Event 1 callback set to c0686434
[   47.377429] tisp_event_set_cb: Setting callback for event 6
[   47.377435] tisp_event_set_cb: Event 6 callback set to c0685994
[   47.377441] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   47.377446] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   47.377453] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   47.377461] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   47.377468] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   47.377473] tiziano_awb_init: AWB hardware blocks enabled
[   47.377479] tiziano_gamma_init: Initializing Gamma processing
[   47.377484] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   47.377543] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   47.377549] tiziano_gib_init: Initializing GIB processing
[   47.377555] tiziano_lsc_init: Initializing LSC processing
[   47.377559] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   47.377566] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   47.377573] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   47.377580] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   47.377585] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   47.377642] tiziano_ccm_init: Initializing Color Correction Matrix
[   47.377648] tiziano_ccm_init: Using linear CCM parameters
[   47.377653] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   47.377660] jz_isp_ccm: EV=64, CT=9984
[   47.377667] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   47.377673] cm_control: saturation=128
[   47.377678] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   47.377685] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   47.377690] tiziano_ccm_init: CCM initialized successfully
[   47.377695] tiziano_dmsc_init: Initializing DMSC processing
[   47.377701] tiziano_sharpen_init: Initializing Sharpening
[   47.377706] tiziano_sharpen_init: Using linear sharpening parameters
[   47.377711] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   47.377719] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   47.377725] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   47.377751] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   47.377758] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   47.377763] tiziano_sharpen_init: Sharpening initialized successfully
[   47.377769] tiziano_sdns_init: Initializing SDNS processing
[   47.377777] tiziano_sdns_init: Using linear SDNS parameters
d[   47.377783] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   47.377789] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   47.377795] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   47.377828] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   47.377835] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   47.377840] tiziano_sdns_init: SDNS processing initialized successfully
[   47.377847] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   47.377852] tiziano_mdns_init: Using linear MDNS parameters
[   47.377862] tiziano_mdns_init: MDNS processing initialized successfully
[   47.377867] tiziano_clm_init: Initializing CLM processing
[   47.377873] tiziano_dpc_init: Initializing DPC processing
[   47.377878] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   47.377884] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   47.377891] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   47.377897] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   47.377911] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   47.377918] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   47.377923] tiziano_hldc_init: Initializing HLDC processing
[   47.377930] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   47.377937] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   47.377943] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   47.377950] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   47.377957] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   47.377964] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   47.377971] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   47.377978] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   47.377985] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   47.377992] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   47.377999] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   47.378005] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   47.378012] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   47.378018] tiziano_adr_params_refresh: Refreshing ADR parameters
[   47.378024] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   47.378029] tiziano_adr_params_init: Initializing ADR parameter arrays
[   47.378036] tisp_adr_set_params: Writing ADR parameters to registers
[   47.378068] tisp_adr_set_params: ADR parameters written to hardware
[   47.378074] tisp_event_set_cb: Setting callback for event 18
[   47.378081] tisp_event_set_cb: Event 18 callback set to c0686b2c
[   47.378086] tisp_event_set_cb: Setting callback for event 2
[   47.378093] tisp_event_set_cb: Event 2 callback set to c0685630
[   47.378098] tiziano_adr_init: ADR processing initialized successfully
[   47.378104] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   47.378109] tiziano_bcsh_init: Initializing BCSH processing
[   47.378115] tiziano_ydns_init: Initializing YDNS processing
[   47.378119] tiziano_rdns_init: Initializing RDNS processing
[   47.378125] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   47.378139] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x5fa0000 (Binary Ninja EXACT) ***
[   47.378147] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x5fa1000 (Binary Ninja EXACT) ***
[   47.378154] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x5fa2000 (Binary Ninja EXACT) ***
[   47.378161] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x5fa3000 (Binary Ninja EXACT) ***
[   47.378168] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x5fa4000 (Binary Ninja EXACT) ***
m[   47.378175] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x5fa4800 (Binary Ninja EXACT) ***
[   47.378182] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x5fa5000 (Binary Ninja EXACT) ***
[   47.378189] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x5fa5800 (Binary Ninja EXACT) ***
[   47.378195] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   47.378201] *** tisp_init: AE0 buffer allocated at 0x05fa0000 ***
[   47.378208] *** CRITICAL FIX: data_b2f3c initialized to 0x85fa0000 (prevents stack corruption) ***
[   47.378216] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x5fa8000 (Binary Ninja EXACT) ***
[   47.378223] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x5fa9000 (Binary Ninja EXACT) ***
[   47.378230] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x5faa000 (Binary Ninja EXACT) ***
[   47.378237] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x5fab000 (Binary Ninja EXACT) ***
[   47.378244] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x5fac000 (Binary Ninja EXACT) ***
[   47.378251] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x5fac800 (Binary Ninja EXACT) ***
[   47.378258] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x5fad000 (Binary Ninja EXACT) ***
[   47.378265] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x5fad800 (Binary Ninja EXACT) ***
[   47.378271] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   47.378278] *** tisp_init: AE1 buffer allocated at 0x05fa8000 ***
[   47.378283] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   47.378289] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   47.378296] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   47.378302] *** tisp_init: Second ISP control mode set to 8 (streaming not active) ***
[   47.378309] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   47.378313] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   47.378321] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   47.378329] tiziano_ae_params_refresh: Refreshing AE parameters
[   47.378339] tiziano_ae_params_refresh: AE parameters refreshed
[   47.378345] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   47.378351] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   47.378356] tiziano_ae_para_addr: Setting up AE parameter addresses
[   47.378361] tiziano_ae_para_addr: AE parameter addresses configured
[   47.378368] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   47.378375] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   47.378382] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   47.378389] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   47.378395] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   47.378403] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   47.378409] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   47.378416] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7d6814 (Binary Ninja EXACT) ***
[   47.378423] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   47.378430] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   47.378437] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   47.378443] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   47.378449] tiziano_ae_set_hardware_param: Parameters written to AE0
[   47.378455] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   47.378462] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   47.378469] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   47.378475] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   47.378482] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   47.378488] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   47.378495] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   47.378501] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   47.378508] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   47.378515] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   47.378521] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   47.378527] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   47.378533] tiziano_ae_set_hardware_param: Parameters written to AE1
[   47.378539] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   47.378547] *** system_irq_func_set: Registered handler c0686834 at index 10 ***
[   47.397612] *** system_irq_func_set: Registered handler c0686928 at index 27 ***
[   47.415459] *** system_irq_func_set: Registered handler c0686834 at index 26 ***
[   47.429255] *** system_irq_func_set: Registered handler c0686a10 at index 29 ***
[   47.448949] *** system_irq_func_set: Registered handler c068699c at index 28 ***
[   47.467436] *** system_irq_func_set: Registered handler c0686a84 at index 30 ***
[   47.487621] *** system_irq_func_set: Registered handler c0686ad8 at index 20 ***
[   47.495352] *** system_irq_func_set: Registered handler c0686b2c at index 18 ***
[   47.513147] *** system_irq_func_set: Registered handler c0686b80 at index 31 ***
[   47.529247] *** system_irq_func_set: Registered handler c0686bd4 at index 11 ***
[   47.546156] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   47.546179] tiziano_deflicker_expt: Generated 119 LUT entries
[   47.546185] tisp_event_set_cb: Setting callback for event 1
[   47.546193] tisp_event_set_cb: Event 1 callback set to c0686434
[   47.546199] tisp_event_set_cb: Setting callback for event 6
[   47.546205] tisp_event_set_cb: Event 6 callback set to c0685994
[   47.546211] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   47.546217] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   47.546224] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   47.546232] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   47.546239] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   47.546244] tiziano_awb_init: AWB hardware blocks enabled
[   47.546249] tiziano_gamma_init: Initializing Gamma processing
[   47.546255] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   47.546315] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   47.546320] tiziano_gib_init: Initializing GIB processing
[   47.546325] tiziano_lsc_init: Initializing LSC processing
[   47.546331] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   47.546337] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   47.546344] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   47.546351] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   47.546357] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   47.546417] tiziano_ccm_init: Initializing Color Correction Matrix
[   47.546423] tiziano_ccm_init: Using linear CCM parameters
[   47.546428] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   47.546435] jz_isp_ccm: EV=64, CT=9984
[   47.546441] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   47.546447] cm_control: saturation=128
[   47.546453] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   47.546459] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   47.546464] tiziano_ccm_init: CCM initialized successfully
[   47.546469] tiziano_dmsc_init: Initializing DMSC processing
[   47.546475] tiziano_sharpen_init: Initializing Sharpening
[   47.546480] tiziano_sharpen_init: Using linear sharpening parameters
[   47.546485] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   47.546492] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   47.546498] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   47.546554] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   47.546562] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   47.546568] tiziano_sharpen_init: Sharpening initialized successfully
[   47.546573] tiziano_sdns_init: Initializing SDNS processing
[   47.546582] tiziano_sdns_init: Using linear SDNS parameters
[   47.546587] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   47.546595] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   47.546600] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   47.546633] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   47.546640] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   47.546646] tiziano_sdns_init: SDNS processing initialized successfully
[   47.546652] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   47.546657] tiziano_mdns_init: Using linear MDNS parameters
[   47.546668] tiziano_mdns_init: MDNS processing initialized successfully
[   47.546673] tiziano_clm_init: Initializing CLM processing
[   47.546679] tiziano_dpc_init: Initializing DPC processing
[   47.546684] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   47.546690] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   47.546713] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   47.546719] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   47.546733] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   47.546740] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   47.546746] tiziano_hldc_init: Initializing HLDC processing
[   47.546753] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   47.546759] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   47.546765] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   47.546773] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   47.546779] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   47.546787] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   47.546793] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   47.546800] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   47.546807] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   47.546814] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   47.546821] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   47.546828] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   47.546835] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   47.546840] tiziano_adr_params_refresh: Refreshing ADR parameters
[   47.546846] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   47.546851] tiziano_adr_params_init: Initializing ADR parameter arrays
[   47.546859] tisp_adr_set_params: Writing ADR parameters to registers
[   47.546891] tisp_adr_set_params: ADR parameters written to hardware
[   47.546897] tisp_event_set_cb: Setting callback for event 18
[   47.546903] tisp_event_set_cb: Event 18 callback set to c0686b2c
[   47.546909] tisp_event_set_cb: Setting callback for event 2
[   47.546915] tisp_event_set_cb: Event 2 callback set to c0685630
[   47.546921] tiziano_adr_init: ADR processing initialized successfully
[   47.546927] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   47.546932] tiziano_bcsh_init: Initializing BCSH processing
[   47.546937] tiziano_ydns_init: Initializing YDNS processing
[   47.546943] tiziano_rdns_init: Initializing RDNS processing
[   47.546947] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   47.546953] tisp_event_init: Initializing ISP event system
[   47.546960] tisp_event_init: SAFE event system initialized with 20 nodes
[   47.546966] tisp_event_set_cb: Setting callback for event 4
[   47.546973] tisp_event_set_cb: Event 4 callback set to c068565c
[   47.546978] tisp_event_set_cb: Setting callback for event 5
[   47.547041] tisp_event_set_cb: Event 5 callback set to c0685b24
[   47.547049] tisp_event_set_cb: Setting callback for event 7
[   47.547055] tisp_event_set_cb: Event 7 callback set to c06856f0
[   47.547061] tisp_event_set_cb: Setting callback for event 9
[   47.547067] tisp_event_set_cb: Event 9 callback set to c0685778
[   47.547073] tisp_event_set_cb: Setting callback for event 8
[   47.547079] tisp_event_set_cb: Event 8 callback set to c068583c
[   47.547085] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   47.547091] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   47.547097] tisp_param_operate_init: Initializing parameter operations
[   47.547104] tisp_netlink_init: Initializing netlink communication
[   47.547109] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   47.547143] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   47.547156] tisp_netlink_init: Custom protocol failed, trying with nlcfg structure
[   47.547168] tisp_netlink_init: Failed to create netlink socket - continuing without netlink support
[   47.547175] tisp_netlink_init: ISP tuning parameters may not be available, but VIC interrupts should still work
[   47.547181] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   47.547186] tisp_code_create_tuning_node: Device already created, skipping
[   47.547193] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   47.547199] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   47.547205] *** ispcore_core_ops_init: Second tisp_init completed ***
[   47.547210] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[   47.547219] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[   47.547227] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   47.547233] *** ISP CORE: Hardware interrupt generation ENABLED ***
[   47.547239] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   47.547244] *** ispcore_core_ops_init: ISP Core hardware interrupts ENABLED - Frame sync should now work! ***
[   47.547249] ispcore_core_ops_init: Complete, result=0<6>[   47.547255] *** tx_isp_video_s_stream: Core init SUCCESS ***
[   47.547261] *** tx_isp_video_s_stream: Activating VIC subdev (state 3 -> 2) before CSI init ***
[   47.547269] *** tx_isp_video_s_stream: VIC subdev activation done, state=3 ***
[   47.547275] *** tx_isp_video_s_stream: Activating CSI subdev (state 1 -> 2) before CSI init ***
[   47.547283] *** tx_isp_video_s_stream: CSI subdev activation done, state=2 ***
[   47.547289] *** tx_isp_video_s_stream: Initializing CSI subdev ***
[   47.547297] csi_core_ops_init: sd=85219400, csi_dev=85219400, enable=1
[   47.547304] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   47.547313] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   47.547320] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   47.547327] *** csi_core_ops_init: interface_type=1 (1=MIPI, 2=DVP) ***
[   47.547332] *** csi_core_ops_init: Set csi_dev->interface_type = 1 ***
[   47.619252] *** tx_isp_video_s_stream: CSI init SUCCESS ***
[   47.619266] *** tx_isp_video_s_stream: Initializing VIC subdev ***
[   47.619275] *** vic_core_ops_init: ENTRY - sd=805ee000, enable=1 ***
[   47.619281] *** vic_core_ops_init: vic_dev=805ee000, current state check ***
[   47.619287] *** vic_core_ops_init: current_state=3, enable=1 ***
[   47.619293] *** tx_isp_video_s_stream: VIC init SUCCESS ***
[   47.619299] *** tx_isp_video_s_stream: Initializing Sensor subdev ***
[   47.619307] *** SENSOR_INIT: gc2053 enable=1 ***
[   47.619314] *** SENSOR_INIT: gc2053 already initialized, skipping to prevent CSI PHY reconfiguration ***
[   47.619320] *** SENSOR_INIT: This prevents register reset that disables ISP/VIC interrupts ***
[   47.619325] *** tx_isp_video_s_stream: Sensor init SUCCESS ***
[   47.619331] *** tx_isp_video_s_stream: All subdev initialization complete - proceeding with s_stream ***
[   47.619338] *** tx_isp_video_s_stream: Calling subdev[0]->ops->video->s_stream(1) ***
[   47.619344] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   47.619351] csi_video_s_stream: sd=85219400, enable=1
[   47.619357] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   47.619363] *** tx_isp_video_s_stream: subdev[0] s_stream SUCCESS ***
[   47.619369] *** tx_isp_video_s_stream: Calling subdev[1]->ops->video->s_stream(1) ***
[   47.619377] *** vic_core_s_stream: BINARY NINJA EXACT - sd=805ee000, enable=1 ***
[   47.619383] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=3 ***
[   47.619388] *** vic_core_s_stream: STREAM ON ***
[   47.619393] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   47.619399] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   47.619405] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   47.619411] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   47.619419] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   47.619426] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   47.619433] *** DEBUG: sensor_attr=c06e10cc, dbus_type=1 ***
[   47.619439] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   47.619445] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   47.619451] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   47.619457] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   47.619462] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   47.619469] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   47.649237] MIPI interface configuration
[   47.649251] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   47.649257] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   47.649263] *** VIC UNLOCK: Initial register 0x0 value = 0x00000000 ***
[   47.649269] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   47.649275] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   47.649283] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   47.649289] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   47.671270] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   47.671281] *** Continuing anyway to prevent infinite hang ***
[   47.671287] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   47.671292] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   47.671299] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   47.671304] tx_isp_vic_start: Linear mode enabled
[   47.671309] *** VIC start completed - vic_start_ok = 1 ***
[   47.671317] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   47.671322] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   47.671328] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   47.671336] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   47.671343] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   47.671351] ispvic_frame_channel_qbuf: arg1=805ee000, arg2=  (null)
[   47.671357] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   47.671363] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   47.671369] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   47.671376] ispvic_frame_channel_s_stream: arg1=805ee000, arg2=1
[   47.671382] ispvic_frame_channel_s_stream: s0 (vic_dev) = 805ee000
[   47.671389] ispvic_frame_channel_s_stream[2524]: streamon
[   47.671395] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   47.671401] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   47.671407] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   47.671413] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   47.671418] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   47.671426] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   47.671431] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   47.671439] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   47.671445] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   47.671450] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   47.671455] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   47.671461] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   47.671468] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   47.671476] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   47.671483] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   47.671491] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   47.671499] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   47.671506] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   47.671512] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   47.671518] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   47.671524] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   47.671531] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   47.671547] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   47.671553] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
	[   47.671559] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   47.671564] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   47.671571] ispvic_frame_channel_qbuf: arg1=805ee000, arg2=  (null)
[   47.671576] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   47.671589] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   47.671598] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   47.671663] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   47.671675] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   47.671681] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   47.671690] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   47.671697] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   47.671702] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   47.671711] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   47.671719] *** VIC UNMASK-ALL TEST: [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (expect 0) ***
[   47.678721] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   47.678735] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   47.678741] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   47.678847] *** VIC POST-RUN: Re-armed control (2->1), masks preserved; NOT touching 0x1e0/0x1e4 ***
[   47.678859] *** CRITICAL: isp_irq_handle: IRQ 38 received, dev_id=805e4000 ***
[   47.686312] *** isp_irq_handle: IRQ 38 received, dev_id=805e4000 ***
[   47.686318] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   47.694033] *** VIC INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   47.702105] *** VIC IRQ: About to access isp_dev->vic_dev, isp_dev=805e4000 ***
[   47.709647] *** VIC IRQ: Got vic_dev=805ee000 ***
[   47.714496] *** VIC IRQ: Checking vic_dev validity: vic_dev=805ee000 ***
[   47.721401] *** VIC IRQ: About to access vic_dev->vic_regs ***
[   47.727421] *** VIC IRQ: Got vic_regs=b33e0000 ***
[   47.732362] *** VIC IRQ: Checking vic_regs validity: vic_regs=b33e0000 ***
[   47.739446] *** VIC IRQ: vic_regs passed validity check - proceeding with register access ***
[   47.748246] *** VIC IRQ: About to read VIC registers at b33e0000 ***
[   47.754798] *** VIC IRQ: Using base b33e0000 [1e0]=0x200000 [1e4]=0x0 [1e8]=0xffdffffe [1ec]=0x0 ***
[   47.764229] *** VIC IRQ: CTRL[0x300]=0x80040020 DIMS[0x304]=0x7800438 STRIDE[0x310]=0xf00 ***
[   47.773022] *** VIC IRQ: Calculated v1_7 = 0x200000 v1_10 = 0x0 ***
[   47.779487] *** VIC IRQ: About to write v1_7=0x200000 to reg 0x1f0 (base=b33e0000) ***
[   47.787654] *** VIC IRQ: About to write v1_10=0x0 to reg 0x1f4 (base=b33e0000) ***
[   47.795466] *** VIC IRQ: Register writes completed (at base=b33e0000) ***
[   47.802460] *** VIC IRQ: Restored enables(0x1e0|=1) and MainMask=0xFFDFFFFE (allow framedone+bit21) ***
[   47.812160] *** VIC IRQ: About to check vic_start_ok - vic_start_ok=1 ***
[   47.819167] *** VIC IRQ: vic_start_ok=1, v1_7=0x200000, v1_10=0x0 ***
[   47.825808] *** VIC IRQ: No frame done interrupt (v1_7 & 1 = 0) ***
[   47.832269] *** VIC ERROR: control limit error (bit 21) ***
---- FPGA board is ready ----
  Board UID : 30AB6E51
  Board HW ID : 72000460
  Board rev.  : 5DE5A975
  Board date  : 20190326
-----------------------------
[   47.838008] *** VIC IRQ COMPLETE: Processed v1_7=0x200000, v1_10=0x0 - returning IRQ_HANDLED ***
[   48.109242] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   48.109354] *** VIC POST-RUN (CONTROL): Re-armed control (2->1), masks preserved; NOT touching 0x1e0/0x1e4 ***
[   48.109362] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   48.109368] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   48.109374] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   48.109380] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   48.109385] tx_vic_enable_irq: Calling VIC interrupt callback
[   48.109392] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   48.109398] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   48.109404] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   48.109414] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   48.109420] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   48.109428] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   48.109434] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   48.109440] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   48.109446] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   48.109451] *** tx_vic_enable_irq: completed successfully ***
root@ing-wyze-cam3-a000 ~# dmesg 
[   47.227189] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   47.227196] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   47.227203] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   47.227209] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   47.227216] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   47.227223] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   47.227229] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   47.227235] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   47.227242] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   47.227249] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   47.227255] tiziano_ae_set_hardware_param: Parameters written to AE1
[   47.227260] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   47.227268] *** system_irq_func_set: Registered handler c0686834 at index 10 ***
[   47.238732] *** system_irq_func_set: Registered handler c0686928 at index 27 ***
[   47.254261] *** system_irq_func_set: Registered handler c0686834 at index 26 ***
[   47.265264] *** system_irq_func_set: Registered handler c0686a10 at index 29 ***
[   47.276390] *** system_irq_func_set: Registered handler c068699c at index 28 ***
[   47.287661] *** system_irq_func_set: Registered handler c0686a84 at index 30 ***
[   47.298946] *** system_irq_func_set: Registered handler c0686ad8 at index 20 ***
[   47.329083] *** system_irq_func_set: Registered handler c0686b2c at index 18 ***
[   47.347123] *** system_irq_func_set: Registered handler c0686b80 at index 31 ***
[   47.367307] *** system_irq_func_set: Registered handler c0686bd4 at index 11 ***
[   47.377389] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   47.377409] tiziano_deflicker_expt: Generated 119 LUT entries
[   47.377416] tisp_event_set_cb: Setting callback for event 1
[   47.377423] tisp_event_set_cb: Event 1 callback set to c0686434
[   47.377429] tisp_event_set_cb: Setting callback for event 6
[   47.377435] tisp_event_set_cb: Event 6 callback set to c0685994
[   47.377441] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   47.377446] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   47.377453] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   47.377461] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   47.377468] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   47.377473] tiziano_awb_init: AWB hardware blocks enabled
[   47.377479] tiziano_gamma_init: Initializing Gamma processing
[   47.377484] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   47.377543] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   47.377549] tiziano_gib_init: Initializing GIB processing
[   47.377555] tiziano_lsc_init: Initializing LSC processing
[   47.377559] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   47.377566] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   47.377573] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   47.377580] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   47.377585] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   47.377642] tiziano_ccm_init: Initializing Color Correction Matrix
[   47.377648] tiziano_ccm_init: Using linear CCM parameters
[   47.377653] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   47.377660] jz_isp_ccm: EV=64, CT=9984
[   47.377667] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   47.377673] cm_control: saturation=128
[   47.377678] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   47.377685] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   47.377690] tiziano_ccm_init: CCM initialized successfully
[   47.377695] tiziano_dmsc_init: Initializing DMSC processing
[   47.377701] tiziano_sharpen_init: Initializing Sharpening
[   47.377706] tiziano_sharpen_init: Using linear sharpening parameters
[   47.377711] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   47.377719] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   47.377725] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   47.377751] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   47.377758] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   47.377763] tiziano_sharpen_init: Sharpening initialized successfully
[   47.377769] tiziano_sdns_init: Initializing SDNS processing
[   47.377777] tiziano_sdns_init: Using linear SDNS parameters
[   47.377783] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   47.377789] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   47.377795] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   47.377828] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   47.377835] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   47.377840] tiziano_sdns_init: SDNS processing initialized successfully
[   47.377847] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   47.377852] tiziano_mdns_init: Using linear MDNS parameters
[   47.377862] tiziano_mdns_init: MDNS processing initialized successfully
[   47.377867] tiziano_clm_init: Initializing CLM processing
[   47.377873] tiziano_dpc_init: Initializing DPC processing
[   47.377878] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   47.377884] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   47.377891] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   47.377897] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   47.377911] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   47.377918] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   47.377923] tiziano_hldc_init: Initializing HLDC processing
[   47.377930] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   47.377937] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   47.377943] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   47.377950] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   47.377957] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   47.377964] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   47.377971] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   47.377978] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   47.377985] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   47.377992] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   47.377999] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   47.378005] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   47.378012] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   47.378018] tiziano_adr_params_refresh: Refreshing ADR parameters
[   47.378024] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   47.378029] tiziano_adr_params_init: Initializing ADR parameter arrays
[   47.378036] tisp_adr_set_params: Writing ADR parameters to registers
[   47.378068] tisp_adr_set_params: ADR parameters written to hardware
[   47.378074] tisp_event_set_cb: Setting callback for event 18
[   47.378081] tisp_event_set_cb: Event 18 callback set to c0686b2c
[   47.378086] tisp_event_set_cb: Setting callback for event 2
[   47.378093] tisp_event_set_cb: Event 2 callback set to c0685630
[   47.378098] tiziano_adr_init: ADR processing initialized successfully
[   47.378104] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   47.378109] tiziano_bcsh_init: Initializing BCSH processing
[   47.378115] tiziano_ydns_init: Initializing YDNS processing
[   47.378119] tiziano_rdns_init: Initializing RDNS processing
[   47.378125] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   47.378139] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x5fa0000 (Binary Ninja EXACT) ***
[   47.378147] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x5fa1000 (Binary Ninja EXACT) ***
[   47.378154] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x5fa2000 (Binary Ninja EXACT) ***
[   47.378161] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x5fa3000 (Binary Ninja EXACT) ***
[   47.378168] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x5fa4000 (Binary Ninja EXACT) ***
[   47.378175] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x5fa4800 (Binary Ninja EXACT) ***
[   47.378182] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x5fa5000 (Binary Ninja EXACT) ***
[   47.378189] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x5fa5800 (Binary Ninja EXACT) ***
[   47.378195] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   47.378201] *** tisp_init: AE0 buffer allocated at 0x05fa0000 ***
[   47.378208] *** CRITICAL FIX: data_b2f3c initialized to 0x85fa0000 (prevents stack corruption) ***
[   47.378216] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x5fa8000 (Binary Ninja EXACT) ***
[   47.378223] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x5fa9000 (Binary Ninja EXACT) ***
[   47.378230] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x5faa000 (Binary Ninja EXACT) ***
[   47.378237] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x5fab000 (Binary Ninja EXACT) ***
[   47.378244] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x5fac000 (Binary Ninja EXACT) ***
[   47.378251] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x5fac800 (Binary Ninja EXACT) ***
[   47.378258] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x5fad000 (Binary Ninja EXACT) ***
[   47.378265] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x5fad800 (Binary Ninja EXACT) ***
[   47.378271] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   47.378278] *** tisp_init: AE1 buffer allocated at 0x05fa8000 ***
[   47.378283] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   47.378289] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   47.378296] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   47.378302] *** tisp_init: Second ISP control mode set to 8 (streaming not active) ***
[   47.378309] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   47.378313] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   47.378321] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   47.378329] tiziano_ae_params_refresh: Refreshing AE parameters
[   47.378339] tiziano_ae_params_refresh: AE parameters refreshed
[   47.378345] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   47.378351] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   47.378356] tiziano_ae_para_addr: Setting up AE parameter addresses
[   47.378361] tiziano_ae_para_addr: AE parameter addresses configured
[   47.378368] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   47.378375] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   47.378382] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   47.378389] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   47.378395] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   47.378403] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   47.378409] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   47.378416] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7d6814 (Binary Ninja EXACT) ***
[   47.378423] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   47.378430] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   47.378437] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   47.378443] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   47.378449] tiziano_ae_set_hardware_param: Parameters written to AE0
[   47.378455] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   47.378462] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   47.378469] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   47.378475] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   47.378482] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   47.378488] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   47.378495] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   47.378501] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   47.378508] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   47.378515] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   47.378521] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   47.378527] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   47.378533] tiziano_ae_set_hardware_param: Parameters written to AE1
[   47.378539] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   47.378547] *** system_irq_func_set: Registered handler c0686834 at index 10 ***
[   47.397612] *** system_irq_func_set: Registered handler c0686928 at index 27 ***
[   47.415459] *** system_irq_func_set: Registered handler c0686834 at index 26 ***
[   47.429255] *** system_irq_func_set: Registered handler c0686a10 at index 29 ***
[   47.448949] *** system_irq_func_set: Registered handler c068699c at index 28 ***
[   47.467436] *** system_irq_func_set: Registered handler c0686a84 at index 30 ***
[   47.487621] *** system_irq_func_set: Registered handler c0686ad8 at index 20 ***
[   47.495352] *** system_irq_func_set: Registered handler c0686b2c at index 18 ***
[   47.513147] *** system_irq_func_set: Registered handler c0686b80 at index 31 ***
[   47.529247] *** system_irq_func_set: Registered handler c0686bd4 at index 11 ***
[   47.546156] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   47.546179] tiziano_deflicker_expt: Generated 119 LUT entries
[   47.546185] tisp_event_set_cb: Setting callback for event 1
[   47.546193] tisp_event_set_cb: Event 1 callback set to c0686434
[   47.546199] tisp_event_set_cb: Setting callback for event 6
[   47.546205] tisp_event_set_cb: Event 6 callback set to c0685994
[   47.546211] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   47.546217] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   47.546224] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   47.546232] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   47.546239] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   47.546244] tiziano_awb_init: AWB hardware blocks enabled
[   47.546249] tiziano_gamma_init: Initializing Gamma processing
[   47.546255] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   47.546315] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   47.546320] tiziano_gib_init: Initializing GIB processing
[   47.546325] tiziano_lsc_init: Initializing LSC processing
[   47.546331] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   47.546337] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   47.546344] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   47.546351] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   47.546357] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   47.546417] tiziano_ccm_init: Initializing Color Correction Matrix
[   47.546423] tiziano_ccm_init: Using linear CCM parameters
[   47.546428] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   47.546435] jz_isp_ccm: EV=64, CT=9984
[   47.546441] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   47.546447] cm_control: saturation=128
[   47.546453] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   47.546459] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   47.546464] tiziano_ccm_init: CCM initialized successfully
[   47.546469] tiziano_dmsc_init: Initializing DMSC processing
[   47.546475] tiziano_sharpen_init: Initializing Sharpening
[   47.546480] tiziano_sharpen_init: Using linear sharpening parameters
[   47.546485] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   47.546492] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   47.546498] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   47.546554] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   47.546562] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   47.546568] tiziano_sharpen_init: Sharpening initialized successfully
[   47.546573] tiziano_sdns_init: Initializing SDNS processing
[   47.546582] tiziano_sdns_init: Using linear SDNS parameters
[   47.546587] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   47.546595] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   47.546600] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   47.546633] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   47.546640] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   47.546646] tiziano_sdns_init: SDNS processing initialized successfully
[   47.546652] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   47.546657] tiziano_mdns_init: Using linear MDNS parameters
[   47.546668] tiziano_mdns_init: MDNS processing initialized successfully
[   47.546673] tiziano_clm_init: Initializing CLM processing
[   47.546679] tiziano_dpc_init: Initializing DPC processing
[   47.546684] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   47.546690] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   47.546713] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   47.546719] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   47.546733] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   47.546740] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   47.546746] tiziano_hldc_init: Initializing HLDC processing
[   47.546753] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   47.546759] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   47.546765] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   47.546773] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   47.546779] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   47.546787] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   47.546793] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   47.546800] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   47.546807] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   47.546814] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   47.546821] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   47.546828] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   47.546835] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   47.546840] tiziano_adr_params_refresh: Refreshing ADR parameters
[   47.546846] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   47.546851] tiziano_adr_params_init: Initializing ADR parameter arrays
[   47.546859] tisp_adr_set_params: Writing ADR parameters to registers
[   47.546891] tisp_adr_set_params: ADR parameters written to hardware
[   47.546897] tisp_event_set_cb: Setting callback for event 18
[   47.546903] tisp_event_set_cb: Event 18 callback set to c0686b2c
[   47.546909] tisp_event_set_cb: Setting callback for event 2
[   47.546915] tisp_event_set_cb: Event 2 callback set to c0685630
[   47.546921] tiziano_adr_init: ADR processing initialized successfully
[   47.546927] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   47.546932] tiziano_bcsh_init: Initializing BCSH processing
[   47.546937] tiziano_ydns_init: Initializing YDNS processing
[   47.546943] tiziano_rdns_init: Initializing RDNS processing
[   47.546947] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   47.546953] tisp_event_init: Initializing ISP event system
[   47.546960] tisp_event_init: SAFE event system initialized with 20 nodes
[   47.546966] tisp_event_set_cb: Setting callback for event 4
[   47.546973] tisp_event_set_cb: Event 4 callback set to c068565c
[   47.546978] tisp_event_set_cb: Setting callback for event 5
[   47.547041] tisp_event_set_cb: Event 5 callback set to c0685b24
[   47.547049] tisp_event_set_cb: Setting callback for event 7
[   47.547055] tisp_event_set_cb: Event 7 callback set to c06856f0
[   47.547061] tisp_event_set_cb: Setting callback for event 9
[   47.547067] tisp_event_set_cb: Event 9 callback set to c0685778
[   47.547073] tisp_event_set_cb: Setting callback for event 8
[   47.547079] tisp_event_set_cb: Event 8 callback set to c068583c
[   47.547085] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   47.547091] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   47.547097] tisp_param_operate_init: Initializing parameter operations
[   47.547104] tisp_netlink_init: Initializing netlink communication
[   47.547109] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   47.547143] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   47.547156] tisp_netlink_init: Custom protocol failed, trying with nlcfg structure
[   47.547168] tisp_netlink_init: Failed to create netlink socket - continuing without netlink support
[   47.547175] tisp_netlink_init: ISP tuning parameters may not be available, but VIC interrupts should still work
[   47.547181] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   47.547186] tisp_code_create_tuning_node: Device already created, skipping
[   47.547193] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   47.547199] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   47.547205] *** ispcore_core_ops_init: Second tisp_init completed ***
[   47.547210] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[   47.547219] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[   47.547227] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   47.547233] *** ISP CORE: Hardware interrupt generation ENABLED ***
[   47.547239] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   47.547244] *** ispcore_core_ops_init: ISP Core hardware interrupts ENABLED - Frame sync should now work! ***
[   47.547249] ispcore_core_ops_init: Complete, result=0<6>[   47.547255] *** tx_isp_video_s_stream: Core init SUCCESS ***
[   47.547261] *** tx_isp_video_s_stream: Activating VIC subdev (state 3 -> 2) before CSI init ***
[   47.547269] *** tx_isp_video_s_stream: VIC subdev activation done, state=3 ***
[   47.547275] *** tx_isp_video_s_stream: Activating CSI subdev (state 1 -> 2) before CSI init ***
[   47.547283] *** tx_isp_video_s_stream: CSI subdev activation done, state=2 ***
[   47.547289] *** tx_isp_video_s_stream: Initializing CSI subdev ***
[   47.547297] csi_core_ops_init: sd=85219400, csi_dev=85219400, enable=1
[   47.547304] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   47.547313] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   47.547320] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   47.547327] *** csi_core_ops_init: interface_type=1 (1=MIPI, 2=DVP) ***
[   47.547332] *** csi_core_ops_init: Set csi_dev->interface_type = 1 ***
[   47.619252] *** tx_isp_video_s_stream: CSI init SUCCESS ***
[   47.619266] *** tx_isp_video_s_stream: Initializing VIC subdev ***
[   47.619275] *** vic_core_ops_init: ENTRY - sd=805ee000, enable=1 ***
[   47.619281] *** vic_core_ops_init: vic_dev=805ee000, current state check ***
[   47.619287] *** vic_core_ops_init: current_state=3, enable=1 ***
[   47.619293] *** tx_isp_video_s_stream: VIC init SUCCESS ***
[   47.619299] *** tx_isp_video_s_stream: Initializing Sensor subdev ***
[   47.619307] *** SENSOR_INIT: gc2053 enable=1 ***
[   47.619314] *** SENSOR_INIT: gc2053 already initialized, skipping to prevent CSI PHY reconfiguration ***
[   47.619320] *** SENSOR_INIT: This prevents register reset that disables ISP/VIC interrupts ***
[   47.619325] *** tx_isp_video_s_stream: Sensor init SUCCESS ***
[   47.619331] *** tx_isp_video_s_stream: All subdev initialization complete - proceeding with s_stream ***
[   47.619338] *** tx_isp_video_s_stream: Calling subdev[0]->ops->video->s_stream(1) ***
[   47.619344] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   47.619351] csi_video_s_stream: sd=85219400, enable=1
[   47.619357] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   47.619363] *** tx_isp_video_s_stream: subdev[0] s_stream SUCCESS ***
[   47.619369] *** tx_isp_video_s_stream: Calling subdev[1]->ops->video->s_stream(1) ***
[   47.619377] *** vic_core_s_stream: BINARY NINJA EXACT - sd=805ee000, enable=1 ***
[   47.619383] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=3 ***
[   47.619388] *** vic_core_s_stream: STREAM ON ***
[   47.619393] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   47.619399] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   47.619405] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   47.619411] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   47.619419] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   47.619426] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   47.619433] *** DEBUG: sensor_attr=c06e10cc, dbus_type=1 ***
[   47.619439] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   47.619445] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   47.619451] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   47.619457] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   47.619462] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   47.619469] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   47.649237] MIPI interface configuration
[   47.649251] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   47.649257] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   47.649263] *** VIC UNLOCK: Initial register 0x0 value = 0x00000000 ***
[   47.649269] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   47.649275] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   47.649283] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   47.649289] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   47.671270] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   47.671281] *** Continuing anyway to prevent infinite hang ***
[   47.671287] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   47.671292] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   47.671299] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   47.671304] tx_isp_vic_start: Linear mode enabled
[   47.671309] *** VIC start completed - vic_start_ok = 1 ***
[   47.671317] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   47.671322] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   47.671328] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   47.671336] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   47.671343] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   47.671351] ispvic_frame_channel_qbuf: arg1=805ee000, arg2=  (null)
[   47.671357] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   47.671363] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   47.671369] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   47.671376] ispvic_frame_channel_s_stream: arg1=805ee000, arg2=1
[   47.671382] ispvic_frame_channel_s_stream: s0 (vic_dev) = 805ee000
[   47.671389] ispvic_frame_channel_s_stream[2524]: streamon
[   47.671395] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   47.671401] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   47.671407] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   47.671413] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   47.671418] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   47.671426] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   47.671431] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   47.671439] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   47.671445] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   47.671450] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   47.671455] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   47.671461] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   47.671468] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   47.671476] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   47.671483] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   47.671491] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   47.671499] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   47.671506] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   47.671512] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   47.671518] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   47.671524] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   47.671531] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   47.671547] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   47.671553] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   47.671559] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   47.671564] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   47.671571] ispvic_frame_channel_qbuf: arg1=805ee000, arg2=  (null)
[   47.671576] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   47.671589] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   47.671598] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   47.671663] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   47.671675] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   47.671681] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   47.671690] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   47.671697] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   47.671702] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   47.671711] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   47.671719] *** VIC UNMASK-ALL TEST: [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (expect 0) ***
[   47.678721] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   47.678735] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   47.678741] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   47.678847] *** VIC POST-RUN: Re-armed control (2->1), masks preserved; NOT touching 0x1e0/0x1e4 ***
[   47.678859] *** CRITICAL: isp_irq_handle: IRQ 38 received, dev_id=805e4000 ***
[   47.686312] *** isp_irq_handle: IRQ 38 received, dev_id=805e4000 ***
[   47.686318] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   47.694033] *** VIC INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   47.702105] *** VIC IRQ: About to access isp_dev->vic_dev, isp_dev=805e4000 ***
[   47.709647] *** VIC IRQ: Got vic_dev=805ee000 ***
[   47.714496] *** VIC IRQ: Checking vic_dev validity: vic_dev=805ee000 ***
[   47.721401] *** VIC IRQ: About to access vic_dev->vic_regs ***
[   47.727421] *** VIC IRQ: Got vic_regs=b33e0000 ***
[   47.732362] *** VIC IRQ: Checking vic_regs validity: vic_regs=b33e0000 ***
[   47.739446] *** VIC IRQ: vic_regs passed validity check - proceeding with register access ***
[   47.748246] *** VIC IRQ: About to read VIC registers at b33e0000 ***
[   47.754798] *** VIC IRQ: Using base b33e0000 [1e0]=0x200000 [1e4]=0x0 [1e8]=0xffdffffe [1ec]=0x0 ***
[   47.764229] *** VIC IRQ: CTRL[0x300]=0x80040020 DIMS[0x304]=0x7800438 STRIDE[0x310]=0xf00 ***
[   47.773022] *** VIC IRQ: Calculated v1_7 = 0x200000 v1_10 = 0x0 ***
d[   47.779487] *** VIC IRQ: About to write v1_7=0x200000 to reg 0x1f0 (base=b33e0000) ***
[   47.787654] *** VIC IRQ: About to write v1_10=0x0 to reg 0x1f4 (base=b33e0000) ***
[   47.795466] *** VIC IRQ: Register writes completed (at base=b33e0000) ***
[   47.802460] *** VIC IRQ: Restored enables(0x1e0|=1) and MainMask=0xFFDFFFFE (allow framedone+bit21) ***
[   47.812160] *** VIC IRQ: About to check vic_start_ok - vic_start_ok=1 ***
[   47.819167] *** VIC IRQ: vic_start_ok=1, v1_7=0x200000, v1_10=0x0 ***
[   47.825808] *** VIC IRQ: No frame done interrupt (v1_7 & 1 = 0) ***
[   47.832269] *** VIC ERROR: control limit error (bit 21) ***
[   47.838008] *** VIC IRQ COMPLETE: Processed v1_7=0x200000, v1_10=0x0 - returning IRQ_HANDLED ***
[   48.109242] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   48.109354] *** VIC POST-RUN (CONTROL): Re-armed control (2->1), masks preserved; NOT touching 0x1e0/0x1e4 ***
[   48.109362] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   48.109368] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   48.109374] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   48.109380] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   48.109385] tx_vic_enable_irq: Calling VIC interrupt callback
[   48.109392] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   48.109398] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   48.109404] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   48.109414] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   48.109420] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   48.109428] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   48.109434] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   48.109440] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   48.109446] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   48.109451] *** tx_vic_enable_irq: completed successfully ***
[   48.525285] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   48.525299] *** vic_core_s_stream: VIC state transition 3 → 4 (STREAMING) ***
[   48.525304] *** VIC STATE 4: Calling ispcore_slake_module to initialize ISP core ***
[   48.525311] *** ispcore_slake_module: EXACT Binary Ninja MCP implementation ***
[   48.525319] ispcore_slake_module: VIC device=805ee000, state=4<6>[   48.525324] *** ispcore_slake_module: VIC state >= 3; skipping slake to preserve interrupts ***
[   48.525330] *** ispcore_slake_module SUCCESS - ISP core should now be initialized ***
[   48.525336] *** vic_core_s_stream: VIC initialized, final state=4 ***
[   48.525343] *** tx_isp_video_s_stream: subdev[1] s_stream SUCCESS ***
[   48.525351] *** tx_isp_video_s_stream: Calling subdev[3]->ops->video->s_stream(1) ***
[   48.525359] gc2053: s_stream called with enable=1
[   48.525367] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.525373] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   48.525379] gc2053: About to write streaming registers for interface 1
[   48.525385] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   48.525395] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.525716] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.525723] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.525732] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   48.526079] sensor_write: reg=0x3e val=0x91 SUCCESS
[   48.526089] sensor_write_array: reg[2] 0x3e=0x91 OK
[   48.526097] sensor_write_array: Complete - wrote 2 registers, 0 errors
m[   48.526103] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   48.526109] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   48.526115] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   48.526122] *** tx_isp_video_s_stream: subdev[3] s_stream SUCCESS ***
[   48.526128] *** tx_isp_video_s_stream: Calling subdev[5]->ops->video->s_stream(1) ***
[   48.526135] gc2053: s_stream called with enable=1
[   48.526141] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.526147] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   48.526153] gc2053: About to write streaming registers for interface 1
[   48.526159] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   48.526168] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.526487] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.526494] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.526503] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   48.526815] sensor_write: reg=0x3e val=0x91 SUCCESS
[   48.526821] sensor_write_array: reg[2] 0x3e=0x91 OK
[   48.526828] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   48.526834] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   48.526840] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   48.526846] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   48.526852] *** tx_isp_video_s_stream: subdev[5] s_stream SUCCESS ***
[   48.526866] ISP IOCTL: cmd=0x800456d0 arg=0x7fad7f30
[   48.526873] TX_ISP_VIDEO_LINK_SETUP: config=0
[   48.526879] TX_ISP_VIDEO_LINK_SETUP: Link config unchanged (0)
[   48.526885] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   48.526892] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   48.526898] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   48.526905] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   48.526912] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   48.526918] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   48.526924] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   48.526931] csi_video_s_stream: sd=85219400, enable=1
[   48.526937] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   48.526945] *** vic_core_s_stream: BINARY NINJA EXACT - sd=805ee000, enable=1 ***
[   48.526951] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=4 ***
[   48.526956] *** vic_core_s_stream: STREAM ON ***
[   48.526961] *** vic_core_s_stream: EXACT Binary Ninja - State=4, no action needed ***
[   48.526968] gc2053: s_stream called with enable=1
[   48.526975] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.526981] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   48.526987] gc2053: About to write streaming registers for interface 1
[   48.526993] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   48.527001] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.534330] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.534342] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.534353] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   48.534671] sensor_write: reg=0x3e val=0x91 SUCCESS
[   48.534678] sensor_write_array: reg[2] 0x3e=0x91 OK
[   48.534685] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   48.534691] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   48.534697] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   48.534703] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   48.534711] gc2053: s_stream called with enable=1
[   48.534718] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.534723] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   48.534730] gc2053: About to write streaming registers for interface 1
[   48.534736] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   48.534745] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.535061] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.535069] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.535077] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   48.535389] sensor_write: reg=0x3e val=0x91 SUCCESS
[   48.535396] sensor_write_array: reg[2] 0x3e=0x91 OK
[   48.535403] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   48.535409] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   48.535415] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   48.535421] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   48.760432] ISP M0 device open called from pid 2366
[   48.760465] *** REFERENCE DRIVER IMPLEMENTATION ***
[   48.760473] ISP M0 tuning buffer allocated: 82230000 (size=0x500c, aligned)
[   48.760479] tisp_par_ioctl global variable set: 82230000
[   48.760534] isp_core_tunning_unlocked_ioctl: Auto-initializing tuning for V4L2 control (one-time)
[   48.760541] isp_core_tunning_unlocked_ioctl: Initializing tuning data structure
[   48.760547] isp_core_tuning_init: Initializing tuning data structure
[   48.760567] isp_core_tuning_init: Tuning data structure initialized at 82238000
[   48.760573] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   48.760579] *** SAFE: mode_flag properly initialized using struct member access ***
[   48.760585] isp_core_tunning_unlocked_ioctl: Tuning data allocated at 82238000
[   48.760591] *** BINARY NINJA REFERENCE: Skipping auto-initialization - no hardware reset during tuning setup ***
[   48.760597] isp_core_tunning_unlocked_ioctl: ISP tuning auto-enabled for V4L2 controls (permanent)
[   48.760603] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   48.760611] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   48.760617] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   48.760622] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   48.760627] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   48.760652] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   48.760659] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980900
[   48.760665] CRITICAL: Cannot access brightness field - PREVENTS BadVA CRASH
[   48.760673] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   48.760679] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980902
[   48.760686] CRITICAL: Cannot access saturation field at 82238024 - PREVENTING BadVA CRASH
[   48.761050] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.761063] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   48.761070] Set control: cmd=0x980901 value=128
[   48.762124] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762137] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   48.762143] Set control: cmd=0x98091b value=128
[   48.762251] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762259] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   48.762266] Set control: cmd=0x980902 value=128
[   48.762272] tisp_bcsh_saturation: saturation=128
[   48.762277] tiziano_bcsh_update: Updating BCSH parameters
[   48.762285]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   48.762290] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   48.762358] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762366] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   48.762372] Set control: cmd=0x980900 value=128
[   48.762448] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762457] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   48.762463] Set control: cmd=0x980901 value=128
[   48.762522] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762530] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   48.762537] Set control: cmd=0x98091b value=128
[   48.762595] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762603] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   48.762610] Set control: cmd=0x980902 value=128
[   48.762615] tisp_bcsh_saturation: saturation=128
[   48.762621] tiziano_bcsh_update: Updating BCSH parameters
[   48.762628]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
	[   48.762633] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   48.762692] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762700] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   48.762707] Set control: cmd=0x980900 value=128
[   48.762771] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   48.762780] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   48.762785] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   48.762852] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   48.762859] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   48.762865] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   48.762925] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762933] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980914 value=0
[   48.762939] Set control: cmd=0x980914 value=0
[   48.762999] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.763007] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980915 value=0
[   48.763014] Set control: cmd=0x980915 value=0
[   48.765282] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   48.765295] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   48.765301] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   48.765497] ISP IOCTL: cmd=0x800456d3 arg=0x0
[   48.765507] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=0 ***
[   48.765514] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   48.765521] csi_video_s_stream: sd=85219400, enable=0
[   48.765528] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 3 (enable=0)
[   48.765536] *** vic_core_s_stream: BINARY NINJA EXACT - sd=805ee000, enable=0 ***
[   48.765543] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=4 ***
[   48.765547] *** vic_core_s_stream: STREAM OFF ***
[   48.765553] vic_core_s_stream: Stream OFF - state 4 -> 3
[   48.765561] gc2053: s_stream called with enable=0
[   48.765569] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.765575] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   48.765581] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   48.765590] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.766865] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.766877] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.766888] sensor_write: reg=0x3e val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.767204] sensor_write: reg=0x3e val=0x00 SUCCESS
[   48.767211] sensor_write_array: reg[2] 0x3e=0x00 OK
[   48.767217] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   48.767224] gc2053: Sensor hardware streaming stopped
[   48.767231] gc2053: s_stream called with enable=0
[   48.767238] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.767244] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   48.767249] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   48.767258] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.767579] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.767587] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.767595] sensor_write: reg=0x3e val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.767912] sensor_write: reg=0x3e val=0x00 SUCCESS
[   48.767919] sensor_write_array: reg[2] 0x3e=0x00 OK
[   48.767925] sensor_write_array: Complete - wrote 2 registers, 0 errors

[   48.767931] gc2053: Sensor hardware streaming stopped
[   48.768114] ISP IOCTL: cmd=0x800456d1 arg=0x7fad7f30
[   48.768125] tx_isp_video_link_destroy: Destroying links for config 0
[   48.768133] tx_isp_video_link_destroy: All links destroyed, config reset to -1
[   48.768143] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.768151] isp_core_tunning_unlocked_ioctl: Set control cmd=0x8000164 value=1
[   48.768157] Set control: cmd=0x8000164 value=1
[   48.768165] ISP IOCTL: cmd=0x800456d0 arg=0x7fad7f30
[   48.768171] TX_ISP_VIDEO_LINK_SETUP: config=0
[   48.768177] TX_ISP_VIDEO_LINK_SETUP: Link config changed from -1 to 0
[   48.768183] TX_ISP_VIDEO_LINK_SETUP: Link config updated to 0
[   48.768189] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   48.768195] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   48.768201] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   48.768209] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   48.768216] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   48.768222] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   48.768228] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   48.768235] csi_video_s_stream: sd=85219400, enable=1
[   48.768241] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   48.768249] *** vic_core_s_stream: BINARY NINJA EXACT - sd=805ee000, enable=1 ***
[   48.768255] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=3 ***
[   48.768260] *** vic_core_s_stream: STREAM ON ***
[   48.768265] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   48.768271] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   48.768277] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   48.768283] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   48.768292] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   48.768299] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   48.768305] *** DEBUG: sensor_attr=c06e10cc, dbus_type=1 ***
[   48.768311] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   48.768317] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   48.768323] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   48.768329] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   48.768334] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   48.768341] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   48.777080] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   48.777093] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   48.777099] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   48.777105] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   48.777110] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   48.789236] MIPI interface configuration
[   48.789251] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   48.789257] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   48.789263] *** VIC UNLOCK: Initial register 0x0 value = 0x00000001 ***
[   48.789269] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   48.789275] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   48.789283] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   48.789288] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   48.811311] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   48.811321] *** Continuing anyway to prevent infinite hang ***
[   48.811327] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   48.811333] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   48.811339] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   48.811344] tx_isp_vic_start: Linear mode enabled
[   48.811349] *** VIC start completed - vic_start_ok = 1 ***
[   48.811357] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   48.811362] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   48.811368] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   48.811376] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   48.811382] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   48.811390] ispvic_frame_channel_qbuf: arg1=805ee000, arg2=  (null)
[   48.811397] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   48.811403] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   48.811409] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   48.811415] ispvic_frame_channel_s_stream: arg1=805ee000, arg2=1
[   48.811421] ispvic_frame_channel_s_stream: s0 (vic_dev) = 805ee000
[   48.811428] ispvic_frame_channel_s_stream[2524]: streamon
[   48.811435] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   48.811440] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   48.811446] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   48.811452] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   48.811457] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   48.811465] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   48.811470] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   48.811477] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   48.811483] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   48.811489] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   48.811495] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   48.811500] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   48.811507] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   48.811515] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   48.811522] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   48.811529] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   48.811537] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   48.811545] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   48.811551] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   48.811556] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   48.811562] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   48.811569] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   48.811585] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   48.811591] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   48.811597] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   48.811602] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   48.811609] ispvic_frame_channel_qbuf: arg1=805ee000, arg2=  (null)
[   48.811614] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   48.811627] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   48.811635] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   48.811701] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   48.811713] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   48.811719] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   48.811728] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   48.811734] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   48.811739] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   48.811749] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   48.811757] *** VIC UNMASK-ALL TEST: [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (expect 0) ***
[   48.812765] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   48.812770] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   48.812775] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   48.812881] *** VIC POST-RUN: Re-armed control (2->1), masks preserved; NOT touching 0x1e0/0x1e4 ***
[   48.812892] *** CRITICAL: isp_irq_handle: IRQ 38 received, dev_id=805e4000 ***
[   48.820339] *** isp_irq_handle: IRQ 38 received, dev_id=805e4000 ***
[   48.820345] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   48.828063] *** VIC INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   48.836143] *** VIC IRQ: About to access isp_dev->vic_dev, isp_dev=805e4000 ***
[   48.843687] *** VIC IRQ: Got vic_dev=805ee000 ***
[   48.848539] *** VIC IRQ: Checking vic_dev validity: vic_dev=805ee000 ***
[   48.855445] *** VIC IRQ: About to access vic_dev->vic_regs ***
[   48.861465] *** VIC IRQ: Got vic_regs=b33e0000 ***
[   48.866396] *** VIC IRQ: Checking vic_regs validity: vic_regs=b33e0000 ***
[   48.873482] *** VIC IRQ: vic_regs passed validity check - proceeding with register access ***
[   48.882279] *** VIC IRQ: About to read VIC registers at b33e0000 ***
[   48.888833] *** VIC IRQ: Using base b33e0000 [1e0]=0x200000 [1e4]=0x0 [1e8]=0xffdffffe [1ec]=0x0 ***
[   48.898262] *** VIC IRQ: CTRL[0x300]=0x80040020 DIMS[0x304]=0x7800438 STRIDE[0x310]=0xf00 ***
[   48.907056] *** VIC IRQ: Calculated v1_7 = 0x200000 v1_10 = 0x0 ***
[   48.913523] *** VIC IRQ: About to write v1_7=0x200000 to reg 0x1f0 (base=b33e0000) ***
[   48.921692] *** VIC IRQ: About to write v1_10=0x0 to reg 0x1f4 (base=b33e0000) ***
[   48.929505] *** VIC IRQ: Register writes completed (at base=b33e0000) ***
[   48.936501] *** VIC IRQ: Restored enables(0x1e0|=1) and MainMask=0xFFDFFFFE (allow framedone+bit21) ***
[   48.946188] *** VIC IRQ: About to check vic_start_ok - vic_start_ok=1 ***
[   48.953192] *** VIC IRQ: vic_start_ok=1, v1_7=0x200000, v1_10=0x0 ***
[   48.959837] *** VIC IRQ: No frame done interrupt (v1_7 & 1 = 0) ***
[   48.966295] *** VIC ERROR: control limit error (bit 21) ***
[   48.972042] *** VIC IRQ COMPLETE: Processed v1_7=0x200000, v1_10=0x0 - returning IRQ_HANDLED ***
root@ing-wyze-cam3-a000 ~# dmesg 
[   47.378029] tiziano_adr_params_init: Initializing ADR parameter arrays
[   47.378036] tisp_adr_set_params: Writing ADR parameters to registers
[   47.378068] tisp_adr_set_params: ADR parameters written to hardware
[   47.378074] tisp_event_set_cb: Setting callback for event 18
[   47.378081] tisp_event_set_cb: Event 18 callback set to c0686b2c
[   47.378086] tisp_event_set_cb: Setting callback for event 2
[   47.378093] tisp_event_set_cb: Event 2 callback set to c0685630
[   47.378098] tiziano_adr_init: ADR processing initialized successfully
[   47.378104] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   47.378109] tiziano_bcsh_init: Initializing BCSH processing
[   47.378115] tiziano_ydns_init: Initializing YDNS processing
[   47.378119] tiziano_rdns_init: Initializing RDNS processing
[   47.378125] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   47.378139] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x5fa0000 (Binary Ninja EXACT) ***
[   47.378147] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x5fa1000 (Binary Ninja EXACT) ***
[   47.378154] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x5fa2000 (Binary Ninja EXACT) ***
[   47.378161] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x5fa3000 (Binary Ninja EXACT) ***
[   47.378168] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x5fa4000 (Binary Ninja EXACT) ***
[   47.378175] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x5fa4800 (Binary Ninja EXACT) ***
[   47.378182] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x5fa5000 (Binary Ninja EXACT) ***
[   47.378189] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x5fa5800 (Binary Ninja EXACT) ***
[   47.378195] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   47.378201] *** tisp_init: AE0 buffer allocated at 0x05fa0000 ***
[   47.378208] *** CRITICAL FIX: data_b2f3c initialized to 0x85fa0000 (prevents stack corruption) ***
[   47.378216] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x5fa8000 (Binary Ninja EXACT) ***
[   47.378223] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x5fa9000 (Binary Ninja EXACT) ***
[   47.378230] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x5faa000 (Binary Ninja EXACT) ***
[   47.378237] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x5fab000 (Binary Ninja EXACT) ***
[   47.378244] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x5fac000 (Binary Ninja EXACT) ***
[   47.378251] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x5fac800 (Binary Ninja EXACT) ***
[   47.378258] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x5fad000 (Binary Ninja EXACT) ***
[   47.378265] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x5fad800 (Binary Ninja EXACT) ***
[   47.378271] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   47.378278] *** tisp_init: AE1 buffer allocated at 0x05fa8000 ***
[   47.378283] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   47.378289] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   47.378296] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   47.378302] *** tisp_init: Second ISP control mode set to 8 (streaming not active) ***
[   47.378309] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   47.378313] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   47.378321] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   47.378329] tiziano_ae_params_refresh: Refreshing AE parameters
[   47.378339] tiziano_ae_params_refresh: AE parameters refreshed
[   47.378345] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   47.378351] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   47.378356] tiziano_ae_para_addr: Setting up AE parameter addresses
[   47.378361] tiziano_ae_para_addr: AE parameter addresses configured
[   47.378368] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   47.378375] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   47.378382] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   47.378389] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   47.378395] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   47.378403] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   47.378409] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   47.378416] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7d6814 (Binary Ninja EXACT) ***
[   47.378423] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   47.378430] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   47.378437] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   47.378443] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   47.378449] tiziano_ae_set_hardware_param: Parameters written to AE0
[   47.378455] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   47.378462] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   47.378469] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   47.378475] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   47.378482] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   47.378488] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   47.378495] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   47.378501] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   47.378508] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   47.378515] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   47.378521] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   47.378527] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   47.378533] tiziano_ae_set_hardware_param: Parameters written to AE1
[   47.378539] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   47.378547] *** system_irq_func_set: Registered handler c0686834 at index 10 ***
[   47.397612] *** system_irq_func_set: Registered handler c0686928 at index 27 ***
[   47.415459] *** system_irq_func_set: Registered handler c0686834 at index 26 ***
[   47.429255] *** system_irq_func_set: Registered handler c0686a10 at index 29 ***
[   47.448949] *** system_irq_func_set: Registered handler c068699c at index 28 ***
[   47.467436] *** system_irq_func_set: Registered handler c0686a84 at index 30 ***
[   47.487621] *** system_irq_func_set: Registered handler c0686ad8 at index 20 ***
[   47.495352] *** system_irq_func_set: Registered handler c0686b2c at index 18 ***
[   47.513147] *** system_irq_func_set: Registered handler c0686b80 at index 31 ***
[   47.529247] *** system_irq_func_set: Registered handler c0686bd4 at index 11 ***
[   47.546156] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   47.546179] tiziano_deflicker_expt: Generated 119 LUT entries
[   47.546185] tisp_event_set_cb: Setting callback for event 1
[   47.546193] tisp_event_set_cb: Event 1 callback set to c0686434
[   47.546199] tisp_event_set_cb: Setting callback for event 6
[   47.546205] tisp_event_set_cb: Event 6 callback set to c0685994
[   47.546211] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   47.546217] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   47.546224] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   47.546232] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   47.546239] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   47.546244] tiziano_awb_init: AWB hardware blocks enabled
[   47.546249] tiziano_gamma_init: Initializing Gamma processing
[   47.546255] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   47.546315] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   47.546320] tiziano_gib_init: Initializing GIB processing
[   47.546325] tiziano_lsc_init: Initializing LSC processing
[   47.546331] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   47.546337] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   47.546344] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   47.546351] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   47.546357] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   47.546417] tiziano_ccm_init: Initializing Color Correction Matrix
[   47.546423] tiziano_ccm_init: Using linear CCM parameters
[   47.546428] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   47.546435] jz_isp_ccm: EV=64, CT=9984
[   47.546441] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   47.546447] cm_control: saturation=128
[   47.546453] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   47.546459] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   47.546464] tiziano_ccm_init: CCM initialized successfully
[   47.546469] tiziano_dmsc_init: Initializing DMSC processing
[   47.546475] tiziano_sharpen_init: Initializing Sharpening
[   47.546480] tiziano_sharpen_init: Using linear sharpening parameters
[   47.546485] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   47.546492] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   47.546498] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   47.546554] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   47.546562] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   47.546568] tiziano_sharpen_init: Sharpening initialized successfully
[   47.546573] tiziano_sdns_init: Initializing SDNS processing
[   47.546582] tiziano_sdns_init: Using linear SDNS parameters
[   47.546587] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   47.546595] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   47.546600] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   47.546633] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   47.546640] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   47.546646] tiziano_sdns_init: SDNS processing initialized successfully
[   47.546652] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   47.546657] tiziano_mdns_init: Using linear MDNS parameters
[   47.546668] tiziano_mdns_init: MDNS processing initialized successfully
[   47.546673] tiziano_clm_init: Initializing CLM processing
[   47.546679] tiziano_dpc_init: Initializing DPC processing
[   47.546684] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   47.546690] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   47.546713] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   47.546719] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   47.546733] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   47.546740] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   47.546746] tiziano_hldc_init: Initializing HLDC processing
[   47.546753] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   47.546759] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   47.546765] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   47.546773] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   47.546779] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   47.546787] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   47.546793] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   47.546800] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   47.546807] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   47.546814] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   47.546821] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   47.546828] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   47.546835] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   47.546840] tiziano_adr_params_refresh: Refreshing ADR parameters
[   47.546846] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   47.546851] tiziano_adr_params_init: Initializing ADR parameter arrays
[   47.546859] tisp_adr_set_params: Writing ADR parameters to registers
[   47.546891] tisp_adr_set_params: ADR parameters written to hardware
[   47.546897] tisp_event_set_cb: Setting callback for event 18
[   47.546903] tisp_event_set_cb: Event 18 callback set to c0686b2c
[   47.546909] tisp_event_set_cb: Setting callback for event 2
[   47.546915] tisp_event_set_cb: Event 2 callback set to c0685630
[   47.546921] tiziano_adr_init: ADR processing initialized successfully
[   47.546927] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   47.546932] tiziano_bcsh_init: Initializing BCSH processing
[   47.546937] tiziano_ydns_init: Initializing YDNS processing
[   47.546943] tiziano_rdns_init: Initializing RDNS processing
[   47.546947] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   47.546953] tisp_event_init: Initializing ISP event system
[   47.546960] tisp_event_init: SAFE event system initialized with 20 nodes
[   47.546966] tisp_event_set_cb: Setting callback for event 4
[   47.546973] tisp_event_set_cb: Event 4 callback set to c068565c
[   47.546978] tisp_event_set_cb: Setting callback for event 5
[   47.547041] tisp_event_set_cb: Event 5 callback set to c0685b24
[   47.547049] tisp_event_set_cb: Setting callback for event 7
[   47.547055] tisp_event_set_cb: Event 7 callback set to c06856f0
[   47.547061] tisp_event_set_cb: Setting callback for event 9
[   47.547067] tisp_event_set_cb: Event 9 callback set to c0685778
[   47.547073] tisp_event_set_cb: Setting callback for event 8
[   47.547079] tisp_event_set_cb: Event 8 callback set to c068583c
[   47.547085] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   47.547091] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   47.547097] tisp_param_operate_init: Initializing parameter operations
[   47.547104] tisp_netlink_init: Initializing netlink communication
[   47.547109] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   47.547143] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   47.547156] tisp_netlink_init: Custom protocol failed, trying with nlcfg structure
[   47.547168] tisp_netlink_init: Failed to create netlink socket - continuing without netlink support
[   47.547175] tisp_netlink_init: ISP tuning parameters may not be available, but VIC interrupts should still work
[   47.547181] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   47.547186] tisp_code_create_tuning_node: Device already created, skipping
[   47.547193] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   47.547199] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   47.547205] *** ispcore_core_ops_init: Second tisp_init completed ***
[   47.547210] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[   47.547219] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[   47.547227] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   47.547233] *** ISP CORE: Hardware interrupt generation ENABLED ***
[   47.547239] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   47.547244] *** ispcore_core_ops_init: ISP Core hardware interrupts ENABLED - Frame sync should now work! ***
[   47.547249] ispcore_core_ops_init: Complete, result=0<6>[   47.547255] *** tx_isp_video_s_stream: Core init SUCCESS ***
[   47.547261] *** tx_isp_video_s_stream: Activating VIC subdev (state 3 -> 2) before CSI init ***
[   47.547269] *** tx_isp_video_s_stream: VIC subdev activation done, state=3 ***
[   47.547275] *** tx_isp_video_s_stream: Activating CSI subdev (state 1 -> 2) before CSI init ***
[   47.547283] *** tx_isp_video_s_stream: CSI subdev activation done, state=2 ***
[   47.547289] *** tx_isp_video_s_stream: Initializing CSI subdev ***
[   47.547297] csi_core_ops_init: sd=85219400, csi_dev=85219400, enable=1
[   47.547304] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   47.547313] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   47.547320] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   47.547327] *** csi_core_ops_init: interface_type=1 (1=MIPI, 2=DVP) ***
[   47.547332] *** csi_core_ops_init: Set csi_dev->interface_type = 1 ***
[   47.619252] *** tx_isp_video_s_stream: CSI init SUCCESS ***
[   47.619266] *** tx_isp_video_s_stream: Initializing VIC subdev ***
[   47.619275] *** vic_core_ops_init: ENTRY - sd=805ee000, enable=1 ***
[   47.619281] *** vic_core_ops_init: vic_dev=805ee000, current state check ***
[   47.619287] *** vic_core_ops_init: current_state=3, enable=1 ***
[   47.619293] *** tx_isp_video_s_stream: VIC init SUCCESS ***
[   47.619299] *** tx_isp_video_s_stream: Initializing Sensor subdev ***
[   47.619307] *** SENSOR_INIT: gc2053 enable=1 ***
[   47.619314] *** SENSOR_INIT: gc2053 already initialized, skipping to prevent CSI PHY reconfiguration ***
[   47.619320] *** SENSOR_INIT: This prevents register reset that disables ISP/VIC interrupts ***
[   47.619325] *** tx_isp_video_s_stream: Sensor init SUCCESS ***
[   47.619331] *** tx_isp_video_s_stream: All subdev initialization complete - proceeding with s_stream ***
[   47.619338] *** tx_isp_video_s_stream: Calling subdev[0]->ops->video->s_stream(1) ***
[   47.619344] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   47.619351] csi_video_s_stream: sd=85219400, enable=1
[   47.619357] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   47.619363] *** tx_isp_video_s_stream: subdev[0] s_stream SUCCESS ***
[   47.619369] *** tx_isp_video_s_stream: Calling subdev[1]->ops->video->s_stream(1) ***
[   47.619377] *** vic_core_s_stream: BINARY NINJA EXACT - sd=805ee000, enable=1 ***
[   47.619383] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=3 ***
[   47.619388] *** vic_core_s_stream: STREAM ON ***
[   47.619393] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   47.619399] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   47.619405] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   47.619411] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   47.619419] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   47.619426] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   47.619433] *** DEBUG: sensor_attr=c06e10cc, dbus_type=1 ***
[   47.619439] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   47.619445] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   47.619451] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   47.619457] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   47.619462] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   47.619469] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   47.649237] MIPI interface configuration
[   47.649251] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   47.649257] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   47.649263] *** VIC UNLOCK: Initial register 0x0 value = 0x00000000 ***
[   47.649269] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   47.649275] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   47.649283] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   47.649289] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   47.671270] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   47.671281] *** Continuing anyway to prevent infinite hang ***
[   47.671287] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   47.671292] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   47.671299] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   47.671304] tx_isp_vic_start: Linear mode enabled
[   47.671309] *** VIC start completed - vic_start_ok = 1 ***
[   47.671317] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   47.671322] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   47.671328] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   47.671336] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   47.671343] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   47.671351] ispvic_frame_channel_qbuf: arg1=805ee000, arg2=  (null)
[   47.671357] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   47.671363] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   47.671369] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   47.671376] ispvic_frame_channel_s_stream: arg1=805ee000, arg2=1
[   47.671382] ispvic_frame_channel_s_stream: s0 (vic_dev) = 805ee000
[   47.671389] ispvic_frame_channel_s_stream[2524]: streamon
[   47.671395] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   47.671401] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   47.671407] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   47.671413] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   47.671418] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   47.671426] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   47.671431] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   47.671439] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   47.671445] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   47.671450] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   47.671455] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   47.671461] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   47.671468] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   47.671476] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   47.671483] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   47.671491] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   47.671499] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   47.671506] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   47.671512] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   47.671518] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   47.671524] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   47.671531] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   47.671547] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   47.671553] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   47.671559] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   47.671564] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   47.671571] ispvic_frame_channel_qbuf: arg1=805ee000, arg2=  (null)
[   47.671576] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   47.671589] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   47.671598] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   47.671663] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   47.671675] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   47.671681] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   47.671690] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   47.671697] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   47.671702] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   47.671711] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   47.671719] *** VIC UNMASK-ALL TEST: [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (expect 0) ***
[   47.678721] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   47.678735] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   47.678741] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   47.678847] *** VIC POST-RUN: Re-armed control (2->1), masks preserved; NOT touching 0x1e0/0x1e4 ***
[   47.678859] *** CRITICAL: isp_irq_handle: IRQ 38 received, dev_id=805e4000 ***
[   47.686312] *** isp_irq_handle: IRQ 38 received, dev_id=805e4000 ***
[   47.686318] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   47.694033] *** VIC INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   47.702105] *** VIC IRQ: About to access isp_dev->vic_dev, isp_dev=805e4000 ***
[   47.709647] *** VIC IRQ: Got vic_dev=805ee000 ***
[   47.714496] *** VIC IRQ: Checking vic_dev validity: vic_dev=805ee000 ***
[   47.721401] *** VIC IRQ: About to access vic_dev->vic_regs ***
[   47.727421] *** VIC IRQ: Got vic_regs=b33e0000 ***
[   47.732362] *** VIC IRQ: Checking vic_regs validity: vic_regs=b33e0000 ***
[   47.739446] *** VIC IRQ: vic_regs passed validity check - proceeding with register access ***
[   47.748246] *** VIC IRQ: About to read VIC registers at b33e0000 ***
[   47.754798] *** VIC IRQ: Using base b33e0000 [1e0]=0x200000 [1e4]=0x0 [1e8]=0xffdffffe [1ec]=0x0 ***
[   47.764229] *** VIC IRQ: CTRL[0x300]=0x80040020 DIMS[0x304]=0x7800438 STRIDE[0x310]=0xf00 ***
[   47.773022] *** VIC IRQ: Calculated v1_7 = 0x200000 v1_10 = 0x0 ***
[   47.779487] *** VIC IRQ: About to write v1_7=0x200000 to reg 0x1f0 (base=b33e0000) ***
[   47.787654] *** VIC IRQ: About to write v1_10=0x0 to reg 0x1f4 (base=b33e0000) ***
[   47.795466] *** VIC IRQ: Register writes completed (at base=b33e0000) ***
[   47.802460] *** VIC IRQ: Restored enables(0x1e0|=1) and MainMask=0xFFDFFFFE (allow framedone+bit21) ***
[   47.812160] *** VIC IRQ: About to check vic_start_ok - vic_start_ok=1 ***
[   47.819167] *** VIC IRQ: vic_start_ok=1, v1_7=0x200000, v1_10=0x0 ***
[   47.825808] *** VIC IRQ: No frame done interrupt (v1_7 & 1 = 0) ***
[   47.832269] *** VIC ERROR: control limit error (bit 21) ***
[   47.838008] *** VIC IRQ COMPLETE: Processed v1_7=0x200000, v1_10=0x0 - returning IRQ_HANDLED ***
[   48.109242] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   48.109354] *** VIC POST-RUN (CONTROL): Re-armed control (2->1), masks preserved; NOT touching 0x1e0/0x1e4 ***
[   48.109362] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   48.109368] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   48.109374] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   48.109380] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   48.109385] tx_vic_enable_irq: Calling VIC interrupt callback
[   48.109392] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   48.109398] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   48.109404] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   48.109414] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   48.109420] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   48.109428] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   48.109434] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   48.109440] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   48.109446] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   48.109451] *** tx_vic_enable_irq: completed successfully ***
[   48.525285] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   48.525299] *** vic_core_s_stream: VIC state transition 3 → 4 (STREAMING) ***
[   48.525304] *** VIC STATE 4: Calling ispcore_slake_module to initialize ISP core ***
[   48.525311] *** ispcore_slake_module: EXACT Binary Ninja MCP implementation ***
[   48.525319] ispcore_slake_module: VIC device=805ee000, state=4<6>[   48.525324] *** ispcore_slake_module: VIC state >= 3; skipping slake to preserve interrupts ***
[   48.525330] *** ispcore_slake_module SUCCESS - ISP core should now be initialized ***
[   48.525336] *** vic_core_s_stream: VIC initialized, final state=4 ***
[   48.525343] *** tx_isp_video_s_stream: subdev[1] s_stream SUCCESS ***
[   48.525351] *** tx_isp_video_s_stream: Calling subdev[3]->ops->video->s_stream(1) ***
[   48.525359] gc2053: s_stream called with enable=1
[   48.525367] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.525373] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   48.525379] gc2053: About to write streaming registers for interface 1
[   48.525385] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   48.525395] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.525716] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.525723] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.525732] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   48.526079] sensor_write: reg=0x3e val=0x91 SUCCESS
[   48.526089] sensor_write_array: reg[2] 0x3e=0x91 OK
[   48.526097] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   48.526103] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   48.526109] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   48.526115] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   48.526122] *** tx_isp_video_s_stream: subdev[3] s_stream SUCCESS ***
[   48.526128] *** tx_isp_video_s_stream: Calling subdev[5]->ops->video->s_stream(1) ***
[   48.526135] gc2053: s_stream called with enable=1
[   48.526141] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.526147] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   48.526153] gc2053: About to write streaming registers for interface 1
[   48.526159] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   48.526168] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.526487] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.526494] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.526503] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   48.526815] sensor_write: reg=0x3e val=0x91 SUCCESS
[   48.526821] sensor_write_array: reg[2] 0x3e=0x91 OK
[   48.526828] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   48.526834] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   48.526840] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   48.526846] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   48.526852] *** tx_isp_video_s_stream: subdev[5] s_stream SUCCESS ***
[   48.526866] ISP IOCTL: cmd=0x800456d0 arg=0x7fad7f30
[   48.526873] TX_ISP_VIDEO_LINK_SETUP: config=0
[   48.526879] TX_ISP_VIDEO_LINK_SETUP: Link config unchanged (0)
[   48.526885] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   48.526892] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   48.526898] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   48.526905] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   48.526912] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   48.526918] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   48.526924] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   48.526931] csi_video_s_stream: sd=85219400, enable=1
[   48.526937] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   48.526945] *** vic_core_s_stream: BINARY NINJA EXACT - sd=805ee000, enable=1 ***
[   48.526951] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=4 ***
[   48.526956] *** vic_core_s_stream: STREAM ON ***
[   48.526961] *** vic_core_s_stream: EXACT Binary Ninja - State=4, no action needed ***
[   48.526968] gc2053: s_stream called with enable=1
[   48.526975] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.526981] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   48.526987] gc2053: About to write streaming registers for interface 1
[   48.526993] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   48.527001] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.534330] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.534342] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.534353] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   48.534671] sensor_write: reg=0x3e val=0x91 SUCCESS
[   48.534678] sensor_write_array: reg[2] 0x3e=0x91 OK
[   48.534685] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   48.534691] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   48.534697] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   48.534703] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   48.534711] gc2053: s_stream called with enable=1
[   48.534718] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.534723] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   48.534730] gc2053: About to write streaming registers for interface 1
[   48.534736] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   48.534745] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.535061] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.535069] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.535077] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   48.535389] sensor_write: reg=0x3e val=0x91 SUCCESS
[   48.535396] sensor_write_array: reg[2] 0x3e=0x91 OK
[   48.535403] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   48.535409] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   48.535415] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   48.535421] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   48.760432] ISP M0 device open called from pid 2366
[   48.760465] *** REFERENCE DRIVER IMPLEMENTATION ***
[   48.760473] ISP M0 tuning buffer allocated: 82230000 (size=0x500c, aligned)
[   48.760479] tisp_par_ioctl global variable set: 82230000
[   48.760534] isp_core_tunning_unlocked_ioctl: Auto-initializing tuning for V4L2 control (one-time)
[   48.760541] isp_core_tunning_unlocked_ioctl: Initializing tuning data structure
[   48.760547] isp_core_tuning_init: Initializing tuning data structure
[   48.760567] isp_core_tuning_init: Tuning data structure initialized at 82238000
[   48.760573] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   48.760579] *** SAFE: mode_flag properly initialized using struct member access ***
[   48.760585] isp_core_tunning_unlocked_ioctl: Tuning data allocated at 82238000
[   48.760591] *** BINARY NINJA REFERENCE: Skipping auto-initialization - no hardware reset during tuning setup ***
[   48.760597] isp_core_tunning_unlocked_ioctl: ISP tuning auto-enabled for V4L2 controls (permanent)
[   48.760603] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   48.760611] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   48.760617] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   48.760622] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   48.760627] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   48.760652] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   48.760659] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980900
[   48.760665] CRITICAL: Cannot access brightness field - PREVENTS BadVA CRASH
[   48.760673] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   48.760679] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980902
[   48.760686] CRITICAL: Cannot access saturation field at 82238024 - PREVENTING BadVA CRASH
[   48.761050] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.761063] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   48.761070] Set control: cmd=0x980901 value=128
[   48.762124] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762137] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   48.762143] Set control: cmd=0x98091b value=128
[   48.762251] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762259] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   48.762266] Set control: cmd=0x980902 value=128
[   48.762272] tisp_bcsh_saturation: saturation=128
[   48.762277] tiziano_bcsh_update: Updating BCSH parameters
[   48.762285]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   48.762290] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   48.762358] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762366] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[INFO:WS.cpp]: Server started on port 8089
[   48.762372] Set control: cmd=0x980900 value=128
[   48.762448] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762457] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   48.762463] Set control: cmd=0x980901 value=128
[   48.762522] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762530] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   48.762537] Set control: cmd=0x98091b value=128
[   48.762595] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762603] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   48.762610] Set control: cmd=0x980902 value=128
[   48.762615] tisp_bcsh_saturation: saturation=128
[   48.762621] tiziano_bcsh_update: Updating BCSH parameters
[   48.762628]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   48.762633] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   48.762692] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762700] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   48.762707] Set control: cmd=0x980900 value=128
[   48.762771] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   48.762780] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   48.762785] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   48.762852] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   48.762859] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   48.762865] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   48.762925] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762933] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980914 value=0
[   48.762939] Set control: cmd=0x980914 value=0
[   48.762999] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.763007] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980915 value=0
[   48.763014] Set control: cmd=0x980915 value=0
[   48.765282] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   48.765295] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   48.765301] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   48.765497] ISP IOCTL: cmd=0x800456d3 arg=0x0
[   48.765507] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=0 ***
[   48.765514] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   48.765521] csi_video_s_stream: sd=85219400, enable=0
[   48.765528] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 3 (enable=0)
[   48.765536] *** vic_core_s_stream: BINARY NINJA EXACT - sd=805ee000, enable=0 ***
[   48.765543] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=4 ***
[   48.765547] *** vic_core_s_stream: STREAM OFF ***
[   48.765553] vic_core_s_stream: Stream OFF - state 4 -> 3
[   48.765561] gc2053: s_stream called with enable=0
[   48.765569] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.765575] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   48.765581] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   48.765590] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.766865] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.766877] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.766888] sensor_write: reg=0x3e val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.767204] sensor_write: reg=0x3e val=0x00 SUCCESS
[   48.767211] sensor_write_array: reg[2] 0x3e=0x00 OK
[   48.767217] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   48.767224] gc2053: Sensor hardware streaming stopped
[   48.767231] gc2053: s_stream called with enable=0
[   48.767238] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.767244] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   48.767249] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   48.767258] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.767579] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.767587] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.767595] sensor_write: reg=0x3e val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.767912] sensor_write: reg=0x3e val=0x00 SUCCESS
[   48.767919] sensor_write_array: reg[2] 0x3e=0x00 OK
[   48.767925] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   48.767931] gc2053: Sensor hardware streaming stopped
[   48.768114] ISP IOCTL: cmd=0x800456d1 arg=0x7fad7f30
[   48.768125] tx_isp_video_link_destroy: Destroying links for config 0
[   48.768133] tx_isp_video_link_destroy: All links destroyed, config reset to -1
[   48.768143] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.768151] isp_core_tunning_unlocked_ioctl: Set control cmd=0x8000164 value=1
[   48.768157] Set control: cmd=0x8000164 value=1
[   48.768165] ISP IOCTL: cmd=0x800456d0 arg=0x7fad7f30
[   48.768171] TX_ISP_VIDEO_LINK_SETUP: config=0
[   48.768177] TX_ISP_VIDEO_LINK_SETUP: Link config changed from -1 to 0
[   48.768183] TX_ISP_VIDEO_LINK_SETUP: Link config updated to 0
[   48.768189] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   48.768195] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   48.768201] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   48.768209] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   48.768216] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   48.768222] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   48.768228] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   48.768235] csi_video_s_stream: sd=85219400, enable=1
[   48.768241] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   48.768249] *** vic_core_s_stream: BINARY NINJA EXACT - sd=805ee000, enable=1 ***
[   48.768255] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=3 ***
[   48.768260] *** vic_core_s_stream: STREAM ON ***
[   48.768265] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   48.768271] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   48.768277] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   48.768283] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   48.768292] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   48.768299] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   48.768305] *** DEBUG: sensor_attr=c06e10cc, dbus_type=1 ***
[   48.768311] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   48.768317] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   48.768323] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   48.768329] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   48.768334] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   48.768341] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   48.777080] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   48.777093] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   48.777099] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   48.777105] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   48.777110] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   48.789236] MIPI interface configuration
[   48.789251] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   48.789257] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   48.789263] *** VIC UNLOCK: Initial register 0x0 value = 0x00000001 ***
[   48.789269] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   48.789275] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   48.789283] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   48.789288] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   48.811311] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   48.811321] *** Continuing anyway to prevent infinite hang ***
[   48.811327] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   48.811333] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   48.811339] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   48.811344] tx_isp_vic_start: Linear mode enabled
[   48.811349] *** VIC start completed - vic_start_ok = 1 ***
[   48.811357] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   48.811362] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   48.811368] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   48.811376] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   48.811382] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   48.811390] ispvic_frame_channel_qbuf: arg1=805ee000, arg2=  (null)
[   48.811397] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   48.811403] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   48.811409] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   48.811415] ispvic_frame_channel_s_stream: arg1=805ee000, arg2=1
[   48.811421] ispvic_frame_channel_s_stream: s0 (vic_dev) = 805ee000
[   48.811428] ispvic_frame_channel_s_stream[2524]: streamon
[   48.811435] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   48.811440] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   48.811446] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   48.811452] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   48.811457] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   48.811465] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   48.811470] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   48.811477] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   48.811483] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   48.811489] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   48.811495] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   48.811500] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   48.811507] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   48.811515] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   48.811522] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   48.811529] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   48.811537] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   48.811545] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   48.811551] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
d[   48.811556] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   48.811562] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   48.811569] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   48.811585] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   48.811591] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   48.811597] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   48.811602] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   48.811609] ispvic_frame_channel_qbuf: arg1=805ee000, arg2=  (null)
[   48.811614] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   48.811627] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   48.811635] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   48.811701] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   48.811713] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   48.811719] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   48.811728] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   48.811734] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   48.811739] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   48.811749] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   48.811757] *** VIC UNMASK-ALL TEST: [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (expect 0) ***
[   48.812765] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   48.812770] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   48.812775] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   48.812881] *** VIC POST-RUN: Re-armed control (2->1), masks preserved; NOT touching 0x1e0/0x1e4 ***
[   48.812892] *** CRITICAL: isp_irq_handle: IRQ 38 received, dev_id=805e4000 ***
[   48.820339] *** isp_irq_handle: IRQ 38 received, dev_id=805e4000 ***
[   48.820345] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   48.828063] *** VIC INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   48.836143] *** VIC IRQ: About to access isp_dev->vic_dev, isp_dev=805e4000 ***
[   48.843687] *** VIC IRQ: Got vic_dev=805ee000 ***
[   48.848539] *** VIC IRQ: Checking vic_dev validity: vic_dev=805ee000 ***
[   48.855445] *** VIC IRQ: About to access vic_dev->vic_regs ***
[   48.861465] *** VIC IRQ: Got vic_regs=b33e0000 ***
[   48.866396] *** VIC IRQ: Checking vic_regs validity: vic_regs=b33e0000 ***
[   48.873482] *** VIC IRQ: vic_regs passed validity check - proceeding with register access ***
[   48.882279] *** VIC IRQ: About to read VIC registers at b33e0000 ***
[   48.888833] *** VIC IRQ: Using base b33e0000 [1e0]=0x200000 [1e4]=0x0 [1e8]=0xffdffffe [1ec]=0x0 ***
[   48.898262] *** VIC IRQ: CTRL[0x300]=0x80040020 DIMS[0x304]=0x7800438 STRIDE[0x310]=0xf00 ***
[   48.907056] *** VIC IRQ: Calculated v1_7 = 0x200000 v1_10 = 0x0 ***
[   48.913523] *** VIC IRQ: About to write v1_7=0x200000 to reg 0x1f0 (base=b33e0000) ***
[   48.921692] *** VIC IRQ: About to write v1_10=0x0 to reg 0x1f4 (base=b33e0000) ***
[   48.929505] *** VIC IRQ: Register writes completed (at base=b33e0000) ***
[   48.936501] *** VIC IRQ: Restored enables(0x1e0|=1) and MainMask=0xFFDFFFFE (allow framedone+bit21) ***
[   48.946188] *** VIC IRQ: About to check vic_start_ok - vic_start_ok=1 ***
[   48.953192] *** VIC IRQ: vic_start_ok=1, v1_7=0x200000, v1_10=0x0 ***
[   48.959837] *** VIC IRQ: No frame done interrupt (v1_7 & 1 = 0) ***
[   48.966295] *** VIC ERROR: control limit error (bit 21) ***
[   48.972042] *** VIC IRQ COMPLETE: Processed v1_7=0x200000, v1_10=0x0 - returning IRQ_HANDLED ***
[   49.169230] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   49.169342] *** VIC POST-RUN (CONTROL): Re-armed control (2->1), masks preserved; NOT touching 0x1e0/0x1e4 ***
[   49.169350] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   49.169356] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   49.169362] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   49.169368] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   49.169373] tx_vic_enable_irq: Calling VIC interrupt callback
[   49.169380] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   49.169386] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   49.169392] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   49.169401] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   49.169408] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   49.169415] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   49.169422] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   49.169428] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   49.169434] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   49.169439] *** tx_vic_enable_irq: completed successfully ***
[   49.583461] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   49.583474] *** vic_core_s_stream: VIC state transition 3 → 4 (STREAMING) ***
[   49.583480] *** VIC STATE 4: Calling ispcore_slake_module to initialize ISP core ***
[   49.583486] *** ispcore_slake_module: EXACT Binary Ninja MCP implementation ***
[   49.583494] ispcore_slake_module: VIC device=805ee000, state=4<6>[   49.583500] *** ispcore_slake_module: VIC state >= 3; skipping slake to preserve interrupts ***
[   49.583506] *** ispcore_slake_module SUCCESS - ISP core should now be initialized ***
[   49.583512] *** vic_core_s_stream: VIC initialized, final state=4 ***
[   49.583522] gc2053: s_stream called with enable=1
[   49.583528] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   49.583535] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   49.583541] gc2053: About to write streaming registers for interface 1
[   49.583547] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   49.583557] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   49.583877] sensor_write: reg=0xfe val=0x00 SUCCESS
[   49.583884] sensor_write_array: reg[1] 0xfe=0x00 OK
[   49.583892] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   49.584211] sensor_write: reg=0x3e val=0x91 SUCCESS
[   49.584218] sensor_write_array: reg[2] 0x3e=0x91 OK
[   49.584225] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   49.584232] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   49.584238] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   49.584244] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
mset jpeg streamMngCtx suceess
[   49.584250] gc2053: s_stream called with enable=1
[   49.584256] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   49.584262] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   49.584268] gc2053: About to write streaming registers for interface 1
[   49.584274] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   49.584283] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   49.587795] sensor_write: reg=0xfe val=0x00 SUCCESS
[   49.587808] sensor_write_array: reg[1] 0xfe=0x00 OK
[   49.587819] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   49.588136] sensor_write: reg=0x3e val=0x91 SUCCESS
[   49.588142] sensor_write_array: reg[2] 0x3e=0x91 OK
[   49.588149] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   49.588156] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   49.588185] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   49.588192] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   49.588413] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   49.588424] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980918 value=2
[   49.588430] Set control: cmd=0x980918 value=2
[   49.588582] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.588592] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.588598] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.588739] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.588748] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.588754] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.588881] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.588889] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.588895] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.589016] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.589024] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.589030] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.589226] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.589236] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.589242] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.589400] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.589410] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.589416] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.589555] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.589564] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.589570] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.589701] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.589710] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.589716] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.589934] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.589943] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.589949] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.590083] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.590092] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.590097] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
root@ing-wyze-cam3-a000 ~# dmesg 
[   47.678847] *** VIC POST-RUN: Re-armed control (2->1), masks preserved; NOT touching 0x1e0/0x1e4 ***
[   47.678859] *** CRITICAL: isp_irq_handle: IRQ 38 received, dev_id=805e4000 ***
[   47.686312] *** isp_irq_handle: IRQ 38 received, dev_id=805e4000 ***
[   47.686318] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   47.694033] *** VIC INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   47.702105] *** VIC IRQ: About to access isp_dev->vic_dev, isp_dev=805e4000 ***
[   47.709647] *** VIC IRQ: Got vic_dev=805ee000 ***
[   47.714496] *** VIC IRQ: Checking vic_dev validity: vic_dev=805ee000 ***
[   47.721401] *** VIC IRQ: About to access vic_dev->vic_regs ***
[   47.727421] *** VIC IRQ: Got vic_regs=b33e0000 ***
[   47.732362] *** VIC IRQ: Checking vic_regs validity: vic_regs=b33e0000 ***
[   47.739446] *** VIC IRQ: vic_regs passed validity check - proceeding with register access ***
[   47.748246] *** VIC IRQ: About to read VIC registers at b33e0000 ***
[   47.754798] *** VIC IRQ: Using base b33e0000 [1e0]=0x200000 [1e4]=0x0 [1e8]=0xffdffffe [1ec]=0x0 ***
[   47.764229] *** VIC IRQ: CTRL[0x300]=0x80040020 DIMS[0x304]=0x7800438 STRIDE[0x310]=0xf00 ***
[   47.773022] *** VIC IRQ: Calculated v1_7 = 0x200000 v1_10 = 0x0 ***
[   47.779487] *** VIC IRQ: About to write v1_7=0x200000 to reg 0x1f0 (base=b33e0000) ***
[   47.787654] *** VIC IRQ: About to write v1_10=0x0 to reg 0x1f4 (base=b33e0000) ***
[   47.795466] *** VIC IRQ: Register writes completed (at base=b33e0000) ***
[   47.802460] *** VIC IRQ: Restored enables(0x1e0|=1) and MainMask=0xFFDFFFFE (allow framedone+bit21) ***
[   47.812160] *** VIC IRQ: About to check vic_start_ok - vic_start_ok=1 ***
[   47.819167] *** VIC IRQ: vic_start_ok=1, v1_7=0x200000, v1_10=0x0 ***
[   47.825808] *** VIC IRQ: No frame done interrupt (v1_7 & 1 = 0) ***
[   47.832269] *** VIC ERROR: control limit error (bit 21) ***
[   47.838008] *** VIC IRQ COMPLETE: Processed v1_7=0x200000, v1_10=0x0 - returning IRQ_HANDLED ***
[   48.109242] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   48.109354] *** VIC POST-RUN (CONTROL): Re-armed control (2->1), masks preserved; NOT touching 0x1e0/0x1e4 ***
[   48.109362] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   48.109368] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   48.109374] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   48.109380] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   48.109385] tx_vic_enable_irq: Calling VIC interrupt callback
[   48.109392] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   48.109398] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   48.109404] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   48.109414] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   48.109420] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   48.109428] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   48.109434] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   48.109440] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   48.109446] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   48.109451] *** tx_vic_enable_irq: completed successfully ***
[   48.525285] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   48.525299] *** vic_core_s_stream: VIC state transition 3 → 4 (STREAMING) ***
[   48.525304] *** VIC STATE 4: Calling ispcore_slake_module to initialize ISP core ***
[   48.525311] *** ispcore_slake_module: EXACT Binary Ninja MCP implementation ***
[   48.525319] ispcore_slake_module: VIC device=805ee000, state=4<6>[   48.525324] *** ispcore_slake_module: VIC state >= 3; skipping slake to preserve interrupts ***
[   48.525330] *** ispcore_slake_module SUCCESS - ISP core should now be initialized ***
[   48.525336] *** vic_core_s_stream: VIC initialized, final state=4 ***
[   48.525343] *** tx_isp_video_s_stream: subdev[1] s_stream SUCCESS ***
[   48.525351] *** tx_isp_video_s_stream: Calling subdev[3]->ops->video->s_stream(1) ***
[   48.525359] gc2053: s_stream called with enable=1
[   48.525367] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.525373] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   48.525379] gc2053: About to write streaming registers for interface 1
[   48.525385] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   48.525395] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.525716] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.525723] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.525732] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   48.526079] sensor_write: reg=0x3e val=0x91 SUCCESS
[   48.526089] sensor_write_array: reg[2] 0x3e=0x91 OK
[   48.526097] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   48.526103] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   48.526109] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   48.526115] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   48.526122] *** tx_isp_video_s_stream: subdev[3] s_stream SUCCESS ***
[   48.526128] *** tx_isp_video_s_stream: Calling subdev[5]->ops->video->s_stream(1) ***
[   48.526135] gc2053: s_stream called with enable=1
[   48.526141] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.526147] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   48.526153] gc2053: About to write streaming registers for interface 1
[   48.526159] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   48.526168] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.526487] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.526494] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.526503] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   48.526815] sensor_write: reg=0x3e val=0x91 SUCCESS
[   48.526821] sensor_write_array: reg[2] 0x3e=0x91 OK
[   48.526828] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   48.526834] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   48.526840] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   48.526846] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   48.526852] *** tx_isp_video_s_stream: subdev[5] s_stream SUCCESS ***
[   48.526866] ISP IOCTL: cmd=0x800456d0 arg=0x7fad7f30
[   48.526873] TX_ISP_VIDEO_LINK_SETUP: config=0
[   48.526879] TX_ISP_VIDEO_LINK_SETUP: Link config unchanged (0)
[   48.526885] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   48.526892] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   48.526898] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   48.526905] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   48.526912] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   48.526918] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   48.526924] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   48.526931] csi_video_s_stream: sd=85219400, enable=1
[   48.526937] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   48.526945] *** vic_core_s_stream: BINARY NINJA EXACT - sd=805ee000, enable=1 ***
[   48.526951] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=4 ***
[   48.526956] *** vic_core_s_stream: STREAM ON ***
[   48.526961] *** vic_core_s_stream: EXACT Binary Ninja - State=4, no action needed ***
[   48.526968] gc2053: s_stream called with enable=1
[   48.526975] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.526981] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   48.526987] gc2053: About to write streaming registers for interface 1
[   48.526993] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   48.527001] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.534330] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.534342] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.534353] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   48.534671] sensor_write: reg=0x3e val=0x91 SUCCESS
[   48.534678] sensor_write_array: reg[2] 0x3e=0x91 OK
[   48.534685] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   48.534691] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   48.534697] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   48.534703] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   48.534711] gc2053: s_stream called with enable=1
[   48.534718] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.534723] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   48.534730] gc2053: About to write streaming registers for interface 1
[   48.534736] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   48.534745] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.535061] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.535069] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.535077] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   48.535389] sensor_write: reg=0x3e val=0x91 SUCCESS
[   48.535396] sensor_write_array: reg[2] 0x3e=0x91 OK
[   48.535403] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   48.535409] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   48.535415] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   48.535421] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   48.760432] ISP M0 device open called from pid 2366
[   48.760465] *** REFERENCE DRIVER IMPLEMENTATION ***
[   48.760473] ISP M0 tuning buffer allocated: 82230000 (size=0x500c, aligned)
[   48.760479] tisp_par_ioctl global variable set: 82230000
[   48.760534] isp_core_tunning_unlocked_ioctl: Auto-initializing tuning for V4L2 control (one-time)
[   48.760541] isp_core_tunning_unlocked_ioctl: Initializing tuning data structure
[   48.760547] isp_core_tuning_init: Initializing tuning data structure
[   48.760567] isp_core_tuning_init: Tuning data structure initialized at 82238000
[   48.760573] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   48.760579] *** SAFE: mode_flag properly initialized using struct member access ***
[   48.760585] isp_core_tunning_unlocked_ioctl: Tuning data allocated at 82238000
[   48.760591] *** BINARY NINJA REFERENCE: Skipping auto-initialization - no hardware reset during tuning setup ***
[   48.760597] isp_core_tunning_unlocked_ioctl: ISP tuning auto-enabled for V4L2 controls (permanent)
[   48.760603] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   48.760611] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   48.760617] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   48.760622] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   48.760627] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   48.760652] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   48.760659] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980900
[   48.760665] CRITICAL: Cannot access brightness field - PREVENTS BadVA CRASH
[   48.760673] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   48.760679] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980902
[   48.760686] CRITICAL: Cannot access saturation field at 82238024 - PREVENTING BadVA CRASH
[   48.761050] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.761063] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   48.761070] Set control: cmd=0x980901 value=128
[   48.762124] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762137] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   48.762143] Set control: cmd=0x98091b value=128
[   48.762251] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762259] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   48.762266] Set control: cmd=0x980902 value=128
[   48.762272] tisp_bcsh_saturation: saturation=128
[   48.762277] tiziano_bcsh_update: Updating BCSH parameters
[   48.762285]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   48.762290] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   48.762358] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762366] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   48.762372] Set control: cmd=0x980900 value=128
[   48.762448] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762457] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   48.762463] Set control: cmd=0x980901 value=128
[   48.762522] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762530] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   48.762537] Set control: cmd=0x98091b value=128
[   48.762595] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762603] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   48.762610] Set control: cmd=0x980902 value=128
[   48.762615] tisp_bcsh_saturation: saturation=128
[   48.762621] tiziano_bcsh_update: Updating BCSH parameters
[   48.762628]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   48.762633] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   48.762692] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762700] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   48.762707] Set control: cmd=0x980900 value=128
[   48.762771] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   48.762780] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   48.762785] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   48.762852] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   48.762859] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   48.762865] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   48.762925] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.762933] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980914 value=0
[   48.762939] Set control: cmd=0x980914 value=0
[   48.762999] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.763007] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980915 value=0
[   48.763014] Set control: cmd=0x980915 value=0
[   48.765282] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   48.765295] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   48.765301] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   48.765497] ISP IOCTL: cmd=0x800456d3 arg=0x0
[   48.765507] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=0 ***
[   48.765514] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   48.765521] csi_video_s_stream: sd=85219400, enable=0
[   48.765528] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 3 (enable=0)
[   48.765536] *** vic_core_s_stream: BINARY NINJA EXACT - sd=805ee000, enable=0 ***
[   48.765543] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=4 ***
[   48.765547] *** vic_core_s_stream: STREAM OFF ***
[   48.765553] vic_core_s_stream: Stream OFF - state 4 -> 3
[   48.765561] gc2053: s_stream called with enable=0
[   48.765569] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.765575] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   48.765581] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   48.765590] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.766865] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.766877] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.766888] sensor_write: reg=0x3e val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.767204] sensor_write: reg=0x3e val=0x00 SUCCESS
[   48.767211] sensor_write_array: reg[2] 0x3e=0x00 OK
[   48.767217] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   48.767224] gc2053: Sensor hardware streaming stopped
[   48.767231] gc2053: s_stream called with enable=0
[   48.767238] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   48.767244] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   48.767249] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   48.767258] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.767579] sensor_write: reg=0xfe val=0x00 SUCCESS
[   48.767587] sensor_write_array: reg[1] 0xfe=0x00 OK
[   48.767595] sensor_write: reg=0x3e val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   48.767912] sensor_write: reg=0x3e val=0x00 SUCCESS
[   48.767919] sensor_write_array: reg[2] 0x3e=0x00 OK
[   48.767925] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   48.767931] gc2053: Sensor hardware streaming stopped
[   48.768114] ISP IOCTL: cmd=0x800456d1 arg=0x7fad7f30
[   48.768125] tx_isp_video_link_destroy: Destroying links for config 0
[   48.768133] tx_isp_video_link_destroy: All links destroyed, config reset to -1
[   48.768143] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   48.768151] isp_core_tunning_unlocked_ioctl: Set control cmd=0x8000164 value=1
[   48.768157] Set control: cmd=0x8000164 value=1
[   48.768165] ISP IOCTL: cmd=0x800456d0 arg=0x7fad7f30
[   48.768171] TX_ISP_VIDEO_LINK_SETUP: config=0
[   48.768177] TX_ISP_VIDEO_LINK_SETUP: Link config changed from -1 to 0
[   48.768183] TX_ISP_VIDEO_LINK_SETUP: Link config updated to 0
[   48.768189] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   48.768195] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   48.768201] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   48.768209] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   48.768216] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   48.768222] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   48.768228] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   48.768235] csi_video_s_stream: sd=85219400, enable=1
[   48.768241] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   48.768249] *** vic_core_s_stream: BINARY NINJA EXACT - sd=805ee000, enable=1 ***
[   48.768255] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=3 ***
[   48.768260] *** vic_core_s_stream: STREAM ON ***
[   48.768265] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   48.768271] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   48.768277] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   48.768283] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   48.768292] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   48.768299] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   48.768305] *** DEBUG: sensor_attr=c06e10cc, dbus_type=1 ***
[   48.768311] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   48.768317] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   48.768323] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   48.768329] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   48.768334] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   48.768341] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   48.777080] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   48.777093] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   48.777099] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   48.777105] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   48.777110] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   48.789236] MIPI interface configuration
[   48.789251] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   48.789257] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   48.789263] *** VIC UNLOCK: Initial register 0x0 value = 0x00000001 ***
[   48.789269] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   48.789275] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   48.789283] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   48.789288] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   48.811311] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   48.811321] *** Continuing anyway to prevent infinite hang ***
[   48.811327] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   48.811333] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   48.811339] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   48.811344] tx_isp_vic_start: Linear mode enabled
[   48.811349] *** VIC start completed - vic_start_ok = 1 ***
[   48.811357] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   48.811362] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   48.811368] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   48.811376] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   48.811382] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   48.811390] ispvic_frame_channel_qbuf: arg1=805ee000, arg2=  (null)
[   48.811397] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   48.811403] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   48.811409] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   48.811415] ispvic_frame_channel_s_stream: arg1=805ee000, arg2=1
[   48.811421] ispvic_frame_channel_s_stream: s0 (vic_dev) = 805ee000
[   48.811428] ispvic_frame_channel_s_stream[2524]: streamon
[   48.811435] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   48.811440] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   48.811446] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   48.811452] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   48.811457] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   48.811465] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   48.811470] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   48.811477] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   48.811483] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   48.811489] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   48.811495] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   48.811500] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   48.811507] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   48.811515] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   48.811522] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   48.811529] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   48.811537] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   48.811545] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   48.811551] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   48.811556] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   48.811562] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   48.811569] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   48.811585] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   48.811591] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   48.811597] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   48.811602] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   48.811609] ispvic_frame_channel_qbuf: arg1=805ee000, arg2=  (null)
[   48.811614] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   48.811627] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   48.811635] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   48.811701] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFDFFFFE)***
[   48.811713] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   48.811719] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   48.811728] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   48.811734] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   48.811739] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   48.811749] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   48.811757] *** VIC UNMASK-ALL TEST: [0x1e8]=0xffdffffe [0x1ec]=0x00000000 (expect 0) ***
[   48.812765] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   48.812770] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   48.812775] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   48.812881] *** VIC POST-RUN: Re-armed control (2->1), masks preserved; NOT touching 0x1e0/0x1e4 ***
[   48.812892] *** CRITICAL: isp_irq_handle: IRQ 38 received, dev_id=805e4000 ***
[   48.820339] *** isp_irq_handle: IRQ 38 received, dev_id=805e4000 ***
[   48.820345] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   48.828063] *** VIC INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   48.836143] *** VIC IRQ: About to access isp_dev->vic_dev, isp_dev=805e4000 ***
[   48.843687] *** VIC IRQ: Got vic_dev=805ee000 ***
[   48.848539] *** VIC IRQ: Checking vic_dev validity: vic_dev=805ee000 ***
[   48.855445] *** VIC IRQ: About to access vic_dev->vic_regs ***
[   48.861465] *** VIC IRQ: Got vic_regs=b33e0000 ***
[   48.866396] *** VIC IRQ: Checking vic_regs validity: vic_regs=b33e0000 ***
[   48.873482] *** VIC IRQ: vic_regs passed validity check - proceeding with register access ***
[   48.882279] *** VIC IRQ: About to read VIC registers at b33e0000 ***
[   48.888833] *** VIC IRQ: Using base b33e0000 [1e0]=0x200000 [1e4]=0x0 [1e8]=0xffdffffe [1ec]=0x0 ***
[   48.898262] *** VIC IRQ: CTRL[0x300]=0x80040020 DIMS[0x304]=0x7800438 STRIDE[0x310]=0xf00 ***
[   48.907056] *** VIC IRQ: Calculated v1_7 = 0x200000 v1_10 = 0x0 ***
[   48.913523] *** VIC IRQ: About to write v1_7=0x200000 to reg 0x1f0 (base=b33e0000) ***
[   48.921692] *** VIC IRQ: About to write v1_10=0x0 to reg 0x1f4 (base=b33e0000) ***
[   48.929505] *** VIC IRQ: Register writes completed (at base=b33e0000) ***
[   48.936501] *** VIC IRQ: Restored enables(0x1e0|=1) and MainMask=0xFFDFFFFE (allow framedone+bit21) ***
[   48.946188] *** VIC IRQ: About to check vic_start_ok - vic_start_ok=1 ***
[   48.953192] *** VIC IRQ: vic_start_ok=1, v1_7=0x200000, v1_10=0x0 ***
[   48.959837] *** VIC IRQ: No frame done interrupt (v1_7 & 1 = 0) ***
[   48.966295] *** VIC ERROR: control limit error (bit 21) ***
[   48.972042] *** VIC IRQ COMPLETE: Processed v1_7=0x200000, v1_10=0x0 - returning IRQ_HANDLED ***
[   49.169230] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   49.169342] *** VIC POST-RUN (CONTROL): Re-armed control (2->1), masks preserved; NOT touching 0x1e0/0x1e4 ***
[   49.169350] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   49.169356] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   49.169362] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   49.169368] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   49.169373] tx_vic_enable_irq: Calling VIC interrupt callback
[   49.169380] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   49.169386] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   49.169392] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   49.169401] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   49.169408] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   49.169415] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   49.169422] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   49.169428] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   49.169434] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   49.169439] *** tx_vic_enable_irq: completed successfully ***
[   49.583461] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   49.583474] *** vic_core_s_stream: VIC state transition 3 → 4 (STREAMING) ***
[   49.583480] *** VIC STATE 4: Calling ispcore_slake_module to initialize ISP core ***
[   49.583486] *** ispcore_slake_module: EXACT Binary Ninja MCP implementation ***
[   49.583494] ispcore_slake_module: VIC device=805ee000, state=4<6>[   49.583500] *** ispcore_slake_module: VIC state >= 3; skipping slake to preserve interrupts ***
[   49.583506] *** ispcore_slake_module SUCCESS - ISP core should now be initialized ***
[   49.583512] *** vic_core_s_stream: VIC initialized, final state=4 ***
[   49.583522] gc2053: s_stream called with enable=1
[   49.583528] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   49.583535] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   49.583541] gc2053: About to write streaming registers for interface 1
[   49.583547] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   49.583557] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   49.583877] sensor_write: reg=0xfe val=0x00 SUCCESS
[   49.583884] sensor_write_array: reg[1] 0xfe=0x00 OK
[   49.583892] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   49.584211] sensor_write: reg=0x3e val=0x91 SUCCESS
[   49.584218] sensor_write_array: reg[2] 0x3e=0x91 OK
[   49.584225] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   49.584232] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   49.584238] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   49.584244] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   49.584250] gc2053: s_stream called with enable=1
[   49.584256] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   49.584262] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   49.584268] gc2053: About to write streaming registers for interface 1
[   49.584274] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   49.584283] sensor_write: reg=0xfe val=0x00, client=8552cc00, adapter=i2c0, addr=0x37
[   49.587795] sensor_write: reg=0xfe val=0x00 SUCCESS
[   49.587808] sensor_write_array: reg[1] 0xfe=0x00 OK
[   49.587819] sensor_write: reg=0x3e val=0x91, client=8552cc00, adapter=i2c0, addr=0x37
[   49.588136] sensor_write: reg=0x3e val=0x91 SUCCESS
[   49.588142] sensor_write_array: reg[2] 0x3e=0x91 OK
[   49.588149] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   49.588156] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   49.588185] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   49.588192] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   49.588413] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   49.588424] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980918 value=2
[   49.588430] Set control: cmd=0x980918 value=2
[   49.588582] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.588592] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.588598] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.588739] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.588748] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.588754] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.588881] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.588889] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.588895] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.589016] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.589024] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.589030] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.589226] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.589236] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.589242] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.589400] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.589410] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.589416] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.589555] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.589564] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.589570] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.589701] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.589710] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.589716] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.589934] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.589943] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.589949] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.590083] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.590092] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   49.590097] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   49.803127] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   49.803140] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   49.803146] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   49.803152] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   49.803158] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   49.979513] *** FRAME CHANNEL OPEN: minor=54 ***
[   49.979525] *** FRAME CHANNEL OPEN: Device not in array, creating new entry for minor 54 ***
[   49.979532] *** FRAME CHANNEL OPEN: Assigned to channel 0 ***
[   49.979539] *** FRAME CHANNEL 0: State set to 3 (ready for streaming) - Binary Ninja EXACT ***
[   49.979544] *** SAFE: Frame channel device stored in file->private_data ***
[   49.979550] *** FRAME CHANNEL 0 OPENED SUCCESSFULLY - NOW READY FOR IOCTLS ***
[   49.979558] Channel 0: Format 1920x1080, pixfmt=0x32315659, minor=54
[   49.979577] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc07056c3 ***
[   49.979584] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc07056c3 ***
[   49.979592] Channel 0: Set format 1920x1080 pixfmt=0x3231564e
[   49.980191] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0145608 ***
[   49.980201] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0145608 ***
[   49.980208] *** Channel 0: REQBUFS - MEMORY-AWARE implementation ***
[   49.980215] Channel 0: Request 4 buffers, type=1 memory=2
[   49.980221] Channel 0: USERPTR mode - client will provide buffers
[   49.980227] Channel 0: USERPTR mode - 4 user buffers expected
[   49.980237] *** Channel 0: REQBUFS allocated VBM buffer array for 4 buffers at 811e3a00 ***
[   49.980244] *** Channel 0: VIC active_buffer_count set to 4 ***
[   49.980250] *** REQBUFS: VIC DMA will be configured during streaming via vic_pipo_mdma_enable ***
[   49.980256] *** Channel 0: MEMORY-AWARE REQBUFS SUCCESS - 4 buffers ***
[   49.980279] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   49.980287] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   49.980293] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   49.980299] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   49.980307] *** Channel 0: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   49.980314] *** Channel 0: QBUF - Buffer m.offset=0x70d9000, m.userptr=0x70d9000 ***
[   49.980321] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   49.980328] *** Channel 0: QBUF - Validation: buffer.index=0, state->buffer_count=4 ***
[   49.980334] *** Channel 0: QBUF - Queue buffer index=0 ***
[   49.980340] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   49.980348] *** Channel 0: QBUF - Using buffer struct   (null) for index 0 ***
[   49.980354] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   49.980361] *** Channel 0: QBUF EVENT - No VIC callback ***
[   49.980368] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x70d9000 ***
[   49.980376] *** Channel 0: QBUF - Buffer 0: phys_addr=0x70d9000, size=4147200 (VALIDATED) ***
[   49.980384] *** Channel 0: QBUF VBM - Stored buffer[0] = 0x70d9000, total_count=1 ***
[   49.980391] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=811e3a00, vbm_buffer_count=1 ***
[   49.980398] *** Channel 0: QBUF - VBM buffer slot[0] available ***
[   49.980405] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x70d9000 ***
[   49.980412] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   49.980421] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   49.980429] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   49.980435] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   49.980441] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   49.980448] *** Channel 0: QBUF - Buffer received: index=1, type=1, memory=2 ***
[   49.980455] *** Channel 0: QBUF - Buffer m.offset=0x73d6000, m.userptr=0x73d6000 ***
[   49.980462] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   49.980469] *** Channel 0: QBUF - Validation: buffer.index=1, state->buffer_count=4 ***
[   49.980475] *** Channel 0: QBUF - Queue buffer index=1 ***
[   49.980481] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   49.980488] *** Channel 0: QBUF - Using buffer struct   (null) for index 1 ***
[   49.980494] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   49.980500] *** Channel 0: QBUF EVENT - No VIC callback ***
[   49.980507] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x73d6000 ***
[   49.980515] *** Channel 0: QBUF - Buffer 1: phys_addr=0x73d6000, size=4147200 (VALIDATED) ***
[   49.980522] *** Channel 0: QBUF VBM - Stored buffer[1] = 0x73d6000, total_count=2 ***
[   49.980529] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=811e3a00, vbm_buffer_count=2 ***
[   49.980536] *** Channel 0: QBUF - VBM buffer slot[1] available ***
[   49.980543] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x73d6000 ***
[   49.980549] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   49.980557] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   49.980564] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   49.980570] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   49.980576] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   49.980583] *** Channel 0: QBUF - Buffer received: index=2, type=1, memory=2 ***
[   49.980591] *** Channel 0: QBUF - Buffer m.offset=0x76d3000, m.userptr=0x76d3000 ***
[   49.980597] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   49.980604] *** Channel 0: QBUF - Validation: buffer.index=2, state->buffer_count=4 ***
[   49.980611] *** Channel 0: QBUF - Queue buffer index=2 ***
[   49.980616] *** QBUF: No buffer allocated for index 2 - VBM initialization mode ***
[   49.980623] *** Channel 0: QBUF - Using buffer struct   (null) for index 2 ***
[   49.980629] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   49.980635] *** Channel 0: QBUF EVENT - No VIC callback ***
[   49.980642] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x76d3000 ***
[   49.980650] *** Channel 0: QBUF - Buffer 2: phys_addr=0x76d3000, size=4147200 (VALIDATED) ***
[   49.980657] *** Channel 0: QBUF VBM - Stored buffer[2] = 0x76d3000, total_count=3 ***
[   49.980665] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=811e3a00, vbm_buffer_count=3 ***
[   49.980671] *** Channel 0: QBUF - VBM buffer slot[2] available ***
[   49.980679] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x76d3000 ***
[   49.980685] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   49.980693] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   49.980699] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   49.980705] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   49.980711] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   49.980719] *** Channel 0: QBUF - Buffer received: index=3, type=1, memory=2 ***
[   49.980726] *** Channel 0: QBUF - Buffer m.offset=0x79d0000, m.userptr=0x79d0000 ***
[   49.980733] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   49.980740] *** Channel 0: QBUF - Validation: buffer.index=3, state->buffer_count=4 ***
[   49.980746] *** Channel 0: QBUF - Queue buffer index=3 ***
[   49.980752] *** QBUF: No buffer allocated for index 3 - VBM initialization mode ***
[   49.980759] *** Channel 0: QBUF - Using buffer struct   (null) for index 3 ***
[   49.980765] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   49.980771] *** Channel 0: QBUF EVENT - No VIC callback ***
[   49.980777] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x79d0000 ***
[   49.980785] *** Channel 0: QBUF - Buffer 3: phys_addr=0x79d0000, size=4147200 (VALIDATED) ***
[   49.980793] *** Channel 0: QBUF VBM - Stored buffer[3] = 0x79d0000, total_count=4 ***
[   49.980801] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=811e3a00, vbm_buffer_count=4 ***
[   49.980807] *** Channel 0: QBUF - VBM buffer slot[3] available ***
[   49.980814] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x79d0000 ***
[   49.980820] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   49.980910] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x80045612 ***
[   49.980920] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x80045612 ***
[   49.980927] *** Channel 0: VIDIOC_STREAMON - Binary Ninja implementation ***
[   49.980933] Channel 0: STREAMON - Enqueuing buffers in driver
[   49.980939] *** Channel 0: STREAMON - Core device is stateless, only managing streaming flag ***
[   49.986143] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   49.986156] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   49.986163] *** Channel 0: Frame completion wait ***
[   49.986168] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   49.986175] *** Channel 0: Frame wait returned 10 ***
[   49.986181] *** Channel 0: Frame was ready, consuming it ***
[   49.986285] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   49.986293] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   49.986300] *** Channel 0: DQBUF - dequeue buffer request ***
[   49.986306] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   49.986316] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   49.986323] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   49.986329] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   49.986348] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   49.986355] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   49.986362] *** Channel 0: Frame completion wait ***
[   49.986367] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   50.050282] *** FRAME CHANNEL OPEN: minor=53 ***
[   50.050294] *** FRAME CHANNEL OPEN: Device not in array, creating new entry for minor 53 ***
[   50.050301] *** FRAME CHANNEL OPEN: Assigned to channel 1 ***
[   50.050307] *** FRAME CHANNEL 1: State set to 3 (ready for streaming) - Binary Ninja EXACT ***
[   50.050313] *** SAFE: Frame channel device stored in file->private_data ***
[   50.050319] *** FRAME CHANNEL 1 OPENED SUCCESSFULLY - NOW READY FOR IOCTLS ***
[   50.050327] Channel 1: Format 640x360, pixfmt=0x32315659, minor=53
[   50.050344] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc07056c3 ***
[   50.050352] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc07056c3 ***
[   50.050360] Channel 1: Set format 640x360 pixfmt=0x3231564e
[   50.051207] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0145608 ***
[   50.051217] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0145608 ***
[   50.051224] *** Channel 1: REQBUFS - MEMORY-AWARE implementation ***
[   50.051231] Channel 1: Request 2 buffers, type=1 memory=2
[   50.051237] Channel 1: USERPTR mode - client will provide buffers
[   50.051243] Channel 1: USERPTR mode - 2 user buffers expected
[   50.051253] *** Channel 1: REQBUFS allocated VBM buffer array for 2 buffers at 811e3f00 ***
[   50.051260] *** Channel 1: VIC active_buffer_count set to 2 ***
[   50.051266] *** REQBUFS: VIC DMA will be configured during streaming via vic_pipo_mdma_enable ***
[   50.051272] *** Channel 1: MEMORY-AWARE REQBUFS SUCCESS - 2 buffers ***
[   50.051287] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   50.051293] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   50.051299] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   50.051306] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   50.051313] *** Channel 1: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   50.051321] *** Channel 1: QBUF - Buffer m.offset=0x7e07100, m.userptr=0x7e07100 ***
[   50.051327] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   50.051335] *** Channel 1: QBUF - Validation: buffer.index=0, state->buffer_count=2 ***
[   50.051341] *** Channel 1: QBUF - Queue buffer index=0 ***
[   50.051347] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   50.051355] *** Channel 1: QBUF - Using buffer struct   (null) for index 0 ***
[   50.051361] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e07100 ***
[   50.051369] *** Channel 1: QBUF - Buffer 0: phys_addr=0x7e07100, size=460800 (VALIDATED) ***
[   50.051377] *** Channel 1: QBUF VBM - Stored buffer[0] = 0x7e07100, total_count=1 ***
[   50.051385] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=811e3f00, vbm_buffer_count=1 ***
[   50.051392] *** Channel 1: QBUF - VBM buffer slot[0] available ***
[   50.051399] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e07100 ***
[   50.051406] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   50.051415] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   50.051422] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   50.051428] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   50.051434] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   50.051441] *** Channel 1: QBUF - Buffer received: index=1, type=1, memory=2 ***
[   50.051449] *** Channel 1: QBUF - Buffer m.offset=0x7e5d500, m.userptr=0x7e5d500 ***
[   50.051455] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   50.051463] *** Channel 1: QBUF - Validation: buffer.index=1, state->buffer_count=2 ***
[   50.051469] *** Channel 1: QBUF - Queue buffer index=1 ***
[   50.051475] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   50.051481] *** Channel 1: QBUF - Using buffer struct   (null) for index 1 ***
[   50.051488] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e5d500 ***
[   50.051496] *** Channel 1: QBUF - Buffer 1: phys_addr=0x7e5d500, size=460800 (VALIDATED) ***
[   50.051504] *** Channel 1: QBUF VBM - Stored buffer[1] = 0x7e5d500, total_count=2 ***
[   50.051511] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=811e3f00, vbm_buffer_count=2 ***
[   50.051518] *** Channel 1: QBUF - VBM buffer slot[1] available ***
[   50.051525] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e5d500 ***
[   50.051531] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   50.051624] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x80045612 ***
[   50.051635] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x80045612 ***
[   50.051642] *** Channel 1: VIDIOC_STREAMON - Binary Ninja implementation ***
[   50.051648] Channel 1: STREAMON - Enqueuing buffers in driver
[   50.051654] *** Channel 1: STREAMON - Core device is stateless, only managing streaming flag ***
[   50.055651] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   50.055664] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   50.055671] *** Channel 1: Frame completion wait ***
[   50.055677] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   50.055683] *** Channel 1: Frame wait returned 10 ***
[   50.055689] *** Channel 1: Frame was ready, consuming it ***
[   50.055753] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   50.055761] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   50.055767] *** Channel 1: DQBUF - dequeue buffer request ***
[   50.055773] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   50.055783] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   50.055789] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   50.055796] *** Channel 1: DQBUF waiting for frame completion (timeout=200ms) ***
[   50.055811] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   50.055819] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   50.055825] *** Channel 1: Frame completion wait ***
[   50.055830] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   50.079223] *** Channel 0: Frame wait returned 0 ***
[   50.079235] *** Channel 0: Frame wait timeout/error, generating frame ***
[   50.079257] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   50.079264] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   50.079271] *** Channel 0: Frame completion wait ***
[   50.079276] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   50.079282] *** Channel 0: Frame wait returned 10 ***
[   50.079288] *** Channel 0: Frame was ready, consuming it ***
[   50.079295] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   50.079302] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   50.079308] *** Channel 0: Frame completion wait ***
[   50.079313] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   50.149217] *** Channel 1: Frame wait returned 0 ***
[   50.149229] *** Channel 1: Frame wait timeout/error, generating frame ***
[   50.149250] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   50.149257] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   50.149263] *** Channel 1: Frame completion wait ***
[   50.149269] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   50.149275] *** Channel 1: Frame wait returned 10 ***
[   50.149281] *** Channel 1: Frame was ready, consuming it ***
[   50.149289] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   50.149295] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   50.149301] *** Channel 1: Frame completion wait ***
[   50.149307] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   50.179207] *** Channel 0: DQBUF wait returned 0 ***
[   50.179217] *** Channel 0: DQBUF timeout, generating frame ***
[   50.179227] *** Channel 0: DQBUF complete - buffer[0] seq=-1 flags=0x3 ***
[   50.179265] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   50.179272] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   50.179279] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   50.179284] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   50.179289] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   50.179409] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   50.179420] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   50.179426] *** Channel 0: DQBUF - dequeue buffer request ***
[   50.179432] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   50.179441] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   50.179449] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   50.179455] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   50.179473] *** Channel 0: Frame wait returned 0 ***
[   50.179480] *** Channel 0: Frame wait timeout/error, generating frame ***
[   50.179492] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   50.179499] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   50.179505] *** Channel 0: Frame completion wait ***
[   50.179511] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   50.179518] *** Channel 0: Frame wait returned 10 ***
[   50.179523] *** Channel 0: Frame was ready, consuming it ***
[   50.179531] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   50.179537] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   50.179543] *** Channel 0: Frame completion wait ***
[   50.179549] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   50.189271] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   50.189285] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   50.189291] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   50.189297] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   50.189305] *** Channel 0: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   50.189312] *** Channel 0: QBUF - Buffer m.offset=0x70d9000, m.userptr=0x70d9000 ***
[   50.189319] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   50.189326] *** Channel 0: QBUF - Validation: buffer.index=0, state->buffer_count=4 ***
[   50.189333] *** Channel 0: QBUF - Queue buffer index=0 ***
[   50.189338] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   50.189346] *** Channel 0: QBUF - Using buffer struct   (null) for index 0 ***
[   50.189353] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   50.189359] *** Channel 0: QBUF EVENT - No VIC callback ***
[   50.189367] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x70d9000 ***
[   50.189375] *** Channel 0: QBUF - Buffer 0: phys_addr=0x70d9000, size=4147200 (VALIDATED) ***
[   50.189382] *** Channel 0: QBUF VBM - Stored buffer[0] = 0x70d9000, total_count=4 ***
[   50.189390] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=811e3a00, vbm_buffer_count=4 ***
[   50.189397] *** Channel 0: QBUF - VBM buffer slot[0] available ***
[   50.189404] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x70d9000 ***
[   50.189416] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   50.189513] *** Channel 0: Frame wait returned 9 ***
[   50.189521] *** Channel 0: Frame was ready, consuming it ***
[   50.189533] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   50.189540] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   50.189546] *** Channel 0: Frame completion wait ***
[   50.189552] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   50.249275] *** Channel 1: DQBUF wait returned 0 ***
[   50.249285] *** Channel 1: DQBUF timeout, generating frame ***
[   50.249295] *** Channel 1: DQBUF complete - buffer[0] seq=-1 flags=0x3 ***
[   50.249402] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   50.249411] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   50.249417] *** Channel 1: DQBUF - dequeue buffer request ***
[   50.249423] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   50.249433] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 811ef400 (name=gc2053) ***
[   50.249439] *** tx_isp_get_sensor: Found real sensor: 811ef400 ***
[   50.249446] *** Channel 1: DQBUF waiting for frame completion (timeout=200ms) ***
[   50.249461] *** Channel 1: Frame wait returned 0 ***
[   50.249469] *** Channel 1: Frame wait timeout/error, generating frame ***
[   50.249479] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   50.249486] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   50.249492] *** Channel 1: Frame completion wait ***
[   50.249498] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   50.249504] *** Channel 1: Frame wait returned 10 ***
[   50.249509] *** Channel 1: Frame was ready, consuming it ***
[   50.249535] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   50.249543] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   50.249548] *** Channel 1: Frame completion wait ***
[   50.249554] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   50.251349] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   50.251378] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   50.251385] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   50.251391] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   50.251399] *** Channel 1: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   50.251406] *** Channel 1: QBUF - Buffer m.offset=0x7e07100, m.userptr=0x7e07100 ***
[   50.251413] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   50.251420] *** Channel 1: QBUF - Validation: buffer.index=0, state->buffer_count=2 ***
[   50.251426] *** Channel 1: QBUF - Queue buffer index=0 ***
[   50.251432] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   50.251440] *** Channel 1: QBUF - Using buffer struct   (null) for index 0 ***
[   50.251447] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e07100 ***
[   50.251455] *** Channel 1: QBUF - Buffer 0: phys_addr=0x7e07100, size=460800 (VALIDATED) ***
[   50.251463] *** Channel 1: QBUF VBM - Stored buffer[0] = 0x7e07100, total_count=2 ***
[   50.251471] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=811e3f00, vbm_buffer_count=2 ***
[   50.251477] *** Channel 1: QBUF - VBM buffer slot[0] available ***
[   50.251484] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e07100 ***
[   50.251495] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   50.251581] *** Channel 1: Frame wait returned 10 ***
[   50.251588] *** Channel 1: Frame was ready, consuming it ***
[   50.251601] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   50.251608] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   50.251615] *** Channel 1: Frame completion wait ***
[   50.251620] *** Channel 1: Waiting for frame (timeout=100ms) ***
root@ing-wyze-cam3-a000 ~# cat /proc/interrupts 
           CPU0       
  9:          0   jz-intc  i2s_irq
 11:      11233   jz-intc  jz-timerost
 14:         48   jz-intc  ipu
 15:      81638   jz-intc  jz-sfc
 18:          0   jz-intc  pdma
 23:          0   jz-intc  GPIO C
 24:          1   jz-intc  GPIO B
 25:          0   jz-intc  GPIO A
 29:          1   jz-intc  dwc2
 37:          1   jz-intc  isp-m0
 38:          2   jz-intc  isp-w02
 44:       8985   jz-intc  jzmmc_v1.2.1
 45:          0   jz-intc  jzmmc_v1.2.0
 58:        384   jz-intc  uart1
 68:        158   jz-intc  jz-i2c.0
 70:         17   jz-intc  avpu.0
126:          0    GPIO B  GPIO Button
134:          1    GPIO B  mmc-insert-detect
ERR:          0
