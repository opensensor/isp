[    0.000000] Initializing cgroup subsys cpu
[    0.000000] Initializing cgroup subsys cpuacct
[    0.000000] Linux version 3.10.14__isvp_swan_1.0__ (buildroot@buildroot) (buildroot-gcc-14.3.0) #1 PREEMPT Thu Aug 28 05:46:40 UTC 2025
[    0.000000] CPU0 RESET ERROR PC:801ADC80
[    0.000000] [<801adc80>] 0x801adc80
[    0.000000] CPU0 revision is: 00d00100 (Ingenic Xburst)
[    0.000000] FPU revision is: 00b70000
[    0.000000] cgu_get_rate, parent = 1392000000, rate = 0, m = 129, n = 255, reg val = 0x081000ff
[    0.000000] cgu_get_rate, parent = 1392000000, rate = 0, m = 129, n = 255, reg val = 0x081000ff
[    0.000000] CCLK:1392MHz L2CLK:696Mhz H0CLK:200MHz H2CLK:200Mhz PCLK:100Mhz
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 0046a000 @ 00010000 (usable)
[    0.000000]  memory: 00036000 @ 0047a000 (usable after init)
[    0.000000] User-defined physical RAM map:
[    0.000000]  memory: 06300000 @ 00000000 (usable)
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x062fffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x062fffff]
[    0.000000] On node 0 totalpages: 25344
[    0.000000] free_area_init_node: node 0, pgdat 80472c40, node_mem_map 81000000
[    0.000000]   Normal zone: 198 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 25344 pages, LIFO batch:7
[    0.000000] Primary instruction cache 32kB, 8-way, VIPT, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 8-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] pls check processor_id[0x00d00100],sc_jz not support!
[    0.000000] MIPS secondary cache 128kB, 8-way, linesize 32 bytes.
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0 
[    0.000000] Built 1 zonelists in Zone order, mobility grouping off.  Total pages: 25146
[    0.000000] Kernel command line: mem=99M@0x0 rmem=29M@0x6300000 console=ttyS1,115200n8 panic=10 root=/dev/mtdblock4 rootfstype=squashfs init=/init mtdparts=jz_sfc:256k(boot),32k(env),224k(config),1504k(kernel),6304k(rootfs),-(rootfs_data),15872k@0x80000(upgrade),16384k@0(all)
[    0.000000] PID hash table entries: 512 (order: -1, 2048 bytes)
[    0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)
[    0.000000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Memory: 95008k/101376k available (3766k kernel code, 6368k reserved, 752k data, 216k init, 0k highmem)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] Preemptible hierarchical RCU implementation.
[    0.000000] NR_IRQS:358
[    0.000000] clockevents_config_and_register success.
[    0.000012] Calibrating delay loop... 1391.00 BogoMIPS (lpj=6955008)
[    0.090038] pid_max: default: 32768 minimum: 301
[    0.090196] Mount-cache hash table entries: 512
[    0.090582] Initializing cgroup subsys debug
[    0.090600] Initializing cgroup subsys freezer
[    0.092104] devtmpfs: initialized
[    0.093570] regulator-dummy: no parameters
[    0.093832] NET: Registered protocol family 16
[    0.097227] set gpio strength: 32-2
[    0.097238] set gpio strength: 33-2
[    0.097244] set gpio strength: 34-2
[    0.097250] set gpio strength: 35-2
[    0.097256] set gpio strength: 36-2
[    0.097262] set gpio strength: 37-2
[    0.108136] bio: create slab <bio-0> at 0
[    0.113686] jz-dma jz-dma: JZ SoC DMA initialized
[    0.114833] usbcore: registered new interface driver usbfs
[    0.114995] usbcore: registered new interface driver hub
[    0.115196] usbcore: registered new device driver usb
[    0.115531]  (null): set:249  hold:250 dev=100000000 h=500 l=500
[    0.115857] media: Linux media interface: v0.10
[    0.116004] Linux video capture interface: v2.00
[    0.118020] cfg80211: Calling CRDA to update world regulatory domain
[    0.119100] Switching to clocksource jz_clocksource
[    0.121577] dwc2 otg probe start
[    0.121606] jz-dwc2 jz-dwc2: cgu clk gate get error
[    0.121629] DWC IN OTG MODE
[    0.122397] dwc2 dwc2: Keep PHY ON
[    0.122408] dwc2 dwc2: Using Buffer DMA mode
[    0.122417] dwc2 dwc2: Core Release: 3.00a
[    0.122458] dwc2 dwc2: DesignWare USB2.0 High-Speed Host Controller
[    0.122488] dwc2 dwc2: new USB bus registered, assigned bus number 1
[    0.123482] hub 1-0:1.0: USB hub found
[    0.123514] hub 1-0:1.0: 1 port detected
[    0.123617] dwc2 dwc2: DWC2 Host Initialized
[    0.123958] dwc2 dwc2: enter dwc2_gadget_plug_change:2588: plugin = 1 pullup_on = 0 suspend = 0
[    0.123974] dwc2 otg probe success
[    0.124227] NET: Registered protocol family 2
[    0.124576] TCP established hash table entries: 1024 (order: 1, 8192 bytes)
[    0.124606] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    0.124625] TCP: Hash tables configured (established 1024 bind 1024)
[    0.124670] TCP: reno registered
[    0.124682] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.124700] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.124876] NET: Registered protocol family 1
[    0.125160] RPC: Registered named UNIX socket transport module.
[    0.125172] RPC: Registered udp transport module.
[    0.125177] RPC: Registered tcp transport module.
[    0.125182] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.125733] freq_udelay_jiffys[0].max_num = 10
[    0.125742] cpufreq 	udelay 	loops_per_jiffy	
[    0.125748] 12000	 59956	 59956	
[    0.125753] 24000	 119913	 119913	
[    0.125758] 60000	 299784	 299784	
[    0.125764] 120000	 599569	 599569	
[    0.125770] 200000	 999282	 999282	
[    0.125775] 300000	 1498924	 1498924	
[    0.125780] 600000	 2997848	 2997848	
[    0.125786] 792000	 3957159	 3957159	
[    0.125792] 1008000	 5036385	 5036385	
[    0.125797] 1200000	 5995696	 5995696	
[    0.136532] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.137734] jffs2: version 2.2. Â© 2001-2006 Red Hat, Inc.
[    0.138304] msgmni has been set to 185
[    0.139699] io scheduler noop registered
[    0.139733] io scheduler cfq registered (default)
[    0.146359] jz-uart.1: ttyS1 at MMIO 0x10031000 (irq = 58) is a uart1
[    0.224884] dwc2 dwc2: ID PIN CHANGED!
[    0.641792] console [ttyS1] enabled
[    0.646074] logger: created 256K log 'log_main'
[    0.652598] jz TCU driver register completed
[    0.657900] the id code = b4018, the flash name is XT25F128B
[    0.663820] JZ SFC Controller for SFC channel 0 driver register
[    0.669961] 8 cmdlinepart partitions found on MTD device jz_sfc
[    0.676061] Creating 8 MTD partitions on "jz_sfc":
[    0.681155] 0x000000000000-0x000000040000 : "boot"
[    0.687112] 0x000000040000-0x000000048000 : "env"
[    0.693063] 0x000000048000-0x000000080000 : "config"
[    0.699262] 0x000000080000-0x0000001f8000 : "kernel"
[    0.705419] 0x0000001f8000-0x000000820000 : "rootfs"
[    0.711743] 0x000000820000-0x000001000000 : "rootfs_data"
[    0.718315] 0x000000080000-0x000001000000 : "upgrade"
[    0.724676] 0x000000000000-0x000001000000 : "all"
[    0.730667] SPI NOR MTD LOAD OK
[    0.734240] usbcore: registered new interface driver asix
[    0.740101] usbcore: registered new interface driver cdc_ether
[    0.746319] usbcore: registered new interface driver cdc_ncm
[    0.752268] i2c /dev entries driver
[    0.756726] jz-wdt: watchdog initialized
[    0.761449] TCP: cubic registered
[    0.765875] NET: Registered protocol family 10
[    0.771265] NET: Registered protocol family 17
[    0.777043] input: gpio-keys as /devices/platform/gpio-keys/input/input0
[    0.787932] VFS: Mounted root (squashfs filesystem) readonly on device 31:4.
[    0.798306] devtmpfs: mounted
[    0.801761] Freeing unused kernel memory: 216K (8047a000 - 804b0000)
[    1.207137] jffs2: notice: (410) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (0 unchecked, 0 orphan) and 2 of xref (0 dead, 0 orphan) found.
[    2.069309] jffs2: notice: (422) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.
[    6.415357] jzmmc_v1.2 jzmmc_v1.2.0: vmmc regulator missing
[    6.417896] jzmmc_v1.2 jzmmc_v1.2.0: register success!
[    6.417954] jzmmc_v1.2 jzmmc_v1.2.1: vmmc regulator missing
[    6.420637] jzmmc_v1.2 jzmmc_v1.2.1: register success!
[    6.537520] exFAT: Version 1.2.9
[    6.578598] usbcore: registered new interface driver usbserial
[    6.598492] usbcore: registered new interface driver ch341
[    6.600995] usbserial: USB Serial support registered for ch341-uart
[    6.615610] usbcore: registered new interface driver cp210x
[    6.618045] usbserial: USB Serial support registered for cp210x
[    6.643528] request spk en gpio 63 ok!
[    6.643539] jz_codec_register: probe() successful!
[    6.643613] cgu_set_rate, parent = 1392000000, rate = 2048000, n = 10875, reg val = 0x01002a7b
[    6.643622] cgu_enable,cgu_i2s_spk reg val = 0x21002a7b
[    6.643639] cgu_set_rate, parent = 1392000000, rate = 2048000, n = 10875, reg val = 0x01002a7b
[    6.643647] cgu_enable,cgu_i2s_mic reg val = 0x21002a7b
[    7.049347] dma dma0chan24: Channel 24 have been requested.(phy id 7,type 0x06 desc a48cf000)
[    7.049638] dma dma0chan25: Channel 25 have been requested.(phy id 6,type 0x06 desc a47c1000)
[    7.049956] dma dma0chan26: Channel 26 have been requested.(phy id 5,type 0x04 desc a484d000)
[    7.079802] @@@@ avpu driver ok(version H20220825a) @@@@@
[    7.116920] input: gpio-keys as /devices/platform/gpio-keys/input/input1
[    7.119368] Additional GPIO keys device registered with 1 buttons
[    7.129450] The version of PWM driver is H20210412a
[    7.140256] pwm-jz pwm-jz: jz_pwm_probe register ok !
[    7.619080] jzmmc_v1.2 jzmmc_v1.2.1: card insert via sysfs
[    7.741578] mmc1: card claims to support voltages below the defined range. These will be ignored.
[    7.799927] mmc1: new SDIO card at address 0001
[    8.009863] RTW: module init start
[    8.009877] RTW: rtl8189fs v5.11.6.0-2-gb9aa73b62.20211117
[    8.009883] RTW: build time: Aug 28 2025 05:46:40
[    8.010105] RTW: == SDIO Card Info ==
[    8.010115] RTW:   card: 84299c00
[    8.010121] RTW:   clock: 24000000 Hz
[    8.010126] RTW:   timing spec: legacy
[    8.010134] RTW:   sd3_bus_mode: FALSE
[    8.010139] RTW:   func num: 1
[    8.010146] RTW:   func1: 84823300 (*)
[    8.010151] RTW: ================
[    8.039512] RTW: HW EFUSE
[    8.039525] RTW: 0x000: 29 81 03 CC  00 00 50 00  00 00 04 CC  0A 0C 00 00  
[    8.039557] RTW: 0x010: 24 25 26 27  27 27 2C 2C  2E 2E 2E 02  FF FF FF FF  
[    8.039590] RTW: 0x020: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.039623] RTW: 0x030: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.039655] RTW: 0x040: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.039688] RTW: 0x050: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.039721] RTW: 0x060: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.039753] RTW: 0x070: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.039786] RTW: 0x080: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.039819] RTW: 0x090: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.039851] RTW: 0x0A0: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.039884] RTW: 0x0B0: FF FF FF FF  FF FF FF FF  20 1C 1B 00  00 00 00 FF  
[    8.039916] RTW: 0x0C0: FF 12 00 10  00 FF 00 FF  00 00 FF FF  FF FF FF FF  
[    8.039948] RTW: 0x0D0: 3E 10 01 12  23 FF FF FF  20 04 4C 02  79 F1 21 02  
[    8.039981] RTW: 0x0E0: 0C 00 22 04  00 08 00 32  FF 21 02 0C  00 22 2A 01  
[    8.040013] RTW: 0x0F0: 01 00 00 00  00 00 00 00  00 00 00 00  02 00 FF FF  
[    8.040044] RTW: 0x100: 00 00 00 00  00 00 00 00  00 00 00 00  00 00 00 00  
[    8.040075] RTW: 0x110: 00 EB 00 6E  01 00 00 00  00 FF 4C 31  2D 6A D0 0D  
[    8.040107] RTW: 0x120: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.040140] RTW: 0x130: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.040173] RTW: 0x140: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.040205] RTW: 0x150: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.040238] RTW: 0x160: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.040271] RTW: 0x170: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.040303] RTW: 0x180: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.040336] RTW: 0x190: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.040369] RTW: 0x1A0: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.040401] RTW: 0x1B0: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.040435] RTW: 0x1C0: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.040467] RTW: 0x1D0: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.040500] RTW: 0x1E0: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.040533] RTW: 0x1F0: FF FF FF FF  FF FF FF FF  FF FF FF FF  FF FF FF FF  
[    8.040574] RTW: hal_com_config_channel_plan chplan:0x20
[    8.124299] RTW: [RF_PATH] ver_id.RF_TYPE:RF_1T1R
[    8.124313] RTW: [RF_PATH] HALSPEC's rf_reg_trx_path_bmp:0x11, rf_reg_path_avail_num:1, max_tx_cnt:1
[    8.124320] RTW: [RF_PATH] PG's trx_path_bmp:0x00, max_tx_cnt:0
[    8.124327] RTW: [RF_PATH] Registry's trx_path_bmp:0x00, tx_path_lmt:0, rx_path_lmt:0
[    8.124334] RTW: [RF_PATH] HALDATA's trx_path_bmp:0x11, max_tx_cnt:1
[    8.124341] RTW: [RF_PATH] HALDATA's rf_type:RF_1T1R, NumTotalRFPath:1
[    8.124347] RTW: [TRX_Nss] HALSPEC - tx_nss:1, rx_nss:1
[    8.124354] RTW: [TRX_Nss] Registry - tx_nss:0, rx_nss:0
[    8.124360] RTW: [TRX_Nss] HALDATA - tx_nss:1, rx_nss:1
[    8.125604] RTW: rtw_regsty_chk_target_tx_power_valid return _FALSE for band:0, path:0, rs:0, t:-1
[    8.145697] RTW: rtw_ndev_init(wlan0) if1 mac_addr=4c:31:2d:6a:d0:0d
[    8.158767] RTW: rtw_ndev_init(wlan1) if2 mac_addr=4e:31:2d:6a:d0:0d
[    8.174273] RTW: module init ret=0
[    8.801800] RTW: txpath=0x1, rxpath=0x1
[    8.801812] RTW: txpath_1ss:0x1, num:1
[    8.887603] IPv6: ADDRCONF(NETDEV_UP): wlan0: link is not ready
[   10.573133] RTW: rtw_set_802_11_connect(wlan0)  fw_state=0x00000008
[   10.913044] RTW: start auth
[   10.917635] RTW: auth success, start assoc
[   10.922975] RTW: assoc success
[   10.923066] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
[   10.924545] RTW: ============ STA [e8:9c:25:02:11:0c]  ===================
[   10.924556] RTW: mac_id : 0
[   10.924562] RTW: wireless_mode : 0x0b
[   10.924567] RTW: mimo_type : 0
[   10.924572] RTW: static smps : N
[   10.924578] RTW: bw_mode : 20MHz, ra_bw_mode : 20MHz
[   10.924584] RTW: rate_id : 3
[   10.924590] RTW: rssi : -1 (%), rssi_level : 0
[   10.924596] RTW: is_support_sgi : Y, is_vht_enable : N
[   10.924602] RTW: disable_ra : N, disable_pt : N
[   10.924608] RTW: is_noisy : N
[   10.924613] RTW: txrx_state : 0
[   10.924620] RTW: curr_tx_rate : CCK_1M (L)
[   10.924625] RTW: curr_tx_bw : 20MHz
[   10.924630] RTW: curr_retry_ratio : 0
[   10.924636] RTW: ra_mask : 0x00000000000fffff
[   10.924636] 
[   10.927675] RTW: recv eapol packet 1/4
[   10.928836] RTW: send eapol packet 2/4
[   10.934886] RTW: recv eapol packet 3/4
[   10.935254] RTW: send eapol packet 4/4
[   10.936441] RTW: set pairwise key camid:0, addr:e8:9c:25:02:11:0c, kid:0, type:AES
[   10.936737] RTW: set group key camid:1, addr:e8:9c:25:02:11:0c, kid:1, type:AES
[   13.931311] codec_codec_ctl: set repaly channel...
[   13.931350] cgu_set_rate, parent = 1392000000, rate = 4096000, n = 10875, reg val = 0x22002a7b
[   13.931356] codec_codec_ctl: set sample rate...
[   13.931442] codec_codec_ctl: set device...
[   14.169196] codec_set_device: set device: speaker...
[   22.262214] *** tx_isp_init: EXACT Binary Ninja MCP reference implementation ***
[   22.270068] *** PROBE: tx_isp_platform_probe CALLED for device tx-isp ***
[   22.270086] *** PROBE: ISP device allocated successfully: 85fa4000 ***
[   22.270102] *** PROBE: ISP core registers mapped at 0x13300000 for system_reg_write ***
[   22.270108] *** PROBE: ISP device mutex and spinlock initialized ***
[   22.270114] *** PROBE: Event callback structure initialized at 0x85b45680 (offset 0xc from isp_dev) ***
[   22.270124] parse_rmem_bootarg: Found rmem=29M@0x06300000 (size=0x01d00000)
[   22.270132] *** PROBE: Initialized rmem_addr=0x06300000, size=0x01d00000 ***
[   22.270138] *** PROBE: Platform data: c06b6e10 ***
[   22.270143] *** PROBE: Platform data validation passed ***
[   22.270148] *** REFERENCE DRIVER: Individual subdevices will initialize their own memory regions ***
[   22.270154] *** PLATFORM DEVICES ALREADY REGISTERED IN INIT - SKIPPING DUPLICATE REGISTRATION ***
[   22.270160] *** tx_isp_module_init: EXACT Binary Ninja reference implementation ***
[   22.270165] *** tx_isp_module_init: Registering subdev platform drivers FIRST ***
[   22.270171] *** TX ISP SUBDEV PLATFORM DRIVERS REGISTRATION ***
[   22.286902] All ISP subdev platform drivers registered successfully
[   22.289387] *** tx_isp_create_graph_and_nodes: EXACT Binary Ninja reference implementation ***
[   22.289400] *** Registering platform device 0 from platform data ***
[   22.295886] *** tx_isp_subdev_init: CALLED for device 'isp-w01' ***
[   22.295901] *** tx_isp_subdev_init: pdev=c06b6af8, sd=8521bc00, ops=c06b7110 ***
[   22.295908] *** tx_isp_subdev_init: ourISPdev=85fa4000 ***
[   22.295914] *** tx_isp_subdev_init: ops=c06b7110, ops->core=c06b7144 ***
[   22.295920] *** tx_isp_subdev_init: ops->core->init=c066c6b8 ***
[   22.295927] *** tx_isp_subdev_init: Set sd->dev=c06b6b08, sd->pdev=c06b6af8 ***
[   22.295934] *** tx_isp_subdev_init: CSI subdev registered at slot 0 ***
[   22.295939] tx_isp_module_init: Module initialized for isp-w01
[   22.295945] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.295952] *** isp-w01: Skipping IRQ request - device has no IRQ resource ***
[   22.295958] tx_isp_subdev_init: platform_get_resource returned c06b6be8 for device isp-w01
[   22.295966] tx_isp_subdev_init: Memory resource found: start=0x10022000, end=0x10022fff, size=0x00001000
[   22.295975] *** tx_isp_subdev_init: Clock initialization deferred until streaming starts ***
[   22.295981] *** tx_isp_subdev_init: Clock count stored: 1 ***
[   22.295989] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b6af8, sd=8521bc00, ourISPdev=85fa4000 ***
[   22.295996] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w01' to ourISPdev=85fa4000 ***
[   22.296002] *** DEBUG: Device name comparison - checking 'isp-w01' ***
[   22.296007] *** DEBUG: About to check device name matches ***
[   22.296013] *** CSI BASIC REGISTERS SET: b0022000 (from tx_isp_subdev_init) ***
[   22.296020] *** LINKED CSI device: 8521bc00, regs: b0022000 ***
[   22.296026] *** CSI PROBE: Set dev_priv to csi_dev 8521bc00 AFTER subdev_init ***
[   22.296032] *** CSI PROBE: Set host_priv to csi_dev 8521bc00 AFTER subdev_init ***
[   22.296038] *** CSI PROBE: Using register mapping from tx_isp_subdev_init: b0022000 ***
[   22.296045] *** CSI PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   22.296064] *** Platform device 0 (isp-w01) registered successfully ***
[   22.296070] *** Registering platform device 1 from platform data ***
[   22.298552] *** VIC PROBE: IRQ numbers initialized to 38 ***
[   22.298566] *** VIC PROBE: Primary VIC registers mapped at 0x133e0000 -> b33e0000 ***
[   22.298572] *** VIC PROBE: VIC control registers mapped at 0x10023000 -> b0023000 ***
[   22.298578] *** VIC PROBE: Hardware IRQ function pointers set using SAFE struct members (tx_isp_enable/disable_irq) ***
[   22.298585] *** VIC PROBE: Secondary VIC register test - 0x1e0 = 0x00000000 (mapping verified) ***
[   22.298591] *** VIC PROBE: VIC interrupt registers will be configured during tx_isp_vic_start ***
[   22.298596] *** BINARY NINJA MCP: VIC buffer management ENABLED - following reference driver ***
[   22.298602] *** VIC will operate in FULL mode with complete buffer operations ***
[   22.298608] *** BINARY NINJA MCP: VIC full initialization complete - buffer management ENABLED ***
[   22.298614] *** VIC PROBE: Initialized default dimensions 1920x1080 and critical fields ***
[   22.298620] *** VIC PROBE: Event callback structure stored in VIC device field ***
[   22.298626] *** VIC PROBE: Stored vic_dev pointer 80558000 in subdev dev_priv ***
[   22.298633] *** VIC PROBE: Set host_priv to vic_dev 80558000 for Binary Ninja compatibility ***
[   22.298638] *** VIC PROBE: Skipping tx_isp_vic_hw_init - working branch configures interrupts during VIC operations ***
[   22.298646] *** tx_isp_subdev_init: CALLED for device 'isp-w02' ***
[   22.298653] *** tx_isp_subdev_init: pdev=c06b6c08, sd=80558000, ops=c06b7090 ***
[   22.298659] *** tx_isp_subdev_init: ourISPdev=85fa4000 ***
[   22.298666] *** tx_isp_subdev_init: ops=c06b7090, ops->core=c06b70ac ***
[   22.298672] *** tx_isp_subdev_init: ops->core->init=c0682434 ***
[   22.298679] *** tx_isp_subdev_init: Set sd->dev=c06b6c18, sd->pdev=c06b6c08 ***
[   22.298686] *** tx_isp_subdev_init: VIC device linked and registered at slot 1 ***
[   22.298692] tx_isp_module_init: Module initialized for isp-w02
[   22.298698] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.298706] *** tx_isp_request_irq: platform_get_irq returned 38 for device isp-w02 ***
[   22.298712] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 38 (device: isp-w02) ***
[   22.298722] *** tx_isp_request_irq: About to call request_threaded_irq(irq=38, handler=c0674ed8, thread=c0668584, flags=0x80, name=isp-w02, dev_id=85fa4000) ***
[   22.298730] *** tx_isp_request_irq: About to register IRQ 38 with handlers: main=c0674ed8, thread=c0668584 ***
[   22.302938] *** tx_isp_request_irq: request_threaded_irq returned 0 ***
[   22.302950] *** tx_isp_request_irq: IRQ 38 LEFT ENABLED (working version behavior) ***
[   22.302956] *** tx_isp_request_irq: IRQ 38 registered successfully for isp-w02 ***
[   22.302965] tx_isp_subdev_init: platform_get_resource returned c06b6d00 for device isp-w02
[   22.302973] tx_isp_subdev_init: Memory resource found: start=0x10023000, end=0x10023fff, size=0x00001000
[   22.302982] *** tx_isp_subdev_init: Clock initialization deferred until streaming starts ***
[   22.302988] *** tx_isp_subdev_init: Clock count stored: 2 ***
[   22.302996] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b6c08, sd=80558000, ourISPdev=85fa4000 ***
[   22.303003] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w02' to ourISPdev=85fa4000 ***
[   22.303009] *** DEBUG: Device name comparison - checking 'isp-w02' ***
[   22.303014] *** DEBUG: About to check device name matches ***
[   22.303020] *** DEBUG: VIC DEVICE NAME MATCHED! Processing VIC device linking ***
[   22.303026] *** DEBUG: Retrieved vic_dev from subdev data: 80558000 ***
[   22.303032] *** DEBUG: About to set ourISPdev->vic_dev = 80558000 ***
[   22.303038] *** DEBUG: ourISPdev before linking: 85fa4000 ***
[   22.303043] *** DEBUG: ourISPdev->vic_dev set to: 80558000 ***
[   22.303049] *** VIC AUTO-LINK: VIC IRQ already registered (irq=38) ***
[   22.303054] *** VIC AUTO-LINK: Using existing VIC register mapping (0x133e0000) - NOT remapping ***
[   22.303060] *** VIC AUTO-LINK: Registers are mapped, registering interrupt handler ***
[   22.303068] *** VIC PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   22.303073] *** VIC PROBE: Sensor dimensions will be cached when sensor module loads ***
[   22.303079] *** VIC PROBE: VIC frame channel streaming will be initialized via tisp_init ***
[   22.303084] *** VIC PROBE: Waiting for core subdev init to call tisp_init which calls tx_isp_subdev_pipo ***
[   22.303106] *** Platform device 1 (isp-w02) registered successfully ***
[   22.303113] *** Registering platform device 2 from platform data ***
[   22.306211] *** tx_isp_subdev_init: CALLED for device 'isp-w00' ***
[   22.306227] *** tx_isp_subdev_init: pdev=c06b6a20, sd=8540ce00, ops=c06b7f74 ***
[   22.306233] *** tx_isp_subdev_init: ourISPdev=85fa4000 ***
[   22.306240] *** tx_isp_subdev_init: ops=c06b7f74, ops->core=c06b7f94 ***
[   22.306246] *** tx_isp_subdev_init: ops->core->init=c068f100 ***
[   22.306253] *** tx_isp_subdev_init: Set sd->dev=c06b6a30, sd->pdev=c06b6a20 ***
[   22.306260] *** tx_isp_subdev_init: NOT A SENSOR - ops=c06b7f74 ***
[   22.306266] *** tx_isp_subdev_init: ops->sensor=  (null), csi_subdev_ops=c06b7110 ***
[   22.306272] tx_isp_module_init: Module initialized for isp-w00
[   22.306278] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.306286] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b6a20, sd=8540ce00, ourISPdev=85fa4000 ***
[   22.306293] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w00' to ourISPdev=85fa4000 ***
[   22.306299] *** DEBUG: Device name comparison - checking 'isp-w00' ***
[   22.306304] *** DEBUG: About to check device name matches ***
[   22.306312] *** DEBUG: Unknown device name 'isp-w00' - no specific auto-link handling ***
[   22.306318] *** VIN PROBE: Set dev_priv to vin_dev 8540ce00 AFTER subdev_init ***
[   22.306324] *** VIN PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   22.306344] *** Platform device 2 (isp-w00) registered successfully ***
[   22.306350] *** Registering platform device 3 from platform data ***
[   22.314131] *** tx_isp_subdev_init: CALLED for device 'isp-fs' ***
[   22.314146] *** tx_isp_subdev_init: pdev=c06b68e0, sd=8540ca00, ops=c06b71c4 ***
[   22.314153] *** tx_isp_subdev_init: ourISPdev=85fa4000 ***
[   22.314160] *** tx_isp_subdev_init: ops=c06b71c4, ops->core=c06be04c ***
[   22.314165] *** tx_isp_subdev_init: WARNING - ops->core->init is NULL! ***
[   22.314172] *** tx_isp_subdev_init: Set sd->dev=c06b68f0, sd->pdev=c06b68e0 ***
[   22.314178] *** tx_isp_subdev_init: NOT A SENSOR - ops=c06b71c4 ***
[   22.314185] *** tx_isp_subdev_init: ops->sensor=c06be040, csi_subdev_ops=c06b7110 ***
[   22.314191] tx_isp_module_init: Module initialized for isp-fs
[   22.314197] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.314203] *** isp-fs: Skipping IRQ request - device has no IRQ resource ***
[   22.314210] tx_isp_subdev_init: platform_get_resource returned   (null) for device isp-fs
[   22.314216] tx_isp_subdev_init: No memory resource for device isp-fs (logical device - OK)
[   22.314223] *** FS PROBE: Set dev_priv to fs_dev 8540ca00 AFTER subdev_init ***
[   22.314229] *** FS PROBE: Device linking handled automatically by tx_isp_subdev_auto_link() ***
[   22.314248] *** Platform device 3 (isp-fs) registered successfully ***
[   22.314254] *** Registering platform device 4 from platform data ***
[   22.316763] *** tx_isp_core_probe: NEW ARCHITECTURE - Creating separate core device ***
[   22.316776] *** tx_isp_create_core_device: Creating ISP core device ***
[   22.316786] *** tx_isp_create_core_device: Core device created successfully: 80558400 ***
[   22.316792] *** CORE PROBE: Set dev_priv to core_dev 80558400 ***
[   22.316798] *** CORE PROBE: Set host_priv to core_dev 80558400 - PREVENTS BadVA CRASH ***
[   22.316806] *** tx_isp_subdev_init: CALLED for device 'isp-m0' ***
[   22.316813] *** tx_isp_subdev_init: pdev=c06b67c0, sd=80558400, ops=c06b6ec8 ***
[   22.316819] *** tx_isp_subdev_init: ourISPdev=85fa4000 ***
[   22.316826] *** tx_isp_subdev_init: ops=c06b6ec8, ops->core=c06b6ef4 ***
[   22.316832] *** tx_isp_subdev_init: ops->core->init=c067f65c ***
[   22.316838] *** tx_isp_subdev_init: Set sd->dev=c06b67d0, sd->pdev=c06b67c0 ***
[   22.316845] *** tx_isp_subdev_init: Core ISP subdev registered at slot 2 ***
[   22.316851] tx_isp_module_init: Module initialized for isp-m0
[   22.316857] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.316865] *** tx_isp_request_irq: platform_get_irq returned 37 for device isp-m0 ***
[   22.316872] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 37 (device: isp-m0) ***
[   22.316881] *** tx_isp_request_irq: About to call request_threaded_irq(irq=37, handler=c0674ed8, thread=c0668584, flags=0x80, name=isp-m0, dev_id=85fa4000) ***
[   22.316890] *** tx_isp_request_irq: About to register IRQ 37 with handlers: main=c0674ed8, thread=c0668584 ***
[   22.319348] *** tx_isp_request_irq: request_threaded_irq returned 0 ***
[   22.319360] *** tx_isp_request_irq: IRQ 37 LEFT ENABLED (working version behavior) ***
[   22.319367] *** tx_isp_request_irq: IRQ 37 registered successfully for isp-m0 ***
[   22.319376] tx_isp_subdev_init: platform_get_resource returned c06b68a8 for device isp-m0
[   22.319384] tx_isp_subdev_init: Memory resource found: start=0x13300000, end=0x133fffff, size=0x00100000
[   22.319394] *** tx_isp_subdev_init: Clock initialization deferred until streaming starts ***
[   22.319400] *** tx_isp_subdev_init: Clock count stored: 0 ***
[   22.319408] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b67c0, sd=80558400, ourISPdev=85fa4000 ***
[   22.319415] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-m0' to ourISPdev=85fa4000 ***
[   22.319420] *** DEBUG: Device name comparison - checking 'isp-m0' ***
[   22.319426] *** DEBUG: About to check device name matches ***
[   22.319432] *** DEBUG: CORE device name matched! Setting up Core device ***
[   22.319438] *** CRITICAL FIX: CORE regs mapped to core device: b3300000 ***
[   22.319446] *** tx_isp_link_core_device: Linking core device 80558400 to ISP device 85fa4000 ***
[   22.319451] *** tx_isp_link_core_device: Core device linked successfully ***
[   22.319458] *** Core subdev already registered at slot 2: 80558400 ***
[   22.319464] *** LINKED CORE device: 80558400 ***
[   22.319469] *** CORE SUBDEV REGISTERED AT INDEX 0 ***
[   22.319474] *** tx_isp_core_probe: Core subdev initialized successfully ***
[   22.319481] *** tx_isp_core_device_init: Initializing core device: 80558400 ***
[   22.319492] *** tx_isp_core_device_init: State transitions handled by slake_module ***
[   22.319498] *** tx_isp_core_device_init: Core device initialized successfully ***
[   22.319503] *** tx_isp_core_device_init: Core sensor IOCTL handler set for sensor registration ***
[   22.319510] *** tx_isp_link_core_device: Linking core device 80558400 to ISP device 85fa4000 ***
[   22.319516] *** tx_isp_link_core_device: Core device linked successfully ***
[   22.319522] *** Core subdev already registered at slot 2: 80558400 ***
[   22.319536] *** tx_isp_core_probe: Assigned frame_channels=80558800 to core_dev ***
[   22.319541] *** tx_isp_core_probe: VIC device creation deferred to platform driver system ***
[   22.319547] *** tx_isp_core_probe: Platform drivers will call tx_isp_subdev_init for proper initialization ***
[   22.319552] *** tx_isp_core_probe: Calling sensor_early_init ***
[   22.319558] *** tx_isp_core_probe: ISP clock management handled by infrastructure ***
[   22.319564] *** tx_isp_core_probe: ispcore_slake_module will be called when VIC reaches streaming state ***
[   22.319569] *** tx_isp_core_probe: Core device setup complete ***
[   22.319575] ***   - Core device: 80558400 ***
[   22.319580] ***   - Channel count: 6 ***
[   22.319586] ***   - Linked to ISP device: 85fa4000 ***
[   22.319590] *** tx_isp_core_probe: Initializing core tuning system ***
[   22.319596] isp_core_tuning_init: Initializing tuning data structure
[   22.319609] isp_core_tuning_init: Tuning data structure initialized at 84bf6000
[   22.319615] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   22.319620] *** SAFE: mode_flag properly initialized using struct member access ***
[   22.319626] *** tx_isp_core_probe: Tuning init SUCCESS ***
[   22.319630] *** tx_isp_core_probe: Set platform driver data ***
[   22.319636] *** tx_isp_core_probe: Set global core device reference ***
[   22.319641] *** tx_isp_core_probe: SUCCESS - Core device fully initialized ***
[   22.319647] ***   - Core device: 80558400 ***
[   22.319652] ***   - Tuning device: 84bf6000 ***
[   22.319658] *** tx_isp_core_probe: Creating frame channel devices ***
[   22.319662] *** tx_isp_create_framechan_devices: Creating frame channel devices ***
[   22.324205] *** Created frame channel device: /dev/framechan0 (major=10, minor=54) ***
[   22.326744] *** Created frame channel device: /dev/framechan1 (major=10, minor=53) ***
[   22.329293] *** Created frame channel device: /dev/framechan2 (major=10, minor=52) ***
[   22.336216] *** Created frame channel device: /dev/framechan3 (major=10, minor=51) ***
[   22.336227] *** tx_isp_create_framechan_devices: All frame channel devices created ***
[   22.336232] *** tx_isp_core_probe: Frame channel devices created successfully ***
[   22.336238] *** tx_isp_core_probe: Creating ISP M0 tuning device node ***
[   22.336244] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   22.336252] tisp_code_create_tuning_node: Allocated dynamic major 251
[   22.344433] *** ISP M0 TUNING DEVICE CREATED: /dev/isp-m0 (major=251, minor=0) ***
[   22.344444] *** tx_isp_core_probe: ISP M0 tuning device node created successfully ***
[   22.344450] *** tx_isp_core_probe: Core probe completed successfully ***
[   22.344470] *** Platform device 4 (isp-m0) registered successfully ***
[   22.344476] *** tx_isp_create_graph_and_nodes: Creating /proc/jz/isp entries ***
[   22.344498] *** Created /proc/jz/isp directory ***
[   22.344506] *** PROC ENTRY DEBUG: Using isp_vic_frd_fops for isp-w01 (with ioctl handler) ***
[   22.344514] *** Created /proc/jz/isp/isp-w01 entry with file ops ***
[   22.344521] *** PROC ENTRY DEBUG: Using vic_w02_proc_fops for isp-w02 (with write handler) ***
[   22.344528] *** PROC ENTRY DEBUG: vic_w02_proc_fops.write=c0684b8c ***
[   22.344536] *** PROC ENTRY FIX: Using ISP device 85fa4000 instead of VIC device 80558000 for isp-w02 ***
[   22.344544] *** Created /proc/jz/isp/isp-w02 entry with file ops ***
[   22.344550] *** PROC ENTRY DEBUG: Using isp_vic_frd_fops for isp-w00 (with ioctl handler) ***
[   22.344559] *** Created /proc/jz/isp/isp-w00 entry with file ops ***
[   22.344568] *** Created /proc/jz/isp/isp-fs entry with file ops ***
[   22.344577] *** Created /proc/jz/isp/isp-m0 entry with file ops ***
[   22.344582] *** tx_isp_create_graph_and_nodes: Registering misc devices ***
[   22.344588] *** Misc device registration handled via main tx-isp device ***
[   22.344593] *** Misc device registration handled via main tx-isp device ***
[   22.344598] *** Misc device registration handled via main tx-isp device ***
[   22.344604] *** Misc device registration handled via main tx-isp device ***
[   22.344609] *** Misc device registration handled via main tx-isp device ***
[   22.344614] *** tx_isp_create_graph_and_nodes: Initializing frame channels ***
[   22.344623] *** Frame channel 0 initialized: 1920x1080, state=2 ***
[   22.344631] *** Frame channel 1 initialized: 640x360, state=2 ***
[   22.344636] *** tx_isp_create_graph_and_nodes: Binary Ninja reference implementation complete ***
[   22.344643] *** tx_isp_module_init: VIC device linkage check - isp_dev->vic_dev = 80558000 ***
[   22.344648] *** ENABLING HARDWARE INTERRUPT GENERATION ***
[   22.344654] *** WRITING VIC INTERRUPT ENABLE REGISTERS ***
[   22.344661] *** EARLY VIC ENABLES (MODULE INIT): PRIMARY [1e0]=0x00000000 [1e4]=0x00000000 ***
[   22.344668] *** EARLY VIC ENABLES (MODULE INIT): CONTROL [1e0]=0x00000000 [1e4]=0x00000000 ***
[   22.344673] *** ENABLING ISP CORE INTERRUPT REGISTERS FOR MIPI DATA ***
[   22.344679] *** ISP CORE INTERRUPT REGISTERS ENABLED at legacy(+0xb*) and new(+0x98b*) ***
[   22.344684] *** BOTH VIC AND ISP CORE INTERRUPTS NOW ENABLED! ***
[   22.344690] *** tx_isp_module_init: Binary Ninja reference implementation complete ***
[   22.344695] *** PROBE: Binary Ninja reference implementation complete ***
[   22.347163] *** tx_isp_init: Platform device and driver registered successfully ***
[   23.639123] === gc2053 SENSOR MODULE INIT ===
[   23.641206] gc2053 I2C driver registered, waiting for device creation by ISP
[   26.551737] ISP opened successfully
[   26.552075] ISP IOCTL: cmd=0x805056c1 arg=0x77d4bd60
[   26.552089] subdev_sensor_ops_ioctl: cmd=0x2000000
[   26.552095] *** subdev_sensor_ops_ioctl: IOCTL 0x2000000 - Creating I2C sensor device ***
[   26.552101] *** Creating I2C sensor device on adapter 0 ***
[   26.552110] *** Creating I2C device: gc2053 at 0x37 ***
[   26.552115] *** isp_i2c_new_subdev_board: MIPS-SAFE implementation - FIXED CRASH ***
[   26.552122] Creating I2C subdev: type=gc2053 addr=0x37 on adapter i2c0 (MIPS-safe)
[   26.552128] *** MIPS-SAFE: Requesting sensor module gc2053 ***
[   26.557684] *** MIPS-SAFE: Valid I2C address 0x37, creating device ***
[   26.559991] === GC2053 SENSOR PROBE START ===
[   26.560008] sensor_probe: client=85543d00, addr=0x37, adapter=84074c10 (i2c0)
[   26.560013] === PERFORMING GPIO RESET SEQUENCE BEFORE I2C ===
[   26.560019] Requesting reset GPIO 18
[   26.560027] GPIO reset sequence: HIGH -> LOW -> HIGH
[   26.780411] GPIO reset sequence completed successfully
[   26.780423] === GPIO INITIALIZATION COMPLETE ===
[   26.780433] sensor_probe: Initialized sensor info - name=gc2053, i2c_addr=0x37
[   26.780447] sensor_probe: data_interface=1, sensor_max_fps=30
[   26.780452] sensor_probe: MIPI 30fps
[   26.780459] *** tx_isp_subdev_init: CALLED for device 'gc2053' ***
[   26.780467] *** tx_isp_subdev_init: pdev=c06e0168, sd=85f91400, ops=c06e0248 ***
[   26.780473] *** tx_isp_subdev_init: ourISPdev=85fa4000 ***
[   26.780480] *** tx_isp_subdev_init: ops=c06e0248, ops->core=c06e0274 ***
[   26.780486] *** tx_isp_subdev_init: ops->core->init=c06dd6bc ***
[   26.780493] *** tx_isp_subdev_init: Set sd->dev=c06e0178, sd->pdev=c06e0168 ***
[   26.780500] *** tx_isp_subdev_init: DETECTED SENSOR SUBDEV - ops=c06e0248, ops->sensor=c06e025c ***
[   26.780505] *** tx_isp_subdev_init: Set up sensor module notify handler ***
[   26.780512] *** tx_isp_subdev_init: SENSOR subdev registered at slot 3, sd=85f91400 ***
[   26.780519] *** tx_isp_subdev_init: SENSOR ops=c06e0248, ops->sensor=c06e025c ***
[   26.780525] *** tx_isp_subdev_init: Core state transitions handled by slake_module ***
[   26.780531] tx_isp_module_init: Module initialized for (null)
[   26.780537] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   26.780545] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06e0168, sd=85f91400, ourISPdev=85fa4000 ***
[   26.780552] *** tx_isp_subdev_auto_link: Auto-linking device 'gc2053' to ourISPdev=85fa4000 ***
[   26.780557] *** DEBUG: Device name comparison - checking 'gc2053' ***
[   26.780563] *** DEBUG: About to check device name matches ***
[   26.780569] *** DETECTED SENSOR DEVICE: 'gc2053' - checking for existing registration ***
[   26.780576] *** SENSOR 'gc2053' registered at subdev index 5 ***
[   26.780582] *** SENSOR subdev: 85f91400, ops: c06e0248 ***
[   26.780588] *** SENSOR ops->sensor: c06e025c ***
[   26.780593] *** SENSOR REGISTERED: Caching sensor dimensions from /proc/jz/sensor/ ***
[   26.780599] *** cache_sensor_dimensions_from_proc: Reading sensor dimensions during probe ***
[   26.780674] read_sensor_dimensions: Successfully read 1920x1080 from /proc/jz/sensor/
[   26.780682] *** cache_sensor_dimensions_from_proc: Successfully cached 1920x1080 ***
[   26.780688] sensor_probe: I2C client association complete
[   26.780697]   sd=85f91400, client=85543d00, addr=0x37, adapter=i2c0
[   26.780702] === TESTING I2C COMMUNICATION AFTER GPIO RESET ===
[   26.780710] sensor_read: reg=0xf0, client=85543d00, adapter=i2c0, addr=0x37
[   26.781119] sensor_read: reg=0xf0 value=0x20 SUCCESS
[   26.781127] I2C test read (0xf0): ret=0, val=0x20 (expected 0x20)
[   26.781133] *** SUCCESS: I2C communication working after GPIO reset! ***
[   26.781141] sensor_read: reg=0xf1, client=85543d00, adapter=i2c0, addr=0x37
[   26.781631] sensor_read: reg=0xf1 value=0x53 SUCCESS
[   26.781637] I2C test read (0xf1): ret=0, val=0x53 (expected 0x53)
[   26.781643] === I2C COMMUNICATION TEST COMPLETE ===
[   26.781650] Registering gc2053 with ISP framework (sd=85f91400, sensor=85f91400)
[   26.781656] gc2053 registered with ISP framework successfully
[   26.781678] *** MIPS-SAFE: I2C device created successfully at 0x85543d00 ***
[   26.781685] *** MIPS-SAFE: Module reference acquired for gc2053 ***
[   26.781692] *** MIPS-SAFE: Sensor subdev data found, device ready ***
[   26.781699] *** I2C DEVICE READY: gc2053 at 0x37 (MIPS-safe) ***
[   26.781705] *** I2C sensor device created successfully: gc2053 at 0x37 ***
[   26.781742] ISP IOCTL: cmd=0xc050561a arg=0x7fc9dd18
[   26.781749] TX_ISP_SENSOR_ENUM_INPUT: Enumerating sensor at index 0
[   26.781756] TX_ISP_SENSOR_ENUM_INPUT: Returning sensor 'gc2053' at index 0
[   26.781764] ISP IOCTL: cmd=0xc050561a arg=0x7fc9dd18
[   26.781769] TX_ISP_SENSOR_ENUM_INPUT: Enumerating sensor at index 1
[   26.781775] TX_ISP_SENSOR_ENUM_INPUT: No sensor at index 1 - returning error to end enumeration
[   26.781783] ISP IOCTL: cmd=0xc0045627 arg=0x7fc9dd70
[   26.781793] ISP IOCTL: cmd=0x800856d5 arg=0x7fc9dd68
[   26.781799] TX_ISP_GET_BUF: IOCTL handler called
[   26.781805] TX_ISP_GET_BUF: core_dev=80558400, isp_dev=85fa4000
[   26.781812] TX_ISP_GET_BUF: Using dimensions 1920x1080 from core device
[   26.781819] TX_ISP_GET_BUF: Returning buffer size=4685424, paddr=0x6300000
[   26.857015] ISP IOCTL: cmd=0x800856d4 arg=0x7fc9dd68
[   26.857029] TX_ISP_SET_BUF: addr=0x6300000 size=0
[   26.857262] ISP IOCTL: cmd=0x40045626 arg=0x7fc9dd80
[   26.857275] subdev_sensor_ops_ioctl: cmd=0x2000003
[   26.857281] subdev_sensor_ops_ioctl: IOCTL 0x2000003 - Get sensor input
[   26.857287] subdev_sensor_ops_ioctl: Auto-selected first sensor at slot 0 as index 0
[   26.857293] subdev_sensor_ops_ioctl: Returning current sensor index 0
[   26.857302] ISP IOCTL: cmd=0x80045612 arg=0x0
[   26.857309] *** tx_isp_video_s_stream: EXACT Binary Ninja reference implementation - enable=1 ***
[   26.857314] === ISP Subdevice Array Status ===
[   26.857323]   [0]: isp-w01 (sd=8521bc00)
[   26.857329]   [1]: isp-w02 (sd=80558000)
[   26.857336]   [2]: isp-m0 (sd=80558400)
[   26.857342]   [3]: gc2053 (sd=85f91400)
[   26.857347]   [4]: (empty)
[   26.857353]   [5]: gc2053 (sd=85f91400)
[   26.857359]   [6]: (empty)
[   26.857363]   [7]: (empty)
[   26.857369]   [8]: (empty)
[   26.857373]   [9]: (empty)
[   26.857379]   [10]: (empty)
[   26.857383]   [11]: (empty)
[   26.857389]   [12]: (empty)
[   26.857393]   [13]: (empty)
[   26.857399]   [14]: (empty)
[   26.857403]   [15]: (empty)
[   26.857408] === End Subdevice Array ===
[   26.857413] *** tx_isp_video_s_stream: STREAM ON - Initializing core first ***
[   26.857419] *** tx_isp_video_s_stream: VIC state is 1, calling activate_module ***
[   26.857425] *** ispcore_activate_module: Fixed for our struct layouts ***
[   26.857429] *** VIC device in state 1, proceeding with activation ***
[   26.857436] *** CLOCK CONFIGURATION SECTION: clk_array=  (null), clk_count=2 ***
[   26.857441] *** SUBDEVICE VALIDATION SECTION ***
[   26.857446] VIC device state set to 2 (activated)
[   26.857451] *** CRITICAL FUNCTION POINTER CALL SECTION ***
[   26.857456] *** CALLING CRITICAL VIC INITIALIZATION FUNCTION ***
[   26.857462] *** VIC control register written with 0x4000000 to ISP+0x9a00 ***
[   26.857467] *** SUBDEVICE INITIALIZATION LOOP ***
[   26.857472] *** SUBDEVICE INITIALIZATION: Traversing backwards to initialize sensors first ***
[   26.857479] Calling subdev 5 initialization (REVERSE ORDER - sensors first)
[   26.857486] *** SENSOR_INIT: gc2053 enable=1 ***
[   26.857494] SENSOR_INIT: Configuring gc2053 (chip_id=0x2053, 1920x1080)
[   26.857501] *** CALLING SENSOR_WRITE_ARRAY WITH c06e0e20 (should be 137 registers) ***
[   26.857511] sensor_write: reg=0xfe val=0x80, client=85543d00, adapter=i2c0, addr=0x37
[   26.857836] sensor_write: reg=0xfe val=0x80 SUCCESS
[   26.857844] sensor_write_array: reg[1] 0xfe=0x80 OK
[   26.857853] sensor_write: reg=0xfe val=0x80, client=85543d00, adapter=i2c0, addr=0x37
[   26.858252] sensor_write: reg=0xfe val=0x80 SUCCESS
[   26.858261] sensor_write_array: reg[2] 0xfe=0x80 OK
[   26.858271] sensor_write: reg=0xfe val=0x80, client=85543d00, adapter=i2c0, addr=0x37
[   26.858583] sensor_write: reg=0xfe val=0x80 SUCCESS
[   26.858590] sensor_write_array: reg[3] 0xfe=0x80 OK
[   26.858599] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   26.858913] sensor_write: reg=0xfe val=0x00 SUCCESS
[   26.858921] sensor_write_array: reg[4] 0xfe=0x00 OK
[   26.858929] sensor_write: reg=0xf2 val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   26.859240] sensor_write: reg=0xf2 val=0x00 SUCCESS
[   26.859247] sensor_write_array: reg[5] 0xf2=0x00 OK
[   26.859255] sensor_write: reg=0xf3 val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   26.859568] sensor_write: reg=0xf3 val=0x00 SUCCESS
[   26.859575] sensor_write_array: reg[6] 0xf3=0x00 OK
[   26.859583] sensor_write: reg=0xf4 val=0x36, client=85543d00, adapter=i2c0, addr=0x37
[   26.859896] sensor_write: reg=0xf4 val=0x36 SUCCESS
[   26.859903] sensor_write_array: reg[7] 0xf4=0x36 OK
[   26.859911] sensor_write: reg=0xf5 val=0xc0, client=85543d00, adapter=i2c0, addr=0x37
[   26.868377] sensor_write: reg=0xf5 val=0xc0 SUCCESS
[   26.868390] sensor_write_array: reg[8] 0xf5=0xc0 OK
[   26.868401] sensor_write: reg=0xf6 val=0x44, client=85543d00, adapter=i2c0, addr=0x37
[   26.868715] sensor_write: reg=0xf6 val=0x44 SUCCESS
[   26.868722] sensor_write_array: reg[9] 0xf6=0x44 OK
[   26.868730] sensor_write: reg=0xf7 val=0x01, client=85543d00, adapter=i2c0, addr=0x37
[   26.869050] sensor_write: reg=0xf7 val=0x01 SUCCESS
[   26.869057] sensor_write_array: reg[10] 0xf7=0x01 OK
[   26.869065] sensor_write: reg=0xf8 val=0x68, client=85543d00, adapter=i2c0, addr=0x37
[   26.869379] sensor_write: reg=0xf8 val=0x68 SUCCESS
[   26.869387] sensor_write: reg=0xf9 val=0x40, client=85543d00, adapter=i2c0, addr=0x37
[   26.869701] sensor_write: reg=0xf9 val=0x40 SUCCESS
[   26.869709] sensor_write: reg=0xfc val=0x8e, client=85543d00, adapter=i2c0, addr=0x37
[   26.870023] sensor_write: reg=0xfc val=0x8e SUCCESS
[   26.870031] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   26.870386] sensor_write: reg=0xfe val=0x00 SUCCESS
[   26.870396] sensor_write: reg=0x87 val=0x18, client=85543d00, adapter=i2c0, addr=0x37
[   26.870708] sensor_write: reg=0x87 val=0x18 SUCCESS
[   26.870717] sensor_write: reg=0xee val=0x30, client=85543d00, adapter=i2c0, addr=0x37
[   26.871031] sensor_write: reg=0xee val=0x30 SUCCESS
[   26.871039] sensor_write: reg=0xd0 val=0xb7, client=85543d00, adapter=i2c0, addr=0x37
[   26.871353] sensor_write: reg=0xd0 val=0xb7 SUCCESS
[   26.871361] sensor_write: reg=0x03 val=0x04, client=85543d00, adapter=i2c0, addr=0x37
[   26.871673] sensor_write: reg=0x03 val=0x04 SUCCESS
[   26.871682] sensor_write: reg=0x04 val=0x60, client=85543d00, adapter=i2c0, addr=0x37
[   26.871995] sensor_write: reg=0x04 val=0x60 SUCCESS
[   26.872003] sensor_write: reg=0x05 val=0x04, client=85543d00, adapter=i2c0, addr=0x37
[   26.872316] sensor_write: reg=0x05 val=0x04 SUCCESS
[   26.872324] sensor_write: reg=0x06 val=0x4c, client=85543d00, adapter=i2c0, addr=0x37
[   26.872637] sensor_write: reg=0x06 val=0x4c SUCCESS
[   26.872645] sensor_write: reg=0x07 val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   26.872958] sensor_write: reg=0x07 val=0x00 SUCCESS
[   26.872966] sensor_write: reg=0x08 val=0x11, client=85543d00, adapter=i2c0, addr=0x37
[   26.873279] sensor_write: reg=0x08 val=0x11 SUCCESS
[   26.873287] sensor_write: reg=0x09 val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   26.873600] sensor_write: reg=0x09 val=0x00 SUCCESS
[   26.873608] sensor_write: reg=0x0a val=0x02, client=85543d00, adapter=i2c0, addr=0x37
[   26.878464] sensor_write: reg=0x0a val=0x02 SUCCESS
[   26.878479] sensor_write: reg=0x0b val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   26.878797] sensor_write: reg=0x0b val=0x00 SUCCESS
[   26.878805] sensor_write: reg=0x0c val=0x02, client=85543d00, adapter=i2c0, addr=0x37
[   26.879123] sensor_write: reg=0x0c val=0x02 SUCCESS
[   26.879131] sensor_write: reg=0x0d val=0x04, client=85543d00, adapter=i2c0, addr=0x37
[   26.879445] sensor_write: reg=0x0d val=0x04 SUCCESS
[   26.879453] sensor_write: reg=0x0e val=0x40, client=85543d00, adapter=i2c0, addr=0x37
[   26.879767] sensor_write: reg=0x0e val=0x40 SUCCESS
[   26.879775] sensor_write: reg=0x12 val=0xe2, client=85543d00, adapter=i2c0, addr=0x37
[   26.880088] sensor_write: reg=0x12 val=0xe2 SUCCESS
[   26.880097] sensor_write: reg=0x13 val=0x16, client=85543d00, adapter=i2c0, addr=0x37
[   26.882141] sensor_write: reg=0x13 val=0x16 SUCCESS
[   26.882155] sensor_write: reg=0x19 val=0x0a, client=85543d00, adapter=i2c0, addr=0x37
[   26.882470] sensor_write: reg=0x19 val=0x0a SUCCESS
[   26.882479] sensor_write: reg=0x21 val=0x1c, client=85543d00, adapter=i2c0, addr=0x37
[   26.882795] sensor_write: reg=0x21 val=0x1c SUCCESS
[   26.882803] sensor_write: reg=0x28 val=0x0a, client=85543d00, adapter=i2c0, addr=0x37
[   26.883407] sensor_write: reg=0x28 val=0x0a SUCCESS
[   26.883421] sensor_write: reg=0x29 val=0x24, client=85543d00, adapter=i2c0, addr=0x37
[   26.883740] sensor_write: reg=0x29 val=0x24 SUCCESS
[   26.883749] sensor_write: reg=0x2b val=0x04, client=85543d00, adapter=i2c0, addr=0x37
[   26.884060] sensor_write: reg=0x2b val=0x04 SUCCESS
[   26.884069] sensor_write: reg=0x32 val=0xf8, client=85543d00, adapter=i2c0, addr=0x37
[   26.884382] sensor_write: reg=0x32 val=0xf8 SUCCESS
[   26.884390] sensor_write: reg=0x37 val=0x03, client=85543d00, adapter=i2c0, addr=0x37
[   26.884703] sensor_write: reg=0x37 val=0x03 SUCCESS
[   26.884712] sensor_write: reg=0x39 val=0x15, client=85543d00, adapter=i2c0, addr=0x37
[   26.887517] sensor_write: reg=0x39 val=0x15 SUCCESS
[   26.887533] sensor_write: reg=0x43 val=0x07, client=85543d00, adapter=i2c0, addr=0x37
[   26.887841] sensor_write: reg=0x43 val=0x07 SUCCESS
[   26.887852] sensor_write: reg=0x44 val=0x40, client=85543d00, adapter=i2c0, addr=0x37
[   26.888167] sensor_write: reg=0x44 val=0x40 SUCCESS
[   26.888177] sensor_write: reg=0x46 val=0x0b, client=85543d00, adapter=i2c0, addr=0x37
[   26.888665] sensor_write: reg=0x46 val=0x0b SUCCESS
[   26.888677] sensor_write: reg=0x4b val=0x20, client=85543d00, adapter=i2c0, addr=0x37
[   26.888991] sensor_write: reg=0x4b val=0x20 SUCCESS
[   26.888999] sensor_write: reg=0x4e val=0x08, client=85543d00, adapter=i2c0, addr=0x37
[   26.889311] sensor_write: reg=0x4e val=0x08 SUCCESS
[   26.889319] sensor_write: reg=0x55 val=0x20, client=85543d00, adapter=i2c0, addr=0x37
[   26.889635] sensor_write: reg=0x55 val=0x20 SUCCESS
[   26.889643] sensor_write: reg=0x66 val=0x05, client=85543d00, adapter=i2c0, addr=0x37
[   26.898126] sensor_write: reg=0x66 val=0x05 SUCCESS
[   26.898141] sensor_write: reg=0x67 val=0x05, client=85543d00, adapter=i2c0, addr=0x37
[   26.898461] sensor_write: reg=0x67 val=0x05 SUCCESS
[   26.898469] sensor_write: reg=0x77 val=0x01, client=85543d00, adapter=i2c0, addr=0x37
[   26.898841] sensor_write: reg=0x77 val=0x01 SUCCESS
[   26.898851] sensor_write: reg=0x78 val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   26.899163] sensor_write: reg=0x78 val=0x00 SUCCESS
[   26.899172] sensor_write: reg=0x7c val=0x93, client=85543d00, adapter=i2c0, addr=0x37
[   26.899487] sensor_write: reg=0x7c val=0x93 SUCCESS
[   26.899495] sensor_write_array: reg[50] 0x7c=0x93 OK
[   26.899503] sensor_write: reg=0x8c val=0x12, client=85543d00, adapter=i2c0, addr=0x37
[   26.899817] sensor_write: reg=0x8c val=0x12 SUCCESS
[   26.899825] sensor_write: reg=0x8d val=0x92, client=85543d00, adapter=i2c0, addr=0x37
[   26.900138] sensor_write: reg=0x8d val=0x92 SUCCESS
[   26.900147] sensor_write: reg=0x90 val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   26.900485] sensor_write: reg=0x90 val=0x00 SUCCESS
[   26.900494] sensor_write: reg=0x41 val=0x04, client=85543d00, adapter=i2c0, addr=0x37
[   26.900809] sensor_write: reg=0x41 val=0x04 SUCCESS
[   26.900818] sensor_write: reg=0x42 val=0x9d, client=85543d00, adapter=i2c0, addr=0x37
[   26.901131] sensor_write: reg=0x42 val=0x9d SUCCESS
[   26.901140] sensor_write: reg=0x9d val=0x10, client=85543d00, adapter=i2c0, addr=0x37
[   26.901453] sensor_write: reg=0x9d val=0x10 SUCCESS
[   26.901461] sensor_write: reg=0xce val=0x7c, client=85543d00, adapter=i2c0, addr=0x37
[   26.901775] sensor_write: reg=0xce val=0x7c SUCCESS
[   26.901783] sensor_write: reg=0xd2 val=0x41, client=85543d00, adapter=i2c0, addr=0x37
[   26.902095] sensor_write: reg=0xd2 val=0x41 SUCCESS
[   26.902104] sensor_write: reg=0xd3 val=0xdc, client=85543d00, adapter=i2c0, addr=0x37
[   26.902417] sensor_write: reg=0xd3 val=0xdc SUCCESS
[   26.902425] sensor_write: reg=0xe6 val=0x50, client=85543d00, adapter=i2c0, addr=0x37
[   26.902738] sensor_write: reg=0xe6 val=0x50 SUCCESS
[   26.902747] sensor_write: reg=0xb6 val=0xc0, client=85543d00, adapter=i2c0, addr=0x37
[   26.903059] sensor_write: reg=0xb6 val=0xc0 SUCCESS
[   26.903068] sensor_write: reg=0xb0 val=0x70, client=85543d00, adapter=i2c0, addr=0x37
[   26.903381] sensor_write: reg=0xb0 val=0x70 SUCCESS
[   26.903389] sensor_write: reg=0xb1 val=0x01, client=85543d00, adapter=i2c0, addr=0x37
[   26.903702] sensor_write: reg=0xb1 val=0x01 SUCCESS
[   26.903710] sensor_write: reg=0xb2 val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   26.904023] sensor_write: reg=0xb2 val=0x00 SUCCESS
[   26.904031] sensor_write: reg=0xb3 val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   26.904344] sensor_write: reg=0xb3 val=0x00 SUCCESS
[   26.904353] sensor_write: reg=0xb4 val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   26.904665] sensor_write: reg=0xb4 val=0x00 SUCCESS
[   26.904673] sensor_write: reg=0xb8 val=0x01, client=85543d00, adapter=i2c0, addr=0x37
[   26.904986] sensor_write: reg=0xb8 val=0x01 SUCCESS
[   26.904995] sensor_write: reg=0xb9 val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   26.905307] sensor_write: reg=0xb9 val=0x00 SUCCESS
[   26.905316] sensor_write: reg=0x26 val=0x30, client=85543d00, adapter=i2c0, addr=0x37
[   26.905633] sensor_write: reg=0x26 val=0x30 SUCCESS
[   26.905641] sensor_write: reg=0xfe val=0x01, client=85543d00, adapter=i2c0, addr=0x37
[   26.905955] sensor_write: reg=0xfe val=0x01 SUCCESS
[   26.905963] sensor_write: reg=0x40 val=0x23, client=85543d00, adapter=i2c0, addr=0x37
[   26.906497] sensor_write: reg=0x40 val=0x23 SUCCESS
[   26.906741] sensor_write: reg=0x55 val=0x07, client=85543d00, adapter=i2c0, addr=0x37
[   26.907454] sensor_write: reg=0x55 val=0x07 SUCCESS
[   26.907470] sensor_write: reg=0x60 val=0x40, client=85543d00, adapter=i2c0, addr=0x37
[   26.907782] sensor_write: reg=0x60 val=0x40 SUCCESS
[   26.907791] sensor_write: reg=0xfe val=0x04, client=85543d00, adapter=i2c0, addr=0x37
[   26.918955] sensor_write: reg=0xfe val=0x04 SUCCESS
[   26.918972] sensor_write: reg=0x14 val=0x78, client=85543d00, adapter=i2c0, addr=0x37
[   26.919290] sensor_write: reg=0x14 val=0x78 SUCCESS
[   26.919299] sensor_write: reg=0x15 val=0x78, client=85543d00, adapter=i2c0, addr=0x37
[   26.919610] sensor_write: reg=0x15 val=0x78 SUCCESS
[   26.919619] sensor_write: reg=0x16 val=0x78, client=85543d00, adapter=i2c0, addr=0x37
root@ing-wyze-cam3-a000 ~# dmesg 
[   27.032267] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   27.032303] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   27.032398] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   27.032437] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   27.032510] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   27.032547] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   27.032620] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   27.032658] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   27.032731] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   27.032771] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   27.032844] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   27.032883] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   27.032956] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   27.032994] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   27.033067] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   27.033103] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   27.033175] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   27.033213] *** This should eliminate green frames by enabling proper color processing ***
[   27.033286] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   27.033324] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   27.033397] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   27.033434] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   27.033507] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   27.033545] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   27.033617] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   27.033655] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   27.033728] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   27.033764] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   27.033836] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   27.033872] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   27.033943] *** tisp_init: Standard tuning parameters loaded successfully ***
[   27.033981] *** tisp_init: Custom tuning parameters loaded successfully ***
[   27.034054] tisp_set_csc_version: Setting CSC version 0
[   27.034091] *** SYSTEM_REG_WRITE: reg[0xc] = 0x80700008 (Binary Ninja EXACT) ***
[   27.034165] *** CRITICAL FIX: ISP bypass register set to EXACT reference value 0x80700008 - prevents hardware reset ***
[   27.034201] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   27.034274] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   27.034312] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   27.034383] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   27.034419] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   27.034503] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   27.034540] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   27.034612] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   27.034649] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   27.034721] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   27.034759] *** tisp_init: ISP processing pipeline fully enabled ***
[   27.034832] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   27.034870] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   27.034941] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   27.034979] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   27.035052] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   27.035088] tisp_init: ISP memory buffers configured
[   27.035170] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   27.035208] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   27.035314] tiziano_ae_params_refresh: Refreshing AE parameters
[   27.035532] tiziano_ae_params_refresh: AE parameters refreshed
[   27.035539] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   27.035545] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   27.035550] tiziano_ae_para_addr: Setting up AE parameter addresses
[   27.035555] tiziano_ae_para_addr: AE parameter addresses configured
[   27.035562] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   27.035569] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   27.035577] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   27.035583] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   27.035590] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   27.035597] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   27.035604] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   27.035611] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7ed814 (Binary Ninja EXACT) ***
[   27.035617] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   27.035625] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   27.035631] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   27.035638] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   27.035644] tiziano_ae_set_hardware_param: Parameters written to AE0
[   27.035650] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   27.035657] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   27.035663] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   27.035669] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   27.035676] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   27.035683] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   27.035689] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   27.035696] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   27.035702] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   27.035709] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   27.035715] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   27.035722] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   27.035727] tiziano_ae_set_hardware_param: Parameters written to AE1
[   27.035733] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   27.035741] *** system_irq_func_set: Registered handler c068698c at index 10 ***
[   27.044564] *** system_irq_func_set: Registered handler c0686a80 at index 27 ***
[   27.052875] *** system_irq_func_set: Registered handler c068698c at index 26 ***
[   27.061510] *** system_irq_func_set: Registered handler c0686b68 at index 29 ***
[   27.069321] *** system_irq_func_set: Registered handler c0686af4 at index 28 ***
[   27.078037] *** system_irq_func_set: Registered handler c0686bdc at index 30 ***
[   27.088695] *** system_irq_func_set: Registered handler c0686c30 at index 20 ***
[   27.097300] *** system_irq_func_set: Registered handler c0686c84 at index 18 ***
[   27.105612] *** system_irq_func_set: Registered handler c0686cd8 at index 31 ***
[   27.113982] *** system_irq_func_set: Registered handler c0686d2c at index 11 ***
[   27.122568] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   27.122717] tiziano_deflicker_expt: Generated 119 LUT entries
[   27.122724] tisp_event_set_cb: Setting callback for event 1
[   27.122732] tisp_event_set_cb: Event 1 callback set to c068658c
[   27.123116] tisp_event_set_cb: Setting callback for event 6
[   27.123215] tisp_event_set_cb: Event 6 callback set to c0685aec
[   27.123222] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   27.123228] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   27.123374] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   27.123383] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   27.123389] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   27.123791] tiziano_awb_init: AWB hardware blocks enabled
[   27.123805] tiziano_gamma_init: Initializing Gamma processing
[   27.123932] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   27.124975] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   27.125108] tiziano_gib_init: Initializing GIB processing
[   27.125209] tiziano_lsc_init: Initializing LSC processing
[   27.125215] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   27.125223] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   27.125231] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   27.125628] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   27.125639] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   27.126443] tiziano_ccm_init: Initializing Color Correction Matrix
[   27.126843] tiziano_ccm_init: Using linear CCM parameters
[   27.126857] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   27.126994] jz_isp_ccm: EV=64, CT=9984
[   27.127001] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   27.127113] cm_control: saturation=128
[   27.127119] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   27.127126] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   27.127492] tiziano_ccm_init: CCM initialized successfully
[   27.127504] tiziano_dmsc_init: Initializing DMSC processing
[   27.127640] tiziano_sharpen_init: Initializing Sharpening
[   27.127647] tiziano_sharpen_init: Using linear sharpening parameters
[   27.127652] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   27.127659] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   27.127666] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   27.128303] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   27.128691] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   27.128703] tiziano_sharpen_init: Sharpening initialized successfully
[   27.128830] tiziano_sdns_init: Initializing SDNS processing
[   27.128840] tiziano_sdns_init: Using linear SDNS parameters
[   27.128845] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   27.128853] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   27.128985] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   27.129481] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   27.129495] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   27.129863] tiziano_sdns_init: SDNS processing initialized successfully
[   27.129877] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   27.130009] tiziano_mdns_init: Using linear MDNS parameters
[   27.130125] tiziano_mdns_init: MDNS processing initialized successfully
[   27.130131] tiziano_clm_init: Initializing CLM processing
[   27.130136] tiziano_dpc_init: Initializing DPC processing
[   27.130141] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   27.130888] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   27.130904] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   27.130910] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   27.130925] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   27.130933] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   27.130939] tiziano_hldc_init: Initializing HLDC processing
[   27.130945] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   27.130952] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   27.130959] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   27.130966] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   27.130973] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   27.130980] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   27.130987] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   27.130993] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   27.131001] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   27.131007] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   27.131014] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   27.131021] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   27.131028] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   27.131033] tiziano_adr_params_refresh: Refreshing ADR parameters
[   27.131039] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   27.131045] tiziano_adr_params_init: Initializing ADR parameter arrays
[   27.131051] tisp_adr_set_params: Writing ADR parameters to registers
[   27.131084] tisp_adr_set_params: ADR parameters written to hardware
[   27.131090] tisp_event_set_cb: Setting callback for event 18
[   27.131098] tisp_event_set_cb: Event 18 callback set to c0686c84
[   27.131103] tisp_event_set_cb: Setting callback for event 2
[   27.131110] tisp_event_set_cb: Event 2 callback set to c0685788
[   27.131115] tiziano_adr_init: ADR processing initialized successfully
[   27.131121] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   27.131127] tiziano_bcsh_init: Initializing BCSH processing
[   27.131132] tiziano_ydns_init: Initializing YDNS processing
[   27.131137] tiziano_rdns_init: Initializing RDNS processing
[   27.131142] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   27.131156] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x498000 (Binary Ninja EXACT) ***
[   27.131163] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x499000 (Binary Ninja EXACT) ***
[   27.131170] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x49a000 (Binary Ninja EXACT) ***
[   27.131177] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x49b000 (Binary Ninja EXACT) ***
[   27.131184] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x49c000 (Binary Ninja EXACT) ***
[   27.131191] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x49c800 (Binary Ninja EXACT) ***
[   27.131198] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x49d000 (Binary Ninja EXACT) ***
[   27.131205] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x49d800 (Binary Ninja EXACT) ***
[   27.131211] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   27.131217] *** tisp_init: AE0 buffer allocated at 0x00498000 ***
[   27.131223] *** CRITICAL FIX: data_b2f3c initialized to 0x80498000 (prevents stack corruption) ***
[   27.131233] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x520000 (Binary Ninja EXACT) ***
[   27.131239] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x521000 (Binary Ninja EXACT) ***
[   27.131247] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x522000 (Binary Ninja EXACT) ***
[   27.131253] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x523000 (Binary Ninja EXACT) ***
[   27.131260] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x524000 (Binary Ninja EXACT) ***
[   27.131267] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x524800 (Binary Ninja EXACT) ***
[   27.131274] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x525000 (Binary Ninja EXACT) ***
[   27.131281] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x525800 (Binary Ninja EXACT) ***
[   27.131287] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   27.131294] *** tisp_init: AE1 buffer allocated at 0x00520000 ***
[   27.131299] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   27.131305] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   27.131312] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   27.131317] *** tisp_init: Second ISP control mode set to 8 (streaming not active) ***
[   27.131324] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   27.131329] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   27.131337] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   27.131347] tiziano_ae_params_refresh: Refreshing AE parameters
[   27.131359] tiziano_ae_params_refresh: AE parameters refreshed
[   27.131365] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   27.131371] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   27.131376] tiziano_ae_para_addr: Setting up AE parameter addresses
[   27.131381] tiziano_ae_para_addr: AE parameter addresses configured
[   27.131388] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   27.131395] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   27.131402] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   27.131409] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   27.131415] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   27.131422] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   27.131429] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   27.131436] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7ed814 (Binary Ninja EXACT) ***
[   27.131443] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   27.131449] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   27.131456] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   27.131463] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   27.131469] tiziano_ae_set_hardware_param: Parameters written to AE0
[   27.131475] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   27.131481] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   27.131488] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   27.131495] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   27.131501] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   27.131507] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   27.131514] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   27.131521] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   27.131527] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   27.131533] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   27.131540] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   27.131547] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   27.131553] tiziano_ae_set_hardware_param: Parameters written to AE1
[   27.131558] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   27.131566] *** system_irq_func_set: Registered handler c068698c at index 10 ***
[   27.139578] *** system_irq_func_set: Registered handler c0686a80 at index 27 ***
[   27.148057] *** system_irq_func_set: Registered handler c068698c at index 26 ***
[   27.156415] *** system_irq_func_set: Registered handler c0686b68 at index 29 ***
[   27.168504] *** system_irq_func_set: Registered handler c0686af4 at index 28 ***
[   27.185703] *** system_irq_func_set: Registered handler c0686bdc at index 30 ***
[   27.197423] *** system_irq_func_set: Registered handler c0686c30 at index 20 ***
[   27.215156] *** system_irq_func_set: Registered handler c0686c84 at index 18 ***
[   27.226381] *** system_irq_func_set: Registered handler c0686cd8 at index 31 ***
[   27.239934] *** system_irq_func_set: Registered handler c0686d2c at index 11 ***
[   27.251461] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   27.251616] tiziano_deflicker_expt: Generated 119 LUT entries
[   27.251623] tisp_event_set_cb: Setting callback for event 1
[   27.251631] tisp_event_set_cb: Event 1 callback set to c068658c
[   27.251992] tisp_event_set_cb: Setting callback for event 6
[   27.252110] tisp_event_set_cb: Event 6 callback set to c0685aec
[   27.252117] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   27.252948] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   27.257859] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   27.257872] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   27.257879] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   27.257885] tiziano_awb_init: AWB hardware blocks enabled
[   27.257890] tiziano_gamma_init: Initializing Gamma processing
[   27.257895] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   27.257955] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   27.257960] tiziano_gib_init: Initializing GIB processing
[   27.257965] tiziano_lsc_init: Initializing LSC processing
[   27.257971] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   27.257977] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   27.257984] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   27.257991] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   27.257997] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   27.258054] tiziano_ccm_init: Initializing Color Correction Matrix
[   27.258059] tiziano_ccm_init: Using linear CCM parameters
[   27.258065] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   27.258071] jz_isp_ccm: EV=64, CT=9984
[   27.258078] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   27.258083] cm_control: saturation=128
[   27.258089] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   27.258095] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   27.258100] tiziano_ccm_init: CCM initialized successfully
[   27.258105] tiziano_dmsc_init: Initializing DMSC processing
[   27.258111] tiziano_sharpen_init: Initializing Sharpening
[   27.258116] tiziano_sharpen_init: Using linear sharpening parameters
[   27.258121] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   27.258128] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   27.258134] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   27.258160] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   27.258167] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   27.258172] tiziano_sharpen_init: Sharpening initialized successfully
[   27.258177] tiziano_sdns_init: Initializing SDNS processing
[   27.258185] tiziano_sdns_init: Using linear SDNS parameters
[   27.258191] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   27.258198] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   27.258203] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   27.258236] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   27.258243] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   27.258248] tiziano_sdns_init: SDNS processing initialized successfully
[   27.258254] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   27.258259] tiziano_mdns_init: Using linear MDNS parameters
[   27.258270] tiziano_mdns_init: MDNS processing initialized successfully
[   27.258275] tiziano_clm_init: Initializing CLM processing
[   27.258280] tiziano_dpc_init: Initializing DPC processing
[   27.258285] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   27.258291] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   27.258298] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   27.258303] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   27.258319] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   27.258325] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   27.258331] tiziano_hldc_init: Initializing HLDC processing
[   27.258337] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   27.258343] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   27.258350] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   27.258357] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   27.258363] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   27.258371] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   27.258377] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   27.258384] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   27.258391] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   27.258397] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   27.258404] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   27.258411] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   27.258418] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   27.258423] tiziano_adr_params_refresh: Refreshing ADR parameters
[   27.258429] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   27.258434] tiziano_adr_params_init: Initializing ADR parameter arrays
[   27.258441] tisp_adr_set_params: Writing ADR parameters to registers
[   27.258473] tisp_adr_set_params: ADR parameters written to hardware
[   27.258479] tisp_event_set_cb: Setting callback for event 18
[   27.258487] tisp_event_set_cb: Event 18 callback set to c0686c84
[   27.258492] tisp_event_set_cb: Setting callback for event 2
[   27.258499] tisp_event_set_cb: Event 2 callback set to c0685788
[   27.258504] tiziano_adr_init: ADR processing initialized successfully
[   27.258510] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   27.258515] tiziano_bcsh_init: Initializing BCSH processing
[   27.258520] tiziano_ydns_init: Initializing YDNS processing
[   27.258525] tiziano_rdns_init: Initializing RDNS processing
[   27.258531] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   27.258535] tisp_event_init: Initializing ISP event system
[   27.258543] tisp_event_init: SAFE event system initialized with 20 nodes
[   27.258548] tisp_event_set_cb: Setting callback for event 4
[   27.258555] tisp_event_set_cb: Event 4 callback set to c06857b4
[   27.258560] tisp_event_set_cb: Setting callback for event 5
[   27.258566] tisp_event_set_cb: Event 5 callback set to c0685c7c
[   27.258572] tisp_event_set_cb: Setting callback for event 7
[   27.258578] tisp_event_set_cb: Event 7 callback set to c0685848
[   27.258583] tisp_event_set_cb: Setting callback for event 9
[   27.258590] tisp_event_set_cb: Event 9 callback set to c06858d0
[   27.258595] tisp_event_set_cb: Setting callback for event 8
[   27.258602] tisp_event_set_cb: Event 8 callback set to c0685994
[   27.258607] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   27.258613] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   27.258619] tisp_param_operate_init: Initializing parameter operations
[   27.258627] tisp_netlink_init: Initializing netlink communication
[   27.258632] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   27.258662] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   27.258672] tisp_netlink_init: Netlink socket created successfully
[   27.258679] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   27.258684] tisp_code_create_tuning_node: Device already created, skipping
[   27.258690] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   27.258696] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   27.258702] *** ispcore_core_ops_init: Second tisp_init completed ***
[   27.258707] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[   27.258716] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[   27.258724] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   27.258729] *** ISP CORE: Hardware interrupt generation ENABLED ***
[   27.258735] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   27.258741] *** ispcore_core_ops_init: ISP Core hardware interrupts ENABLED - Frame sync should now work! ***
[   27.258745] ispcore_core_ops_init: Complete, result=0<6>[   27.258753] Calling subdev 1 initialization (REVERSE ORDER - sensors first)
[   27.258760] *** vic_core_ops_init: ENTRY - sd=80558000, enable=1 ***
[   27.258766] *** vic_core_ops_init: vic_dev=80558000, current state check ***
[   27.258772] *** vic_core_ops_init: current_state=3, enable=1 ***
[   27.258779] Calling subdev 0 initialization (REVERSE ORDER - sensors first)
[   27.258786] csi_core_ops_init: sd=8521bc00, csi_dev=8521bc00, enable=1
[   27.258792] *** VIC device final state set to 2 (fully activated) ***
[   27.258797] *** ispcore_activate_module: SUCCESS - ALL REGISTER WRITES SHOULD NOW BE TRIGGERED ***
[   27.258803] *** tx_isp_video_s_stream: ispcore_activate_module completed ***
[   27.258809] *** tx_isp_video_s_stream: VIC state is 2, calling VIC core->init ***
[   27.258815] *** vic_core_ops_init: ENTRY - sd=80558000, enable=1 ***
[   27.258821] *** vic_core_ops_init: vic_dev=80558000, current state check ***
[   27.258827] *** vic_core_ops_init: current_state=2, enable=1 ***
[   27.258833] *** vic_core_ops_init: Calling VIC hardware init for interrupt setup ***
[   27.258839] *** VIC HW INIT: Using PRIMARY VIC space for interrupt configuration ***
[   27.258844] *** VIC HW INIT: Configuring ACTUAL VIC interrupt registers (0x1e0-0x1f4 range) ***
[   27.258850] *** VIC HW INIT: Basic interrupt clearing complete - full interrupt config happens later ***
[   27.258856] *** VIC HW INIT: Interrupt handler registration SKIPPED - main module handles IRQ 38 routing ***
[   27.258863] *** VIC HW INIT VERIFY: 0x00=0x00000000 (should be 0), 0x20=0x00000000 (should be 0) ***
[   27.258869] *** VIC HW INIT: SUCCESS - Basic VIC hardware initialization complete ***
[   27.258875] *** VIC HW INIT: Hardware interrupt configuration complete - ready for main module IRQ routing ***
[   27.258881] *** vic_core_ops_init: VIC hardware init SUCCESS - interrupts should now work ***
[   27.258887] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   27.258893] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   27.258898] tx_vic_enable_irq: Calling VIC interrupt callback
[   27.258904] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   27.258911] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   27.258917] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   27.258926] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   27.258933] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   27.258940] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   27.258947] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   27.258953] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   27.258959] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   27.258964] *** tx_vic_enable_irq: completed successfully ***
[   27.258970] *** tx_isp_video_s_stream: VIC core->init completed, VIC should now be state 3 ***
[   27.258976] *** tx_isp_video_s_stream: Core initialization complete, proceeding with subdev streaming ***
[   27.258981] *** tx_isp_video_s_stream: CRITICAL FIX - Initializing all subdevs before streaming ***
[   27.258990] *** tx_isp_video_s_stream: Initializing Core subdev ***
[   27.258997] *** ispcore_core_ops_init: ENTRY - sd=80558400, on=1 ***
[   27.259004] *** ispcore_core_ops_init: sd->dev_priv=80558400, sd->host_priv=80558400 ***
[   27.259011] *** ispcore_core_ops_init: sd->pdev=c06b67c0, sd->ops=c06b6ec8 ***
[   27.259017] *** ispcore_core_ops_init: EXACT Binary Ninja MCP implementation, on=1 ***
[   27.259021] *** ispcore_core_ops_init: ISP device=85fa4000 ****** ispcore_core_ops_init: Frame sync work structure initialized ***
[   27.259030] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.259038] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f91400 (name=gc2053) ***
[   27.259045] *** tx_isp_get_sensor: Found real sensor: 85f91400 ***
[   27.259051] ispcore_core_ops_init: Using sensor attributes from sensor: gc2053
[   27.259056] *** ispcore_core_ops_init: s0 (core_dev) = 80558400 from sd->host_priv ***
[   27.259063] ispcore_core_ops_init: core_dev=80558400, vic_dev=80558000, vic_state=3
[   27.259068] *** ispcore_core_ops_init: INITIALIZING CORE (on=1) ****** ispcore_core_ops_init: Current vic_state (VIC state): 3 ***
[   27.259077] *** ispcore_core_ops_init: VIC in ready state (3) - normal initialization ****** ispcore_core_ops_init: VIC state check passed, proceeding with initialization ***
[   27.259085] *** VIC STATE 4: Initializing clocks for streaming ***
[   27.259091] *** Initializing CSI clocks (1 clocks) ***
[   27.259097] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 1 clocks
[   27.259104] isp_subdev_init_clks: Using platform data clock arrays: c06b6be0
[   27.259109] isp_subdev_init_clks: Using platform data clock configs
[   27.259116] Platform data clock[0]: name=csi, rate=65535
[   27.259125] Clock csi enabled successfully
[   27.280293] CPM clock gates configured
[   27.280307] isp_subdev_init_clks: Successfully initialized 1 clocks
[   27.280313] *** Initializing VIC clocks (2 clocks) ***
[   27.280319] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 2 clocks
[   27.280327] isp_subdev_init_clks: Using platform data clock arrays: c06b6cf0
[   27.280335] isp_subdev_init_clks: Using platform data clock configs
[   27.280343] Platform data clock[0]: name=cgu_isp, rate=100000000
[   27.280353] Clock cgu_isp: set rate 100000000 Hz, result=0
[   27.280359] Clock cgu_isp enabled successfully
[   27.280365] Platform data clock[1]: name=isp, rate=65535
[   27.280373] Clock isp enabled successfully
[   27.310288] CPM clock gates configured
[   27.310302] isp_subdev_init_clks: Successfully initialized 2 clocks
[   27.310308] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.310318] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f91400 (name=gc2053) ***
[   27.310325] *** tx_isp_get_sensor: Found real sensor: 85f91400 ***
[   27.310331] *** ispcore_core_ops_init: BINARY NINJA MCP - Second tisp_init call (00079058) ***
[   27.310337] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   27.310342] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   27.310350] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 2200x1418 ***
[   27.310356] tisp_init: Initializing ISP hardware for sensor (2200x1418)
[   27.310362] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   27.310367] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   27.310372] tisp_event_init: Initializing ISP event system
[   27.310379] tisp_event_init: SAFE event system initialized with 20 nodes
[   27.310385] tisp_event_set_cb: Setting callback for event 4
[   27.310392] tisp_event_set_cb: Event 4 callback set to c06857b4
[   27.310398] tisp_event_set_cb: Setting callback for event 5
[   27.310404] tisp_event_set_cb: Event 5 callback set to c0685c7c
[   27.310409] tisp_event_set_cb: Setting callback for event 7
[   27.310416] tisp_event_set_cb: Event 7 callback set to c0685848
[   27.310421] tisp_event_set_cb: Setting callback for event 9
[   27.310428] tisp_event_set_cb: Event 9 callback set to c06858d0
[   27.310433] tisp_event_set_cb: Setting callback for event 8
[   27.310439] tisp_event_set_cb: Event 8 callback set to c0685994
[   27.310446] *** system_irq_func_set: Registered handler c067dfd4 at index 13 ***
[   27.318086] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   27.318095] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   27.318102] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   27.318109] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   27.318116] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   27.318122] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   27.318130] *** SYSTEM_REG_WRITE: reg[0xb018] = 0x40404040 (Binary Ninja EXACT) ***
[   27.318136] *** SYSTEM_REG_WRITE: reg[0xb01c] = 0x40404040 (Binary Ninja EXACT) ***
[   27.318143] *** SYSTEM_REG_WRITE: reg[0xb020] = 0x40404040 (Binary Ninja EXACT) ***
[   27.318150] *** SYSTEM_REG_WRITE: reg[0xb024] = 0x404040 (Binary Ninja EXACT) ***
[   27.318157] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   27.318164] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   27.318170] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   27.318177] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   27.318184] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   27.318191] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   27.318197] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   27.318203] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   27.318210] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   27.318216] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   27.318223] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   27.318230] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   27.318235] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   27.318240] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   27.318247] *** SYSTEM_REG_WRITE: reg[0x9804] = 0x3f00 (Binary Ninja EXACT) ***
[   27.318254] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   27.318260] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   27.318267] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   27.318274] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   27.318280] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   27.318287] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   27.318294] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   27.318300] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   27.318306] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   27.318314] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   27.318320] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   27.318327] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   27.318333] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   27.318340] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   27.318346] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   27.318353] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   27.318360] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   27.318366] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   27.318372] *** TUNING SYSTEM: VIC control registers 0x9ac0/0x9ac8 REMOVED - not in Binary Ninja reference ***
[   27.323867] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 2200x1418)
[   27.323882] *** SYSTEM_REG_WRITE: reg[0x4] = 0x898058a (Binary Ninja EXACT) ***
[   27.324498] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   27.324509] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   27.324516] *** tisp_init: ISP control register set to enable processing pipeline ***
[   27.325668] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   27.325680] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   27.325688] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   27.328301] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   27.328318] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   27.328325] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   27.328336] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=85fa4000 ***
[   27.335784] *** isp_irq_handle: IRQ 37 received, dev_id=85fa4000 ***
[   27.335790] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   27.343512] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=85fa4000 ***
[   27.350960] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   27.358684] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
[   27.366216] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   27.372408] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   27.380487] *** ISP CORE: ABOUT TO CALL callback[10] for bit 10 - callback=c068698c ***
[   27.388750] *** ISP CORE: CALLING CALLBACK NOW - IF SYSTEM HANGS, THIS CALLBACK IS THE PROBLEM ***
[   27.397996] ae0_interrupt_static: Processing AE0 static interrupt
[   27.398003] *** AE0: Processing interrupt using register-based statistics (Binary Ninja MCP) ***
[   27.398008] ae0_interrupt_static: AE0 static interrupt processed
[   27.398015] *** ISP CORE: CALLBACK RETURNED SUCCESSFULLY - callback[10] returned 1 ***
[   27.406176] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
[   27.474485] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   27.474501] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   27.474508] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   27.474514] *** tisp_init: ISP control mode set to 8 (streaming not active) ***
[   27.474520] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   27.474528] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=8, 0x800=1 ***
[   27.474534] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   27.474541] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   27.474548] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   27.474554] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   27.474560] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   27.474567] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   27.474573] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   27.474580] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   27.474586] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   27.474592] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   27.474600] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   27.474606] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   27.474615] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   27.474622] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   27.474629] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   27.474635] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   27.474642] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   27.474648] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   27.474654] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   27.474718] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   27.474725] *** This should eliminate green frames by enabling proper color processing ***
[   27.474732] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   27.474738] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   27.474745] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   27.474751] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   27.474758] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   27.474764] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   27.474771] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   27.474778] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   27.474784] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   27.474790] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   27.474795] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   27.474800] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   27.474806] *** tisp_init: Standard tuning parameters loaded successfully ***
[   27.474811] *** tisp_init: Custom tuning parameters loaded successfully ***
[   27.474817] tisp_set_csc_version: Setting CSC version 0
[   27.474824] *** SYSTEM_REG_WRITE: reg[0xc] = 0x80700008 (Binary Ninja EXACT) ***
[   27.474830] *** CRITICAL FIX: ISP bypass register set to EXACT reference value 0x80700008 - prevents hardware reset ***
[   27.474836] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   27.474842] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   27.474850] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   27.474855] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   27.474860] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   27.474866] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   27.474873] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   27.474878] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   27.474885] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   27.474892] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   27.474897] *** tisp_init: ISP processing pipeline fully enabled ***
[   27.474903] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   27.474910] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   27.474915] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   27.474922] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   27.474929] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   27.474934] tisp_init: ISP memory buffers configured
[   27.474939] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   27.474946] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   27.474955] tiziano_ae_params_refresh: Refreshing AE parameters
[   27.474966] tiziano_ae_params_refresh: AE parameters refreshed
[   27.474972] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   27.474978] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   27.474983] tiziano_ae_para_addr: Setting up AE parameter addresses
[   27.474988] tiziano_ae_para_addr: AE parameter addresses configured
[   27.474994] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   27.475002] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   27.475008] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   27.475015] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   27.475022] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   27.475028] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   27.475036] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   27.475042] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7ed814 (Binary Ninja EXACT) ***
[   27.475049] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   27.475056] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   27.475062] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   27.475069] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   27.475075] tiziano_ae_set_hardware_param: Parameters written to AE0
[   27.475081] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   27.475088] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   27.475094] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   27.475100] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   27.475107] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   27.475114] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   27.475120] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   27.475127] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   27.475134] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   27.475140] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   27.475146] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   27.475153] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   27.475159] tiziano_ae_set_hardware_param: Parameters written to AE1
[   27.475164] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   27.475173] *** system_irq_func_set: Registered handler c068698c at index 10 ***
[   27.490314] *** system_irq_func_set: Registered handler c0686a80 at index 27 ***
[   27.502750] *** system_irq_func_set: Registered handler c068698c at index 26 ***
[   27.520307] *** system_irq_func_set: Registered handler c0686b68 at index 29 ***
[   27.537354] *** system_irq_func_set: Registered handler c0686af4 at index 28 ***
[   27.550314] *** system_irq_func_set: Registered handler c0686bdc at index 30 ***
[   27.568110] *** system_irq_func_set: Registered handler c0686c30 at index 20 ***
[   27.580560] *** system_irq_func_set: Registered handler c0686c84 at index 18 ***
[   27.595552] *** system_irq_func_set: Registered handler c0686cd8 at index 31 ***
[   27.613391] *** system_irq_func_set: Registered handler c0686d2c at index 11 ***
[   27.630337] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   27.630359] tiziano_deflicker_expt: Generated 119 LUT entries
[   27.630366] tisp_event_set_cb: Setting callback for event 1
[   27.630373] tisp_event_set_cb: Event 1 callback set to c068658c
[   27.630379] tisp_event_set_cb: Setting callback for event 6
[   27.630385] tisp_event_set_cb: Event 6 callback set to c0685aec
[   27.630391] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   27.630397] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   27.630404] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   27.630412] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   27.630418] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   27.630423] tiziano_awb_init: AWB hardware blocks enabled
[   27.630428] tiziano_gamma_init: Initializing Gamma processing
[   27.630434] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   27.630494] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   27.630499] tiziano_gib_init: Initializing GIB processing
[   27.630504] tiziano_lsc_init: Initializing LSC processing
[   27.630509] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   27.630516] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   27.630522] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   27.630529] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   27.630535] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   27.630592] tiziano_ccm_init: Initializing Color Correction Matrix
[   27.630598] tiziano_ccm_init: Using linear CCM parameters
[   27.630603] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   27.630609] jz_isp_ccm: EV=64, CT=9984
[   27.630616] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   27.630621] cm_control: saturation=128
[   27.630626] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   27.630633] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   27.630638] tiziano_ccm_init: CCM initialized successfully
[   27.630643] tiziano_dmsc_init: Initializing DMSC processing
[   27.630648] tiziano_sharpen_init: Initializing Sharpening
[   27.630654] tiziano_sharpen_init: Using linear sharpening parameters
[   27.630659] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   27.630666] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   27.630672] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   27.630698] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   27.630704] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   27.630710] tiziano_sharpen_init: Sharpening initialized successfully
[   27.630715] tiziano_sdns_init: Initializing SDNS processing
[   27.630723] tiziano_sdns_init: Using linear SDNS parameters
[   27.630728] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   27.630736] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   27.630741] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   27.630774] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   27.630780] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   27.630786] tiziano_sdns_init: SDNS processing initialized successfully
[   27.630792] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   27.630797] tiziano_mdns_init: Using linear MDNS parameters
[   27.630808] tiziano_mdns_init: MDNS processing initialized successfully
[   27.630812] tiziano_clm_init: Initializing CLM processing
[   27.630818] tiziano_dpc_init: Initializing DPC processing
[   27.630823] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   27.630829] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   27.630836] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   27.630841] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   27.630856] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   27.630862] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   27.630868] tiziano_hldc_init: Initializing HLDC processing
[   27.630874] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   27.630881] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   27.630887] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   27.630894] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   27.630901] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   27.630908] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   27.630914] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   27.630922] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   27.630928] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   27.630935] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   27.630942] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   27.630948] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   27.630956] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   27.630961] tiziano_adr_params_refresh: Refreshing ADR parameters
[   27.630966] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   27.630972] tiziano_adr_params_init: Initializing ADR parameter arrays
[   27.630979] tisp_adr_set_params: Writing ADR parameters to registers
[   27.631011] tisp_adr_set_params: ADR parameters written to hardware
[   27.631017] tisp_event_set_cb: Setting callback for event 18
[   27.631023] tisp_event_set_cb: Event 18 callback set to c0686c84
[   27.631029] tisp_event_set_cb: Setting callback for event 2
[   27.631035] tisp_event_set_cb: Event 2 callback set to c0685788
[   27.631040] tiziano_adr_init: ADR processing initialized successfully
[   27.631046] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   27.631052] tiziano_bcsh_init: Initializing BCSH processing
[   27.631057] tiziano_ydns_init: Initializing YDNS processing
[   27.631062] tiziano_rdns_init: Initializing RDNS processing
[   27.631067] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   27.631080] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x528000 (Binary Ninja EXACT) ***
[   27.631087] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x529000 (Binary Ninja EXACT) ***
[   27.631094] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x52a000 (Binary Ninja EXACT) ***
[   27.631101] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x52b000 (Binary Ninja EXACT) ***
[   27.631108] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x52c000 (Binary Ninja EXACT) ***
[   27.631114] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x52c800 (Binary Ninja EXACT) ***
[   27.631121] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x52d000 (Binary Ninja EXACT) ***
[   27.631128] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x52d800 (Binary Ninja EXACT) ***
[   27.631134] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   27.631140] *** tisp_init: AE0 buffer allocated at 0x00528000 ***
[   27.631147] *** CRITICAL FIX: data_b2f3c initialized to 0x80528000 (prevents stack corruption) ***
[   27.631155] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x530000 (Binary Ninja EXACT) ***
[   27.631162] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x531000 (Binary Ninja EXACT) ***
[   27.631169] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x532000 (Binary Ninja EXACT) ***
[   27.631176] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x533000 (Binary Ninja EXACT) ***
[   27.631182] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x534000 (Binary Ninja EXACT) ***
[   27.631189] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x534800 (Binary Ninja EXACT) ***
[   27.631196] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x535000 (Binary Ninja EXACT) ***
[   27.631203] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x535800 (Binary Ninja EXACT) ***
[   27.631210] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   27.631216] *** tisp_init: AE1 buffer allocated at 0x00530000 ***
[   27.631221] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   27.631227] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   27.631234] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   27.631239] *** tisp_init: Second ISP control mode set to 8 (streaming not active) ***
[   27.631246] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   27.631251] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   27.631258] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   27.631266] tiziano_ae_params_refresh: Refreshing AE parameters
[   27.631276] tiziano_ae_params_refresh: AE parameters refreshed
[   27.631282] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   27.631288] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   27.631293] tiziano_ae_para_addr: Setting up AE parameter addresses
[   27.631298] tiziano_ae_para_addr: AE parameter addresses configured
[   27.631304] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   27.631311] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   27.631318] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   27.631325] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   27.631332] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   27.631338] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   27.631346] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   27.631352] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7ed814 (Binary Ninja EXACT) ***
[   27.631359] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   27.631366] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   27.631372] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   27.631379] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   27.631385] tiziano_ae_set_hardware_param: Parameters written to AE0
[   27.631391] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   27.631398] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   27.631404] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   27.631410] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   27.631417] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   27.631424] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   27.631430] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   27.631436] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   27.631443] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   27.631450] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   27.631456] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   27.631462] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   27.631468] tiziano_ae_set_hardware_param: Parameters written to AE1
[   27.631474] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   27.631481] *** system_irq_func_set: Registered handler c068698c at index 10 ***
[   27.649294] *** system_irq_func_set: Registered handler c0686a80 at index 27 ***
[   27.669481] *** system_irq_func_set: Registered handler c068698c at index 26 ***
[   27.677139] *** system_irq_func_set: Registered handler c0686b68 at index 29 ***
[   27.694912] *** system_irq_func_set: Registered handler c0686af4 at index 28 ***
[   27.706753] *** system_irq_func_set: Registered handler c0686bdc at index 30 ***
root@ing-wyze-cam3-a000 ~# dmesg 
[   27.258844] *** VIC HW INIT: Configuring ACTUAL VIC interrupt registers (0x1e0-0x1f4 range) ***
[   27.258850] *** VIC HW INIT: Basic interrupt clearing complete - full interrupt config happens later ***
[   27.258856] *** VIC HW INIT: Interrupt handler registration SKIPPED - main module handles IRQ 38 routing ***
[   27.258863] *** VIC HW INIT VERIFY: 0x00=0x00000000 (should be 0), 0x20=0x00000000 (should be 0) ***
[   27.258869] *** VIC HW INIT: SUCCESS - Basic VIC hardware initialization complete ***
[   27.258875] *** VIC HW INIT: Hardware interrupt configuration complete - ready for main module IRQ routing ***
[   27.258881] *** vic_core_ops_init: VIC hardware init SUCCESS - interrupts should now work ***
[   27.258887] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   27.258893] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   27.258898] tx_vic_enable_irq: Calling VIC interrupt callback
[   27.258904] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   27.258911] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   27.258917] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   27.258926] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   27.258933] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   27.258940] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   27.258947] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   27.258953] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   27.258959] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   27.258964] *** tx_vic_enable_irq: completed successfully ***
[   27.258970] *** tx_isp_video_s_stream: VIC core->init completed, VIC should now be state 3 ***
[   27.258976] *** tx_isp_video_s_stream: Core initialization complete, proceeding with subdev streaming ***
[   27.258981] *** tx_isp_video_s_stream: CRITICAL FIX - Initializing all subdevs before streaming ***
[   27.258990] *** tx_isp_video_s_stream: Initializing Core subdev ***
[   27.258997] *** ispcore_core_ops_init: ENTRY - sd=80558400, on=1 ***
[   27.259004] *** ispcore_core_ops_init: sd->dev_priv=80558400, sd->host_priv=80558400 ***
[   27.259011] *** ispcore_core_ops_init: sd->pdev=c06b67c0, sd->ops=c06b6ec8 ***
[   27.259017] *** ispcore_core_ops_init: EXACT Binary Ninja MCP implementation, on=1 ***
[   27.259021] *** ispcore_core_ops_init: ISP device=85fa4000 ****** ispcore_core_ops_init: Frame sync work structure initialized ***
[   27.259030] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.259038] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f91400 (name=gc2053) ***
[   27.259045] *** tx_isp_get_sensor: Found real sensor: 85f91400 ***
[   27.259051] ispcore_core_ops_init: Using sensor attributes from sensor: gc2053
[   27.259056] *** ispcore_core_ops_init: s0 (core_dev) = 80558400 from sd->host_priv ***
[   27.259063] ispcore_core_ops_init: core_dev=80558400, vic_dev=80558000, vic_state=3
[   27.259068] *** ispcore_core_ops_init: INITIALIZING CORE (on=1) ****** ispcore_core_ops_init: Current vic_state (VIC state): 3 ***
[   27.259077] *** ispcore_core_ops_init: VIC in ready state (3) - normal initialization ****** ispcore_core_ops_init: VIC state check passed, proceeding with initialization ***
[   27.259085] *** VIC STATE 4: Initializing clocks for streaming ***
[   27.259091] *** Initializing CSI clocks (1 clocks) ***
[   27.259097] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 1 clocks
[   27.259104] isp_subdev_init_clks: Using platform data clock arrays: c06b6be0
[   27.259109] isp_subdev_init_clks: Using platform data clock configs
[   27.259116] Platform data clock[0]: name=csi, rate=65535
[   27.259125] Clock csi enabled successfully
[   27.280293] CPM clock gates configured
[   27.280307] isp_subdev_init_clks: Successfully initialized 1 clocks
[   27.280313] *** Initializing VIC clocks (2 clocks) ***
[   27.280319] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 2 clocks
[   27.280327] isp_subdev_init_clks: Using platform data clock arrays: c06b6cf0
[   27.280335] isp_subdev_init_clks: Using platform data clock configs
[   27.280343] Platform data clock[0]: name=cgu_isp, rate=100000000
[   27.280353] Clock cgu_isp: set rate 100000000 Hz, result=0
[   27.280359] Clock cgu_isp enabled successfully
[   27.280365] Platform data clock[1]: name=isp, rate=65535
[   27.280373] Clock isp enabled successfully
[   27.310288] CPM clock gates configured
[   27.310302] isp_subdev_init_clks: Successfully initialized 2 clocks
[   27.310308] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.310318] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f91400 (name=gc2053) ***
[   27.310325] *** tx_isp_get_sensor: Found real sensor: 85f91400 ***
[   27.310331] *** ispcore_core_ops_init: BINARY NINJA MCP - Second tisp_init call (00079058) ***
[   27.310337] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   27.310342] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   27.310350] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 2200x1418 ***
[   27.310356] tisp_init: Initializing ISP hardware for sensor (2200x1418)
[   27.310362] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   27.310367] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   27.310372] tisp_event_init: Initializing ISP event system
[   27.310379] tisp_event_init: SAFE event system initialized with 20 nodes
[   27.310385] tisp_event_set_cb: Setting callback for event 4
[   27.310392] tisp_event_set_cb: Event 4 callback set to c06857b4
[   27.310398] tisp_event_set_cb: Setting callback for event 5
[   27.310404] tisp_event_set_cb: Event 5 callback set to c0685c7c
[   27.310409] tisp_event_set_cb: Setting callback for event 7
[   27.310416] tisp_event_set_cb: Event 7 callback set to c0685848
[   27.310421] tisp_event_set_cb: Setting callback for event 9
[   27.310428] tisp_event_set_cb: Event 9 callback set to c06858d0
[   27.310433] tisp_event_set_cb: Setting callback for event 8
[   27.310439] tisp_event_set_cb: Event 8 callback set to c0685994
[   27.310446] *** system_irq_func_set: Registered handler c067dfd4 at index 13 ***
[   27.318086] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   27.318095] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   27.318102] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   27.318109] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   27.318116] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   27.318122] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   27.318130] *** SYSTEM_REG_WRITE: reg[0xb018] = 0x40404040 (Binary Ninja EXACT) ***
[   27.318136] *** SYSTEM_REG_WRITE: reg[0xb01c] = 0x40404040 (Binary Ninja EXACT) ***
[   27.318143] *** SYSTEM_REG_WRITE: reg[0xb020] = 0x40404040 (Binary Ninja EXACT) ***
[   27.318150] *** SYSTEM_REG_WRITE: reg[0xb024] = 0x404040 (Binary Ninja EXACT) ***
[   27.318157] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   27.318164] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   27.318170] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   27.318177] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   27.318184] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   27.318191] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   27.318197] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   27.318203] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   27.318210] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   27.318216] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   27.318223] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   27.318230] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   27.318235] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   27.318240] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   27.318247] *** SYSTEM_REG_WRITE: reg[0x9804] = 0x3f00 (Binary Ninja EXACT) ***
[   27.318254] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   27.318260] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   27.318267] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   27.318274] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   27.318280] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   27.318287] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   27.318294] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   27.318300] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   27.318306] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   27.318314] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   27.318320] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   27.318327] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   27.318333] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   27.318340] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   27.318346] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   27.318353] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   27.318360] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   27.318366] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   27.318372] *** TUNING SYSTEM: VIC control registers 0x9ac0/0x9ac8 REMOVED - not in Binary Ninja reference ***
[   27.323867] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 2200x1418)
[   27.323882] *** SYSTEM_REG_WRITE: reg[0x4] = 0x898058a (Binary Ninja EXACT) ***
[   27.324498] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   27.324509] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   27.324516] *** tisp_init: ISP control register set to enable processing pipeline ***
[   27.325668] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   27.325680] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   27.325688] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   27.328301] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   27.328318] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   27.328325] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   27.328336] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=85fa4000 ***
[   27.335784] *** isp_irq_handle: IRQ 37 received, dev_id=85fa4000 ***
[   27.335790] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   27.343512] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=85fa4000 ***
[   27.350960] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   27.358684] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
[   27.366216] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   27.372408] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   27.380487] *** ISP CORE: ABOUT TO CALL callback[10] for bit 10 - callback=c068698c ***
[   27.388750] *** ISP CORE: CALLING CALLBACK NOW - IF SYSTEM HANGS, THIS CALLBACK IS THE PROBLEM ***
[   27.397996] ae0_interrupt_static: Processing AE0 static interrupt
[   27.398003] *** AE0: Processing interrupt using register-based statistics (Binary Ninja MCP) ***
[   27.398008] ae0_interrupt_static: AE0 static interrupt processed
[   27.398015] *** ISP CORE: CALLBACK RETURNED SUCCESSFULLY - callback[10] returned 1 ***
[   27.406176] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
[   27.474485] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   27.474501] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   27.474508] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   27.474514] *** tisp_init: ISP control mode set to 8 (streaming not active) ***
[   27.474520] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   27.474528] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=8, 0x800=1 ***
[   27.474534] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   27.474541] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   27.474548] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   27.474554] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   27.474560] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   27.474567] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   27.474573] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   27.474580] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   27.474586] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   27.474592] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   27.474600] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   27.474606] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   27.474615] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   27.474622] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   27.474629] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   27.474635] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   27.474642] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   27.474648] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   27.474654] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   27.474718] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   27.474725] *** This should eliminate green frames by enabling proper color processing ***
[   27.474732] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   27.474738] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   27.474745] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   27.474751] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   27.474758] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   27.474764] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   27.474771] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   27.474778] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   27.474784] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   27.474790] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   27.474795] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   27.474800] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   27.474806] *** tisp_init: Standard tuning parameters loaded successfully ***
[   27.474811] *** tisp_init: Custom tuning parameters loaded successfully ***
[   27.474817] tisp_set_csc_version: Setting CSC version 0
[   27.474824] *** SYSTEM_REG_WRITE: reg[0xc] = 0x80700008 (Binary Ninja EXACT) ***
[   27.474830] *** CRITICAL FIX: ISP bypass register set to EXACT reference value 0x80700008 - prevents hardware reset ***
[   27.474836] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   27.474842] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   27.474850] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   27.474855] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   27.474860] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   27.474866] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   27.474873] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   27.474878] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   27.474885] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   27.474892] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   27.474897] *** tisp_init: ISP processing pipeline fully enabled ***
[   27.474903] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   27.474910] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   27.474915] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   27.474922] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   27.474929] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   27.474934] tisp_init: ISP memory buffers configured
[   27.474939] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   27.474946] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   27.474955] tiziano_ae_params_refresh: Refreshing AE parameters
[   27.474966] tiziano_ae_params_refresh: AE parameters refreshed
[   27.474972] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   27.474978] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   27.474983] tiziano_ae_para_addr: Setting up AE parameter addresses
[   27.474988] tiziano_ae_para_addr: AE parameter addresses configured
[   27.474994] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   27.475002] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   27.475008] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   27.475015] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   27.475022] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   27.475028] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   27.475036] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   27.475042] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7ed814 (Binary Ninja EXACT) ***
[   27.475049] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   27.475056] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   27.475062] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   27.475069] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   27.475075] tiziano_ae_set_hardware_param: Parameters written to AE0
[   27.475081] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   27.475088] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   27.475094] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   27.475100] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   27.475107] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   27.475114] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   27.475120] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   27.475127] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   27.475134] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   27.475140] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   27.475146] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   27.475153] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   27.475159] tiziano_ae_set_hardware_param: Parameters written to AE1
[   27.475164] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   27.475173] *** system_irq_func_set: Registered handler c068698c at index 10 ***
[   27.490314] *** system_irq_func_set: Registered handler c0686a80 at index 27 ***
[   27.502750] *** system_irq_func_set: Registered handler c068698c at index 26 ***
[   27.520307] *** system_irq_func_set: Registered handler c0686b68 at index 29 ***
[   27.537354] *** system_irq_func_set: Registered handler c0686af4 at index 28 ***
[   27.550314] *** system_irq_func_set: Registered handler c0686bdc at index 30 ***
[   27.568110] *** system_irq_func_set: Registered handler c0686c30 at index 20 ***
[   27.580560] *** system_irq_func_set: Registered handler c0686c84 at index 18 ***
[   27.595552] *** system_irq_func_set: Registered handler c0686cd8 at index 31 ***
[   27.613391] *** system_irq_func_set: Registered handler c0686d2c at index 11 ***
[   27.630337] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   27.630359] tiziano_deflicker_expt: Generated 119 LUT entries
[   27.630366] tisp_event_set_cb: Setting callback for event 1
[   27.630373] tisp_event_set_cb: Event 1 callback set to c068658c
[   27.630379] tisp_event_set_cb: Setting callback for event 6
[   27.630385] tisp_event_set_cb: Event 6 callback set to c0685aec
[   27.630391] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   27.630397] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   27.630404] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   27.630412] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   27.630418] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   27.630423] tiziano_awb_init: AWB hardware blocks enabled
[   27.630428] tiziano_gamma_init: Initializing Gamma processing
[   27.630434] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   27.630494] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   27.630499] tiziano_gib_init: Initializing GIB processing
[   27.630504] tiziano_lsc_init: Initializing LSC processing
[   27.630509] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   27.630516] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   27.630522] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   27.630529] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   27.630535] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   27.630592] tiziano_ccm_init: Initializing Color Correction Matrix
[   27.630598] tiziano_ccm_init: Using linear CCM parameters
[   27.630603] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   27.630609] jz_isp_ccm: EV=64, CT=9984
[   27.630616] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   27.630621] cm_control: saturation=128
[   27.630626] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   27.630633] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   27.630638] tiziano_ccm_init: CCM initialized successfully
[   27.630643] tiziano_dmsc_init: Initializing DMSC processing
[   27.630648] tiziano_sharpen_init: Initializing Sharpening
[   27.630654] tiziano_sharpen_init: Using linear sharpening parameters
[   27.630659] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   27.630666] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   27.630672] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   27.630698] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   27.630704] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   27.630710] tiziano_sharpen_init: Sharpening initialized successfully
[   27.630715] tiziano_sdns_init: Initializing SDNS processing
[   27.630723] tiziano_sdns_init: Using linear SDNS parameters
[   27.630728] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   27.630736] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   27.630741] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   27.630774] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   27.630780] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   27.630786] tiziano_sdns_init: SDNS processing initialized successfully
[   27.630792] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   27.630797] tiziano_mdns_init: Using linear MDNS parameters
[   27.630808] tiziano_mdns_init: MDNS processing initialized successfully
[   27.630812] tiziano_clm_init: Initializing CLM processing
[   27.630818] tiziano_dpc_init: Initializing DPC processing
[   27.630823] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   27.630829] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   27.630836] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   27.630841] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   27.630856] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   27.630862] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   27.630868] tiziano_hldc_init: Initializing HLDC processing
[   27.630874] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   27.630881] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   27.630887] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   27.630894] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   27.630901] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   27.630908] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   27.630914] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   27.630922] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   27.630928] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   27.630935] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   27.630942] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   27.630948] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   27.630956] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   27.630961] tiziano_adr_params_refresh: Refreshing ADR parameters
[   27.630966] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   27.630972] tiziano_adr_params_init: Initializing ADR parameter arrays
[   27.630979] tisp_adr_set_params: Writing ADR parameters to registers
[   27.631011] tisp_adr_set_params: ADR parameters written to hardware
[   27.631017] tisp_event_set_cb: Setting callback for event 18
[   27.631023] tisp_event_set_cb: Event 18 callback set to c0686c84
[   27.631029] tisp_event_set_cb: Setting callback for event 2
[   27.631035] tisp_event_set_cb: Event 2 callback set to c0685788
[   27.631040] tiziano_adr_init: ADR processing initialized successfully
[   27.631046] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   27.631052] tiziano_bcsh_init: Initializing BCSH processing
[   27.631057] tiziano_ydns_init: Initializing YDNS processing
[   27.631062] tiziano_rdns_init: Initializing RDNS processing
[   27.631067] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   27.631080] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x528000 (Binary Ninja EXACT) ***
[   27.631087] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x529000 (Binary Ninja EXACT) ***
[   27.631094] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x52a000 (Binary Ninja EXACT) ***
[   27.631101] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x52b000 (Binary Ninja EXACT) ***
[   27.631108] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x52c000 (Binary Ninja EXACT) ***
[   27.631114] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x52c800 (Binary Ninja EXACT) ***
[   27.631121] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x52d000 (Binary Ninja EXACT) ***
[   27.631128] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x52d800 (Binary Ninja EXACT) ***
[   27.631134] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   27.631140] *** tisp_init: AE0 buffer allocated at 0x00528000 ***
[   27.631147] *** CRITICAL FIX: data_b2f3c initialized to 0x80528000 (prevents stack corruption) ***
[   27.631155] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x530000 (Binary Ninja EXACT) ***
[   27.631162] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x531000 (Binary Ninja EXACT) ***
[   27.631169] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x532000 (Binary Ninja EXACT) ***
[   27.631176] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x533000 (Binary Ninja EXACT) ***
[   27.631182] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x534000 (Binary Ninja EXACT) ***
[   27.631189] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x534800 (Binary Ninja EXACT) ***
[   27.631196] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x535000 (Binary Ninja EXACT) ***
[   27.631203] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x535800 (Binary Ninja EXACT) ***
[   27.631210] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   27.631216] *** tisp_init: AE1 buffer allocated at 0x00530000 ***
[   27.631221] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   27.631227] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   27.631234] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   27.631239] *** tisp_init: Second ISP control mode set to 8 (streaming not active) ***
[   27.631246] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   27.631251] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   27.631258] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   27.631266] tiziano_ae_params_refresh: Refreshing AE parameters
[   27.631276] tiziano_ae_params_refresh: AE parameters refreshed
[   27.631282] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   27.631288] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   27.631293] tiziano_ae_para_addr: Setting up AE parameter addresses
[   27.631298] tiziano_ae_para_addr: AE parameter addresses configured
[   27.631304] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   27.631311] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   27.631318] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   27.631325] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   27.631332] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   27.631338] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   27.631346] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   27.631352] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7ed814 (Binary Ninja EXACT) ***
[   27.631359] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   27.631366] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   27.631372] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   27.631379] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   27.631385] tiziano_ae_set_hardware_param: Parameters written to AE0
[   27.631391] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   27.631398] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   27.631404] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   27.631410] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   27.631417] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   27.631424] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   27.631430] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   27.631436] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   27.631443] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   27.631450] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   27.631456] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   27.631462] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   27.631468] tiziano_ae_set_hardware_param: Parameters written to AE1
[   27.631474] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   27.631481] *** system_irq_func_set: Registered handler c068698c at index 10 ***
[   27.649294] *** system_irq_func_set: Registered handler c0686a80 at index 27 ***
[   27.669481] *** system_irq_func_set: Registered handler c068698c at index 26 ***
[   27.677139] *** system_irq_func_set: Registered handler c0686b68 at index 29 ***
[   27.694912] *** system_irq_func_set: Registered handler c0686af4 at index 28 ***
[   27.706753] *** system_irq_func_set: Registered handler c0686bdc at index 30 ***
[   27.735320] *** system_irq_func_set: Registered handler c0686c30 at index 20 ***
[   27.755521] *** system_irq_func_set: Registered handler c0686c84 at index 18 ***
[   27.770328] *** system_irq_func_set: Registered handler c0686cd8 at index 31 ***
[   27.788133] *** system_irq_func_set: Registered handler c0686d2c at index 11 ***
[   27.798209] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   27.798229] tiziano_deflicker_expt: Generated 119 LUT entries
[   27.798235] tisp_event_set_cb: Setting callback for event 1
[   27.798242] tisp_event_set_cb: Event 1 callback set to c068658c
[   27.798249] tisp_event_set_cb: Setting callback for event 6
[   27.798256] tisp_event_set_cb: Event 6 callback set to c0685aec
[   27.798261] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   27.798267] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   27.798274] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   27.798282] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   27.798288] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   27.798294] tiziano_awb_init: AWB hardware blocks enabled
[   27.798299] tiziano_gamma_init: Initializing Gamma processing
[   27.798304] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   27.798364] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   27.798369] tiziano_gib_init: Initializing GIB processing
[   27.798374] tiziano_lsc_init: Initializing LSC processing
[   27.798380] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   27.798386] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   27.798393] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   27.798400] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   27.798406] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   27.798463] tiziano_ccm_init: Initializing Color Correction Matrix
[   27.798468] tiziano_ccm_init: Using linear CCM parameters
[   27.798474] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   27.798480] jz_isp_ccm: EV=64, CT=9984
[   27.798487] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   27.798492] cm_control: saturation=128
[   27.798498] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   27.798504] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   27.798510] tiziano_ccm_init: CCM initialized successfully
[   27.798514] tiziano_dmsc_init: Initializing DMSC processing
[   27.798520] tiziano_sharpen_init: Initializing Sharpening
[   27.798525] tiziano_sharpen_init: Using linear sharpening parameters
[   27.798530] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   27.798538] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   27.798544] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   27.798570] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   27.798576] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   27.798582] tiziano_sharpen_init: Sharpening initialized successfully
[   27.798587] tiziano_sdns_init: Initializing SDNS processing
[   27.798595] tiziano_sdns_init: Using linear SDNS parameters
[   27.798601] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   27.798608] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   27.798614] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   27.798646] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   27.798652] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   27.798658] tiziano_sdns_init: SDNS processing initialized successfully
[   27.798664] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   27.798670] tiziano_mdns_init: Using linear MDNS parameters
[   27.798680] tiziano_mdns_init: MDNS processing initialized successfully
[   27.798685] tiziano_clm_init: Initializing CLM processing
[   27.798690] tiziano_dpc_init: Initializing DPC processing
[   27.798696] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   27.798702] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   27.798708] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   27.798714] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   27.798728] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   27.798735] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   27.798740] tiziano_hldc_init: Initializing HLDC processing
[   27.798747] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   27.798754] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   27.798760] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   27.798767] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   27.798774] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   27.798781] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   27.798788] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   27.798794] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   27.798801] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   27.798808] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   27.798814] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   27.798822] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   27.798828] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   27.798834] tiziano_adr_params_refresh: Refreshing ADR parameters
[   27.798840] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   27.798845] tiziano_adr_params_init: Initializing ADR parameter arrays
[   27.798852] tisp_adr_set_params: Writing ADR parameters to registers
[   27.798884] tisp_adr_set_params: ADR parameters written to hardware
[   27.798890] tisp_event_set_cb: Setting callback for event 18
[   27.798896] tisp_event_set_cb: Event 18 callback set to c0686c84
[   27.798902] tisp_event_set_cb: Setting callback for event 2
[   27.798908] tisp_event_set_cb: Event 2 callback set to c0685788
[   27.798914] tiziano_adr_init: ADR processing initialized successfully
[   27.798920] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   27.798925] tiziano_bcsh_init: Initializing BCSH processing
[   27.798930] tiziano_ydns_init: Initializing YDNS processing
[   27.798935] tiziano_rdns_init: Initializing RDNS processing
[   27.798940] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   27.798946] tisp_event_init: Initializing ISP event system
[   27.798953] tisp_event_init: SAFE event system initialized with 20 nodes
[   27.798958] tisp_event_set_cb: Setting callback for event 4
[   27.798965] tisp_event_set_cb: Event 4 callback set to c06857b4
[   27.798970] tisp_event_set_cb: Setting callback for event 5
[   27.798977] tisp_event_set_cb: Event 5 callback set to c0685c7c
[   27.798982] tisp_event_set_cb: Setting callback for event 7
[   27.798988] tisp_event_set_cb: Event 7 callback set to c0685848
[   27.798994] tisp_event_set_cb: Setting callback for event 9
[   27.799000] tisp_event_set_cb: Event 9 callback set to c06858d0
[   27.799006] tisp_event_set_cb: Setting callback for event 8
[   27.799012] tisp_event_set_cb: Event 8 callback set to c0685994
[   27.799018] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   27.799024] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   27.799029] tisp_param_operate_init: Initializing parameter operations
[   27.799037] tisp_netlink_init: Initializing netlink communication
[   27.799042] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   27.799074] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   27.799088] tisp_netlink_init: Custom protocol failed, trying with nlcfg structure
[   27.799100] tisp_netlink_init: Failed to create netlink socket - continuing without netlink support
[   27.799107] tisp_netlink_init: ISP tuning parameters may not be available, but VIC interrupts should still work
[   27.799113] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   27.799118] tisp_code_create_tuning_node: Device already created, skipping
[   27.799124] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   27.799130] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   27.799137] *** ispcore_core_ops_init: Second tisp_init completed ***
[   27.799142] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[   27.799151] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[   27.799159] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   27.799164] *** ISP CORE: Hardware interrupt generation ENABLED ***
[   27.799170] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   27.799176] *** ispcore_core_ops_init: ISP Core hardware interrupts ENABLED - Frame sync should now work! ***
[   27.799180] ispcore_core_ops_init: Complete, result=0<6>[   27.799186] *** tx_isp_video_s_stream: Core init SUCCESS ***
[   27.799192] *** tx_isp_video_s_stream: Activating VIC subdev (state 3 -> 2) before CSI init ***
[   27.799200] *** tx_isp_video_s_stream: VIC subdev activation done, state=3 ***
[   27.799206] *** tx_isp_video_s_stream: Activating CSI subdev (state 1 -> 2) before CSI init ***
[   27.799214] *** tx_isp_video_s_stream: CSI subdev activation done, state=2 ***
[   27.799220] *** tx_isp_video_s_stream: Initializing CSI subdev ***
[   27.799228] csi_core_ops_init: sd=8521bc00, csi_dev=8521bc00, enable=1
[   27.799234] *** tx_isp_get_sensor: Searching subdev array for sensors ***
d[   27.799243] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f91400 (name=gc2053) ***
[   27.799250] *** tx_isp_get_sensor: Found real sensor: 85f91400 ***
[   27.799256] *** csi_core_ops_init: interface_type=1 (1=MIPI, 2=DVP) ***
[   27.799262] *** csi_core_ops_init: Set csi_dev->interface_type = 1 ***
[   27.870326] *** tx_isp_video_s_stream: CSI init SUCCESS ***
[   27.870339] *** tx_isp_video_s_stream: Initializing VIC subdev ***
[   27.870348] *** vic_core_ops_init: ENTRY - sd=80558000, enable=1 ***
[   27.870354] *** vic_core_ops_init: vic_dev=80558000, current state check ***
[   27.870360] *** vic_core_ops_init: current_state=3, enable=1 ***
[   27.870366] *** tx_isp_video_s_stream: VIC init SUCCESS ***
[   27.870372] *** tx_isp_video_s_stream: Initializing Sensor subdev ***
[   27.870380] *** SENSOR_INIT: gc2053 enable=1 ***
[   27.870387] *** SENSOR_INIT: gc2053 already initialized, skipping to prevent CSI PHY reconfiguration ***
[   27.870393] *** SENSOR_INIT: This prevents register reset that disables ISP/VIC interrupts ***
[   27.870398] *** tx_isp_video_s_stream: Sensor init SUCCESS ***
[   27.870404] *** tx_isp_video_s_stream: All subdev initialization complete - proceeding with s_stream ***
[   27.870411] *** tx_isp_video_s_stream: Calling subdev[0]->ops->video->s_stream(1) ***
[   27.870417] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   27.870423] csi_video_s_stream: sd=8521bc00, enable=1
[   27.870430] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   27.870436] *** tx_isp_video_s_stream: subdev[0] s_stream SUCCESS ***
[   27.870442] *** tx_isp_video_s_stream: Calling subdev[1]->ops->video->s_stream(1) ***
[   27.870449] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80558000, enable=1 ***
[   27.870455] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=3 ***
[   27.870460] *** vic_core_s_stream: STREAM ON ***
[   27.870466] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   27.870472] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   27.870478] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   27.870484] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.870492] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f91400 (name=gc2053) ***
[   27.870498] *** tx_isp_get_sensor: Found real sensor: 85f91400 ***
[   27.870505] *** DEBUG: sensor_attr=c06e10cc, dbus_type=1 ***
[   27.870511] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   27.870517] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   27.870523] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   27.870528] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   27.870534] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   27.870540] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   27.900346] MIPI interface configuration
[   27.900361] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   27.900366] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   27.900373] *** VIC UNLOCK: Initial register 0x0 value = 0x00000000 ***
[   27.900379] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   27.900385] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   27.900392] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   27.900398] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   27.922044] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   27.922054] *** Continuing anyway to prevent infinite hang ***
[   27.922060] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   27.922066] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   27.922072] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   27.922077] tx_isp_vic_start: Linear mode enabled
[   27.922082] *** VIC start completed - vic_start_ok = 1 ***
[   27.922090] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   27.922095] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   27.922101] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   27.922108] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   27.922115] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   27.922123] ispvic_frame_channel_qbuf: arg1=80558000, arg2=  (null)
[   27.922130] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   27.922136] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   27.922142] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   27.922148] ispvic_frame_channel_s_stream: arg1=80558000, arg2=1
[   27.922154] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80558000
[   27.922161] ispvic_frame_channel_s_stream[2524]: streamon
[   27.922168] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   27.922174] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   27.922179] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   27.922185] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   27.922190] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   27.922198] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   27.922204] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   27.922210] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   27.922216] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   27.922222] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   27.922228] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   27.922234] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   27.922240] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   27.922248] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   27.922255] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   27.922262] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   27.922270] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   27.922278] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   27.922284] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   27.922290] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   27.922295] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   27.922302] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   27.922318] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   27.922325] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   27.922330] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   27.922336] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   27.922342] ispvic_frame_channel_qbuf: arg1=80558000, arg2=  (null)
[   27.922347] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   27.922361] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xfffffffe [0x1ec]=0x00000000 (MainMask=0xFFFFFFFE)***
m[   27.922369] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   27.922434] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFFFFFFE)***
[   27.922446] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   27.922453] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   27.922462] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   27.922468] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   27.922474] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   27.922483] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   27.922490] *** VIC UNMASK-ALL TEST: [0x1e8]=0xfffffffe [0x1ec]=0x00000000 (expect 0) ***
[   27.927639] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   27.927651] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   27.927657] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   27.927765] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   27.927773] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   27.927880] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   27.927888] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   27.927894] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   27.927900] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   27.927905] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   27.927910] tx_vic_enable_irq: Calling VIC interrupt callback
[   27.927917] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   27.927924] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   27.927930] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   27.927938] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   27.927945] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   27.927952] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   27.927959] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   27.927966] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   27.927971] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   27.927976] *** tx_vic_enable_irq: completed successfully ***
[   28.443713] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   28.443726] *** vic_core_s_stream: VIC state transition 3 â 4 (STREAMING) ***
[   28.443732] *** VIC STATE 4: Calling ispcore_slake_module to initialize ISP core ***
[   28.443738] *** ispcore_slake_module: EXACT Binary Ninja MCP implementation ***
[   28.443746] ispcore_slake_module: VIC device=80558000, state=4ispcore_slake_module: ISP state >= 3, calling ispcore_core_ops_init
[   28.443755] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   28.443764] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f91400 (name=gc2053) ***
[   28.443771] *** tx_isp_get_sensor: Found real sensor: 85f91400 ***
[   28.443776] ispcore_slake_module: Using sensor attributes from connected sensor
[   28.443783] *** ispcore_core_ops_init_with_sensor: GOOD-THINGS approach - isp=85fa4000, sensor_attr=c06e10cc ****** ispcore_core_ops_init_with_sensor: Calling tisp_init with sensor parameters (good-things approach) ***
[   28.443791] *** This will configure MIPI CSI lanes and enable proper interrupt flow ****** ispcore_core_ops_init_with_sensor: Calling tisp_init(&sensor_params, "gc2053") ***
[   28.443801] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   28.443807] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   28.443813] *** tisp_init: Invalid sensor dimensions 27900x49255, using defaults 1920x1080 ***
[   28.443820] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 1920x1080 ***
[   28.443826] tisp_init: Initializing ISP hardware for sensor (1920x1080)
[   28.443832] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   28.443837] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   28.443843] tisp_event_init: Initializing ISP event system
[   28.443849] tisp_event_init: SAFE event system initialized with 20 nodes
[   28.443856] tisp_event_set_cb: Setting callback for event 4
[   28.443862] tisp_event_set_cb: Event 4 callback set to c06857b4
[   28.443868] tisp_event_set_cb: Setting callback for event 5
[   28.443874] tisp_event_set_cb: Event 5 callback set to c0685c7c
[   28.443879] tisp_event_set_cb: Setting callback for event 7
[   28.443886] tisp_event_set_cb: Event 7 callback set to c0685848
[   28.443891] tisp_event_set_cb: Setting callback for event 9
[   28.443898] tisp_event_set_cb: Event 9 callback set to c06858d0
[   28.443903] tisp_event_set_cb: Setting callback for event 8
[   28.443909] tisp_event_set_cb: Event 8 callback set to c0685994
[   28.443917] *** system_irq_func_set: Registered handler c067dfd4 at index 13 ***
[   28.458063] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   28.458079] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   28.458086] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   28.458093] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   28.458100] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   28.458107] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   28.458114] system_reg_write: BLOCKED core-control reg[0xb018]=0x40404040 during streaming (preserve interrupts)
[   28.458121] system_reg_write: BLOCKED core-control reg[0xb01c]=0x40404040 during streaming (preserve interrupts)
[   28.458129] system_reg_write: BLOCKED core-control reg[0xb020]=0x40404040 during streaming (preserve interrupts)
[   28.458136] system_reg_write: BLOCKED core-control reg[0xb024]=0x404040 during streaming (preserve interrupts)
[   28.458143] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   28.458149] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   28.458156] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   28.458163] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   28.458170] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   28.458177] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   28.458183] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   28.458189] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   28.458195] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   28.458202] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   28.458209] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   28.458215] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   28.458221] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
	[   28.458226] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   28.458254] system_reg_write: BLOCKED reg[0x9804]=0x3f00 during streaming to protect interrupts
[   28.458261] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   28.458268] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   28.458274] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   28.458281] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   28.458287] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   28.458295] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   28.458301] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   28.458307] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   28.458313] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   28.458320] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   28.458327] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   28.458333] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   28.458340] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   28.458347] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   28.458353] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   28.458360] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   28.458366] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   28.458373] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   28.458379] *** TUNING SYSTEM: VIC control registers 0x9ac0/0x9ac8 REMOVED - not in Binary Ninja reference ***
[   28.458387] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 1920x1080)
[   28.458393] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   28.458400] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   28.458407] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   28.458412] *** tisp_init: ISP control register set to enable processing pipeline ***
[   28.458419] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   28.458424] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   28.458431] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   28.458436] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   28.458443] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   28.458449] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   28.458458] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=85fa4000 ***
[   28.465911] *** isp_irq_handle: IRQ 37 received, dev_id=85fa4000 ***
[   28.465917] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   28.473638] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=85fa4000 ***
[   28.481085] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   28.488807] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
[   28.496352] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   28.502547] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   28.510619] *** ISP CORE: ABOUT TO CALL callback[10] for bit 10 - callback=c068698c ***
[   28.518875] *** ISP CORE: CALLING CALLBACK NOW - IF SYSTEM HANGS, THIS CALLBACK IS THE PROBLEM ***
[   28.528117] ae0_interrupt_static: Processing AE0 static interrupt
[   28.528124] *** AE0: Processing interrupt using register-based statistics (Binary Ninja MCP) ***
[   28.528129] ae0_interrupt_static: AE0 static interrupt processed
[   28.528135] *** ISP CORE: CALLBACK RETURNED SUCCESSFULLY - callback[10] returned 1 ***
[   28.536303] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
root@ing-wyze-cam3-a000 ~# dmesg 
[   27.922369] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   27.922434] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFFFFFFE)***
[   27.922446] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   27.922453] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   27.922462] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   27.922468] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   27.922474] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   27.922483] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   27.922490] *** VIC UNMASK-ALL TEST: [0x1e8]=0xfffffffe [0x1ec]=0x00000000 (expect 0) ***
[   27.927639] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   27.927651] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   27.927657] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   27.927765] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   27.927773] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   27.927880] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   27.927888] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   27.927894] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   27.927900] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   27.927905] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   27.927910] tx_vic_enable_irq: Calling VIC interrupt callback
[   27.927917] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   27.927924] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   27.927930] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   27.927938] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   27.927945] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   27.927952] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   27.927959] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   27.927966] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   27.927971] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   27.927976] *** tx_vic_enable_irq: completed successfully ***
[   28.443713] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   28.443726] *** vic_core_s_stream: VIC state transition 3 â 4 (STREAMING) ***
[   28.443732] *** VIC STATE 4: Calling ispcore_slake_module to initialize ISP core ***
[   28.443738] *** ispcore_slake_module: EXACT Binary Ninja MCP implementation ***
[   28.443746] ispcore_slake_module: VIC device=80558000, state=4ispcore_slake_module: ISP state >= 3, calling ispcore_core_ops_init
[   28.443755] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   28.443764] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f91400 (name=gc2053) ***
[   28.443771] *** tx_isp_get_sensor: Found real sensor: 85f91400 ***
[   28.443776] ispcore_slake_module: Using sensor attributes from connected sensor
[   28.443783] *** ispcore_core_ops_init_with_sensor: GOOD-THINGS approach - isp=85fa4000, sensor_attr=c06e10cc ****** ispcore_core_ops_init_with_sensor: Calling tisp_init with sensor parameters (good-things approach) ***
[   28.443791] *** This will configure MIPI CSI lanes and enable proper interrupt flow ****** ispcore_core_ops_init_with_sensor: Calling tisp_init(&sensor_params, "gc2053") ***
[   28.443801] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   28.443807] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   28.443813] *** tisp_init: Invalid sensor dimensions 27900x49255, using defaults 1920x1080 ***
[   28.443820] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 1920x1080 ***
[   28.443826] tisp_init: Initializing ISP hardware for sensor (1920x1080)
[   28.443832] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   28.443837] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   28.443843] tisp_event_init: Initializing ISP event system
[   28.443849] tisp_event_init: SAFE event system initialized with 20 nodes
[   28.443856] tisp_event_set_cb: Setting callback for event 4
[   28.443862] tisp_event_set_cb: Event 4 callback set to c06857b4
[   28.443868] tisp_event_set_cb: Setting callback for event 5
[   28.443874] tisp_event_set_cb: Event 5 callback set to c0685c7c
[   28.443879] tisp_event_set_cb: Setting callback for event 7
[   28.443886] tisp_event_set_cb: Event 7 callback set to c0685848
[   28.443891] tisp_event_set_cb: Setting callback for event 9
[   28.443898] tisp_event_set_cb: Event 9 callback set to c06858d0
[   28.443903] tisp_event_set_cb: Setting callback for event 8
[   28.443909] tisp_event_set_cb: Event 8 callback set to c0685994
[   28.443917] *** system_irq_func_set: Registered handler c067dfd4 at index 13 ***
[   28.458063] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   28.458079] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   28.458086] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   28.458093] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   28.458100] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   28.458107] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   28.458114] system_reg_write: BLOCKED core-control reg[0xb018]=0x40404040 during streaming (preserve interrupts)
[   28.458121] system_reg_write: BLOCKED core-control reg[0xb01c]=0x40404040 during streaming (preserve interrupts)
[   28.458129] system_reg_write: BLOCKED core-control reg[0xb020]=0x40404040 during streaming (preserve interrupts)
[   28.458136] system_reg_write: BLOCKED core-control reg[0xb024]=0x404040 during streaming (preserve interrupts)
[   28.458143] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   28.458149] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   28.458156] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   28.458163] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   28.458170] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   28.458177] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   28.458183] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   28.458189] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   28.458195] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   28.458202] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   28.458209] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   28.458215] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   28.458221] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   28.458226] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   28.458254] system_reg_write: BLOCKED reg[0x9804]=0x3f00 during streaming to protect interrupts
[   28.458261] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   28.458268] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   28.458274] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   28.458281] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   28.458287] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   28.458295] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   28.458301] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   28.458307] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   28.458313] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   28.458320] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   28.458327] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   28.458333] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   28.458340] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   28.458347] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   28.458353] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   28.458360] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   28.458366] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   28.458373] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   28.458379] *** TUNING SYSTEM: VIC control registers 0x9ac0/0x9ac8 REMOVED - not in Binary Ninja reference ***
[   28.458387] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 1920x1080)
[   28.458393] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   28.458400] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   28.458407] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   28.458412] *** tisp_init: ISP control register set to enable processing pipeline ***
[   28.458419] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   28.458424] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   28.458431] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   28.458436] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   28.458443] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   28.458449] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   28.458458] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=85fa4000 ***
[   28.465911] *** isp_irq_handle: IRQ 37 received, dev_id=85fa4000 ***
[   28.465917] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   28.473638] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=85fa4000 ***
[   28.481085] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   28.488807] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
[   28.496352] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   28.502547] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   28.510619] *** ISP CORE: ABOUT TO CALL callback[10] for bit 10 - callback=c068698c ***
[   28.518875] *** ISP CORE: CALLING CALLBACK NOW - IF SYSTEM HANGS, THIS CALLBACK IS THE PROBLEM ***
[   28.528117] ae0_interrupt_static: Processing AE0 static interrupt
[   28.528124] *** AE0: Processing interrupt using register-based statistics (Binary Ninja MCP) ***
[   28.528129] ae0_interrupt_static: AE0 static interrupt processed
[   28.528135] *** ISP CORE: CALLBACK RETURNED SUCCESSFULLY - callback[10] returned 1 ***
[   28.536303] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
[   28.650409] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   28.650425] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   28.650431] *** tisp_init: STREAMING ACTIVE - Skipping ISP control register write to prevent shutdown ***
[   28.650436] *** tisp_init: VIC streaming detected - keeping ISP controls enabled ***
[   28.650443] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   28.650450] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=SKIPPED, 0x800=1 ***
[   28.650457] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   28.650464] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   28.650471] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   28.650477] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   28.650483] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   28.650489] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   28.650496] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   28.650502] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   28.650509] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   28.650515] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   28.650522] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   28.650529] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   28.650537] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   28.650544] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   28.650551] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   28.650557] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   28.650564] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   28.650571] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   28.650576] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   28.650581] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   28.650587] *** This should eliminate green frames by enabling proper color processing ***
[   28.650593] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   28.650600] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   28.650607] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   28.650613] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   28.650619] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   28.650626] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   28.650633] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   28.650639] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   28.650645] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   28.650651] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   28.650656] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   28.650661] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   28.650667] *** tisp_init: Standard tuning parameters loaded successfully ***
[   28.650672] *** tisp_init: Custom tuning parameters loaded successfully ***
[   28.650679] tisp_set_csc_version: Setting CSC version 0
[   28.650685] *** SYSTEM_REG_WRITE: reg[0xc] = 0x80700008 (Binary Ninja EXACT) ***
[   28.650691] *** CRITICAL FIX: ISP bypass register set to EXACT reference value 0x80700008 - prevents hardware reset ***
[   28.650697] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   28.650703] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   28.650710] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   28.650715] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   28.650721] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   28.650727] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   28.650734] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   28.650739] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   28.650745] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   28.650752] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   28.650757] *** tisp_init: ISP processing pipeline fully enabled ***
[   28.650763] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   28.650770] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   28.650775] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   28.650782] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   28.650789] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   28.650794] tisp_init: ISP memory buffers configured
[   28.650799] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   28.650806] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   28.650815] tiziano_ae_params_refresh: Refreshing AE parameters
[   28.650825] tiziano_ae_params_refresh: AE parameters refreshed
[   28.650831] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   28.650837] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   28.650842] tiziano_ae_para_addr: Setting up AE parameter addresses
[   28.650847] tiziano_ae_para_addr: AE parameter addresses configured
[   28.650854] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   28.650861] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   28.650867] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   28.650875] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   28.650881] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   28.650888] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   28.650895] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   28.650901] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7ed814 (Binary Ninja EXACT) ***
[   28.650909] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   28.650915] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   28.650921] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   28.650929] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   28.650934] tiziano_ae_set_hardware_param: Parameters written to AE0
[   28.650940] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   28.650947] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   28.650953] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   28.650960] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   28.650966] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   28.650973] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   28.650979] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   28.650985] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   28.650992] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   28.650999] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   28.651005] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   28.651011] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   28.651017] tiziano_ae_set_hardware_param: Parameters written to AE1
[   28.651023] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   28.651031] *** system_irq_func_set: Registered handler c068698c at index 10 ***
[   28.668831] *** system_irq_func_set: Registered handler c0686a80 at index 27 ***
[   28.689016] *** system_irq_func_set: Registered handler c068698c at index 26 ***
[   28.699096] *** system_irq_func_set: Registered handler c0686b68 at index 29 ***
[   28.713740] *** system_irq_func_set: Registered handler c0686af4 at index 28 ***
[   28.730422] *** system_irq_func_set: Registered handler c0686bdc at index 30 ***
[   28.748298] *** system_irq_func_set: Registered handler c0686c30 at index 20 ***
[   28.760851] *** system_irq_func_set: Registered handler c0686c84 at index 18 ***
[   28.778677] *** system_irq_func_set: Registered handler c0686cd8 at index 31 ***
[   28.798860] *** system_irq_func_set: Registered handler c0686d2c at index 11 ***
[   28.808936] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   28.808954] tiziano_deflicker_expt: Generated 119 LUT entries
[   28.808960] tisp_event_set_cb: Setting callback for event 1
[   28.808968] tisp_event_set_cb: Event 1 callback set to c068658c
[   28.808973] tisp_event_set_cb: Setting callback for event 6
[   28.808980] tisp_event_set_cb: Event 6 callback set to c0685aec
[   28.808985] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   28.808991] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   28.808998] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   28.809006] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   28.809012] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   28.809018] tiziano_awb_init: AWB hardware blocks enabled
[   28.809023] tiziano_gamma_init: Initializing Gamma processing
[   28.809028] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   28.809088] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   28.809094] tiziano_gib_init: Initializing GIB processing
[   28.809099] tiziano_lsc_init: Initializing LSC processing
[   28.809104] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   28.809111] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   28.809118] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   28.809124] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   28.809130] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   28.809187] tiziano_ccm_init: Initializing Color Correction Matrix
[   28.809192] tiziano_ccm_init: Using linear CCM parameters
[   28.809198] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   28.809204] jz_isp_ccm: EV=64, CT=9984
[   28.809211] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   28.809216] cm_control: saturation=128
[   28.809222] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   28.809228] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   28.809233] tiziano_ccm_init: CCM initialized successfully
[   28.809238] tiziano_dmsc_init: Initializing DMSC processing
[   28.809243] tiziano_sharpen_init: Initializing Sharpening
[   28.809248] tiziano_sharpen_init: Using linear sharpening parameters
[   28.809254] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   28.809261] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   28.809267] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   28.809293] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   28.809300] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   28.809305] tiziano_sharpen_init: Sharpening initialized successfully
[   28.809310] tiziano_sdns_init: Initializing SDNS processing
[   28.809318] tiziano_sdns_init: Using linear SDNS parameters
[   28.809324] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   28.809330] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   28.809336] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   28.809368] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   28.809375] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   28.809380] tiziano_sdns_init: SDNS processing initialized successfully
[   28.809387] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   28.809392] tiziano_mdns_init: Using linear MDNS parameters
[   28.809402] tiziano_mdns_init: MDNS processing initialized successfully
[   28.809408] tiziano_clm_init: Initializing CLM processing
[   28.809413] tiziano_dpc_init: Initializing DPC processing
[   28.809418] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   28.809424] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   28.809431] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   28.809436] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   28.809451] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   28.809458] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   28.809463] tiziano_hldc_init: Initializing HLDC processing
[   28.809470] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   28.809476] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   28.809482] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   28.809489] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   28.809496] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   28.809503] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   28.809510] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   28.809516] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   28.809524] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   28.809530] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   28.809537] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   28.809544] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   28.809550] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   28.809556] tiziano_adr_params_refresh: Refreshing ADR parameters
[   28.809562] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   28.809567] tiziano_adr_params_init: Initializing ADR parameter arrays
[   28.809574] tisp_adr_set_params: Writing ADR parameters to registers
[   28.809606] tisp_adr_set_params: ADR parameters written to hardware
[   28.809612] tisp_event_set_cb: Setting callback for event 18
[   28.809618] tisp_event_set_cb: Event 18 callback set to c0686c84
[   28.809624] tisp_event_set_cb: Setting callback for event 2
[   28.809631] tisp_event_set_cb: Event 2 callback set to c0685788
[   28.809636] tiziano_adr_init: ADR processing initialized successfully
[   28.809642] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   28.809647] tiziano_bcsh_init: Initializing BCSH processing
[   28.809652] tiziano_ydns_init: Initializing YDNS processing
[   28.809658] tiziano_rdns_init: Initializing RDNS processing
[   28.809662] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   28.809676] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x538000 (Binary Ninja EXACT) ***
[   28.809684] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x539000 (Binary Ninja EXACT) ***
[   28.809690] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x53a000 (Binary Ninja EXACT) ***
[   28.809697] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x53b000 (Binary Ninja EXACT) ***
[   28.809704] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x53c000 (Binary Ninja EXACT) ***
[   28.809710] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x53c800 (Binary Ninja EXACT) ***
[   28.809717] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x53d000 (Binary Ninja EXACT) ***
[   28.809724] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x53d800 (Binary Ninja EXACT) ***
[   28.809730] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   28.809736] *** tisp_init: AE0 buffer allocated at 0x00538000 ***
[   28.809743] *** CRITICAL FIX: data_b2f3c initialized to 0x80538000 (prevents stack corruption) ***
[   28.809752] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x560000 (Binary Ninja EXACT) ***
[   28.809758] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x561000 (Binary Ninja EXACT) ***
[   28.809765] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x562000 (Binary Ninja EXACT) ***
[   28.809772] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x563000 (Binary Ninja EXACT) ***
[   28.809778] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x564000 (Binary Ninja EXACT) ***
[   28.809786] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x564800 (Binary Ninja EXACT) ***
[   28.809792] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x565000 (Binary Ninja EXACT) ***
[   28.809799] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x565800 (Binary Ninja EXACT) ***
[   28.809806] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   28.809812] *** tisp_init: AE1 buffer allocated at 0x00560000 ***
[   28.809817] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   28.809823] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   28.809828] *** tisp_init: STREAMING ACTIVE - Skipping second ISP control register write ***
[   28.809835] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   28.809840] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   28.809848] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   28.809856] tiziano_ae_params_refresh: Refreshing AE parameters
[   28.809866] tiziano_ae_params_refresh: AE parameters refreshed
[   28.809872] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   28.809878] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   28.809883] tiziano_ae_para_addr: Setting up AE parameter addresses
[   28.809888] tiziano_ae_para_addr: AE parameter addresses configured
[   28.809895] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   28.809902] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   28.809909] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   28.809916] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   28.809922] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   28.809929] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   28.809936] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   28.809943] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7ed814 (Binary Ninja EXACT) ***
[   28.809950] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   28.809956] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   28.809963] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   28.809970] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   28.809975] tiziano_ae_set_hardware_param: Parameters written to AE0
[   28.809982] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   28.809988] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   28.809994] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   28.810001] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   28.810007] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   28.810014] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   28.810020] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   28.810027] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   28.810033] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   28.810040] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   28.810046] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   28.810053] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   28.810058] tiziano_ae_set_hardware_param: Parameters written to AE1
[   28.810064] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   28.810072] *** system_irq_func_set: Registered handler c068698c at index 10 ***
[   28.826154] *** system_irq_func_set: Registered handler c0686a80 at index 27 ***
[   28.849726] *** system_irq_func_set: Registered handler c068698c at index 26 ***
[   28.867582] *** system_irq_func_set: Registered handler c0686b68 at index 29 ***
[   28.881569] *** system_irq_func_set: Registered handler c0686af4 at index 28 ***
[   28.899370] *** system_irq_func_set: Registered handler c0686bdc at index 30 ***
[   28.919560] *** system_irq_func_set: Registered handler c0686c30 at index 20 ***
[   28.929642] *** system_irq_func_set: Registered handler c0686c84 at index 18 ***
[   28.944592] *** system_irq_func_set: Registered handler c0686cd8 at index 31 ***
[   28.961310] *** system_irq_func_set: Registered handler c0686d2c at index 11 ***
[   28.979134] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   28.979155] tiziano_deflicker_expt: Generated 119 LUT entries
[   28.979162] tisp_event_set_cb: Setting callback for event 1
[   28.979170] tisp_event_set_cb: Event 1 callback set to c068658c
[   28.979175] tisp_event_set_cb: Setting callback for event 6
[   28.979182] tisp_event_set_cb: Event 6 callback set to c0685aec
[   28.979187] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   28.979193] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   28.979200] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   28.979208] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   28.979214] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   28.979220] tiziano_awb_init: AWB hardware blocks enabled
[   28.979225] tiziano_gamma_init: Initializing Gamma processing
[   28.979230] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   28.979290] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   28.979295] tiziano_gib_init: Initializing GIB processing
[   28.979300] tiziano_lsc_init: Initializing LSC processing
[   28.979305] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   28.979312] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   28.979319] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   28.979326] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   28.979331] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   28.979388] tiziano_ccm_init: Initializing Color Correction Matrix
[   28.979394] tiziano_ccm_init: Using linear CCM parameters
[   28.979400] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   28.979406] jz_isp_ccm: EV=64, CT=9984
[   28.979412] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   28.979418] cm_control: saturation=128
[   28.979423] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   28.979429] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   28.979434] tiziano_ccm_init: CCM initialized successfully
[   28.979439] tiziano_dmsc_init: Initializing DMSC processing
[   28.979444] tiziano_sharpen_init: Initializing Sharpening
[   28.979450] tiziano_sharpen_init: Using linear sharpening parameters
[   28.979455] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   28.979462] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   28.979468] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   28.979494] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   28.979501] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   28.979506] tiziano_sharpen_init: Sharpening initialized successfully
[   28.979512] tiziano_sdns_init: Initializing SDNS processing
[   28.979520] tiziano_sdns_init: Using linear SDNS parameters
[   28.979525] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   28.979532] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   28.979538] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   28.979570] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   28.979576] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   28.979582] tiziano_sdns_init: SDNS processing initialized successfully
[   28.979588] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   28.979593] tiziano_mdns_init: Using linear MDNS parameters
[   28.979604] tiziano_mdns_init: MDNS processing initialized successfully
[   28.979608] tiziano_clm_init: Initializing CLM processing
[   28.979614] tiziano_dpc_init: Initializing DPC processing
[   28.979619] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   28.979624] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   28.979631] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   28.979636] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   28.979652] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   28.979658] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   28.979664] tiziano_hldc_init: Initializing HLDC processing
[   28.979670] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   28.979676] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   28.979683] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   28.979690] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   28.979697] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   28.979704] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   28.979710] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   28.979717] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   28.979724] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   28.979730] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   28.979737] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   28.979744] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   28.979751] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   28.979756] tiziano_adr_params_refresh: Refreshing ADR parameters
[   28.979762] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   28.979767] tiziano_adr_params_init: Initializing ADR parameter arrays
[   28.979774] tisp_adr_set_params: Writing ADR parameters to registers
[   28.979806] tisp_adr_set_params: ADR parameters written to hardware
[   28.979812] tisp_event_set_cb: Setting callback for event 18
[   28.979818] tisp_event_set_cb: Event 18 callback set to c0686c84
[   28.979824] tisp_event_set_cb: Setting callback for event 2
[   28.979830] tisp_event_set_cb: Event 2 callback set to c0685788
[   28.979835] tiziano_adr_init: ADR processing initialized successfully
[   28.979842] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   28.979847] tiziano_bcsh_init: Initializing BCSH processing
[   28.979852] tiziano_ydns_init: Initializing YDNS processing
[   28.979857] tiziano_rdns_init: Initializing RDNS processing
[   28.979862] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   28.979867] tisp_event_init: Initializing ISP event system
[   28.979874] tisp_event_init: SAFE event system initialized with 20 nodes
d[   28.979880] tisp_event_set_cb: Setting callback for event 4
[   28.979886] tisp_event_set_cb: Event 4 callback set to c06857b4
[   28.979892] tisp_event_set_cb: Setting callback for event 5
[   28.979898] tisp_event_set_cb: Event 5 callback set to c0685c7c
[   28.979903] tisp_event_set_cb: Setting callback for event 7
[   28.979910] tisp_event_set_cb: Event 7 callback set to c0685848
[   28.979915] tisp_event_set_cb: Setting callback for event 9
[   28.979921] tisp_event_set_cb: Event 9 callback set to c06858d0
[   28.979926] tisp_event_set_cb: Setting callback for event 8
[   28.979933] tisp_event_set_cb: Event 8 callback set to c0685994
[   28.979938] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   28.979944] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   28.979950] tisp_param_operate_init: Initializing parameter operations
[   28.979957] tisp_netlink_init: Initializing netlink communication
[   28.979962] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   28.979993] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   28.980006] tisp_netlink_init: Custom protocol failed, trying with nlcfg structure
[   28.980018] tisp_netlink_init: Failed to create netlink socket - continuing without netlink support
[   28.980024] tisp_netlink_init: ISP tuning parameters may not be available, but VIC interrupts should still work
[   28.980030] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   28.980036] tisp_code_create_tuning_node: Device already created, skipping
[   28.980042] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   28.980048] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   28.980054] *** ispcore_core_ops_init_with_sensor: tisp_init SUCCESS - MIPI CSI should now be configured ***
[   28.980060] *** ispcore_core_ops_init_with_sensor: VIC already in state 4 (>= 3) ****** ispcore_core_ops_init_with_sensor: Calling tx_isp_subdev_pipo to program VIC and start MDMA/IRQs ***
[   28.980070] *** tx_isp_subdev_pipo: EXACT Binary Ninja MCP implementation ***
[   28.980076] tx_isp_subdev_pipo: entry - sd=80558000, arg=85fa4000
[   28.980082] tx_isp_subdev_pipo: vic_dev retrieved from host_priv: 80558000
[   28.980088] tx_isp_subdev_pipo: set processing = 1 (Binary Ninja offset 0x20c)
[   28.980094] tx_isp_subdev_pipo: arg is not NULL - initializing pipe structures (Binary Ninja MCP)
[   28.980099] tx_isp_subdev_pipo: initialized linked list heads (Binary Ninja MCP)
[   28.980104] tx_isp_subdev_pipo: initialized spinlock (Binary Ninja MCP)
[   28.980110] *** CRITICAL: Set ispvic_frame_channel_s_stream at raw_pipe[3] (offset 0xc) ***
[   28.980116] *** tx_isp_subdev_pipo: GOOD-THINGS approach - deferring buffer allocation ***
[   28.980121] *** Buffers will be allocated on-demand during QBUF operations ***
[   28.980127] tx_isp_subdev_pipo: initialized buffer index 0 (allocation deferred)
[   28.980134] tx_isp_subdev_pipo: cleared VIC register at offset 0x318 for buffer 0
[   28.980140] tx_isp_subdev_pipo: initialized buffer index 1 (allocation deferred)
[   28.980146] tx_isp_subdev_pipo: cleared VIC register at offset 0x31c for buffer 1
[   28.980152] tx_isp_subdev_pipo: initialized buffer index 2 (allocation deferred)
[   28.980158] tx_isp_subdev_pipo: cleared VIC register at offset 0x320 for buffer 2
[   28.980164] tx_isp_subdev_pipo: initialized buffer index 3 (allocation deferred)
[   28.980170] tx_isp_subdev_pipo: cleared VIC register at offset 0x324 for buffer 3
[   28.980176] tx_isp_subdev_pipo: initialized buffer index 4 (allocation deferred)
[   28.980183] tx_isp_subdev_pipo: cleared VIC register at offset 0x328 for buffer 4
[   28.980188] *** tx_isp_subdev_pipo: Using GOOD-THINGS deferred buffer allocation strategy ***
[   28.980194] tx_isp_subdev_pipo: initialized 5 buffer structures (safe implementation)
m---- FPGA board is ready ----
  Board UID : 30AB6E51
  Board HW ID : 72000460
  Board rev.  : 5DE5A975
  Board date  : 20190326
-----------------------------
[   28.980200] tx_isp_subdev_pipo: set processing = 1 (pipe enabled, safe struct access)
[   28.980206] *** tx_isp_subdev_pipo: RESETTING stream_state to 0 before calling ispvic_frame_channel_s_stream ***
[   28.980212] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_qbuf to write buffer addresses ***
[   28.980218] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   28.980225] ispvic_frame_channel_qbuf: arg1=80558000, arg2=  (null)
[   28.980232] *** tx_isp_subdev_pipo: ispvic_frame_channel_qbuf SUCCESS - buffer addresses written to VIC hardware ***
[   28.980237] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_s_stream to start VIC streaming ***
[   28.980243] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   28.980250] ispvic_frame_channel_s_stream: arg1=80558000, arg2=1
[   28.980256] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80558000
[   28.980262] ispvic_frame_channel_s_stream[2524]: streamon
[   28.980269] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   28.980275] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   28.980280] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   28.980286] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   28.980292] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   28.980298] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   28.980304] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   28.980311] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   28.980317] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   28.980323] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   28.980328] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   28.980334] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   28.980341] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   28.980348] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   28.980356] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   28.980364] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   28.980371] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   28.980378] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   28.980384] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   28.980390] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   28.980396] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   28.980403] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   28.980449] *** tx_isp_subdev_pipo: ispvic_frame_channel_s_stream SUCCESS - VIC streaming started! ***
[   28.980459] *** tx_isp_subdev_pipo: CALLING vic_core_s_stream to enable VIC interrupts ***
[   28.980467] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80558000, enable=1 ***
[   28.980474] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=4 ***
[   28.980479] *** vic_core_s_stream: STREAM ON ***
[   28.980484] *** vic_core_s_stream: EXACT Binary Ninja - State=4, no action needed ***
[   28.980490] *** tx_isp_subdev_pipo: vic_core_s_stream SUCCESS - VIC interrupts should now be ENABLED! ***
[   28.980496] tx_isp_subdev_pipo: completed successfully, returning 0
[   28.980502] *** ispcore_core_ops_init_with_sensor: SUCCESS - Core initialized and VIC streaming/IRQs armed ***
[   28.980506] ispcore_slake_module: Initializing channelsispcore_slake_module: Channel 0 enabled
[   28.980514] ispcore_slake_module: Channel 1 enabledispcore_slake_module: Channel 2 enabled
[   28.980522] ispcore_slake_module: Channel 3 enabledispcore_slake_module: Channel 4 enabled
[   28.980530] ispcore_slake_module: Channel 5 enabledispcore_slake_module: Calling VIC control function (0x4000001, 0)
[   28.980538] ispcore_slake_module: VIC control register written: 0x4000001ispcore_slake_module: Set VIC state to INIT (1)
[   28.980546] ispcore_slake_module: Processing subdevices*** DEBUG: isp_dev=85fa4000, isp_dev->subdevs=85fa7274 ***
[   28.980558] *** ispcore_slake_module: Calling slake_module for CSI subdev ***
[   28.980565] *** tx_isp_csi_slake_subdev: CSI slake/shutdown - current state=4 ***
[   28.980570] tx_isp_csi_slake_subdev: CSI in streaming state, stopping stream
[   28.980576] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   28.980582] csi_video_s_stream: sd=8521bc00, enable=0
[   28.980589] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 3 (enable=0)
[   28.980594] tx_isp_csi_slake_subdev: CSI in state 3, calling core_ops_init(disable)
[   28.980602] csi_core_ops_init: sd=8521bc00, csi_dev=8521bc00, enable=0
[   28.980610] tx_isp_csi_slake_subdev: CSI state 2->1, disabling clocks
[   28.980616] tx_isp_csi_slake_subdev: Disabled clock 0
[   28.980622] *** tx_isp_csi_slake_subdev: CSI slake complete, final state=1 ***
[   28.980627] ispcore_slake_module: CSI slake success
[   28.980631] *** ispcore_slake_module: Calling slake_module for VIC subdev ***
[   28.980637] *** tx_isp_vic_slake_subdev: ENTRY - sd=80558000 ***
[   28.980644] *** tx_isp_vic_slake_subdev: VIC slake/shutdown - vic_dev=80558000, current state=1 ***
[   28.980651] *** tx_isp_vic_slake_subdev: VIC slake complete, final state=1 ***
[   28.980656] ispcore_slake_module: VIC slake success
[   28.980661] *** ispcore_slake_module: All subdev slake operations completed using helper functions ***
[   28.980666] ispcore_slake_module: Managing ISP clocks
[   28.980671] ispcore_slake_module: Disabled IPU clockispcore_slake_module: Disabled ISP clock
[   28.980678] ispcore_slake_module: Complete, result=0<6>[   28.980684] *** ispcore_slake_module SUCCESS - ISP core should now be initialized ***
[   28.980690] *** vic_core_s_stream: VIC initialized, final state=1 ***
[   28.980696] *** tx_isp_video_s_stream: subdev[1] s_stream SUCCESS ***
[   28.980704] *** tx_isp_video_s_stream: Calling subdev[3]->ops->video->s_stream(1) ***
[   28.980710] gc2053: s_stream called with enable=1
[   28.980718] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   28.980724] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   28.980730] gc2053: About to write streaming registers for interface 1
[   28.980736] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   28.980746] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   28.981065] sensor_write: reg=0xfe val=0x00 SUCCESS
[   28.981073] sensor_write_array: reg[1] 0xfe=0x00 OK
[   28.981082] sensor_write: reg=0x3e val=0x91, client=85543d00, adapter=i2c0, addr=0x37
[   28.989254] sensor_write: reg=0x3e val=0x91 SUCCESS
[   28.989266] sensor_write_array: reg[2] 0x3e=0x91 OK
[   28.989273] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   28.989281] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   28.989287] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   28.989293] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   28.989299] *** tx_isp_video_s_stream: subdev[3] s_stream SUCCESS ***
[   28.989306] *** tx_isp_video_s_stream: Calling subdev[5]->ops->video->s_stream(1) ***
[   28.989312] gc2053: s_stream called with enable=1
[   28.989319] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   28.989325] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   28.989332] gc2053: About to write streaming registers for interface 1
[   28.989337] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   28.989347] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   28.989664] sensor_write: reg=0xfe val=0x00 SUCCESS
[   28.989672] sensor_write_array: reg[1] 0xfe=0x00 OK
[   28.989680] sensor_write: reg=0x3e val=0x91, client=85543d00, adapter=i2c0, addr=0x37
[   28.989999] sensor_write: reg=0x3e val=0x91 SUCCESS
[   28.990006] sensor_write_array: reg[2] 0x3e=0x91 OK
[   28.990012] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   28.990019] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   28.990025] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   28.990031] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   28.990036] *** tx_isp_video_s_stream: subdev[5] s_stream SUCCESS ***
[   28.990043] *** tx_isp_video_s_stream: Post-sensor s_stream re-trigger of CSI core->init ***
[   29.000452] csi_core_ops_init: sd=8521bc00, csi_dev=8521bc00, enable=1
[   29.000464] *** VIC POST-SENSOR REASSERT: re-applying routing/mask after sensor stream-on ***
[   29.039125] *** VIC POST-SENSOR REASSERT: No status bits asserted in 20ms window ***
[   29.039146] ISP IOCTL: cmd=0x800456d0 arg=0x7fc9dd80
[   29.039154] TX_ISP_VIDEO_LINK_SETUP: config=0
[   29.039159] TX_ISP_VIDEO_LINK_SETUP: Link config unchanged (0)
[   29.039166] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   29.039173] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   29.039179] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   29.039186] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   29.039192] VIC activated: state 1 -> 2 (READY)
[   29.039199] *** VIC ACTIVATION: Buffers will be allocated on-demand during QBUF operations ***
[   29.039205] *** VIC ACTIVATION: Free buffer list initialized (empty) - allocation deferred ***
[   29.039210] *** VIC ACTIVATION: Using GOOD-THINGS deferred buffer allocation strategy ***
[   29.039217] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   29.039224] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   29.039230] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   29.039236] csi_video_s_stream: sd=8521bc00, enable=1
[   29.039243] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   29.039251] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80558000, enable=1 ***
[   29.039257] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   29.039262] *** vic_core_s_stream: STREAM ON ***
[   29.039267] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   29.039273] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   29.039279] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   29.039284] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   29.039294] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f91400 (name=gc2053) ***
[   29.039300] *** tx_isp_get_sensor: Found real sensor: 85f91400 ***
[   29.039307] *** DEBUG: sensor_attr=c06e10cc, dbus_type=1 ***
[   29.039313] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   29.039319] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   29.039325] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   29.039330] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   29.039336] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   29.039342] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   29.060445] MIPI interface configuration
[   29.060462] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   29.060467] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   29.060474] *** VIC UNLOCK: Initial register 0x0 value = 0x00000000 ***
[   29.060480] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   29.060486] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   29.060494] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   29.060499] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   29.082470] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   29.082481] *** Continuing anyway to prevent infinite hang ***
[   29.082487] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   29.082493] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   29.082499] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   29.082504] tx_isp_vic_start: Linear mode enabled
[   29.082510] *** VIC start completed - vic_start_ok = 1 ***
[   29.082517] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   29.082522] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   29.082528] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   29.082536] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   29.082542] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   29.082551] ispvic_frame_channel_qbuf: arg1=80558000, arg2=  (null)
[   29.082557] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   29.082563] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   29.082570] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   29.082577] ispvic_frame_channel_s_stream: arg1=80558000, arg2=1
[   29.082583] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80558000
[   29.082590] ispvic_frame_channel_s_stream[2524]: streamon
[   29.082596] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   29.082602] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   29.082608] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   29.082614] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   29.082619] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   29.082626] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   29.082632] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   29.082639] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   29.082645] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   29.082650] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   29.082656] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   29.082662] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   29.082668] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   29.082676] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   29.082684] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   29.082691] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   29.082698] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   29.082706] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   29.082712] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   29.082718] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   29.082723] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   29.082730] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   29.082746] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
	[   29.082752] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   29.082758] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   29.082764] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   29.082770] ispvic_frame_channel_qbuf: arg1=80558000, arg2=  (null)
[   29.082775] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   29.082788] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xfffffffe [0x1ec]=0x00000000 (MainMask=0xFFFFFFFE)***
[   29.082797] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   29.082862] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFFFFFFE)***
[   29.082874] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   29.082880] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   29.082890] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   29.082896] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   29.082901] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   29.082910] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   29.082918] *** VIC UNMASK-ALL TEST: [0x1e8]=0xfffffffe [0x1ec]=0x00000000 (expect 0) ***
[   29.083927] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   29.083932] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   29.083938] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   29.084046] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   29.084053] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   29.084160] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   29.084168] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   29.084173] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   29.084178] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   29.084184] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   29.084190] tx_vic_enable_irq: Calling VIC interrupt callback
[   29.084196] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   29.084202] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   29.084208] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   29.084216] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   29.084222] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   29.084230] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   29.084236] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***

[   29.084243] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   29.084248] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   29.084254] *** tx_vic_enable_irq: completed successfully ***
root@ing-wyze-cam3-a000 ~# dmesg 
[   28.809088] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   28.809094] tiziano_gib_init: Initializing GIB processing
[   28.809099] tiziano_lsc_init: Initializing LSC processing
[   28.809104] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   28.809111] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   28.809118] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   28.809124] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   28.809130] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   28.809187] tiziano_ccm_init: Initializing Color Correction Matrix
[   28.809192] tiziano_ccm_init: Using linear CCM parameters
[   28.809198] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   28.809204] jz_isp_ccm: EV=64, CT=9984
[   28.809211] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   28.809216] cm_control: saturation=128
[   28.809222] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   28.809228] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   28.809233] tiziano_ccm_init: CCM initialized successfully
[   28.809238] tiziano_dmsc_init: Initializing DMSC processing
[   28.809243] tiziano_sharpen_init: Initializing Sharpening
[   28.809248] tiziano_sharpen_init: Using linear sharpening parameters
[   28.809254] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   28.809261] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   28.809267] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   28.809293] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   28.809300] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   28.809305] tiziano_sharpen_init: Sharpening initialized successfully
[   28.809310] tiziano_sdns_init: Initializing SDNS processing
[   28.809318] tiziano_sdns_init: Using linear SDNS parameters
[   28.809324] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   28.809330] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   28.809336] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   28.809368] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   28.809375] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   28.809380] tiziano_sdns_init: SDNS processing initialized successfully
[   28.809387] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   28.809392] tiziano_mdns_init: Using linear MDNS parameters
[   28.809402] tiziano_mdns_init: MDNS processing initialized successfully
[   28.809408] tiziano_clm_init: Initializing CLM processing
[   28.809413] tiziano_dpc_init: Initializing DPC processing
[   28.809418] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   28.809424] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   28.809431] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   28.809436] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   28.809451] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   28.809458] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   28.809463] tiziano_hldc_init: Initializing HLDC processing
[   28.809470] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   28.809476] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   28.809482] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   28.809489] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   28.809496] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   28.809503] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   28.809510] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   28.809516] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   28.809524] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   28.809530] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   28.809537] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   28.809544] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   28.809550] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   28.809556] tiziano_adr_params_refresh: Refreshing ADR parameters
[   28.809562] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   28.809567] tiziano_adr_params_init: Initializing ADR parameter arrays
[   28.809574] tisp_adr_set_params: Writing ADR parameters to registers
[   28.809606] tisp_adr_set_params: ADR parameters written to hardware
[   28.809612] tisp_event_set_cb: Setting callback for event 18
[   28.809618] tisp_event_set_cb: Event 18 callback set to c0686c84
[   28.809624] tisp_event_set_cb: Setting callback for event 2
[   28.809631] tisp_event_set_cb: Event 2 callback set to c0685788
[   28.809636] tiziano_adr_init: ADR processing initialized successfully
[   28.809642] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   28.809647] tiziano_bcsh_init: Initializing BCSH processing
[   28.809652] tiziano_ydns_init: Initializing YDNS processing
[   28.809658] tiziano_rdns_init: Initializing RDNS processing
[   28.809662] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   28.809676] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x538000 (Binary Ninja EXACT) ***
[   28.809684] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x539000 (Binary Ninja EXACT) ***
[   28.809690] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x53a000 (Binary Ninja EXACT) ***
[   28.809697] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x53b000 (Binary Ninja EXACT) ***
[   28.809704] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x53c000 (Binary Ninja EXACT) ***
[   28.809710] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x53c800 (Binary Ninja EXACT) ***
[   28.809717] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x53d000 (Binary Ninja EXACT) ***
[   28.809724] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x53d800 (Binary Ninja EXACT) ***
[   28.809730] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   28.809736] *** tisp_init: AE0 buffer allocated at 0x00538000 ***
[   28.809743] *** CRITICAL FIX: data_b2f3c initialized to 0x80538000 (prevents stack corruption) ***
[   28.809752] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x560000 (Binary Ninja EXACT) ***
[   28.809758] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x561000 (Binary Ninja EXACT) ***
[   28.809765] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x562000 (Binary Ninja EXACT) ***
[   28.809772] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x563000 (Binary Ninja EXACT) ***
[   28.809778] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x564000 (Binary Ninja EXACT) ***
[   28.809786] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x564800 (Binary Ninja EXACT) ***
[   28.809792] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x565000 (Binary Ninja EXACT) ***
[   28.809799] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x565800 (Binary Ninja EXACT) ***
[   28.809806] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   28.809812] *** tisp_init: AE1 buffer allocated at 0x00560000 ***
[   28.809817] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   28.809823] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   28.809828] *** tisp_init: STREAMING ACTIVE - Skipping second ISP control register write ***
[   28.809835] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   28.809840] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   28.809848] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   28.809856] tiziano_ae_params_refresh: Refreshing AE parameters
[   28.809866] tiziano_ae_params_refresh: AE parameters refreshed
[   28.809872] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   28.809878] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   28.809883] tiziano_ae_para_addr: Setting up AE parameter addresses
[   28.809888] tiziano_ae_para_addr: AE parameter addresses configured
[   28.809895] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   28.809902] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   28.809909] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   28.809916] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   28.809922] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   28.809929] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   28.809936] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   28.809943] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b7ed814 (Binary Ninja EXACT) ***
[   28.809950] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   28.809956] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   28.809963] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   28.809970] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   28.809975] tiziano_ae_set_hardware_param: Parameters written to AE0
[   28.809982] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   28.809988] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   28.809994] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   28.810001] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   28.810007] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   28.810014] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   28.810020] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   28.810027] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   28.810033] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   28.810040] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   28.810046] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   28.810053] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   28.810058] tiziano_ae_set_hardware_param: Parameters written to AE1
[   28.810064] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   28.810072] *** system_irq_func_set: Registered handler c068698c at index 10 ***
[   28.826154] *** system_irq_func_set: Registered handler c0686a80 at index 27 ***
[   28.849726] *** system_irq_func_set: Registered handler c068698c at index 26 ***
[   28.867582] *** system_irq_func_set: Registered handler c0686b68 at index 29 ***
[   28.881569] *** system_irq_func_set: Registered handler c0686af4 at index 28 ***
[   28.899370] *** system_irq_func_set: Registered handler c0686bdc at index 30 ***
[   28.919560] *** system_irq_func_set: Registered handler c0686c30 at index 20 ***
[   28.929642] *** system_irq_func_set: Registered handler c0686c84 at index 18 ***
[   28.944592] *** system_irq_func_set: Registered handler c0686cd8 at index 31 ***
[   28.961310] *** system_irq_func_set: Registered handler c0686d2c at index 11 ***
[   28.979134] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   28.979155] tiziano_deflicker_expt: Generated 119 LUT entries
[   28.979162] tisp_event_set_cb: Setting callback for event 1
[   28.979170] tisp_event_set_cb: Event 1 callback set to c068658c
[   28.979175] tisp_event_set_cb: Setting callback for event 6
[   28.979182] tisp_event_set_cb: Event 6 callback set to c0685aec
[   28.979187] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   28.979193] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   28.979200] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   28.979208] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   28.979214] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   28.979220] tiziano_awb_init: AWB hardware blocks enabled
[   28.979225] tiziano_gamma_init: Initializing Gamma processing
[   28.979230] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   28.979290] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   28.979295] tiziano_gib_init: Initializing GIB processing
[   28.979300] tiziano_lsc_init: Initializing LSC processing
[   28.979305] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   28.979312] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   28.979319] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   28.979326] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   28.979331] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   28.979388] tiziano_ccm_init: Initializing Color Correction Matrix
[   28.979394] tiziano_ccm_init: Using linear CCM parameters
[   28.979400] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   28.979406] jz_isp_ccm: EV=64, CT=9984
[   28.979412] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   28.979418] cm_control: saturation=128
[   28.979423] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   28.979429] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   28.979434] tiziano_ccm_init: CCM initialized successfully
[   28.979439] tiziano_dmsc_init: Initializing DMSC processing
[   28.979444] tiziano_sharpen_init: Initializing Sharpening
[   28.979450] tiziano_sharpen_init: Using linear sharpening parameters
[   28.979455] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   28.979462] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   28.979468] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   28.979494] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   28.979501] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   28.979506] tiziano_sharpen_init: Sharpening initialized successfully
[   28.979512] tiziano_sdns_init: Initializing SDNS processing
[   28.979520] tiziano_sdns_init: Using linear SDNS parameters
[   28.979525] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   28.979532] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   28.979538] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   28.979570] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   28.979576] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   28.979582] tiziano_sdns_init: SDNS processing initialized successfully
[   28.979588] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   28.979593] tiziano_mdns_init: Using linear MDNS parameters
[   28.979604] tiziano_mdns_init: MDNS processing initialized successfully
[   28.979608] tiziano_clm_init: Initializing CLM processing
[   28.979614] tiziano_dpc_init: Initializing DPC processing
[   28.979619] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   28.979624] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   28.979631] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   28.979636] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   28.979652] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   28.979658] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   28.979664] tiziano_hldc_init: Initializing HLDC processing
[   28.979670] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   28.979676] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   28.979683] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   28.979690] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   28.979697] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   28.979704] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   28.979710] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   28.979717] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   28.979724] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   28.979730] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   28.979737] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   28.979744] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   28.979751] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   28.979756] tiziano_adr_params_refresh: Refreshing ADR parameters
[   28.979762] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   28.979767] tiziano_adr_params_init: Initializing ADR parameter arrays
[   28.979774] tisp_adr_set_params: Writing ADR parameters to registers
[   28.979806] tisp_adr_set_params: ADR parameters written to hardware
[   28.979812] tisp_event_set_cb: Setting callback for event 18
[   28.979818] tisp_event_set_cb: Event 18 callback set to c0686c84
[   28.979824] tisp_event_set_cb: Setting callback for event 2
[   28.979830] tisp_event_set_cb: Event 2 callback set to c0685788
[   28.979835] tiziano_adr_init: ADR processing initialized successfully
[   28.979842] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   28.979847] tiziano_bcsh_init: Initializing BCSH processing
[   28.979852] tiziano_ydns_init: Initializing YDNS processing
[   28.979857] tiziano_rdns_init: Initializing RDNS processing
[   28.979862] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   28.979867] tisp_event_init: Initializing ISP event system
[   28.979874] tisp_event_init: SAFE event system initialized with 20 nodes
[   28.979880] tisp_event_set_cb: Setting callback for event 4
[   28.979886] tisp_event_set_cb: Event 4 callback set to c06857b4
[   28.979892] tisp_event_set_cb: Setting callback for event 5
[   28.979898] tisp_event_set_cb: Event 5 callback set to c0685c7c
[   28.979903] tisp_event_set_cb: Setting callback for event 7
[   28.979910] tisp_event_set_cb: Event 7 callback set to c0685848
[   28.979915] tisp_event_set_cb: Setting callback for event 9
[   28.979921] tisp_event_set_cb: Event 9 callback set to c06858d0
[   28.979926] tisp_event_set_cb: Setting callback for event 8
[   28.979933] tisp_event_set_cb: Event 8 callback set to c0685994
[   28.979938] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   28.979944] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   28.979950] tisp_param_operate_init: Initializing parameter operations
[   28.979957] tisp_netlink_init: Initializing netlink communication
[   28.979962] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   28.979993] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   28.980006] tisp_netlink_init: Custom protocol failed, trying with nlcfg structure
[   28.980018] tisp_netlink_init: Failed to create netlink socket - continuing without netlink support
[   28.980024] tisp_netlink_init: ISP tuning parameters may not be available, but VIC interrupts should still work
[   28.980030] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   28.980036] tisp_code_create_tuning_node: Device already created, skipping
[   28.980042] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   28.980048] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   28.980054] *** ispcore_core_ops_init_with_sensor: tisp_init SUCCESS - MIPI CSI should now be configured ***
[   28.980060] *** ispcore_core_ops_init_with_sensor: VIC already in state 4 (>= 3) ****** ispcore_core_ops_init_with_sensor: Calling tx_isp_subdev_pipo to program VIC and start MDMA/IRQs ***
[   28.980070] *** tx_isp_subdev_pipo: EXACT Binary Ninja MCP implementation ***
[   28.980076] tx_isp_subdev_pipo: entry - sd=80558000, arg=85fa4000
[   28.980082] tx_isp_subdev_pipo: vic_dev retrieved from host_priv: 80558000
[   28.980088] tx_isp_subdev_pipo: set processing = 1 (Binary Ninja offset 0x20c)
[   28.980094] tx_isp_subdev_pipo: arg is not NULL - initializing pipe structures (Binary Ninja MCP)
[   28.980099] tx_isp_subdev_pipo: initialized linked list heads (Binary Ninja MCP)
[   28.980104] tx_isp_subdev_pipo: initialized spinlock (Binary Ninja MCP)
[   28.980110] *** CRITICAL: Set ispvic_frame_channel_s_stream at raw_pipe[3] (offset 0xc) ***
[   28.980116] *** tx_isp_subdev_pipo: GOOD-THINGS approach - deferring buffer allocation ***
[   28.980121] *** Buffers will be allocated on-demand during QBUF operations ***
[   28.980127] tx_isp_subdev_pipo: initialized buffer index 0 (allocation deferred)
[   28.980134] tx_isp_subdev_pipo: cleared VIC register at offset 0x318 for buffer 0
[   28.980140] tx_isp_subdev_pipo: initialized buffer index 1 (allocation deferred)
[   28.980146] tx_isp_subdev_pipo: cleared VIC register at offset 0x31c for buffer 1
[   28.980152] tx_isp_subdev_pipo: initialized buffer index 2 (allocation deferred)
[   28.980158] tx_isp_subdev_pipo: cleared VIC register at offset 0x320 for buffer 2
[   28.980164] tx_isp_subdev_pipo: initialized buffer index 3 (allocation deferred)
[   28.980170] tx_isp_subdev_pipo: cleared VIC register at offset 0x324 for buffer 3
[   28.980176] tx_isp_subdev_pipo: initialized buffer index 4 (allocation deferred)
[   28.980183] tx_isp_subdev_pipo: cleared VIC register at offset 0x328 for buffer 4
[   28.980188] *** tx_isp_subdev_pipo: Using GOOD-THINGS deferred buffer allocation strategy ***
[   28.980194] tx_isp_subdev_pipo: initialized 5 buffer structures (safe implementation)
[   28.980200] tx_isp_subdev_pipo: set processing = 1 (pipe enabled, safe struct access)
[   28.980206] *** tx_isp_subdev_pipo: RESETTING stream_state to 0 before calling ispvic_frame_channel_s_stream ***
[   28.980212] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_qbuf to write buffer addresses ***
[   28.980218] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   28.980225] ispvic_frame_channel_qbuf: arg1=80558000, arg2=  (null)
[   28.980232] *** tx_isp_subdev_pipo: ispvic_frame_channel_qbuf SUCCESS - buffer addresses written to VIC hardware ***
[   28.980237] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_s_stream to start VIC streaming ***
[   28.980243] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   28.980250] ispvic_frame_channel_s_stream: arg1=80558000, arg2=1
[   28.980256] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80558000
[   28.980262] ispvic_frame_channel_s_stream[2524]: streamon
[   28.980269] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   28.980275] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   28.980280] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   28.980286] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   28.980292] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   28.980298] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   28.980304] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   28.980311] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   28.980317] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   28.980323] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   28.980328] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   28.980334] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   28.980341] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   28.980348] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   28.980356] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   28.980364] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   28.980371] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   28.980378] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   28.980384] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   28.980390] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   28.980396] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   28.980403] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   28.980449] *** tx_isp_subdev_pipo: ispvic_frame_channel_s_stream SUCCESS - VIC streaming started! ***
[   28.980459] *** tx_isp_subdev_pipo: CALLING vic_core_s_stream to enable VIC interrupts ***
[   28.980467] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80558000, enable=1 ***
[   28.980474] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=4 ***
[   28.980479] *** vic_core_s_stream: STREAM ON ***
[   28.980484] *** vic_core_s_stream: EXACT Binary Ninja - State=4, no action needed ***
[   28.980490] *** tx_isp_subdev_pipo: vic_core_s_stream SUCCESS - VIC interrupts should now be ENABLED! ***
[   28.980496] tx_isp_subdev_pipo: completed successfully, returning 0
[   28.980502] *** ispcore_core_ops_init_with_sensor: SUCCESS - Core initialized and VIC streaming/IRQs armed ***
[   28.980506] ispcore_slake_module: Initializing channelsispcore_slake_module: Channel 0 enabled
[   28.980514] ispcore_slake_module: Channel 1 enabledispcore_slake_module: Channel 2 enabled
[   28.980522] ispcore_slake_module: Channel 3 enabledispcore_slake_module: Channel 4 enabled
[   28.980530] ispcore_slake_module: Channel 5 enabledispcore_slake_module: Calling VIC control function (0x4000001, 0)
[   28.980538] ispcore_slake_module: VIC control register written: 0x4000001ispcore_slake_module: Set VIC state to INIT (1)
[   28.980546] ispcore_slake_module: Processing subdevices*** DEBUG: isp_dev=85fa4000, isp_dev->subdevs=85fa7274 ***
[   28.980558] *** ispcore_slake_module: Calling slake_module for CSI subdev ***
[   28.980565] *** tx_isp_csi_slake_subdev: CSI slake/shutdown - current state=4 ***
[   28.980570] tx_isp_csi_slake_subdev: CSI in streaming state, stopping stream
[   28.980576] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   28.980582] csi_video_s_stream: sd=8521bc00, enable=0
[   28.980589] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 3 (enable=0)
[   28.980594] tx_isp_csi_slake_subdev: CSI in state 3, calling core_ops_init(disable)
[   28.980602] csi_core_ops_init: sd=8521bc00, csi_dev=8521bc00, enable=0
d[   28.980610] tx_isp_csi_slake_subdev: CSI state 2->1, disabling clocks
[   28.980616] tx_isp_csi_slake_subdev: Disabled clock 0
[   28.980622] *** tx_isp_csi_slake_subdev: CSI slake complete, final state=1 ***
[   28.980627] ispcore_slake_module: CSI slake success
[   28.980631] *** ispcore_slake_module: Calling slake_module for VIC subdev ***
[   28.980637] *** tx_isp_vic_slake_subdev: ENTRY - sd=80558000 ***
[   28.980644] *** tx_isp_vic_slake_subdev: VIC slake/shutdown - vic_dev=80558000, current state=1 ***
[   28.980651] *** tx_isp_vic_slake_subdev: VIC slake complete, final state=1 ***
[   28.980656] ispcore_slake_module: VIC slake success
[   28.980661] *** ispcore_slake_module: All subdev slake operations completed using helper functions ***
[   28.980666] ispcore_slake_module: Managing ISP clocks
[   28.980671] ispcore_slake_module: Disabled IPU clockispcore_slake_module: Disabled ISP clock
[   28.980678] ispcore_slake_module: Complete, result=0<6>[   28.980684] *** ispcore_slake_module SUCCESS - ISP core should now be initialized ***
[   28.980690] *** vic_core_s_stream: VIC initialized, final state=1 ***
[   28.980696] *** tx_isp_video_s_stream: subdev[1] s_stream SUCCESS ***
[   28.980704] *** tx_isp_video_s_stream: Calling subdev[3]->ops->video->s_stream(1) ***
[   28.980710] gc2053: s_stream called with enable=1
[   28.980718] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   28.980724] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   28.980730] gc2053: About to write streaming registers for interface 1
[   28.980736] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   28.980746] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   28.981065] sensor_write: reg=0xfe val=0x00 SUCCESS
[   28.981073] sensor_write_array: reg[1] 0xfe=0x00 OK
[   28.981082] sensor_write: reg=0x3e val=0x91, client=85543d00, adapter=i2c0, addr=0x37
[   28.989254] sensor_write: reg=0x3e val=0x91 SUCCESS
[   28.989266] sensor_write_array: reg[2] 0x3e=0x91 OK
[   28.989273] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   28.989281] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   28.989287] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   28.989293] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   28.989299] *** tx_isp_video_s_stream: subdev[3] s_stream SUCCESS ***
[   28.989306] *** tx_isp_video_s_stream: Calling subdev[5]->ops->video->s_stream(1) ***
[   28.989312] gc2053: s_stream called with enable=1
[   28.989319] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   28.989325] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   28.989332] gc2053: About to write streaming registers for interface 1
[   28.989337] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   28.989347] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   28.989664] sensor_write: reg=0xfe val=0x00 SUCCESS
[   28.989672] sensor_write_array: reg[1] 0xfe=0x00 OK
[   28.989680] sensor_write: reg=0x3e val=0x91, client=85543d00, adapter=i2c0, addr=0x37
[   28.989999] sensor_write: reg=0x3e val=0x91 SUCCESS
[   28.990006] sensor_write_array: reg[2] 0x3e=0x91 OK
[   28.990012] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   28.990019] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   28.990025] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   28.990031] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   28.990036] *** tx_isp_video_s_stream: subdev[5] s_stream SUCCESS ***
[   28.990043] *** tx_isp_video_s_stream: Post-sensor s_stream re-trigger of CSI core->init ***
[   29.000452] csi_core_ops_init: sd=8521bc00, csi_dev=8521bc00, enable=1
[   29.000464] *** VIC POST-SENSOR REASSERT: re-applying routing/mask after sensor stream-on ***
[   29.039125] *** VIC POST-SENSOR REASSERT: No status bits asserted in 20ms window ***
[   29.039146] ISP IOCTL: cmd=0x800456d0 arg=0x7fc9dd80
[   29.039154] TX_ISP_VIDEO_LINK_SETUP: config=0
m[   29.039159] TX_ISP_VIDEO_LINK_SETUP: Link config unchanged (0)
[   29.039166] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   29.039173] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   29.039179] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   29.039186] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   29.039192] VIC activated: state 1 -> 2 (READY)
[   29.039199] *** VIC ACTIVATION: Buffers will be allocated on-demand during QBUF operations ***
[   29.039205] *** VIC ACTIVATION: Free buffer list initialized (empty) - allocation deferred ***
[   29.039210] *** VIC ACTIVATION: Using GOOD-THINGS deferred buffer allocation strategy ***
[   29.039217] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   29.039224] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   29.039230] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   29.039236] csi_video_s_stream: sd=8521bc00, enable=1
[   29.039243] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   29.039251] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80558000, enable=1 ***
[   29.039257] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   29.039262] *** vic_core_s_stream: STREAM ON ***
[   29.039267] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   29.039273] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   29.039279] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   29.039284] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   29.039294] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f91400 (name=gc2053) ***
[   29.039300] *** tx_isp_get_sensor: Found real sensor: 85f91400 ***
[   29.039307] *** DEBUG: sensor_attr=c06e10cc, dbus_type=1 ***
[   29.039313] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   29.039319] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   29.039325] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   29.039330] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   29.039336] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   29.039342] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   29.060445] MIPI interface configuration
[   29.060462] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   29.060467] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   29.060474] *** VIC UNLOCK: Initial register 0x0 value = 0x00000000 ***
[   29.060480] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   29.060486] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   29.060494] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   29.060499] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   29.082470] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   29.082481] *** Continuing anyway to prevent infinite hang ***
[   29.082487] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   29.082493] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   29.082499] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   29.082504] tx_isp_vic_start: Linear mode enabled
[   29.082510] *** VIC start completed - vic_start_ok = 1 ***
[   29.082517] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   29.082522] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   29.082528] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   29.082536] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   29.082542] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   29.082551] ispvic_frame_channel_qbuf: arg1=80558000, arg2=  (null)
[   29.082557] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   29.082563] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   29.082570] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   29.082577] ispvic_frame_channel_s_stream: arg1=80558000, arg2=1
[   29.082583] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80558000
[   29.082590] ispvic_frame_channel_s_stream[2524]: streamon
[   29.082596] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   29.082602] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   29.082608] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   29.082614] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   29.082619] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   29.082626] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   29.082632] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   29.082639] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   29.082645] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   29.082650] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   29.082656] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   29.082662] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   29.082668] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   29.082676] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   29.082684] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   29.082691] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   29.082698] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   29.082706] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   29.082712] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   29.082718] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   29.082723] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   29.082730] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   29.082746] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   29.082752] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   29.082758] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   29.082764] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   29.082770] ispvic_frame_channel_qbuf: arg1=80558000, arg2=  (null)
[   29.082775] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   29.082788] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xfffffffe [0x1ec]=0x00000000 (MainMask=0xFFFFFFFE)***
[   29.082797] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   29.082862] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFFFFFFE)***
	[INFO:WS.cpp]: Server started on port 8089
[   29.082874] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   29.082880] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   29.082890] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   29.082896] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   29.082901] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   29.082910] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   29.082918] *** VIC UNMASK-ALL TEST: [0x1e8]=0xfffffffe [0x1ec]=0x00000000 (expect 0) ***
[   29.083927] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   29.083932] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   29.083938] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   29.084046] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   29.084053] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   29.084160] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   29.084168] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   29.084173] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   29.084178] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   29.084184] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   29.084190] tx_vic_enable_irq: Calling VIC interrupt callback
[   29.084196] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   29.084202] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   29.084208] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   29.084216] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   29.084222] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   29.084230] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   29.084236] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   29.084243] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   29.084248] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   29.084254] *** tx_vic_enable_irq: completed successfully ***
[   29.504713] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   29.504728] *** vic_core_s_stream: VIC state 2 - letting tx_isp_video_s_stream handle state 2 â 3 transition ***
[   29.504735] *** vic_core_s_stream: VIC initialized, final state=2 ***
[   29.504745] gc2053: s_stream called with enable=1
[   29.504753] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   29.504759] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   29.504765] gc2053: About to write streaming registers for interface 1
[   29.504771] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   29.504781] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   29.505160] sensor_write: reg=0xfe val=0x00 SUCCESS
[   29.505167] sensor_write_array: reg[1] 0xfe=0x00 OK
[   29.505176] sensor_write: reg=0x3e val=0x91, client=85543d00, adapter=i2c0, addr=0x37
[   29.505488] sensor_write: reg=0x3e val=0x91 SUCCESS
[   29.505495] sensor_write_array: reg[2] 0x3e=0x91 OK
[   29.505501] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   29.505508] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   29.505514] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   29.505520] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   29.505527] gc2053: s_stream called with enable=1
[   29.505533] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   29.505539] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   29.505545] gc2053: About to write streaming registers for interface 1
[   29.505551] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   29.505560] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   29.510489] sensor_write: reg=0xfe val=0x00 SUCCESS
[   29.510500] sensor_write_array: reg[1] 0xfe=0x00 OK
[   29.510511] sensor_write: reg=0x3e val=0x91, client=85543d00, adapter=i2c0, addr=0x37
[   29.510829] sensor_write: reg=0x3e val=0x91 SUCCESS
[   29.510835] sensor_write_array: reg[2] 0x3e=0x91 OK
[   29.510842] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   29.510849] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   29.510855] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   29.510861] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   29.701403] ISP M0 device open called from pid 2327
[   29.701437] *** REFERENCE DRIVER IMPLEMENTATION ***
[   29.701445] ISP M0 tuning buffer allocated: 811c8000 (size=0x500c, aligned)
[   29.701451] tisp_par_ioctl global variable set: 811c8000
[   29.701503] isp_core_tunning_unlocked_ioctl: Auto-initializing tuning for V4L2 control (one-time)
[   29.701511] isp_core_tunning_unlocked_ioctl: Initializing tuning data structure
[   29.701517] isp_core_tuning_init: Initializing tuning data structure
[   29.701535] isp_core_tuning_init: Tuning data structure initialized at 811d0000
[   29.701542] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   29.701547] *** SAFE: mode_flag properly initialized using struct member access ***
[   29.701554] isp_core_tunning_unlocked_ioctl: Tuning data allocated at 811d0000
[   29.701559] *** BINARY NINJA REFERENCE: Skipping auto-initialization - no hardware reset during tuning setup ***
[   29.701565] isp_core_tunning_unlocked_ioctl: ISP tuning auto-enabled for V4L2 controls (permanent)
[   29.701572] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   29.701579] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   29.701585] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   29.701591] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   29.701596] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   29.701619] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   29.701627] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980900
[   29.701633] CRITICAL: Cannot access brightness field - PREVENTS BadVA CRASH
[   29.701641] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   29.701647] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980902
[   29.701653] CRITICAL: Cannot access saturation field at 811d0024 - PREVENTING BadVA CRASH
[   29.702021] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.702035] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   29.702041] Set control: cmd=0x980901 value=128
[   29.702107] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.702115] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   29.702121] Set control: cmd=0x98091b value=128
[   29.702183] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.702191] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   29.702197] Set control: cmd=0x980902 value=128
[   29.702203] tisp_bcsh_saturation: saturation=128
[   29.702209] tiziano_bcsh_update: Updating BCSH parameters
[   29.702216]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   29.702221] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   29.702283] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.702291] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   29.702298] Set control: cmd=0x980900 value=128
[   29.702377] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.702385] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   29.702391] Set control: cmd=0x980901 value=128
[   29.702451] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.702459] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   29.702466] Set control: cmd=0x98091b value=128
[   29.702525] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.702533] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   29.702540] Set control: cmd=0x980902 value=128
[   29.702546] tisp_bcsh_saturation: saturation=128
[   29.702551] tiziano_bcsh_update: Updating BCSH parameters
[   29.702558]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   29.702563] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   29.702624] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.702632] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   29.702639] Set control: cmd=0x980900 value=128
[   29.702711] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   29.702721] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   29.702727] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   29.702796] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   29.702803] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   29.702809] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   29.704062] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.704075] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980914 value=0
[   29.704082] Set control: cmd=0x980914 value=0
[   29.704261] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.704271] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980915 value=0
[   29.704277] Set control: cmd=0x980915 value=0
[   29.704639] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   29.704651] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   29.704657] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   29.704839] ISP IOCTL: cmd=0x800456d3 arg=0x0
[   29.704850] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=0 ***
[   29.704857] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   29.704864] csi_video_s_stream: sd=8521bc00, enable=0
[   29.704871] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 3 (enable=0)
[   29.704879] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80558000, enable=0 ***
[   29.704885] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   29.704890] *** vic_core_s_stream: STREAM OFF ***
[   29.704899] gc2053: s_stream called with enable=0
[   29.704905] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   29.704912] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   29.704917] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   29.704927] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   29.705256] sensor_write: reg=0xfe val=0x00 SUCCESS
[   29.705263] sensor_write_array: reg[1] 0xfe=0x00 OK
[   29.705272] sensor_write: reg=0x3e val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   29.707076] sensor_write: reg=0x3e val=0x00 SUCCESS
[   29.707089] sensor_write_array: reg[2] 0x3e=0x00 OK
[   29.707096] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   29.707103] gc2053: Sensor hardware streaming stopped
[   29.707110] gc2053: s_stream called with enable=0
[   29.707117] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   29.707123] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   29.707129] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   29.707138] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   29.707455] sensor_write: reg=0xfe val=0x00 SUCCESS
[   29.707463] sensor_write_array: reg[1] 0xfe=0x00 OK
[   29.707471] sensor_write: reg=0x3e val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   29.707965] sensor_write: reg=0x3e val=0x00 SUCCESS
[   29.707975] sensor_write_array: reg[2] 0x3e=0x00 OK
[   29.707981] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   29.707988] gc2053: Sensor hardware streaming stopped
[   29.708003] ISP IOCTL: cmd=0x800456d1 arg=0x7fc9dd80
[   29.708011] tx_isp_video_link_destroy: Destroying links for config 0
[   29.708018] tx_isp_video_link_destroy: All links destroyed, config reset to -1
[   29.708027] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.708034] isp_core_tunning_unlocked_ioctl: Set control cmd=0x8000164 value=1
[   29.708041] Set control: cmd=0x8000164 value=1
[   29.708049] ISP IOCTL: cmd=0x800456d0 arg=0x7fc9dd80
[   29.708055] TX_ISP_VIDEO_LINK_SETUP: config=0
[   29.708061] TX_ISP_VIDEO_LINK_SETUP: Link config changed from -1 to 0
[   29.708067] TX_ISP_VIDEO_LINK_SETUP: Link config updated to 0
[   29.708073] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   29.708079] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   29.708085] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   29.708092] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   29.708099] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   29.708105] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   29.708111] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   29.708117] csi_video_s_stream: sd=8521bc00, enable=1
[   29.708124] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   29.708132] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80558000, enable=1 ***
[   29.708138] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   29.708143] *** vic_core_s_stream: STREAM ON ***
[   29.708149] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   29.708155] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***

[   29.708160] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   29.708166] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   29.708174] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f91400 (name=gc2053) ***
[   29.708181] *** tx_isp_get_sensor: Found real sensor: 85f91400 ***
[   29.708187] *** DEBUG: sensor_attr=c06e10cc, dbus_type=1 ***
[   29.708194] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   29.708199] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   29.708205] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   29.708211] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   29.708216] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   29.708223] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   29.708341] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   29.708351] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   29.708357] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   29.708363] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   29.708369] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   29.730527] MIPI interface configuration
[   29.730541] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   29.730547] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   29.730553] *** VIC UNLOCK: Initial register 0x0 value = 0x00000001 ***
[   29.730559] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   29.730566] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   29.730573] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   29.730579] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   29.752581] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   29.752591] *** Continuing anyway to prevent infinite hang ***
[   29.752597] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   29.752603] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   29.752609] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   29.752614] tx_isp_vic_start: Linear mode enabled
[   29.752619] *** VIC start completed - vic_start_ok = 1 ***
[   29.752627] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   29.752632] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   29.752638] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   29.752646] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   29.752652] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   29.752660] ispvic_frame_channel_qbuf: arg1=80558000, arg2=  (null)
[   29.752667] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   29.752673] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   29.752679] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   29.752685] ispvic_frame_channel_s_stream: arg1=80558000, arg2=1
[   29.752692] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80558000
[   29.752698] ispvic_frame_channel_s_stream[2524]: streamon
[   29.752705] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   29.752711] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   29.752717] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   29.752722] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   29.752727] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   29.752735] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   29.752741] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   29.752748] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   29.752753] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   29.752759] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   29.752765] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   29.752771] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   29.752777] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   29.752785] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   29.752792] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   29.752799] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   29.752807] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   29.752815] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   29.752821] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   29.752827] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   29.752832] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   29.752839] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   29.752855] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   29.752861] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   29.752867] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   29.752873] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   29.752879] ispvic_frame_channel_qbuf: arg1=80558000, arg2=  (null)
[   29.752884] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   29.752897] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xfffffffe [0x1ec]=0x00000000 (MainMask=0xFFFFFFFE)***
[   29.752906] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   29.752971] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFFFFFFE)***
[   29.752983] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   29.752989] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   29.752998] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   29.753005] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   29.753010] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   29.753019] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   29.753027] *** VIC UNMASK-ALL TEST: [0x1e8]=0xfffffffe [0x1ec]=0x00000000 (expect 0) ***
[   29.754035] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   29.754041] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   29.754046] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   29.754154] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
set jpeg streamMngCtx suceess
[   29.754161] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   29.754269] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   29.754276] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   29.754281] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   29.754287] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   29.754293] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   29.754298] tx_vic_enable_irq: Calling VIC interrupt callback
[   29.754304] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   29.754311] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   29.754316] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   29.754325] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   29.754331] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   29.754339] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   29.754345] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   29.754352] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   29.754357] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   29.754363] *** tx_vic_enable_irq: completed successfully ***
root@ing-wyze-cam3-a000 ~# dmesg 
[   28.980256] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80558000
[   28.980262] ispvic_frame_channel_s_stream[2524]: streamon
[   28.980269] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   28.980275] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   28.980280] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   28.980286] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   28.980292] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   28.980298] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   28.980304] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   28.980311] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   28.980317] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   28.980323] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   28.980328] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   28.980334] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   28.980341] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   28.980348] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   28.980356] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   28.980364] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   28.980371] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   28.980378] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   28.980384] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   28.980390] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   28.980396] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   28.980403] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   28.980449] *** tx_isp_subdev_pipo: ispvic_frame_channel_s_stream SUCCESS - VIC streaming started! ***
[   28.980459] *** tx_isp_subdev_pipo: CALLING vic_core_s_stream to enable VIC interrupts ***
[   28.980467] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80558000, enable=1 ***
[   28.980474] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=4 ***
[   28.980479] *** vic_core_s_stream: STREAM ON ***
[   28.980484] *** vic_core_s_stream: EXACT Binary Ninja - State=4, no action needed ***
[   28.980490] *** tx_isp_subdev_pipo: vic_core_s_stream SUCCESS - VIC interrupts should now be ENABLED! ***
[   28.980496] tx_isp_subdev_pipo: completed successfully, returning 0
[   28.980502] *** ispcore_core_ops_init_with_sensor: SUCCESS - Core initialized and VIC streaming/IRQs armed ***
[   28.980506] ispcore_slake_module: Initializing channelsispcore_slake_module: Channel 0 enabled
[   28.980514] ispcore_slake_module: Channel 1 enabledispcore_slake_module: Channel 2 enabled
[   28.980522] ispcore_slake_module: Channel 3 enabledispcore_slake_module: Channel 4 enabled
[   28.980530] ispcore_slake_module: Channel 5 enabledispcore_slake_module: Calling VIC control function (0x4000001, 0)
[   28.980538] ispcore_slake_module: VIC control register written: 0x4000001ispcore_slake_module: Set VIC state to INIT (1)
[   28.980546] ispcore_slake_module: Processing subdevices*** DEBUG: isp_dev=85fa4000, isp_dev->subdevs=85fa7274 ***
[   28.980558] *** ispcore_slake_module: Calling slake_module for CSI subdev ***
[   28.980565] *** tx_isp_csi_slake_subdev: CSI slake/shutdown - current state=4 ***
[   28.980570] tx_isp_csi_slake_subdev: CSI in streaming state, stopping stream
[   28.980576] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   28.980582] csi_video_s_stream: sd=8521bc00, enable=0
[   28.980589] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 3 (enable=0)
[   28.980594] tx_isp_csi_slake_subdev: CSI in state 3, calling core_ops_init(disable)
[   28.980602] csi_core_ops_init: sd=8521bc00, csi_dev=8521bc00, enable=0
[   28.980610] tx_isp_csi_slake_subdev: CSI state 2->1, disabling clocks
[   28.980616] tx_isp_csi_slake_subdev: Disabled clock 0
[   28.980622] *** tx_isp_csi_slake_subdev: CSI slake complete, final state=1 ***
[   28.980627] ispcore_slake_module: CSI slake success
[   28.980631] *** ispcore_slake_module: Calling slake_module for VIC subdev ***
[   28.980637] *** tx_isp_vic_slake_subdev: ENTRY - sd=80558000 ***
[   28.980644] *** tx_isp_vic_slake_subdev: VIC slake/shutdown - vic_dev=80558000, current state=1 ***
[   28.980651] *** tx_isp_vic_slake_subdev: VIC slake complete, final state=1 ***
[   28.980656] ispcore_slake_module: VIC slake success
[   28.980661] *** ispcore_slake_module: All subdev slake operations completed using helper functions ***
[   28.980666] ispcore_slake_module: Managing ISP clocks
[   28.980671] ispcore_slake_module: Disabled IPU clockispcore_slake_module: Disabled ISP clock
[   28.980678] ispcore_slake_module: Complete, result=0<6>[   28.980684] *** ispcore_slake_module SUCCESS - ISP core should now be initialized ***
[   28.980690] *** vic_core_s_stream: VIC initialized, final state=1 ***
[   28.980696] *** tx_isp_video_s_stream: subdev[1] s_stream SUCCESS ***
[   28.980704] *** tx_isp_video_s_stream: Calling subdev[3]->ops->video->s_stream(1) ***
[   28.980710] gc2053: s_stream called with enable=1
[   28.980718] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   28.980724] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   28.980730] gc2053: About to write streaming registers for interface 1
[   28.980736] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   28.980746] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   28.981065] sensor_write: reg=0xfe val=0x00 SUCCESS
[   28.981073] sensor_write_array: reg[1] 0xfe=0x00 OK
[   28.981082] sensor_write: reg=0x3e val=0x91, client=85543d00, adapter=i2c0, addr=0x37
[   28.989254] sensor_write: reg=0x3e val=0x91 SUCCESS
[   28.989266] sensor_write_array: reg[2] 0x3e=0x91 OK
[   28.989273] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   28.989281] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   28.989287] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   28.989293] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   28.989299] *** tx_isp_video_s_stream: subdev[3] s_stream SUCCESS ***
[   28.989306] *** tx_isp_video_s_stream: Calling subdev[5]->ops->video->s_stream(1) ***
[   28.989312] gc2053: s_stream called with enable=1
[   28.989319] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   28.989325] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   28.989332] gc2053: About to write streaming registers for interface 1
[   28.989337] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   28.989347] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   28.989664] sensor_write: reg=0xfe val=0x00 SUCCESS
[   28.989672] sensor_write_array: reg[1] 0xfe=0x00 OK
[   28.989680] sensor_write: reg=0x3e val=0x91, client=85543d00, adapter=i2c0, addr=0x37
[   28.989999] sensor_write: reg=0x3e val=0x91 SUCCESS
[   28.990006] sensor_write_array: reg[2] 0x3e=0x91 OK
[   28.990012] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   28.990019] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   28.990025] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   28.990031] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   28.990036] *** tx_isp_video_s_stream: subdev[5] s_stream SUCCESS ***
[   28.990043] *** tx_isp_video_s_stream: Post-sensor s_stream re-trigger of CSI core->init ***
[   29.000452] csi_core_ops_init: sd=8521bc00, csi_dev=8521bc00, enable=1
[   29.000464] *** VIC POST-SENSOR REASSERT: re-applying routing/mask after sensor stream-on ***
[   29.039125] *** VIC POST-SENSOR REASSERT: No status bits asserted in 20ms window ***
[   29.039146] ISP IOCTL: cmd=0x800456d0 arg=0x7fc9dd80
[   29.039154] TX_ISP_VIDEO_LINK_SETUP: config=0
[   29.039159] TX_ISP_VIDEO_LINK_SETUP: Link config unchanged (0)
[   29.039166] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   29.039173] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   29.039179] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   29.039186] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   29.039192] VIC activated: state 1 -> 2 (READY)
[   29.039199] *** VIC ACTIVATION: Buffers will be allocated on-demand during QBUF operations ***
[   29.039205] *** VIC ACTIVATION: Free buffer list initialized (empty) - allocation deferred ***
[   29.039210] *** VIC ACTIVATION: Using GOOD-THINGS deferred buffer allocation strategy ***
[   29.039217] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   29.039224] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   29.039230] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   29.039236] csi_video_s_stream: sd=8521bc00, enable=1
[   29.039243] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   29.039251] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80558000, enable=1 ***
[   29.039257] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   29.039262] *** vic_core_s_stream: STREAM ON ***
[   29.039267] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   29.039273] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
[   29.039279] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   29.039284] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   29.039294] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f91400 (name=gc2053) ***
[   29.039300] *** tx_isp_get_sensor: Found real sensor: 85f91400 ***
[   29.039307] *** DEBUG: sensor_attr=c06e10cc, dbus_type=1 ***
[   29.039313] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   29.039319] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   29.039325] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   29.039330] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   29.039336] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   29.039342] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   29.060445] MIPI interface configuration
[   29.060462] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   29.060467] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   29.060474] *** VIC UNLOCK: Initial register 0x0 value = 0x00000000 ***
[   29.060480] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   29.060486] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   29.060494] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   29.060499] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   29.082470] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   29.082481] *** Continuing anyway to prevent infinite hang ***
[   29.082487] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   29.082493] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   29.082499] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   29.082504] tx_isp_vic_start: Linear mode enabled
[   29.082510] *** VIC start completed - vic_start_ok = 1 ***
[   29.082517] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   29.082522] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   29.082528] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   29.082536] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   29.082542] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   29.082551] ispvic_frame_channel_qbuf: arg1=80558000, arg2=  (null)
[   29.082557] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   29.082563] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   29.082570] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   29.082577] ispvic_frame_channel_s_stream: arg1=80558000, arg2=1
[   29.082583] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80558000
[   29.082590] ispvic_frame_channel_s_stream[2524]: streamon
[   29.082596] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   29.082602] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   29.082608] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   29.082614] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   29.082619] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   29.082626] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   29.082632] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   29.082639] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   29.082645] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   29.082650] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   29.082656] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   29.082662] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   29.082668] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   29.082676] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   29.082684] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   29.082691] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   29.082698] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   29.082706] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   29.082712] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   29.082718] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   29.082723] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   29.082730] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   29.082746] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   29.082752] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   29.082758] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   29.082764] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   29.082770] ispvic_frame_channel_qbuf: arg1=80558000, arg2=  (null)
[   29.082775] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   29.082788] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xfffffffe [0x1ec]=0x00000000 (MainMask=0xFFFFFFFE)***
[   29.082797] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   29.082862] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFFFFFFE)***
[   29.082874] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   29.082880] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   29.082890] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   29.082896] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   29.082901] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   29.082910] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   29.082918] *** VIC UNMASK-ALL TEST: [0x1e8]=0xfffffffe [0x1ec]=0x00000000 (expect 0) ***
[   29.083927] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   29.083932] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   29.083938] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   29.084046] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   29.084053] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   29.084160] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   29.084168] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   29.084173] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   29.084178] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   29.084184] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   29.084190] tx_vic_enable_irq: Calling VIC interrupt callback
[   29.084196] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   29.084202] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   29.084208] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   29.084216] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   29.084222] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   29.084230] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   29.084236] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   29.084243] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   29.084248] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   29.084254] *** tx_vic_enable_irq: completed successfully ***
[   29.504713] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   29.504728] *** vic_core_s_stream: VIC state 2 - letting tx_isp_video_s_stream handle state 2 â 3 transition ***
[   29.504735] *** vic_core_s_stream: VIC initialized, final state=2 ***
[   29.504745] gc2053: s_stream called with enable=1
[   29.504753] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   29.504759] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   29.504765] gc2053: About to write streaming registers for interface 1
[   29.504771] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   29.504781] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   29.505160] sensor_write: reg=0xfe val=0x00 SUCCESS
[   29.505167] sensor_write_array: reg[1] 0xfe=0x00 OK
[   29.505176] sensor_write: reg=0x3e val=0x91, client=85543d00, adapter=i2c0, addr=0x37
[   29.505488] sensor_write: reg=0x3e val=0x91 SUCCESS
[   29.505495] sensor_write_array: reg[2] 0x3e=0x91 OK
[   29.505501] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   29.505508] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   29.505514] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   29.505520] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   29.505527] gc2053: s_stream called with enable=1
[   29.505533] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   29.505539] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   29.505545] gc2053: About to write streaming registers for interface 1
[   29.505551] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   29.505560] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   29.510489] sensor_write: reg=0xfe val=0x00 SUCCESS
[   29.510500] sensor_write_array: reg[1] 0xfe=0x00 OK
[   29.510511] sensor_write: reg=0x3e val=0x91, client=85543d00, adapter=i2c0, addr=0x37
[   29.510829] sensor_write: reg=0x3e val=0x91 SUCCESS
[   29.510835] sensor_write_array: reg[2] 0x3e=0x91 OK
[   29.510842] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   29.510849] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   29.510855] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   29.510861] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   29.701403] ISP M0 device open called from pid 2327
[   29.701437] *** REFERENCE DRIVER IMPLEMENTATION ***
[   29.701445] ISP M0 tuning buffer allocated: 811c8000 (size=0x500c, aligned)
[   29.701451] tisp_par_ioctl global variable set: 811c8000
[   29.701503] isp_core_tunning_unlocked_ioctl: Auto-initializing tuning for V4L2 control (one-time)
[   29.701511] isp_core_tunning_unlocked_ioctl: Initializing tuning data structure
[   29.701517] isp_core_tuning_init: Initializing tuning data structure
[   29.701535] isp_core_tuning_init: Tuning data structure initialized at 811d0000
[   29.701542] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   29.701547] *** SAFE: mode_flag properly initialized using struct member access ***
[   29.701554] isp_core_tunning_unlocked_ioctl: Tuning data allocated at 811d0000
[   29.701559] *** BINARY NINJA REFERENCE: Skipping auto-initialization - no hardware reset during tuning setup ***
[   29.701565] isp_core_tunning_unlocked_ioctl: ISP tuning auto-enabled for V4L2 controls (permanent)
[   29.701572] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   29.701579] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   29.701585] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   29.701591] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   29.701596] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   29.701619] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   29.701627] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980900
[   29.701633] CRITICAL: Cannot access brightness field - PREVENTS BadVA CRASH
[   29.701641] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   29.701647] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980902
[   29.701653] CRITICAL: Cannot access saturation field at 811d0024 - PREVENTING BadVA CRASH
[   29.702021] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.702035] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   29.702041] Set control: cmd=0x980901 value=128
[   29.702107] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.702115] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   29.702121] Set control: cmd=0x98091b value=128
[   29.702183] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.702191] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   29.702197] Set control: cmd=0x980902 value=128
[   29.702203] tisp_bcsh_saturation: saturation=128
[   29.702209] tiziano_bcsh_update: Updating BCSH parameters
[   29.702216]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   29.702221] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   29.702283] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.702291] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   29.702298] Set control: cmd=0x980900 value=128
[   29.702377] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.702385] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   29.702391] Set control: cmd=0x980901 value=128
[   29.702451] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.702459] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   29.702466] Set control: cmd=0x98091b value=128
[   29.702525] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.702533] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   29.702540] Set control: cmd=0x980902 value=128
[   29.702546] tisp_bcsh_saturation: saturation=128
[   29.702551] tiziano_bcsh_update: Updating BCSH parameters
[   29.702558]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   29.702563] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   29.702624] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.702632] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   29.702639] Set control: cmd=0x980900 value=128
[   29.702711] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   29.702721] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   29.702727] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   29.702796] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   29.702803] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   29.702809] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   29.704062] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.704075] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980914 value=0
[   29.704082] Set control: cmd=0x980914 value=0
[   29.704261] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.704271] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980915 value=0
[   29.704277] Set control: cmd=0x980915 value=0
[   29.704639] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   29.704651] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   29.704657] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   29.704839] ISP IOCTL: cmd=0x800456d3 arg=0x0
[   29.704850] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=0 ***
[   29.704857] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   29.704864] csi_video_s_stream: sd=8521bc00, enable=0
[   29.704871] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 3 (enable=0)
[   29.704879] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80558000, enable=0 ***
[   29.704885] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   29.704890] *** vic_core_s_stream: STREAM OFF ***
[   29.704899] gc2053: s_stream called with enable=0
[   29.704905] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   29.704912] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   29.704917] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   29.704927] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   29.705256] sensor_write: reg=0xfe val=0x00 SUCCESS
[   29.705263] sensor_write_array: reg[1] 0xfe=0x00 OK
[   29.705272] sensor_write: reg=0x3e val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   29.707076] sensor_write: reg=0x3e val=0x00 SUCCESS
[   29.707089] sensor_write_array: reg[2] 0x3e=0x00 OK
[   29.707096] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   29.707103] gc2053: Sensor hardware streaming stopped
[   29.707110] gc2053: s_stream called with enable=0
[   29.707117] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   29.707123] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   29.707129] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   29.707138] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   29.707455] sensor_write: reg=0xfe val=0x00 SUCCESS
[   29.707463] sensor_write_array: reg[1] 0xfe=0x00 OK
[   29.707471] sensor_write: reg=0x3e val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   29.707965] sensor_write: reg=0x3e val=0x00 SUCCESS
[   29.707975] sensor_write_array: reg[2] 0x3e=0x00 OK
[   29.707981] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   29.707988] gc2053: Sensor hardware streaming stopped
[   29.708003] ISP IOCTL: cmd=0x800456d1 arg=0x7fc9dd80
[   29.708011] tx_isp_video_link_destroy: Destroying links for config 0
[   29.708018] tx_isp_video_link_destroy: All links destroyed, config reset to -1
[   29.708027] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   29.708034] isp_core_tunning_unlocked_ioctl: Set control cmd=0x8000164 value=1
[   29.708041] Set control: cmd=0x8000164 value=1
[   29.708049] ISP IOCTL: cmd=0x800456d0 arg=0x7fc9dd80
[   29.708055] TX_ISP_VIDEO_LINK_SETUP: config=0
[   29.708061] TX_ISP_VIDEO_LINK_SETUP: Link config changed from -1 to 0
[   29.708067] TX_ISP_VIDEO_LINK_SETUP: Link config updated to 0
[   29.708073] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   29.708079] *** tx_isp_video_link_stream: EXACT Binary Ninja MCP implementation - enable=1 ***
[   29.708085] *** tx_isp_video_link_stream: CRITICAL FIX - Calling activate_module on all subdevs first ***
[   29.708092] *** tx_isp_video_link_stream: Calling activate_module on subdev[1] ***
[   29.708099] *** tx_isp_video_link_stream: activate_module SUCCESS on subdev[1] ***
[   29.708105] *** tx_isp_video_link_stream: All activate_module calls complete ***
[   29.708111] *** csi_video_s_stream: EXACT Binary Ninja MCP implementation ***
[   29.708117] csi_video_s_stream: sd=8521bc00, enable=1
[   29.708124] csi_video_s_stream: EXACT Binary Ninja MCP - CSI state set to 4 (enable=1)
[   29.708132] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80558000, enable=1 ***
[   29.708138] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   29.708143] *** vic_core_s_stream: STREAM ON ***
[   29.708149] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   29.708155] *** vic_core_s_stream: SKIPPING tx_vic_disable_irq before VIC start to preserve first frame IRQ ***
^R
[INFO:RTSP.cpp]: stream 0 available at: rtsp://192.168.50.211/ch0
[INFO:RTSP.cpp]: stream 1 available at: rtsp://192.168.50.211/ch1
[   29.708160] *** tx_isp_vic_start: Following EXACT Binary Ninja flow ***
[   29.708166] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   29.708174] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f91400 (name=gc2053) ***
[   29.708181] *** tx_isp_get_sensor: Found real sensor: 85f91400 ***
[   29.708187] *** DEBUG: sensor_attr=c06e10cc, dbus_type=1 ***
[   29.708194] *** DIMENSION FIX: Using ACTUAL sensor output dimensions 1920x1080 for VIC configuration ***
[   29.708199] *** CRITICAL: VIC configured for sensor OUTPUT, not sensor TOTAL dimensions ***
[   29.708205] *** VIC INTERFACE DETECTION: interface_type=1 (MIPI=1, DVP=2) ***
[   29.708211] *** SENSOR ATTRIBUTE: dbus_type=1 ***
[   29.708216] *** SAFETY: Using default RAW10 format (0x2b) to avoid sensor_attr access issues ***
[   29.708223] *** Interface type: 1, Format: 0x2b (RAW10) ***
[   29.708341] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   29.708351] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   29.708357] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   29.708363] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   29.708369] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   29.730527] MIPI interface configuration
[   29.730541] *** VIC INTERRUPT INIT: VIC interrupt setup deferred until after CSI PHY writes ***
[   29.730547] *** VIC UNLOCK SEQUENCE: Starting unlock sequence ***
[   29.730553] *** VIC UNLOCK: Initial register 0x0 value = 0x00000001 ***
[   29.730559] *** VIC UNLOCK: After writing 2, register 0x0 = 0x00000002 ***
[   29.730566] *** VIC UNLOCK: After writing 4, register 0x0 = 0x00000006 ***
[   29.730573] *** VIC UNLOCK: Primary space (0x133e0000) = 0x00000002, Secondary space (0x10023000) = 0x3130322a ***
[   29.730579] *** VIC UNLOCK: CSI PHY coordination complete in secondary space ***
[   29.752581] *** VIC UNLOCK TIMEOUT: Primary=0x00000002, Secondary=0x3130322a ***
[   29.752591] *** Continuing anyway to prevent infinite hang ***
[   29.752597] *** VIC UNLOCK: Unlock sequence completed, register 0x0 = 0x00000002 ***
[   29.752603] *** VIC UNLOCK: Enabling VIC (writing 1 to register 0x0) ***
[   29.752609] *** VIC UNLOCK: VIC enabled, register 0x0 = 0x00000003 ***
[   29.752614] tx_isp_vic_start: Linear mode enabled
[   29.752619] *** VIC start completed - vic_start_ok = 1 ***
[   29.752627] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   29.752632] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   29.752638] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   29.752646] *** vic_core_s_stream: Forcing ispvic_frame_channel_qbuf to program buffer addresses before MDMA ***
[   29.752652] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   29.752660] ispvic_frame_channel_qbuf: arg1=80558000, arg2=  (null)
[   29.752667] *** vic_core_s_stream: ispvic_frame_channel_qbuf SUCCESS ***
[   29.752673] *** vic_core_s_stream: Calling ispvic_frame_channel_s_stream(ENABLE) to start MDMA before enabling IRQ ***
[   29.752679] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   29.752685] ispvic_frame_channel_s_stream: arg1=80558000, arg2=1
[   29.752692] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80558000
[   29.752698] ispvic_frame_channel_s_stream[2524]: streamon
[   29.752705] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   29.752711] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   29.752717] *** VIC CONTROL (PRIMARY): WROTE 2 to [0x0] before MDMA/config ***
[   29.752722] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   29.752727] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   29.752735] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   29.752741] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   29.752748] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   29.752753] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   29.752759] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   29.752765] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   29.752771] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   29.752777] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   29.752785] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   29.752792] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   29.752799] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   29.752807] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   29.752815] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   29.752821] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   29.752827] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   29.752832] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   29.752839] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   29.752855] *** CORE VIC ROUTE INIT: [9a00]=0x050002d0 [9a04]=0x03000300 [9a2c]=0x050002d0 [9a34]=0x00000001 [9a88]=0x00000001 [9a80]=0x00000500 [9a98]=0x00000500; GATE [9ac0]=0x00000000 [9ac8]=0x00000000 ***
[   29.752861] *** vic_core_s_stream: CORE W1C [9a70/9a7c] then ROUTE INIT + GATE REASSERT ***
[   29.752867] *** vic_core_s_stream: Re-writing buffer addresses AFTER MDMA start ***
[   29.752873] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   29.752879] ispvic_frame_channel_qbuf: arg1=80558000, arg2=  (null)
[   29.752884] *** vic_core_s_stream: Post-MDMA QBUF SUCCESS ***
[   29.752897] *** VIC VERIFY (PRIMARY): [0x0]=0x00000002 [0x4]=0x07800438 [0x300]=0x80040020 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0xfffffffe [0x1ec]=0x00000000 (MainMask=0xFFFFFFFE)***
[   29.752906] *** VIC VERIFY (PRIMARY EXTRA): [0x100]=0x000002d0 [0x14]=0x0000002b (PRIMARY 0x14=stride) ***
[   29.752971] *** VIC VERIFY (CONTROL): [0x0]=0x3130322a [0x4]=0x00000001 [0x0c]=0x00000001 [0x100]=0x00000000 [0x14]=0x00000630 [0x300]=0x00000000 [0x30c]=0x00000000 [0x1e0]=0x00000000 [0x1e4]=0x00000000 [0x1e8]=0x00000000 [0x1ec]=0x00000000 (MainMask=0xFFFFFFFE)***
[   29.752983] *** VIC BUFS (PRIMARY): [0x318]=0x06300000 [0x31c]=0x066f4800 [0x320]=0x06ae9000 [0x324]=0x06edd800 [0x328]=0x072d2000 ***
[   29.752989] *** VIC CTRL (PRIMARY): [0x300]=0x80040020 ***
[   29.752998] *** VIC BUFS (CONTROL): [0x318]=0x00000000 [0x31c]=0x00000000 [0x320]=0x00000000 [0x324]=0x00000000 [0x328]=0x00000000 ***
[   29.753005] *** VIC CTRL (CONTROL): [0x300]=0x00000000 ***
[   29.753010] *** VIC CONTROL BANK: Re-applying enable sequence on CONTROL bank ***
[   29.753019] *** VIC CONTROL BANK: Post-enable [0x0]=0x3130322a, [0x14]=0x00000630, [0x0c]=0x00000001, [0x100]=0x00000000 ***
[   29.753027] *** VIC UNMASK-ALL TEST: [0x1e8]=0xfffffffe [0x1ec]=0x00000000 (expect 0) ***
[   29.754035] *** VIC UNMASK-ALL TEST: No status bits asserted during pre-IRQ sample ***
[   29.754041] *** VIC MASK: Keeping UNMASK-ALL (0x1e8=0) during debug ***
[   29.754046] *** VIC CONTROL (PRIMARY): WROTE 1 to [0x0] before enabling IRQ ***
[   29.754154] *** VIC PRIMARY ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   29.754161] *** VIC PRIMARY GATE (POST-RUN): IMR=0x07800438 IMCR=0x00000001 ***
[   29.754269] *** VIC CONTROL ENABLES (POST-RUN COMMIT): [0x1e0]=0x00000000 [0x1e4]=0x00000000 ***
[   29.754276] *** CORE VIC GATE REASSERT: [0x9ac0]=0x00000000 [0x9ac8]=0x00000000 ***
[   29.754281] *** vic_core_s_stream: Enabling VIC IRQ AFTER final re-assert/verify ***
[   29.754287] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   29.754293] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
[   29.754298] tx_vic_enable_irq: Calling VIC interrupt callback
[   29.754304] *** tx_isp_enable_irq: EXACT Binary Ninja - enabling IRQ 38 ***
[   29.754311] *** tx_isp_enable_irq: IRQ 38 ENABLED ***
[   29.754316] *** CRITICAL: Restoring ISP Control interrupt registers to enable hardware interrupt generation ***
[   29.754325] *** CRITICAL: ISP Control interrupt registers restored - hardware should now generate interrupts (9ac0=0x00000000, 9ac8=0x00000000) ***
[   29.754331] restore_isp_control_interrupt_registers_after_reset: gate readback not 0x200, re-writing 0x200 to 9ac0/9ac8
[   29.754339] restore_isp_control_interrupt_registers_after_reset: re-read 9ac0=0x00000000 9ac8=0x00000000
[   29.754345] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   29.754352] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   29.754357] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   29.754363] *** tx_vic_enable_irq: completed successfully ***
[   30.181126] *** VIC POST-IRQ SAMPLE: No status bits asserted in 200ms window ***
[   30.181141] *** vic_core_s_stream: VIC state 2 - letting tx_isp_video_s_stream handle state 2 â 3 transition ***
[   30.181147] *** vic_core_s_stream: VIC initialized, final state=2 ***
[   30.181158] gc2053: s_stream called with enable=1
[   30.181165] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   30.181171] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   30.181178] gc2053: About to write streaming registers for interface 1
[   30.181184] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   30.181194] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   30.181513] sensor_write: reg=0xfe val=0x00 SUCCESS
[   30.181520] sensor_write_array: reg[1] 0xfe=0x00 OK
[   30.181529] sensor_write: reg=0x3e val=0x91, client=85543d00, adapter=i2c0, addr=0x37
[   30.181847] sensor_write: reg=0x3e val=0x91 SUCCESS
[   30.181854] sensor_write_array: reg[2] 0x3e=0x91 OK
[   30.181860] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   30.181867] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   30.181873] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   30.181879] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   30.181885] gc2053: s_stream called with enable=1
[   30.181892] gc2053: module data_interface=1, sensor data_interface=1 (1=MIPI, 2=DVP)
[   30.181898] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   30.181904] gc2053: About to write streaming registers for interface 1
[   30.181910] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   30.181918] sensor_write: reg=0xfe val=0x00, client=85543d00, adapter=i2c0, addr=0x37
[   30.182230] sensor_write: reg=0xfe val=0x00 SUCCESS
[   30.182236] sensor_write_array: reg[1] 0xfe=0x00 OK
[   30.182245] sensor_write: reg=0x3e val=0x91, client=85543d00, adapter=i2c0, addr=0x37
[   30.182558] sensor_write: reg=0x3e val=0x91 SUCCESS
[   30.182565] sensor_write_array: reg[2] 0x3e=0x91 OK
[   30.182572] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   30.182578] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   30.182584] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   30.182590] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   30.182806] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   30.182817] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980918 value=2
[   30.182824] Set control: cmd=0x980918 value=2
[   30.183062] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   30.183074] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   30.183080] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   30.183232] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   30.183242] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   30.183247] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   30.183379] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   30.183388] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   30.183394] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   30.183514] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   30.183522] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   30.183528] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   30.183683] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   30.183692] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   30.183698] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   30.183824] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   30.183833] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   30.183839] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   30.183972] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   30.183981] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   30.183987] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   30.184116] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   30.184125] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   30.184130] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   30.184353] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   30.184362] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   30.184368] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   30.184504] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   30.184512] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   30.184518] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   30.552744] *** FRAME CHANNEL OPEN: minor=54 ***
[   30.552756] *** FRAME CHANNEL OPEN: Device not in array, creating new entry for minor 54 ***
[   30.552762] *** FRAME CHANNEL OPEN: Assigned to channel 0 ***
[   30.552769] *** FRAME CHANNEL 0: State set to 3 (ready for streaming) - Binary Ninja EXACT ***
[   30.552774] *** SAFE: Frame channel device stored in file->private_data ***
[   30.552780] *** FRAME CHANNEL 0 OPENED SUCCESSFULLY - NOW READY FOR IOCTLS ***
[   30.552788] Channel 0: Format 1920x1080, pixfmt=0x32315659, minor=54
[   30.552807] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc07056c3 ***
[   30.552814] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc07056c3 ***
[   30.552822] Channel 0: Set format 1920x1080 pixfmt=0x3231564e
[   30.553422] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0145608 ***
[   30.553434] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0145608 ***
[   30.553440] *** Channel 0: REQBUFS - MEMORY-AWARE implementation ***
[   30.553448] Channel 0: Request 4 buffers, type=1 memory=2
[   30.553454] Channel 0: USERPTR mode - client will provide buffers
[   30.553460] Channel 0: USERPTR mode - 4 user buffers expected
[   30.553470] *** Channel 0: REQBUFS allocated VBM buffer array for 4 buffers at 85581980 ***
[   30.553476] *** Channel 0: VIC active_buffer_count set to 4 ***
[   30.553482] *** REQBUFS: VIC DMA will be configured during streaming via vic_pipo_mdma_enable ***
[   30.553488] *** Channel 0: MEMORY-AWARE REQBUFS SUCCESS - 4 buffers ***
[   30.553512] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   30.553520] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   30.553526] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   30.553532] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   30.553539] *** Channel 0: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   30.553546] *** Channel 0: QBUF - Buffer m.offset=0x70d9000, m.userptr=0x70d9000 ***
[   30.553553] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   30.553560] *** Channel 0: QBUF - Validation: buffer.index=0, state->buffer_count=4 ***
[   30.553566] *** Channel 0: QBUF - Queue buffer index=0 ***
[   30.553572] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   30.553580] *** Channel 0: QBUF - Using buffer struct   (null) for index 0 ***
[   30.553587] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   30.553594] *** Channel 0: QBUF EVENT - No VIC callback ***
[   30.553600] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x70d9000 ***
[   30.553608] *** Channel 0: QBUF - Buffer 0: phys_addr=0x70d9000, size=4147200 (VALIDATED) ***
[   30.553616] *** Channel 0: QBUF VBM - Stored buffer[0] = 0x70d9000, total_count=1 ***
[   30.553624] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=85581980, vbm_buffer_count=1 ***
[   30.553630] *** Channel 0: QBUF - VBM buffer slot[0] available ***
[   30.553638] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x70d9000 ***
[   30.553644] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   30.553654] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   30.553661] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   30.553667] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   30.553673] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   30.553680] *** Channel 0: QBUF - Buffer received: index=1, type=1, memory=2 ***
[   30.553688] *** Channel 0: QBUF - Buffer m.offset=0x73d6000, m.userptr=0x73d6000 ***
[   30.553694] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   30.553702] *** Channel 0: QBUF - Validation: buffer.index=1, state->buffer_count=4 ***
[   30.553708] *** Channel 0: QBUF - Queue buffer index=1 ***
[   30.553714] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   30.553720] *** Channel 0: QBUF - Using buffer struct   (null) for index 1 ***
[   30.553726] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   30.553732] *** Channel 0: QBUF EVENT - No VIC callback ***
[   30.553739] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x73d6000 ***
[   30.553747] *** Channel 0: QBUF - Buffer 1: phys_addr=0x73d6000, size=4147200 (VALIDATED) ***
[   30.553754] *** Channel 0: QBUF VBM - Stored buffer[1] = 0x73d6000, total_count=2 ***
[   30.553762] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=85581980, vbm_buffer_count=2 ***
[   30.553768] *** Channel 0: QBUF - VBM buffer slot[1] available ***
[   30.553775] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x73d6000 ***
[   30.553782] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   30.553790] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   30.553796] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   30.553802] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   30.553808] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   30.553816] *** Channel 0: QBUF - Buffer received: index=2, type=1, memory=2 ***
[   30.553823] *** Channel 0: QBUF - Buffer m.offset=0x76d3000, m.userptr=0x76d3000 ***
[   30.553830] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   30.553836] *** Channel 0: QBUF - Validation: buffer.index=2, state->buffer_count=4 ***
[   30.553843] *** Channel 0: QBUF - Queue buffer index=2 ***
[   30.553849] *** QBUF: No buffer allocated for index 2 - VBM initialization mode ***
[   30.553856] *** Channel 0: QBUF - Using buffer struct   (null) for index 2 ***
[   30.553862] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   30.553868] *** Channel 0: QBUF EVENT - No VIC callback ***
[   30.553874] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x76d3000 ***
[   30.553882] *** Channel 0: QBUF - Buffer 2: phys_addr=0x76d3000, size=4147200 (VALIDATED) ***
[   30.553890] *** Channel 0: QBUF VBM - Stored buffer[2] = 0x76d3000, total_count=3 ***
[   30.553897] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=85581980, vbm_buffer_count=3 ***
[   30.553904] *** Channel 0: QBUF - VBM buffer slot[2] available ***
[   30.553910] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x76d3000 ***
[   30.553916] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   30.553925] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   30.553932] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   30.553938] *** Channel 0: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   30.553944] *** Channel 0: QBUF - Buffer copied from user successfully ***
[   30.553950] *** Channel 0: QBUF - Buffer received: index=3, type=1, memory=2 ***
[   30.553958] *** Channel 0: QBUF - Buffer m.offset=0x79d0000, m.userptr=0x79d0000 ***
[   30.553965] *** Channel 0: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   30.553972] *** Channel 0: QBUF - Validation: buffer.index=3, state->buffer_count=4 ***
[   30.553978] *** Channel 0: QBUF - Queue buffer index=3 ***
[   30.553984] *** QBUF: No buffer allocated for index 3 - VBM initialization mode ***
[   30.553990] *** Channel 0: QBUF - Using buffer struct   (null) for index 3 ***
[   30.553997] *** Channel 0: QBUF - Calling tx_isp_send_event_to_remote(VIC, 0x3000008, &buffer) ***
[   30.554003] *** Channel 0: QBUF EVENT - No VIC callback ***
[   30.554009] *** Channel 0: QBUF - Using REAL buffer address from userptr: 0x79d0000 ***
[   30.554017] *** Channel 0: QBUF - Buffer 3: phys_addr=0x79d0000, size=4147200 (VALIDATED) ***
[   30.554025] *** Channel 0: QBUF VBM - Stored buffer[3] = 0x79d0000, total_count=4 ***
[   30.554032] *** Channel 0: QBUF - VBM buffer check: vbm_buffer_addresses=85581980, vbm_buffer_count=4 ***
[   30.554038] *** Channel 0: QBUF - VBM buffer slot[3] available ***
[   30.554045] *** Channel 0: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x79d0000 ***
[   30.554052] *** Channel 0: QBUF completed successfully (MIPS-safe) ***
[   30.554142] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x80045612 ***
[   30.554152] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x80045612 ***
[   30.554158] *** Channel 0: VIDIOC_STREAMON - Binary Ninja implementation ***
[   30.554164] Channel 0: STREAMON - Enqueuing buffers in driver
[   30.554170] *** Channel 0: STREAMON - Core device is stateless, only managing streaming flag ***
[   30.561284] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   30.561298] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   30.561304] *** Channel 0: Frame completion wait ***
[   30.561310] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   30.561316] *** Channel 0: Frame wait returned 10 ***
[   30.561322] *** Channel 0: Frame was ready, consuming it ***
[   30.561423] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   30.561432] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   30.561438] *** Channel 0: DQBUF - dequeue buffer request ***
[   30.561444] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   30.561454] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f91400 (name=gc2053) ***
[   30.561461] *** tx_isp_get_sensor: Found real sensor: 85f91400 ***
[   30.561467] *** Channel 0: DQBUF waiting for frame completion (timeout=200ms) ***
[   30.561664] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   30.561676] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   30.561682] *** Channel 0: Frame completion wait ***
[   30.561688] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   30.616640] *** FRAME CHANNEL OPEN: minor=53 ***
[   30.616652] *** FRAME CHANNEL OPEN: Device not in array, creating new entry for minor 53 ***
[   30.616658] *** FRAME CHANNEL OPEN: Assigned to channel 1 ***
[   30.616664] *** FRAME CHANNEL 1: State set to 3 (ready for streaming) - Binary Ninja EXACT ***
[   30.616670] *** SAFE: Frame channel device stored in file->private_data ***
[   30.616676] *** FRAME CHANNEL 1 OPENED SUCCESSFULLY - NOW READY FOR IOCTLS ***
[   30.616684] Channel 1: Format 640x360, pixfmt=0x32315659, minor=53
[   30.616701] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc07056c3 ***
[   30.616708] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc07056c3 ***
[   30.616717] Channel 1: Set format 640x360 pixfmt=0x3231564e
[   30.617560] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0145608 ***
[   30.617570] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0145608 ***
[   30.617577] *** Channel 1: REQBUFS - MEMORY-AWARE implementation ***
[   30.617584] Channel 1: Request 2 buffers, type=1 memory=2
[   30.617590] Channel 1: USERPTR mode - client will provide buffers
[   30.617596] Channel 1: USERPTR mode - 2 user buffers expected
[   30.617606] *** Channel 1: REQBUFS allocated VBM buffer array for 2 buffers at 85581e80 ***
[   30.617613] *** Channel 1: VIC active_buffer_count set to 2 ***
[   30.617619] *** REQBUFS: VIC DMA will be configured during streaming via vic_pipo_mdma_enable ***
[   30.617625] *** Channel 1: MEMORY-AWARE REQBUFS SUCCESS - 2 buffers ***
[   30.617640] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   30.617647] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   30.617653] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   30.617659] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   30.617666] *** Channel 1: QBUF - Buffer received: index=0, type=1, memory=2 ***
[   30.617674] *** Channel 1: QBUF - Buffer m.offset=0x7e07100, m.userptr=0x7e07100 ***
[   30.617681] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   30.617688] *** Channel 1: QBUF - Validation: buffer.index=0, state->buffer_count=2 ***
[   30.617694] *** Channel 1: QBUF - Queue buffer index=0 ***
[   30.617700] *** QBUF: No buffer allocated for index 0 - VBM initialization mode ***
[   30.617708] *** Channel 1: QBUF - Using buffer struct   (null) for index 0 ***
[   30.617715] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e07100 ***
[   30.617723] *** Channel 1: QBUF - Buffer 0: phys_addr=0x7e07100, size=460800 (VALIDATED) ***
[   30.617731] *** Channel 1: QBUF VBM - Stored buffer[0] = 0x7e07100, total_count=1 ***
[   30.617738] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=85581e80, vbm_buffer_count=1 ***
[   30.617745] *** Channel 1: QBUF - VBM buffer slot[0] available ***
[   30.617752] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e07100 ***
[   30.617759] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   30.617768] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc044560f ***
[   30.617775] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc044560f ***
[   30.617781] *** Channel 1: QBUF - ENTRY POINT - VBM buffer queue attempt ***
[   30.617787] *** Channel 1: QBUF - Buffer copied from user successfully ***
[   30.617794] *** Channel 1: QBUF - Buffer received: index=1, type=1, memory=2 ***
[   30.617802] *** Channel 1: QBUF - Buffer m.offset=0x7e5d500, m.userptr=0x7e5d500 ***
[   30.617808] *** Channel 1: QBUF - Validation: buffer.type=1, fcd->buffer_type=1 ***
[   30.617816] *** Channel 1: QBUF - Validation: buffer.index=1, state->buffer_count=2 ***
[   30.617822] *** Channel 1: QBUF - Queue buffer index=1 ***
[   30.617828] *** QBUF: No buffer allocated for index 1 - VBM initialization mode ***
[   30.617834] *** Channel 1: QBUF - Using buffer struct   (null) for index 1 ***
[   30.617841] *** Channel 1: QBUF - Using REAL buffer address from userptr: 0x7e5d500 ***
[   30.617849] *** Channel 1: QBUF - Buffer 1: phys_addr=0x7e5d500, size=460800 (VALIDATED) ***
[   30.617856] *** Channel 1: QBUF VBM - Stored buffer[1] = 0x7e5d500, total_count=2 ***
[   30.617864] *** Channel 1: QBUF - VBM buffer check: vbm_buffer_addresses=85581e80, vbm_buffer_count=2 ***
[   30.617870] *** Channel 1: QBUF - VBM buffer slot[1] available ***
[   30.617877] *** Channel 1: QBUF VBM mode - VBMFillPool initialization with buffer_addr=0x7e5d500 ***
[   30.617883] *** Channel 1: QBUF completed successfully (MIPS-safe) ***
[   30.617978] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x80045612 ***
[   30.617988] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x80045612 ***
[   30.617995] *** Channel 1: VIDIOC_STREAMON - Binary Ninja implementation ***
[   30.618001] Channel 1: STREAMON - Enqueuing buffers in driver
[   30.618007] *** Channel 1: STREAMON - Core device is stateless, only managing streaming flag ***
[   30.625322] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   30.625336] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   30.625342] *** Channel 1: Frame completion wait ***
[   30.625348] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   30.625354] *** Channel 1: Frame wait returned 10 ***
[   30.625360] *** Channel 1: Frame was ready, consuming it ***
[   30.625426] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0xc0445611 ***
[   30.625434] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0xc0445611 ***
[   30.625440] *** Channel 1: DQBUF - dequeue buffer request ***
[   30.625446] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   30.625456] *** tx_isp_get_sensor: Found real sensor subdev at index 5: 85f91400 (name=gc2053) ***
[   30.625463] *** tx_isp_get_sensor: Found real sensor: 85f91400 ***
[   30.625470] *** Channel 1: DQBUF waiting for frame completion (timeout=200ms) ***
[   30.625484] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   30.625492] *** Frame channel 1 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   30.625498] *** Channel 1: Frame completion wait ***
[   30.625503] *** Channel 1: Waiting for frame (timeout=100ms) ***
[   30.660578] *** Channel 0: Frame wait returned 0 ***
[   30.660590] *** Channel 0: Frame wait timeout/error, generating frame ***
[   30.660612] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   30.660620] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   30.660626] *** Channel 0: Frame completion wait ***
[   30.660632] *** Channel 0: Waiting for frame (timeout=100ms) ***
[   30.660638] *** Channel 0: Frame wait returned 10 ***
[   30.660644] *** Channel 0: Frame was ready, consuming it ***
[   30.660651] *** frame_channel_unlocked_ioctl: ENTRY - cmd=0x400456bf ***
[   30.660658] *** Frame channel 0 IOCTL: MIPS-safe processing - cmd=0x400456bf ***
[   30.660664] *** Channel 0: Frame completion wait ***
[   30.660669] *** Channel 0: Waiting for frame (timeout=100ms) ***
root@ing-wyze-cam3-a000 ~# cat^C

root@ing-wyze-cam3-a000 ~# cat /proc/interrupts 
           CPU0       
  9:          0   jz-intc  i2s_irq
 11:       8921   jz-intc  jz-timerost
 14:        112   jz-intc  ipu
 15:      81181   jz-intc  jz-sfc
 18:          0   jz-intc  pdma
 23:          0   jz-intc  GPIO C
 24:          1   jz-intc  GPIO B
 25:          0   jz-intc  GPIO A
 29:          1   jz-intc  dwc2
 37:          2   jz-intc  isp-m0
 38:          0   jz-intc  isp-w02
 44:       8172   jz-intc  jzmmc_v1.2.1
 45:          0   jz-intc  jzmmc_v1.2.0
 58:        387   jz-intc  uart1
 68:        161   jz-intc  jz-i2c.0
 70:         24   jz-intc  avpu.0
126:          0    GPIO B  GPIO Button
134:          1    GPIO B  mmc-insert-detect
ERR:          0
root@ing-wyze-cam3-a000 ~# 

