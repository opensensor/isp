[   20.443378] ISP Register Monitor v1.3 initializing
[   20.443517] ISP Monitor: initialized region isp-w01 at phys 0x0x10023000 size 0x1000
[   20.470959] ISP Monitor: initialized region isp-m0 at phys 0x0x13300000 size 0x100000
[   20.472527] ISP Monitor: initialized region isp-w02 at phys 0x0x133e0000 size 0x10000
[   20.472663] ISP Monitor: initialized region isp-csi at phys 0x0x10022000 size 0x1000
[   22.838491] TX ISP driver initializing with new subdevice management system...
[   22.838502] *** Using reference driver interrupt-driven frame processing ***
[   22.838507] *** CRITICAL: REGISTERING SUBDEV PLATFORM DRIVERS FIRST ***
[   22.838513] *** TX ISP SUBDEV PLATFORM DRIVERS REGISTRATION ***
[   22.849252] All ISP subdev platform drivers registered successfully
[   22.849266] *** SUBDEV PLATFORM DRIVERS REGISTERED - VIC/CSI/VIN/CORE DRIVERS AVAILABLE ***
[   22.849271] *** CRITICAL: INITIALIZING SUBDEVICE REGISTRY BEFORE MAIN PLATFORM DEVICE ***
[   22.849277] *** CRITICAL: Registering main platform driver ***
[   22.859337] *** Main platform driver registered successfully ***
[   22.859349] *** REFERENCE DRIVER: Subdev platform devices will be registered by tx_isp_create_graph_and_nodes ***
[   22.863379] *** PROBE: tx_isp_platform_probe CALLED for device tx-isp ***
[   22.863397] *** PROBE: ISP device allocated successfully: 85f84000 ***
[   22.863413] *** PROBE: ISP device mutex and spinlock initialized ***
[   22.863420] *** PROBE: Event callback structure initialized at 0x8053fa00 (offset 0xc from isp_dev) ***
[   22.863430] parse_rmem_bootarg: Found rmem=29M@0x06300000 (size=0x01d00000)
[   22.863437] *** PROBE: Initialized rmem_addr=0x06300000, size=0x01d00000 ***
[   22.863443] *** PROBE: Platform data: c0690278 ***
[   22.863449] *** PROBE: Platform data validation passed ***
[   22.863454] *** REFERENCE DRIVER: Individual subdevices will initialize their own memory regions ***
[   22.863460] *** PLATFORM DEVICES ALREADY REGISTERED IN INIT - SKIPPING DUPLICATE REGISTRATION ***
[   22.863466] *** tx_isp_module_init: EXACT Binary Ninja reference implementation ***
[   22.866497] *** tx_isp_create_graph_and_nodes: EXACT Binary Ninja reference implementation ***
[   22.866511] *** Registering platform device 0 from platform data ***
[   22.870463] *** tx_isp_subdev_init: CALLED for device 'tx-isp-csi' ***
[   22.870479] *** tx_isp_subdev_init: pdev=c068ff80, sd=85207400, ops=c0690580 ***
[   22.870485] *** tx_isp_subdev_init: ourISPdev=85f84000 ***
[   22.870493] *** tx_isp_subdev_init: ops=c0690580, ops->core=c06905b0 ***
[   22.870499] *** tx_isp_subdev_init: ops->core->init=c0652f98 ***
[   22.870505] *** tx_isp_subdev_init: Set sd->dev=c068ff90, sd->pdev=c068ff80 ***
[   22.870511] *** tx_isp_subdev_init: CSI subdev registered at index 0 ***
[   22.870516] tx_isp_module_init: Module initialized for tx-isp-csi
[   22.870522] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.870528] *** CSI: Skipping IRQ request - CSI uses register mapping only ***
[   22.870535] tx_isp_subdev_init: platform_get_resource returned c0690064 for device tx-isp-csi
[   22.870543] tx_isp_subdev_init: Memory resource found: start=0x10022000, end=0x10022fff, size=0x00001000
[   22.870552] isp_subdev_init_clks: Initializing 2 clocks
[   22.870561] Found clock: cgu_isp
[   22.870569] ISP clock enabled at 100MHz
[   22.870577] Found ISP clock: isp
[   22.870583] ISP core clock enabled
[   22.874301] ISP isp-w02: [CSI PHY Control] write at offset 0x4: 0x0 -> 0x7800438 (delta: 0.000 ms)
[   22.874317] ISP isp-w02: [CSI PHY Control] write at offset 0xc: 0x0 -> 0x2 (delta: 0.000 ms)
[   22.874326] ISP isp-w02: [CSI PHY Control] write at offset 0x14: 0x0 -> 0x2 (delta: 0.000 ms)
[   22.874335] ISP isp-w02: [CSI PHY Control] write at offset 0x18: 0x0 -> 0xf00 (delta: 0.000 ms)
[   22.874347] ISP isp-w02: [CSI PHY Control] write at offset 0x60: 0x0 -> 0x800800 (delta: 0.000 ms)
[   22.874357] ISP isp-w02: [CSI PHY Control] write at offset 0x64: 0x0 -> 0x9d09d0 (delta: 0.000 ms)
[   22.874366] ISP isp-w02: [CSI PHY Control] write at offset 0x70: 0x0 -> 0x6002 (delta: 0.000 ms)
[   22.874375] ISP isp-w02: [CSI PHY Control] write at offset 0x74: 0x0 -> 0x7003 (delta: 0.000 ms)
[   22.874388] ISP isp-w02: [CSI PHY Control] write at offset 0xc0: 0x0 -> 0xeb8080 (delta: 0.000 ms)
[   22.874397] ISP isp-w02: [CSI PHY Control] write at offset 0xc4: 0x0 -> 0x108080 (delta: 0.000 ms)
[   22.874407] ISP isp-w02: [CSI PHY Control] write at offset 0xc8: 0x0 -> 0x29f06e (delta: 0.000 ms)
[   22.874416] ISP isp-w02: [CSI PHY Control] write at offset 0xcc: 0x0 -> 0x913622 (delta: 0.000 ms)
[   22.874425] ISP isp-w02: [CSI PHY Control] write at offset 0xd0: 0x0 -> 0x515af0 (delta: 0.000 ms)
[   22.874434] ISP isp-w02: [CSI PHY Control] write at offset 0xd4: 0x0 -> 0xaaa610 (delta: 0.000 ms)
[   22.874443] ISP isp-w02: [CSI PHY Control] write at offset 0xd8: 0x0 -> 0xd21092 (delta: 0.000 ms)
[   22.874453] ISP isp-w02: [CSI PHY Control] write at offset 0xdc: 0x0 -> 0x6acade (delta: 0.000 ms)
[   22.874462] ISP isp-w02: [CSI PHY Control] write at offset 0xe0: 0x0 -> 0xeb8080 (delta: 0.000 ms)
[   22.874471] ISP isp-w02: [CSI PHY Control] write at offset 0xe4: 0x0 -> 0x108080 (delta: 0.000 ms)
[   22.874481] ISP isp-w02: [CSI PHY Control] write at offset 0xe8: 0x0 -> 0x29f06e (delta: 0.000 ms)
[   22.874490] ISP isp-w02: [CSI PHY Control] write at offset 0xec: 0x0 -> 0x913622 (delta: 0.000 ms)
[   22.874499] ISP isp-w02: [CSI PHY Control] write at offset 0xf0: 0x0 -> 0x515af0 (delta: 0.000 ms)
[   22.874508] ISP isp-w02: [CSI PHY Control] write at offset 0xf4: 0x0 -> 0xaaa610 (delta: 0.000 ms)
[   22.874517] ISP isp-w02: [CSI PHY Control] write at offset 0xf8: 0x0 -> 0xd21092 (delta: 0.000 ms)
[   22.874527] ISP isp-w02: [CSI PHY Control] write at offset 0xfc: 0x0 -> 0x6acade (delta: 0.000 ms)
[   22.874536] ISP isp-w02: [CSI PHY Config] write at offset 0x100: 0x0 -> 0x2d0 (delta: 0.000 ms)
[   22.874545] ISP isp-w02: [CSI PHY Config] write at offset 0x10c: 0x0 -> 0x2c000 (delta: 0.000 ms)
[   22.874555] ISP isp-w02: [CSI PHY Config] write at offset 0x110: 0x0 -> 0x7800000 (delta: 0.000 ms)
[   22.874570] ISP isp-w02: [CSI PHY Config] write at offset 0x1a4: 0x0 -> 0x100010 (delta: 0.000 ms)
[   22.874579] ISP isp-w02: [CSI PHY Config] write at offset 0x1a8: 0x0 -> 0x4440 (delta: 0.000 ms)
[   22.874589] ISP isp-w02: [CSI PHY Config] write at offset 0x1b0: 0x0 -> 0x10 (delta: 0.000 ms)
[   22.885229] ISP isp-m0: [CSI PHY Control] write at offset 0x0: 0x0 -> 0x54560031 (delta: 0.000 ms)
[   22.885243] ISP isp-m0: [CSI PHY Control] write at offset 0x4: 0x0 -> 0x7800438 (delta: 0.000 ms)
[   22.885252] ISP isp-m0: [CSI PHY Control] write at offset 0x8: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.885261] ISP isp-m0: [CSI PHY Control] write at offset 0xc: 0x0 -> 0x80700008 (delta: 0.000 ms)
[   22.885271] ISP isp-m0: [CSI PHY Control] write at offset 0x28: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.885281] ISP isp-m0: [CSI PHY Control] write at offset 0x2c: 0x0 -> 0x400040 (delta: 0.000 ms)
[   22.885294] ISP isp-m0: [CSI PHY Control] write at offset 0x90: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.885303] ISP isp-m0: [CSI PHY Control] write at offset 0x94: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.885312] ISP isp-m0: [CSI PHY Control] write at offset 0x98: 0x0 -> 0x30000 (delta: 0.000 ms)
[   22.885322] ISP isp-m0: [CSI PHY Control] write at offset 0xa8: 0x0 -> 0x58050000 (delta: 0.000 ms)
[   22.885331] ISP isp-m0: [CSI PHY Control] write at offset 0xac: 0x0 -> 0x58050000 (delta: 0.000 ms)
[   22.885341] ISP isp-m0: [CSI PHY Control] write at offset 0xc4: 0x0 -> 0x40000 (delta: 0.000 ms)
[   22.885351] ISP isp-m0: [CSI PHY Control] write at offset 0xc8: 0x0 -> 0x400040 (delta: 0.000 ms)
[   22.885360] ISP isp-m0: [CSI PHY Control] write at offset 0xcc: 0x0 -> 0x100 (delta: 0.000 ms)
[   22.885369] ISP isp-m0: [CSI PHY Control] write at offset 0xd4: 0x0 -> 0xc (delta: 0.000 ms)
[   22.885378] ISP isp-m0: [CSI PHY Control] write at offset 0xd8: 0x0 -> 0xffffff (delta: 0.000 ms)
[   22.885387] ISP isp-m0: [CSI PHY Control] write at offset 0xe0: 0x0 -> 0x100 (delta: 0.000 ms)
[   22.885397] ISP isp-m0: [CSI PHY Control] write at offset 0xe4: 0x0 -> 0x400040 (delta: 0.000 ms)
[   22.885407] ISP isp-m0: [CSI PHY Control] write at offset 0xf0: 0x0 -> 0xff808000 (delta: 0.000 ms)
[   22.885417] ISP isp-m0: [CSI PHY Config] write at offset 0x110: 0x0 -> 0x80007000 (delta: 0.000 ms)
[   22.885427] ISP isp-m0: [CSI PHY Config] write at offset 0x114: 0x0 -> 0x777111 (delta: 0.000 ms)
[   22.887412] ISP isp-m0: [ISP Control] write at offset 0x9804: 0x0 -> 0x3f00 (delta: 0.000 ms)
[   22.887429] ISP isp-m0: [ISP Control] write at offset 0x9864: 0x0 -> 0x7800438 (delta: 0.000 ms)
[   22.887439] ISP isp-m0: [ISP Control] write at offset 0x987c: 0x0 -> 0xc0000000 (delta: 0.000 ms)
[   22.887449] ISP isp-m0: [ISP Control] write at offset 0x9880: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887457] ISP isp-m0: [ISP Control] write at offset 0x9884: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887467] ISP isp-m0: [ISP Control] write at offset 0x9890: 0x0 -> 0x1010001 (delta: 0.000 ms)
[   22.887477] ISP isp-m0: [ISP Control] write at offset 0x989c: 0x0 -> 0x1010001 (delta: 0.000 ms)
[   22.887486] ISP isp-m0: [ISP Control] write at offset 0x98a8: 0x0 -> 0x1010001 (delta: 0.000 ms)
[   22.887512] ISP isp-m0: [VIC Control] write at offset 0x9a00: 0x0 -> 0x50002d0 (delta: 0.000 ms)
[   22.887521] ISP isp-m0: [VIC Control] write at offset 0x9a04: 0x0 -> 0x3000300 (delta: 0.000 ms)
[   22.887532] ISP isp-m0: [VIC Control] write at offset 0x9a2c: 0x0 -> 0x50002d0 (delta: 0.000 ms)
[   22.887541] ISP isp-m0: [VIC Control] write at offset 0x9a34: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887553] ISP isp-m0: [VIC Control] write at offset 0x9a70: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887562] ISP isp-m0: [VIC Control] write at offset 0x9a7c: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887571] ISP isp-m0: [VIC Control] write at offset 0x9a80: 0x0 -> 0x500 (delta: 0.000 ms)
[   22.887580] ISP isp-m0: [VIC Control] write at offset 0x9a88: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887589] ISP isp-m0: [VIC Control] write at offset 0x9a94: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887598] ISP isp-m0: [VIC Control] write at offset 0x9a98: 0x0 -> 0x500 (delta: 0.000 ms)
[   22.887609] ISP isp-m0: [VIC Control] write at offset 0x9ac0: 0x0 -> 0x200 (delta: 0.000 ms)
[   22.887618] ISP isp-m0: [VIC Control] write at offset 0x9ac8: 0x0 -> 0x200 (delta: 0.000 ms)
[   22.887871] ISP isp-m0: [Core Control] write at offset 0xb004: 0x0 -> 0xf001f001 (delta: 0.000 ms)
[   22.887880] ISP isp-m0: [Core Control] write at offset 0xb008: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887889] ISP isp-m0: [Core Control] write at offset 0xb00c: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887899] ISP isp-m0: [Core Control] write at offset 0xb010: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887908] ISP isp-m0: [Core Control] write at offset 0xb014: 0x0 -> 0x404040 (delta: 0.000 ms)
[   22.887917] ISP isp-m0: [Core Control] write at offset 0xb018: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887927] ISP isp-m0: [Core Control] write at offset 0xb01c: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887936] ISP isp-m0: [Core Control] write at offset 0xb020: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887945] ISP isp-m0: [Core Control] write at offset 0xb024: 0x0 -> 0x404040 (delta: 0.000 ms)
[   22.887955] ISP isp-m0: [Core Control] write at offset 0xb028: 0x0 -> 0x1000080 (delta: 0.000 ms)
[   22.887964] ISP isp-m0: [Core Control] write at offset 0xb02c: 0x0 -> 0x1000080 (delta: 0.000 ms)
[   22.887973] ISP isp-m0: [Core Control] write at offset 0xb030: 0x0 -> 0x100 (delta: 0.000 ms)
[   22.887983] ISP isp-m0: [Core Control] write at offset 0xb034: 0x0 -> 0xffff0100 (delta: 0.000 ms)
[   22.887991] ISP isp-m0: [Core Control] write at offset 0xb038: 0x0 -> 0x1ff00 (delta: 0.000 ms)
[   22.888001] ISP isp-m0: [Core Control] write at offset 0xb04c: 0x0 -> 0x103 (delta: 0.000 ms)
[   22.888011] ISP isp-m0: [Core Control] write at offset 0xb050: 0x0 -> 0x3 (delta: 0.000 ms)
[   22.888021] ISP isp-m0: [Core Control] write at offset 0xb07c: 0x0 -> 0x1fffff (delta: 0.000 ms)
[   22.888031] ISP isp-m0: [Core Control] write at offset 0xb080: 0x0 -> 0x1fffff (delta: 0.000 ms)
[   22.888040] ISP isp-m0: [Core Control] write at offset 0xb084: 0x0 -> 0x1fffff (delta: 0.000 ms)
[   22.888049] ISP isp-m0: [Core Control] write at offset 0xb088: 0x0 -> 0x1fdfff (delta: 0.000 ms)
[   22.888059] ISP isp-m0: [Core Control] write at offset 0xb08c: 0x0 -> 0x1fff (delta: 0.000 ms)
[   22.899094] CPM clock gates configured
[   22.899108] isp_subdev_init_clks: Successfully initialized 2 clocks
[   22.899117] *** tx_isp_subdev_auto_link: ENTRY - pdev=c068ff80, sd=85207400, ourISPdev=85f84000 ***
[   22.899126] *** tx_isp_subdev_auto_link: Auto-linking device 'tx-isp-csi' to ourISPdev=85f84000 ***
[   22.899132] *** DEBUG: Device name comparison - checking 'tx-isp-csi' ***
[   22.899137] *** DEBUG: About to check device name matches ***
[   22.899143] *** CSI BASIC REGISTERS SET: b0022000 (from tx_isp_subdev_init) ***
[   22.899150] *** LINKED CSI device: 85207400, regs: b0022000 ***
[   22.899157] *** CSI PROBE: Set dev_priv to csi_dev 85207400 AFTER subdev_init ***
[   22.899163] *** CSI PROBE: Set host_priv to csi_dev 85207400 AFTER subdev_init ***
[   22.899169] *** CSI PROBE: Using register mapping from tx_isp_subdev_init: b0022000 ***
[   22.899175] *** CSI PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   22.899198] *** Platform device 0 (tx-isp-csi) registered successfully ***
[   22.899205] *** Registering platform device 1 from platform data ***
[   22.900231] *** VIC PROBE: IRQ numbers initialized to 38 ***
[   22.900247] *** VIC PROBE: Primary VIC registers mapped at 0x133e0000 -> b33e0000 ***
[   22.900253] *** VIC PROBE: VIC control registers mapped at 0x10023000 -> b0023000 ***
[   22.900259] *** VIC PROBE: Hardware IRQ function pointers set using SAFE struct members (tx_isp_enable/disable_irq) ***
[   22.900266] *** VIC PROBE: Secondary VIC register test - 0x1e0 = 0x00000000 (mapping verified) ***
[   22.900272] *** BINARY NINJA MCP: VIC buffer management ENABLED - following reference driver ***
[   22.900277] *** VIC will operate in FULL mode with complete buffer operations ***
[   22.900283] *** BINARY NINJA MCP: VIC full initialization complete - buffer management ENABLED ***
[   22.900289] *** VIC PROBE: Initialized default dimensions 1920x1080 and critical fields ***
[   22.900295] *** VIC PROBE: Event callback structure stored in VIC device field ***
[   22.900302] *** VIC PROBE: Stored vic_dev pointer 80538000 in subdev dev_priv ***
[   22.900308] *** VIC PROBE: Set host_priv to vic_dev 80538000 for Binary Ninja compatibility ***
[   22.900315] *** tx_isp_subdev_init: CALLED for device 'isp-w02' ***
[   22.900323] *** tx_isp_subdev_init: pdev=c0690080, sd=80538000, ops=c0690510 ***
[   22.900329] *** tx_isp_subdev_init: ourISPdev=85f84000 ***
[   22.900335] *** tx_isp_subdev_init: ops=c0690510, ops->core=c0690528 ***
[   22.900341] *** tx_isp_subdev_init: ops->core->init=c0651988 ***
[   22.900348] *** tx_isp_subdev_init: Set sd->dev=c0690090, sd->pdev=c0690080 ***
[   22.900354] *** tx_isp_subdev_init: VIC device linked and registered at index 1 ***
[   22.900360] tx_isp_module_init: Module initialized for isp-w02
[   22.900365] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.900373] *** tx_isp_request_irq: platform_get_irq returned 38 for device isp-w02 ***
[   22.900380] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 38 (device: isp-w02) ***
[   22.900389] *** tx_isp_request_irq: About to call request_threaded_irq(irq=38, handler=c065b63c, thread=c064ec0c, flags=0x80, name=isp-w02, dev_id=85f84000) ***
[   22.904273] *** tx_isp_request_irq: request_threaded_irq returned 0 ***
[   22.904285] *** tx_isp_disable_irq: EXACT Binary Ninja - disabling IRQ 38 ***
[   22.904292] *** tx_isp_disable_irq: IRQ 38 DISABLED ***
[   22.904299] *** tx_isp_request_irq: IRQ 38 registered successfully for isp-w02 ***
[   22.904307] tx_isp_subdev_init: platform_get_resource returned c0690164 for device isp-w02
[   22.904315] tx_isp_subdev_init: Memory resource found: start=0x133e0000, end=0x133effff, size=0x00010000
[   22.904325] isp_subdev_init_clks: Initializing 2 clocks
[   22.904333] Found clock: cgu_isp
[   22.904339] ISP clock enabled at 100MHz
[   22.904347] Found ISP clock: isp
[   22.904351] ISP core clock enabled
[   22.929111] CPM clock gates configured
[   22.929126] isp_subdev_init_clks: Successfully initialized 2 clocks
[   22.929136] *** tx_isp_subdev_auto_link: ENTRY - pdev=c0690080, sd=80538000, ourISPdev=85f84000 ***
[   22.929144] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w02' to ourISPdev=85f84000 ***
[   22.929150] *** DEBUG: Device name comparison - checking 'isp-w02' ***
[   22.929155] *** DEBUG: About to check device name matches ***
[   22.929161] *** DEBUG: VIC DEVICE NAME MATCHED! Processing VIC device linking ***
[   22.929167] *** DEBUG: Retrieved vic_dev from subdev data: 80538000 ***
[   22.929173] *** DEBUG: About to set ourISPdev->vic_dev = 80538000 ***
[   22.929179] *** DEBUG: ourISPdev before linking: 85f84000 ***
[   22.929185] *** DEBUG: ourISPdev->vic_dev set to: 80538000 ***
[   22.929191] *** VIC AUTO-LINK: VIC IRQ already registered (irq=38) ***
[   22.929197] *** MAPPED secondary VIC registers: b0023000 (0x10023000) ***
[   22.929203] *** VIC AUTO-LINK: Registers are mapped, registering interrupt handler ***
[   22.929210] *** VIC PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   22.929235] *** Platform device 1 (isp-w02) registered successfully ***
[   22.929241] *** Registering platform device 2 from platform data ***
[   22.931817] *** tx_isp_subdev_init: CALLED for device 'tx-isp-vin' ***
[   22.931832] *** tx_isp_subdev_init: pdev=c068fea8, sd=853f8e00, ops=c06913b4 ***
[   22.931839] *** tx_isp_subdev_init: ourISPdev=85f84000 ***
[   22.931845] *** tx_isp_subdev_init: ops=c06913b4, ops->core=c06913d4 ***
[   22.931851] *** tx_isp_subdev_init: ops->core->init=c066f7b0 ***
[   22.931858] *** tx_isp_subdev_init: Set sd->dev=c068feb8, sd->pdev=c068fea8 ***
[   22.931865] *** tx_isp_subdev_init: NOT A SENSOR - ops=c06913b4 ***
[   22.931871] *** tx_isp_subdev_init: ops->sensor=  (null), csi_subdev_ops=c0690580 ***
[   22.931877] tx_isp_module_init: Module initialized for tx-isp-vin
[   22.931883] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.931891] *** tx_isp_subdev_auto_link: ENTRY - pdev=c068fea8, sd=853f8e00, ourISPdev=85f84000 ***
[   22.931899] *** tx_isp_subdev_auto_link: Auto-linking device 'tx-isp-vin' to ourISPdev=85f84000 ***
[   22.931905] *** DEBUG: Device name comparison - checking 'tx-isp-vin' ***
[   22.931910] *** DEBUG: About to check device name matches ***
[   22.931915] *** DEBUG: VIN device name matched! Setting up VIN device ***
[   22.931921] *** LINKED VIN device: 853f8e00 ***
[   22.931929] *** VIN SUBDEV OPS CONFIGURED: core=c06913d4, video=c06913c8, s_stream=c066f648 ***
[   22.931934] *** REGISTERED VIN SUBDEV AT INDEX 2 WITH VIDEO OPS ***
[   22.931939] *** VIN INITIALIZATION DEFERRED TO SENSOR REGISTRATION PHASE ***
[   22.931945] *** VIN PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   22.931964] *** Platform device 2 (tx-isp-vin) registered successfully ***
[   22.931971] *** Registering platform device 3 from platform data ***
[   22.941930] *** Platform device 3 (tx-isp-fs) registered successfully ***
[   22.941943] *** Registering platform device 4 from platform data ***
[   22.944443] *** tx_isp_core_probe: NEW ARCHITECTURE - Creating separate core device ***
[   22.944456] *** tx_isp_create_core_device: Creating ISP core device ***
[   22.944465] *** tx_isp_create_core_device: Core device created successfully: 80538800 ***
[   22.944472] *** CORE PROBE: Set dev_priv to core_dev 80538800 ***
[   22.944478] *** CORE PROBE: Set host_priv to core_dev 80538800 - PREVENTS BadVA CRASH ***
[   22.944485] *** tx_isp_subdev_init: CALLED for device 'tx-isp-core' ***
[   22.944493] *** tx_isp_subdev_init: pdev=c068fc30, sd=80538800, ops=c0690338 ***
[   22.944499] *** tx_isp_subdev_init: ourISPdev=85f84000 ***
[   22.944505] *** tx_isp_subdev_init: ops=c0690338, ops->core=c0690368 ***
[   22.944511] *** tx_isp_subdev_init: ops->core->init=c0661a94 ***
[   22.944518] *** tx_isp_subdev_init: Set sd->dev=c068fc40, sd->pdev=c068fc30 ***
[   22.944524] *** tx_isp_subdev_init: Core ISP subdev registration handled by core device ***
[   22.944530] tx_isp_module_init: Module initialized for tx-isp-core
[   22.944536] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.944543] *** tx_isp_request_irq: platform_get_irq returned 37 for device tx-isp-core ***
[   22.944550] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 37 (device: tx-isp-core) ***
[   22.944561] *** tx_isp_request_irq: About to call request_threaded_irq(irq=37, handler=c065b63c, thread=c064ec0c, flags=0x80, name=tx-isp-core, dev_id=85f84000) ***
[   22.949177] *** tx_isp_request_irq: request_threaded_irq returned 0 ***
[   22.949191] *** tx_isp_disable_irq: EXACT Binary Ninja - disabling IRQ 37 ***
[   22.949198] *** tx_isp_disable_irq: IRQ 37 DISABLED ***
[   22.949205] *** tx_isp_request_irq: IRQ 37 registered successfully for tx-isp-core ***
[   22.949214] tx_isp_subdev_init: platform_get_resource returned c068fd14 for device tx-isp-core
[   22.949222] tx_isp_subdev_init: Memory resource found: start=0x13300000, end=0x1330ffff, size=0x00010000
[   22.949233] isp_subdev_init_clks: Initializing 3 clocks
[   22.949241] Found clock: cgu_isp
[   22.949248] ISP clock enabled at 100MHz
[   22.949255] Found ISP clock: isp
[   22.949260] ISP core clock enabled
[   22.949267] Found CSI clock: csi
[   22.949272] CSI/MIPI clock enabled
[   22.979084] CPM clock gates configured
[   22.979098] isp_subdev_init_clks: Successfully initialized 3 clocks
[   22.979108] *** tx_isp_subdev_auto_link: ENTRY - pdev=c068fc30, sd=80538800, ourISPdev=85f84000 ***
[   22.979117] *** tx_isp_subdev_auto_link: Auto-linking device 'tx-isp-core' to ourISPdev=85f84000 ***
[   22.979123] *** DEBUG: Device name comparison - checking 'tx-isp-core' ***
[   22.979127] *** DEBUG: About to check device name matches ***
[   22.979135] *** CRITICAL FIX: CORE regs mapped to core device: b3300000 ***
[   22.979140] *** CRITICAL FIX: Core device linked to global ISP device ***
[   22.979146] *** tx_isp_core_probe: Core subdev initialized successfully ***
[   22.979153] *** tx_isp_core_device_init: Initializing core device: 80538800 ***
[   22.979165] *** tx_isp_core_device_init: Core device initialized successfully ***
[   22.979171] *** tx_isp_core_device_init: Core sensor IOCTL handler set for sensor registration ***
[   22.979178] *** tx_isp_link_core_device: Linking core device 80538800 to ISP device 85f84000 ***
[   22.979183] *** tx_isp_link_core_device: Core device linked successfully ***
[   22.979189] *** Core subdev registered at index 4: 80538800 ***
[   22.979203] *** tx_isp_core_probe: Assigned frame_channels=80538400 to core_dev ***
[   22.979209] *** tx_isp_core_probe: VIC device creation deferred to platform driver system ***
[   22.979215] *** tx_isp_core_probe: Platform drivers will call tx_isp_subdev_init for proper initialization ***
[   22.979220] *** tx_isp_core_probe: Calling sensor_early_init ***
[   22.979225] sensor_early_init: Preparing sensor infrastructure
[   22.979231] sensor_early_init: Calling tx_isp_detect_and_register_sensors
[   22.979236] *** CRITICAL: Creating I2C sensor devices during ISP initialization ***
[   22.979241] *** Calling subdev_sensor_ops_ioctl with IOCTL 0x2000000 to create I2C sensor device ***
[   22.979248] *** Calling sensor IOCTL 0x2000000 on Core subdev 80538800 ***
[   22.979254] subdev_sensor_ops_ioctl: cmd=0x2000000
[   22.979259] *** subdev_sensor_ops_ioctl: IOCTL 0x2000000 - Creating I2C sensor device ***
[   22.979265] *** Creating I2C sensor device on adapter 0 ***
[   22.979273] *** Creating I2C device: gc2053 at 0x37 ***
[   22.979279] *** isp_i2c_new_subdev_board: MIPS-SAFE implementation - FIXED CRASH ***
[   22.979287] Creating I2C subdev: type=gc2053 addr=0x37 on adapter i2c0 (MIPS-safe)
[   22.979292] *** MIPS-SAFE: Requesting sensor module gc2053 ***
[   22.991512] *** MIPS-SAFE: Valid I2C address 0x37, creating device ***
[   22.993385] *** MIPS-SAFE: I2C device created successfully at 0x8547e400 ***
[   22.993397] *** MIPS-SAFE: Device driver not loaded or not aligned ***
[   22.993405] *** I2C DEVICE STORED: gc2053 at 0x37 - probe may complete later ***
[   22.993412] *** I2C sensor device created successfully: gc2053 at 0x37 ***
[   22.993419] *** I2C sensor device created successfully via Core sensor IOCTL ***
[   22.993425] *** tx_isp_core_probe: Core device setup complete ***
[   22.993430] ***   - Core device: 80538800 ***
[   22.993435] ***   - Channel count: 6 ***
[   22.993441] ***   - Linked to ISP device: 85f84000 ***
[   22.993447] *** tx_isp_core_probe: Initializing core tuning system ***
[   22.993452] isp_core_tuning_init: Initializing tuning data structure
[   22.993465] isp_core_tuning_init: Tuning data structure initialized at 84d26000
[   22.993471] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   22.993477] *** SAFE: mode_flag properly initialized using struct member access ***
[   22.993482] *** tx_isp_core_probe: Tuning init SUCCESS ***
[   22.993487] *** tx_isp_core_probe: SUCCESS - Core device fully initialized ***
[   22.993493] ***   - Core device: 80538800 ***
[   22.993499] ***   - Tuning device: 84d26000 ***
[   22.993503] *** tx_isp_core_probe: Creating frame channel devices ***
[   22.993509] *** tx_isp_create_framechan_devices: Creating frame channel devices ***
[   22.999267] *** Created frame channel device: /dev/framechan0 (major=10, minor=54) ***
[   23.003164] *** Created frame channel device: /dev/framechan1 (major=10, minor=53) ***
[   23.009881] *** Created frame channel device: /dev/framechan2 (major=10, minor=52) ***
[   23.013397] *** Created frame channel device: /dev/framechan3 (major=10, minor=51) ***
[   23.013407] *** tx_isp_create_framechan_devices: All frame channel devices created ***
[   23.013413] *** tx_isp_core_probe: Frame channel devices created successfully ***
[   23.013418] *** tx_isp_core_probe: Creating ISP M0 tuning device node ***
[   23.013424] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   23.013433] tisp_code_create_tuning_node: Allocated dynamic major 251
[   23.026956] *** ISP M0 TUNING DEVICE CREATED: /dev/isp-m0 (major=251, minor=0) ***
[   23.026967] *** tx_isp_core_probe: ISP M0 tuning device node created successfully ***
[   23.026973] *** tx_isp_core_probe: Core probe completed successfully ***
[   23.026994] *** Platform device 4 (tx-isp-core) registered successfully ***
[   23.027001] *** tx_isp_create_graph_and_nodes: Initializing frame channels ***
[   23.027009] *** Frame channel 0 initialized: 1920x1080, state=2 ***
[   23.027017] *** Frame channel 1 initialized: 640x360, state=2 ***
[   23.027023] *** tx_isp_create_graph_and_nodes: Binary Ninja reference implementation complete ***
[   23.027031] *** tx_isp_module_init: VIC device linkage check - isp_dev->vic_dev = 80538000 ***
[   23.027036] *** tx_isp_module_init: VIC device successfully linked ***
[   23.027042] *** tx_isp_module_init: Binary Ninja reference implementation complete ***
[   23.027047] *** PROBE: Binary Ninja reference implementation complete ***
[   23.027056] *** SUCCESS: ourISPdev allocated by probe function: 85f84000 ***
[   23.027062] *** Following reference driver: IRQ registration handled by tx_isp_request_irq ***
[   23.027068] TX ISP driver initialized successfully - probe function will handle device setup
[   23.030696] ISP isp-w01: [CSI PHY Control] write at offset 0x0: 0x0 -> 0x3130322a (delta: 0.000 ms)
[   23.030710] ISP isp-w01: [CSI PHY Control] write at offset 0x4: 0x0 -> 0x1 (delta: 0.000 ms)
[   23.030719] ISP isp-w01: [CSI PHY Control] write at offset 0x14: 0x0 -> 0x200 (delta: 0.000 ms)
[   24.208685] === gc2053 SENSOR MODULE INIT ===
[   24.208767] === GC2053 SENSOR PROBE START ===
[   24.208777] sensor_probe: client=8547e400, addr=0x37, adapter=84074c10 (i2c0)
[   24.208783] === PERFORMING GPIO RESET SEQUENCE BEFORE I2C ===
[   24.208789] Requesting reset GPIO 18
[   24.208797] GPIO reset sequence: HIGH -> LOW -> HIGH
[   24.429059] GPIO reset sequence completed successfully
[   24.429071] === GPIO INITIALIZATION COMPLETE ===
[   24.429082] sensor_probe: Initialized sensor info - name=gc2053, i2c_addr=0x37
[   24.429097] sensor_probe: data_interface=1, sensor_max_fps=30
[   24.429102] sensor_probe: MIPI 30fps
[   24.429109] *** tx_isp_subdev_init: CALLED for device 'gc2053' ***
[   24.429117] *** tx_isp_subdev_init: pdev=c06b1f18, sd=80538c00, ops=c06b1ff8 ***
[   24.429123] *** tx_isp_subdev_init: ourISPdev=85f84000 ***
[   24.429130] *** tx_isp_subdev_init: ops=c06b1ff8, ops->core=c06b2024 ***
[   24.429136] *** tx_isp_subdev_init: ops->core->init=c06af678 ***
[   24.429143] *** tx_isp_subdev_init: Set sd->dev=c06b1f28, sd->pdev=c06b1f18 ***
[   24.429150] *** tx_isp_subdev_init: DETECTED SENSOR SUBDEV - ops=c06b1ff8, ops->sensor=c06b200c ***
[   24.429155] *** tx_isp_subdev_init: Set up sensor module notify handler ***
[   24.429163] *** tx_isp_subdev_init: SENSOR subdev registered at index 5, sd=80538c00 ***
[   24.429169] *** tx_isp_subdev_init: SENSOR ops=c06b1ff8, ops->sensor=c06b200c ***
[   24.429175] tx_isp_module_init: Module initialized for (null)
[   24.429181] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   24.429189] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b1f18, sd=80538c00, ourISPdev=85f84000 ***
[   24.429196] *** tx_isp_subdev_auto_link: Auto-linking device 'gc2053' to ourISPdev=85f84000 ***
[   24.429211] *** DEBUG: Device name comparison - checking 'gc2053' ***
[   24.429216] *** DEBUG: About to check device name matches ***
[   24.429223] *** DETECTED SENSOR DEVICE: 'gc2053' - registering in subdev array ***
[   24.429229] *** SENSOR 'gc2053' registered at subdev index 6 ***
[   24.429236] *** SENSOR subdev: 80538c00, ops: c06b1ff8 ***
[   24.429241] *** SENSOR ops->sensor: c06b200c ***
[   24.429247] sensor_probe: I2C client association complete
[   24.429255]   sd=80538c00, client=8547e400, addr=0x37, adapter=i2c0
[   24.429261] === TESTING I2C COMMUNICATION AFTER GPIO RESET ===
[   24.429269] sensor_read: reg=0xf0, client=8547e400, adapter=i2c0, addr=0x37
[   24.429765] sensor_read: reg=0xf0 value=0x20 SUCCESS
[   24.429772] I2C test read (0xf0): ret=0, val=0x20 (expected 0x20)
[   24.429777] *** SUCCESS: I2C communication working after GPIO reset! ***
[   24.429785] sensor_read: reg=0xf1, client=8547e400, adapter=i2c0, addr=0x37
[   24.430271] sensor_read: reg=0xf1 value=0x53 SUCCESS
[   24.430278] I2C test read (0xf1): ret=0, val=0x53 (expected 0x53)
[   24.430283] === I2C COMMUNICATION TEST COMPLETE ===
[   24.430290] Registering gc2053 with ISP framework (sd=80538c00, sensor=80538c00)
[   24.430296] === KERNEL SENSOR REGISTRATION ===
[   24.430302] Sensor: gc2053 (subdev=80538c00)
[   24.430308] gc2053 registered with ISP framework successfully
[   24.439211] gc2053 I2C driver registered, waiting for device creation by ISP
root@ing-wyze-cam3-a000 ~# prudynt &
root@ing-wyze-cam3-a000 ~# [INFO:Config.cpp]: Loaded configuration from /etc/prudynt.cfg
d[INFO:main.cpp]: PRUDYNT-T Next-Gen Video Daemon: Aug 28 2025 05:46:40_f5514583
[INFO:main.cpp]: Starting Prudynt Video Server.
[INFO:IMPSystem.cpp]: LIBIMP Version IMP-1.1.6
[INFO:IMPSystem.cpp]: SYSUTILS Version: SYSUTILS-1.1.6
[INFO:IMPSystem.cpp]: CPU Information: T31-X
[INFO:IMPSystem.cpp]: Sensor: gc2053
root@ing-wyze-cam3-a000 ~# dmesg 
[   22.885360] ISP isp-m0: [CSI PHY Control] write at offset 0xcc: 0x0 -> 0x100 (delta: 0.000 ms)
[   22.885369] ISP isp-m0: [CSI PHY Control] write at offset 0xd4: 0x0 -> 0xc (delta: 0.000 ms)
[   22.885378] ISP isp-m0: [CSI PHY Control] write at offset 0xd8: 0x0 -> 0xffffff (delta: 0.000 ms)
[   22.885387] ISP isp-m0: [CSI PHY Control] write at offset 0xe0: 0x0 -> 0x100 (delta: 0.000 ms)
[   22.885397] ISP isp-m0: [CSI PHY Control] write at offset 0xe4: 0x0 -> 0x400040 (delta: 0.000 ms)
[   22.885407] ISP isp-m0: [CSI PHY Control] write at offset 0xf0: 0x0 -> 0xff808000 (delta: 0.000 ms)
[   22.885417] ISP isp-m0: [CSI PHY Config] write at offset 0x110: 0x0 -> 0x80007000 (delta: 0.000 ms)
[   22.885427] ISP isp-m0: [CSI PHY Config] write at offset 0x114: 0x0 -> 0x777111 (delta: 0.000 ms)
[   22.887412] ISP isp-m0: [ISP Control] write at offset 0x9804: 0x0 -> 0x3f00 (delta: 0.000 ms)
[   22.887429] ISP isp-m0: [ISP Control] write at offset 0x9864: 0x0 -> 0x7800438 (delta: 0.000 ms)
[   22.887439] ISP isp-m0: [ISP Control] write at offset 0x987c: 0x0 -> 0xc0000000 (delta: 0.000 ms)
[   22.887449] ISP isp-m0: [ISP Control] write at offset 0x9880: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887457] ISP isp-m0: [ISP Control] write at offset 0x9884: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887467] ISP isp-m0: [ISP Control] write at offset 0x9890: 0x0 -> 0x1010001 (delta: 0.000 ms)
[   22.887477] ISP isp-m0: [ISP Control] write at offset 0x989c: 0x0 -> 0x1010001 (delta: 0.000 ms)
[   22.887486] ISP isp-m0: [ISP Control] write at offset 0x98a8: 0x0 -> 0x1010001 (delta: 0.000 ms)
[   22.887512] ISP isp-m0: [VIC Control] write at offset 0x9a00: 0x0 -> 0x50002d0 (delta: 0.000 ms)
[   22.887521] ISP isp-m0: [VIC Control] write at offset 0x9a04: 0x0 -> 0x3000300 (delta: 0.000 ms)
[   22.887532] ISP isp-m0: [VIC Control] write at offset 0x9a2c: 0x0 -> 0x50002d0 (delta: 0.000 ms)
[   22.887541] ISP isp-m0: [VIC Control] write at offset 0x9a34: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887553] ISP isp-m0: [VIC Control] write at offset 0x9a70: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887562] ISP isp-m0: [VIC Control] write at offset 0x9a7c: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887571] ISP isp-m0: [VIC Control] write at offset 0x9a80: 0x0 -> 0x500 (delta: 0.000 ms)
[   22.887580] ISP isp-m0: [VIC Control] write at offset 0x9a88: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887589] ISP isp-m0: [VIC Control] write at offset 0x9a94: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887598] ISP isp-m0: [VIC Control] write at offset 0x9a98: 0x0 -> 0x500 (delta: 0.000 ms)
[   22.887609] ISP isp-m0: [VIC Control] write at offset 0x9ac0: 0x0 -> 0x200 (delta: 0.000 ms)
[   22.887618] ISP isp-m0: [VIC Control] write at offset 0x9ac8: 0x0 -> 0x200 (delta: 0.000 ms)
[   22.887871] ISP isp-m0: [Core Control] write at offset 0xb004: 0x0 -> 0xf001f001 (delta: 0.000 ms)
[   22.887880] ISP isp-m0: [Core Control] write at offset 0xb008: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887889] ISP isp-m0: [Core Control] write at offset 0xb00c: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887899] ISP isp-m0: [Core Control] write at offset 0xb010: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887908] ISP isp-m0: [Core Control] write at offset 0xb014: 0x0 -> 0x404040 (delta: 0.000 ms)
[   22.887917] ISP isp-m0: [Core Control] write at offset 0xb018: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887927] ISP isp-m0: [Core Control] write at offset 0xb01c: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887936] ISP isp-m0: [Core Control] write at offset 0xb020: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887945] ISP isp-m0: [Core Control] write at offset 0xb024: 0x0 -> 0x404040 (delta: 0.000 ms)
[   22.887955] ISP isp-m0: [Core Control] write at offset 0xb028: 0x0 -> 0x1000080 (delta: 0.000 ms)
[   22.887964] ISP isp-m0: [Core Control] write at offset 0xb02c: 0x0 -> 0x1000080 (delta: 0.000 ms)
[   22.887973] ISP isp-m0: [Core Control] write at offset 0xb030: 0x0 -> 0x100 (delta: 0.000 ms)
[   22.887983] ISP isp-m0: [Core Control] write at offset 0xb034: 0x0 -> 0xffff0100 (delta: 0.000 ms)
[   22.887991] ISP isp-m0: [Core Control] write at offset 0xb038: 0x0 -> 0x1ff00 (delta: 0.000 ms)
[   22.888001] ISP isp-m0: [Core Control] write at offset 0xb04c: 0x0 -> 0x103 (delta: 0.000 ms)
[   22.888011] ISP isp-m0: [Core Control] write at offset 0xb050: 0x0 -> 0x3 (delta: 0.000 ms)
[   22.888021] ISP isp-m0: [Core Control] write at offset 0xb07c: 0x0 -> 0x1fffff (delta: 0.000 ms)
[   22.888031] ISP isp-m0: [Core Control] write at offset 0xb080: 0x0 -> 0x1fffff (delta: 0.000 ms)
[   22.888040] ISP isp-m0: [Core Control] write at offset 0xb084: 0x0 -> 0x1fffff (delta: 0.000 ms)
[   22.888049] ISP isp-m0: [Core Control] write at offset 0xb088: 0x0 -> 0x1fdfff (delta: 0.000 ms)
[   22.888059] ISP isp-m0: [Core Control] write at offset 0xb08c: 0x0 -> 0x1fff (delta: 0.000 ms)
[   22.899094] CPM clock gates configured
[   22.899108] isp_subdev_init_clks: Successfully initialized 2 clocks
[   22.899117] *** tx_isp_subdev_auto_link: ENTRY - pdev=c068ff80, sd=85207400, ourISPdev=85f84000 ***
[   22.899126] *** tx_isp_subdev_auto_link: Auto-linking device 'tx-isp-csi' to ourISPdev=85f84000 ***
[   22.899132] *** DEBUG: Device name comparison - checking 'tx-isp-csi' ***
[   22.899137] *** DEBUG: About to check device name matches ***
[   22.899143] *** CSI BASIC REGISTERS SET: b0022000 (from tx_isp_subdev_init) ***
[   22.899150] *** LINKED CSI device: 85207400, regs: b0022000 ***
[   22.899157] *** CSI PROBE: Set dev_priv to csi_dev 85207400 AFTER subdev_init ***
[   22.899163] *** CSI PROBE: Set host_priv to csi_dev 85207400 AFTER subdev_init ***
[   22.899169] *** CSI PROBE: Using register mapping from tx_isp_subdev_init: b0022000 ***
[   22.899175] *** CSI PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   22.899198] *** Platform device 0 (tx-isp-csi) registered successfully ***
[   22.899205] *** Registering platform device 1 from platform data ***
[   22.900231] *** VIC PROBE: IRQ numbers initialized to 38 ***
[   22.900247] *** VIC PROBE: Primary VIC registers mapped at 0x133e0000 -> b33e0000 ***
[   22.900253] *** VIC PROBE: VIC control registers mapped at 0x10023000 -> b0023000 ***
[   22.900259] *** VIC PROBE: Hardware IRQ function pointers set using SAFE struct members (tx_isp_enable/disable_irq) ***
[   22.900266] *** VIC PROBE: Secondary VIC register test - 0x1e0 = 0x00000000 (mapping verified) ***
[   22.900272] *** BINARY NINJA MCP: VIC buffer management ENABLED - following reference driver ***
[   22.900277] *** VIC will operate in FULL mode with complete buffer operations ***
[   22.900283] *** BINARY NINJA MCP: VIC full initialization complete - buffer management ENABLED ***
[   22.900289] *** VIC PROBE: Initialized default dimensions 1920x1080 and critical fields ***
[   22.900295] *** VIC PROBE: Event callback structure stored in VIC device field ***
[   22.900302] *** VIC PROBE: Stored vic_dev pointer 80538000 in subdev dev_priv ***
[   22.900308] *** VIC PROBE: Set host_priv to vic_dev 80538000 for Binary Ninja compatibility ***
[   22.900315] *** tx_isp_subdev_init: CALLED for device 'isp-w02' ***
[   22.900323] *** tx_isp_subdev_init: pdev=c0690080, sd=80538000, ops=c0690510 ***
[   22.900329] *** tx_isp_subdev_init: ourISPdev=85f84000 ***
[   22.900335] *** tx_isp_subdev_init: ops=c0690510, ops->core=c0690528 ***
[   22.900341] *** tx_isp_subdev_init: ops->core->init=c0651988 ***
[   22.900348] *** tx_isp_subdev_init: Set sd->dev=c0690090, sd->pdev=c0690080 ***
[   22.900354] *** tx_isp_subdev_init: VIC device linked and registered at index 1 ***
[   22.900360] tx_isp_module_init: Module initialized for isp-w02
[   22.900365] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.900373] *** tx_isp_request_irq: platform_get_irq returned 38 for device isp-w02 ***
[   22.900380] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 38 (device: isp-w02) ***
[   22.900389] *** tx_isp_request_irq: About to call request_threaded_irq(irq=38, handler=c065b63c, thread=c064ec0c, flags=0x80, name=isp-w02, dev_id=85f84000) ***
[   22.904273] *** tx_isp_request_irq: request_threaded_irq returned 0 ***
[   22.904285] *** tx_isp_disable_irq: EXACT Binary Ninja - disabling IRQ 38 ***
[   22.904292] *** tx_isp_disable_irq: IRQ 38 DISABLED ***
[   22.904299] *** tx_isp_request_irq: IRQ 38 registered successfully for isp-w02 ***
[   22.904307] tx_isp_subdev_init: platform_get_resource returned c0690164 for device isp-w02
[   22.904315] tx_isp_subdev_init: Memory resource found: start=0x133e0000, end=0x133effff, size=0x00010000
[   22.904325] isp_subdev_init_clks: Initializing 2 clocks
[   22.904333] Found clock: cgu_isp
[   22.904339] ISP clock enabled at 100MHz
[   22.904347] Found ISP clock: isp
[   22.904351] ISP core clock enabled
[   22.929111] CPM clock gates configured
[   22.929126] isp_subdev_init_clks: Successfully initialized 2 clocks
[   22.929136] *** tx_isp_subdev_auto_link: ENTRY - pdev=c0690080, sd=80538000, ourISPdev=85f84000 ***
[   22.929144] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w02' to ourISPdev=85f84000 ***
[   22.929150] *** DEBUG: Device name comparison - checking 'isp-w02' ***
[   22.929155] *** DEBUG: About to check device name matches ***
[   22.929161] *** DEBUG: VIC DEVICE NAME MATCHED! Processing VIC device linking ***
[   22.929167] *** DEBUG: Retrieved vic_dev from subdev data: 80538000 ***
[   22.929173] *** DEBUG: About to set ourISPdev->vic_dev = 80538000 ***
[   22.929179] *** DEBUG: ourISPdev before linking: 85f84000 ***
[   22.929185] *** DEBUG: ourISPdev->vic_dev set to: 80538000 ***
[   22.929191] *** VIC AUTO-LINK: VIC IRQ already registered (irq=38) ***
[   22.929197] *** MAPPED secondary VIC registers: b0023000 (0x10023000) ***
[   22.929203] *** VIC AUTO-LINK: Registers are mapped, registering interrupt handler ***
[   22.929210] *** VIC PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   22.929235] *** Platform device 1 (isp-w02) registered successfully ***
[   22.929241] *** Registering platform device 2 from platform data ***
[   22.931817] *** tx_isp_subdev_init: CALLED for device 'tx-isp-vin' ***
[   22.931832] *** tx_isp_subdev_init: pdev=c068fea8, sd=853f8e00, ops=c06913b4 ***
[   22.931839] *** tx_isp_subdev_init: ourISPdev=85f84000 ***
[   22.931845] *** tx_isp_subdev_init: ops=c06913b4, ops->core=c06913d4 ***
[   22.931851] *** tx_isp_subdev_init: ops->core->init=c066f7b0 ***
[   22.931858] *** tx_isp_subdev_init: Set sd->dev=c068feb8, sd->pdev=c068fea8 ***
[   22.931865] *** tx_isp_subdev_init: NOT A SENSOR - ops=c06913b4 ***
[   22.931871] *** tx_isp_subdev_init: ops->sensor=  (null), csi_subdev_ops=c0690580 ***
[   22.931877] tx_isp_module_init: Module initialized for tx-isp-vin
[   22.931883] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.931891] *** tx_isp_subdev_auto_link: ENTRY - pdev=c068fea8, sd=853f8e00, ourISPdev=85f84000 ***
[   22.931899] *** tx_isp_subdev_auto_link: Auto-linking device 'tx-isp-vin' to ourISPdev=85f84000 ***
[   22.931905] *** DEBUG: Device name comparison - checking 'tx-isp-vin' ***
[   22.931910] *** DEBUG: About to check device name matches ***
[   22.931915] *** DEBUG: VIN device name matched! Setting up VIN device ***
[   22.931921] *** LINKED VIN device: 853f8e00 ***
[   22.931929] *** VIN SUBDEV OPS CONFIGURED: core=c06913d4, video=c06913c8, s_stream=c066f648 ***
[   22.931934] *** REGISTERED VIN SUBDEV AT INDEX 2 WITH VIDEO OPS ***
[   22.931939] *** VIN INITIALIZATION DEFERRED TO SENSOR REGISTRATION PHASE ***
[   22.931945] *** VIN PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   22.931964] *** Platform device 2 (tx-isp-vin) registered successfully ***
[   22.931971] *** Registering platform device 3 from platform data ***
[   22.941930] *** Platform device 3 (tx-isp-fs) registered successfully ***
[   22.941943] *** Registering platform device 4 from platform data ***
[   22.944443] *** tx_isp_core_probe: NEW ARCHITECTURE - Creating separate core device ***
[   22.944456] *** tx_isp_create_core_device: Creating ISP core device ***
[   22.944465] *** tx_isp_create_core_device: Core device created successfully: 80538800 ***
[   22.944472] *** CORE PROBE: Set dev_priv to core_dev 80538800 ***
[   22.944478] *** CORE PROBE: Set host_priv to core_dev 80538800 - PREVENTS BadVA CRASH ***
[   22.944485] *** tx_isp_subdev_init: CALLED for device 'tx-isp-core' ***
[   22.944493] *** tx_isp_subdev_init: pdev=c068fc30, sd=80538800, ops=c0690338 ***
[   22.944499] *** tx_isp_subdev_init: ourISPdev=85f84000 ***
[   22.944505] *** tx_isp_subdev_init: ops=c0690338, ops->core=c0690368 ***
[   22.944511] *** tx_isp_subdev_init: ops->core->init=c0661a94 ***
[   22.944518] *** tx_isp_subdev_init: Set sd->dev=c068fc40, sd->pdev=c068fc30 ***
[   22.944524] *** tx_isp_subdev_init: Core ISP subdev registration handled by core device ***
[   22.944530] tx_isp_module_init: Module initialized for tx-isp-core
[   22.944536] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.944543] *** tx_isp_request_irq: platform_get_irq returned 37 for device tx-isp-core ***
[   22.944550] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 37 (device: tx-isp-core) ***
[   22.944561] *** tx_isp_request_irq: About to call request_threaded_irq(irq=37, handler=c065b63c, thread=c064ec0c, flags=0x80, name=tx-isp-core, dev_id=85f84000) ***
[   22.949177] *** tx_isp_request_irq: request_threaded_irq returned 0 ***
[   22.949191] *** tx_isp_disable_irq: EXACT Binary Ninja - disabling IRQ 37 ***
[   22.949198] *** tx_isp_disable_irq: IRQ 37 DISABLED ***
[   22.949205] *** tx_isp_request_irq: IRQ 37 registered successfully for tx-isp-core ***
[   22.949214] tx_isp_subdev_init: platform_get_resource returned c068fd14 for device tx-isp-core
[   22.949222] tx_isp_subdev_init: Memory resource found: start=0x13300000, end=0x1330ffff, size=0x00010000
[   22.949233] isp_subdev_init_clks: Initializing 3 clocks
[   22.949241] Found clock: cgu_isp
[   22.949248] ISP clock enabled at 100MHz
[   22.949255] Found ISP clock: isp
[   22.949260] ISP core clock enabled
[   22.949267] Found CSI clock: csi
[   22.949272] CSI/MIPI clock enabled
[   22.979084] CPM clock gates configured
[   22.979098] isp_subdev_init_clks: Successfully initialized 3 clocks
[   22.979108] *** tx_isp_subdev_auto_link: ENTRY - pdev=c068fc30, sd=80538800, ourISPdev=85f84000 ***
[   22.979117] *** tx_isp_subdev_auto_link: Auto-linking device 'tx-isp-core' to ourISPdev=85f84000 ***
[   22.979123] *** DEBUG: Device name comparison - checking 'tx-isp-core' ***
[   22.979127] *** DEBUG: About to check device name matches ***
[   22.979135] *** CRITICAL FIX: CORE regs mapped to core device: b3300000 ***
[   22.979140] *** CRITICAL FIX: Core device linked to global ISP device ***
[   22.979146] *** tx_isp_core_probe: Core subdev initialized successfully ***
[   22.979153] *** tx_isp_core_device_init: Initializing core device: 80538800 ***
[   22.979165] *** tx_isp_core_device_init: Core device initialized successfully ***
[   22.979171] *** tx_isp_core_device_init: Core sensor IOCTL handler set for sensor registration ***
[   22.979178] *** tx_isp_link_core_device: Linking core device 80538800 to ISP device 85f84000 ***
[   22.979183] *** tx_isp_link_core_device: Core device linked successfully ***
[   22.979189] *** Core subdev registered at index 4: 80538800 ***
[   22.979203] *** tx_isp_core_probe: Assigned frame_channels=80538400 to core_dev ***
[   22.979209] *** tx_isp_core_probe: VIC device creation deferred to platform driver system ***
[   22.979215] *** tx_isp_core_probe: Platform drivers will call tx_isp_subdev_init for proper initialization ***
[   22.979220] *** tx_isp_core_probe: Calling sensor_early_init ***
[   22.979225] sensor_early_init: Preparing sensor infrastructure
[   22.979231] sensor_early_init: Calling tx_isp_detect_and_register_sensors
[   22.979236] *** CRITICAL: Creating I2C sensor devices during ISP initialization ***
[   22.979241] *** Calling subdev_sensor_ops_ioctl with IOCTL 0x2000000 to create I2C sensor device ***
[   22.979248] *** Calling sensor IOCTL 0x2000000 on Core subdev 80538800 ***
[   22.979254] subdev_sensor_ops_ioctl: cmd=0x2000000
[   22.979259] *** subdev_sensor_ops_ioctl: IOCTL 0x2000000 - Creating I2C sensor device ***
[   22.979265] *** Creating I2C sensor device on adapter 0 ***
[   22.979273] *** Creating I2C device: gc2053 at 0x37 ***
[   22.979279] *** isp_i2c_new_subdev_board: MIPS-SAFE implementation - FIXED CRASH ***
[   22.979287] Creating I2C subdev: type=gc2053 addr=0x37 on adapter i2c0 (MIPS-safe)
[   22.979292] *** MIPS-SAFE: Requesting sensor module gc2053 ***
[   22.991512] *** MIPS-SAFE: Valid I2C address 0x37, creating device ***
[   22.993385] *** MIPS-SAFE: I2C device created successfully at 0x8547e400 ***
[   22.993397] *** MIPS-SAFE: Device driver not loaded or not aligned ***
[   22.993405] *** I2C DEVICE STORED: gc2053 at 0x37 - probe may complete later ***
[   22.993412] *** I2C sensor device created successfully: gc2053 at 0x37 ***
[   22.993419] *** I2C sensor device created successfully via Core sensor IOCTL ***
[   22.993425] *** tx_isp_core_probe: Core device setup complete ***
[   22.993430] ***   - Core device: 80538800 ***
[   22.993435] ***   - Channel count: 6 ***
[   22.993441] ***   - Linked to ISP device: 85f84000 ***
[   22.993447] *** tx_isp_core_probe: Initializing core tuning system ***
[   22.993452] isp_core_tuning_init: Initializing tuning data structure
[   22.993465] isp_core_tuning_init: Tuning data structure initialized at 84d26000
[   22.993471] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   22.993477] *** SAFE: mode_flag properly initialized using struct member access ***
[   22.993482] *** tx_isp_core_probe: Tuning init SUCCESS ***
[   22.993487] *** tx_isp_core_probe: SUCCESS - Core device fully initialized ***
[   22.993493] ***   - Core device: 80538800 ***
[   22.993499] ***   - Tuning device: 84d26000 ***
[   22.993503] *** tx_isp_core_probe: Creating frame channel devices ***
[   22.993509] *** tx_isp_create_framechan_devices: Creating frame channel devices ***
[   22.999267] *** Created frame channel device: /dev/framechan0 (major=10, minor=54) ***
[   23.003164] *** Created frame channel device: /dev/framechan1 (major=10, minor=53) ***
[   23.009881] *** Created frame channel device: /dev/framechan2 (major=10, minor=52) ***
[   23.013397] *** Created frame channel device: /dev/framechan3 (major=10, minor=51) ***
[   23.013407] *** tx_isp_create_framechan_devices: All frame channel devices created ***
[   23.013413] *** tx_isp_core_probe: Frame channel devices created successfully ***
[   23.013418] *** tx_isp_core_probe: Creating ISP M0 tuning device node ***
[   23.013424] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   23.013433] tisp_code_create_tuning_node: Allocated dynamic major 251
[   23.026956] *** ISP M0 TUNING DEVICE CREATED: /dev/isp-m0 (major=251, minor=0) ***
[   23.026967] *** tx_isp_core_probe: ISP M0 tuning device node created successfully ***
[   23.026973] *** tx_isp_core_probe: Core probe completed successfully ***
[   23.026994] *** Platform device 4 (tx-isp-core) registered successfully ***
[   23.027001] *** tx_isp_create_graph_and_nodes: Initializing frame channels ***
[   23.027009] *** Frame channel 0 initialized: 1920x1080, state=2 ***
[   23.027017] *** Frame channel 1 initialized: 640x360, state=2 ***
[   23.027023] *** tx_isp_create_graph_and_nodes: Binary Ninja reference implementation complete ***
[   23.027031] *** tx_isp_module_init: VIC device linkage check - isp_dev->vic_dev = 80538000 ***
[   23.027036] *** tx_isp_module_init: VIC device successfully linked ***
[   23.027042] *** tx_isp_module_init: Binary Ninja reference implementation complete ***
[   23.027047] *** PROBE: Binary Ninja reference implementation complete ***
[   23.027056] *** SUCCESS: ourISPdev allocated by probe function: 85f84000 ***
[   23.027062] *** Following reference driver: IRQ registration handled by tx_isp_request_irq ***
[   23.027068] TX ISP driver initialized successfully - probe function will handle device setup
[   23.030696] ISP isp-w01: [CSI PHY Control] write at offset 0x0: 0x0 -> 0x3130322a (delta: 0.000 ms)
[   23.030710] ISP isp-w01: [CSI PHY Control] write at offset 0x4: 0x0 -> 0x1 (delta: 0.000 ms)
[   23.030719] ISP isp-w01: [CSI PHY Control] write at offset 0x14: 0x0 -> 0x200 (delta: 0.000 ms)
[   24.208685] === gc2053 SENSOR MODULE INIT ===
[   24.208767] === GC2053 SENSOR PROBE START ===
[   24.208777] sensor_probe: client=8547e400, addr=0x37, adapter=84074c10 (i2c0)
[   24.208783] === PERFORMING GPIO RESET SEQUENCE BEFORE I2C ===
[   24.208789] Requesting reset GPIO 18
[   24.208797] GPIO reset sequence: HIGH -> LOW -> HIGH
[   24.429059] GPIO reset sequence completed successfully
[   24.429071] === GPIO INITIALIZATION COMPLETE ===
[   24.429082] sensor_probe: Initialized sensor info - name=gc2053, i2c_addr=0x37
[   24.429097] sensor_probe: data_interface=1, sensor_max_fps=30
[   24.429102] sensor_probe: MIPI 30fps
[   24.429109] *** tx_isp_subdev_init: CALLED for device 'gc2053' ***
[   24.429117] *** tx_isp_subdev_init: pdev=c06b1f18, sd=80538c00, ops=c06b1ff8 ***
[   24.429123] *** tx_isp_subdev_init: ourISPdev=85f84000 ***
[   24.429130] *** tx_isp_subdev_init: ops=c06b1ff8, ops->core=c06b2024 ***
[   24.429136] *** tx_isp_subdev_init: ops->core->init=c06af678 ***
[   24.429143] *** tx_isp_subdev_init: Set sd->dev=c06b1f28, sd->pdev=c06b1f18 ***
[   24.429150] *** tx_isp_subdev_init: DETECTED SENSOR SUBDEV - ops=c06b1ff8, ops->sensor=c06b200c ***
[   24.429155] *** tx_isp_subdev_init: Set up sensor module notify handler ***
[   24.429163] *** tx_isp_subdev_init: SENSOR subdev registered at index 5, sd=80538c00 ***
[   24.429169] *** tx_isp_subdev_init: SENSOR ops=c06b1ff8, ops->sensor=c06b200c ***
[   24.429175] tx_isp_module_init: Module initialized for (null)
[   24.429181] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   24.429189] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b1f18, sd=80538c00, ourISPdev=85f84000 ***
[   24.429196] *** tx_isp_subdev_auto_link: Auto-linking device 'gc2053' to ourISPdev=85f84000 ***
[   24.429211] *** DEBUG: Device name comparison - checking 'gc2053' ***
[   24.429216] *** DEBUG: About to check device name matches ***
[   24.429223] *** DETECTED SENSOR DEVICE: 'gc2053' - registering in subdev array ***
[   24.429229] *** SENSOR 'gc2053' registered at subdev index 6 ***
[   24.429236] *** SENSOR subdev: 80538c00, ops: c06b1ff8 ***
[   24.429241] *** SENSOR ops->sensor: c06b200c ***
[   24.429247] sensor_probe: I2C client association complete
[   24.429255]   sd=80538c00, client=8547e400, addr=0x37, adapter=i2c0
[   24.429261] === TESTING I2C COMMUNICATION AFTER GPIO RESET ===
[   24.429269] sensor_read: reg=0xf0, client=8547e400, adapter=i2c0, addr=0x37
[   24.429765] sensor_read: reg=0xf0 value=0x20 SUCCESS
[   24.429772] I2C test read (0xf0): ret=0, val=0x20 (expected 0x20)
[   24.429777] *** SUCCESS: I2C communication working after GPIO reset! ***
[   24.429785] sensor_read: reg=0xf1, client=8547e400, adapter=i2c0, addr=0x37
[   24.430271] sensor_read: reg=0xf1 value=0x53 SUCCESS
[   24.430278] I2C test read (0xf1): ret=0, val=0x53 (expected 0x53)
[   24.430283] === I2C COMMUNICATION TEST COMPLETE ===
[   24.430290] Registering gc2053 with ISP framework (sd=80538c00, sensor=80538c00)
[   24.430296] === KERNEL SENSOR REGISTRATION ===
[   24.430302] Sensor: gc2053 (subdev=80538c00)
[   24.430308] gc2053 registered with ISP framework successfully
[   24.439211] gc2053 I2C driver registered, waiting for device creation by ISP
[   29.022526] *** tx_isp_open: SAFE IMPLEMENTATION - preventing dangerous initialization chains ***
[   29.022540] *** tx_isp_open: SAFE MODE - no hardware initialization during open ***
[   29.022546] *** tx_isp_open: Background processing disabled to prevent delayed crashes ***
[   29.022552] *** tx_isp_open: ISP opened safely - no dangerous operations triggered ***
[   29.022874] ISP IOCTL: cmd=0x805056c1 arg=0x76f68d60
[   29.022883] *** DEBUG: Subdev array contents before IOCTL processing ***
[   29.022892] *** DEBUG: subdevs[0] = 85207400 (valid=YES, aligned=YES) ***
[   29.022900] *** DEBUG: subdevs[1] = 80538000 (valid=YES, aligned=YES) ***
[   29.022907] *** DEBUG: subdevs[2] = 853f8e00 (valid=YES, aligned=YES) ***
[   29.022914] *** DEBUG: subdevs[4] = 80538800 (valid=YES, aligned=YES) ***
[   29.022921] *** DEBUG: subdevs[5] = 80538c00 (valid=YES, aligned=YES) ***
[   29.022928] *** DEBUG: subdevs[6] = 80538c00 (valid=YES, aligned=YES) ***
[   29.022938] subdev_sensor_ops_ioctl: cmd=0x2000000
[   29.022944] *** subdev_sensor_ops_ioctl: IOCTL 0x2000000 - Creating I2C sensor device ***
[   29.022949] *** Creating I2C sensor device on adapter 0 ***
[   29.022957] *** Creating I2C device: gc2053 at 0x37 ***
[   29.022962] *** isp_i2c_new_subdev_board: MIPS-SAFE implementation - FIXED CRASH ***
[   29.022970] *** REUSING EXISTING I2C CLIENT: gc2053 at 0x37 (MIPS-safe) ***
[   29.022976] *** I2C sensor device created successfully: gc2053 at 0x37 ***
[   29.022986] ISP IOCTL: cmd=0xc050561a arg=0x7f879a98
[   29.022992] TX_ISP_SENSOR_ENUM_INPUT: Enumerating sensor at index 0
[   29.022998] TX_ISP_SENSOR_ENUM_INPUT: Returning sensor 'gc2053' at index 0
[   29.023006] ISP IOCTL: cmd=0xc050561a arg=0x7f879a98
[   29.023011] TX_ISP_SENSOR_ENUM_INPUT: Enumerating sensor at index 1
[   29.023017] TX_ISP_SENSOR_ENUM_INPUT: No sensor at index 1 - returning error to end enumeration
[   29.023024] ISP IOCTL: cmd=0xc0045627 arg=0x7f879af0
[   29.023032] subdev_sensor_ops_ioctl: cmd=0x2000004
[   29.023037] subdev_sensor_ops_ioctl: IOCTL 0x2000004 - Set sensor input
[   29.023042] subdev_sensor_ops_set_input: EXACT Binary Ninja implementation
[   29.023049] subdev_sensor_ops_set_input: Processing input_index=0 from arg=84679e40
[   29.023055] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   29.023062] *** tx_isp_get_sensor: subdevs[0] = 85207400, ops = c0690580 ***
[   29.023068] *** tx_isp_get_sensor: subdevs[0] ops->sensor = c0690598 ***
[   29.023076] *** tx_isp_get_sensor: subdevs[1] = 80538000, ops = c0690510 ***
[   29.023082] *** tx_isp_get_sensor: subdevs[1] ops->sensor = c0690550 ***
[   29.023090] *** tx_isp_get_sensor: subdevs[2] = 853f8e00, ops = c06913b4 ***
[   29.023096] *** tx_isp_get_sensor: subdevs[2] ops->sensor =   (null) ***
[   29.023102] *** tx_isp_get_sensor: subdevs[3] = NULL ***
[   29.023108] *** tx_isp_get_sensor: subdevs[4] = 80538800, ops = c0690338 ***
[   29.023115] *** tx_isp_get_sensor: subdevs[4] ops->sensor = c0690350 ***
[   29.023122] *** tx_isp_get_sensor: subdevs[5] = 80538c00, ops = c06b1ff8 ***
[   29.023129] *** tx_isp_get_sensor: subdevs[5] ops->sensor = c06b200c ***
[   29.023136] *** tx_isp_get_sensor: subdevs[6] = 80538c00, ops = c06b1ff8 ***
[   29.023142] *** tx_isp_get_sensor: subdevs[6] ops->sensor = c06b200c ***
[   29.023148] *** tx_isp_get_sensor: subdevs[7] = NULL ***
[   29.023154] *** tx_isp_get_sensor: subdevs[8] = NULL ***
[   29.023159] *** tx_isp_get_sensor: subdevs[9] = NULL ***
[   29.023164] *** tx_isp_get_sensor: subdevs[10] = NULL ***
[   29.023170] *** tx_isp_get_sensor: subdevs[11] = NULL ***
[   29.023176] *** tx_isp_get_sensor: subdevs[12] = NULL ***
[   29.023181] *** tx_isp_get_sensor: subdevs[13] = NULL ***
[   29.023186] *** tx_isp_get_sensor: subdevs[14] = NULL ***
[   29.023192] *** tx_isp_get_sensor: subdevs[15] = NULL ***
[   29.023198] *** tx_isp_get_sensor: Found real sensor at index 5: 80538c00 ***
[   29.023204] *** tx_isp_get_sensor: Linking sensor to VIN device active field ***
[   29.023211] *** tx_isp_get_sensor: VIN device active sensor set to 80538c00 ***
[   29.023217] subdev_sensor_ops_set_input: Current sensor from tx_isp_get_sensor: 80538c00
[   29.023223] subdev_sensor_ops_set_input: Requested input_index: 0
[   29.023228] subdev_sensor_ops_set_input: Skipping current sensor stop logic - proceeding to sensor selection
[   29.023234] subdev_sensor_ops_set_input: Checking input_index 0 against 0xffffffff
[   29.023240] subdev_sensor_ops_set_input: input_index is valid, proceeding to sensor search
[   29.023246] subdev_sensor_ops_set_input: Searching for sensor at input_index 0
[   29.023253] subdev_sensor_ops_set_input: Found sensor at subdev[5], current_index=0, target=0
[   29.023260] subdev_sensor_ops_set_input: Selected sensor at subdev[5]: 80538c00
[   29.023266] subdev_sensor_ops_set_input: Found sensor at index 0: 80538c00
[   29.023272] subdev_sensor_ops_set_input: Sensor input set successfully to index 0
[   29.023278] subdev_sensor_ops_set_input: Stored current_sensor_index = 0
[   29.023286] ISP IOCTL: cmd=0x800856d5 arg=0x7f879ae8
[   29.023291] TX_ISP_GET_BUF: IOCTL handler called
[   29.023298] TX_ISP_GET_BUF: core_dev=80538800, isp_dev=85f84000
[   29.023304] TX_ISP_GET_BUF: Using dimensions 1920x1080 from core device
[   29.023311] TX_ISP_GET_BUF: Returning buffer size=4685424, paddr=0x6300000
[   29.095762] ISP IOCTL: cmd=0x800856d4 arg=0x7f879ae8
[   29.095776] TX_ISP_SET_BUF: addr=0x6300000 size=0
[   29.109039] ISP IOCTL: cmd=0x40045626 arg=0x7f879b00
[   29.109053] subdev_sensor_ops_ioctl: cmd=0x2000003
[   29.109059] subdev_sensor_ops_ioctl: IOCTL 0x2000003 - Get sensor input
[   29.109065] subdev_sensor_ops_ioctl: Returning current sensor index 0
[   29.109074] ISP IOCTL: cmd=0x80045612 arg=0x0
[   29.109081] *** tx_isp_video_s_stream: EXACT Binary Ninja reference implementation - enable=1 ***
[   29.109087] *** tx_isp_video_s_stream: Calling specific activate functions before streaming ***
[   29.109093] *** tx_isp_video_s_stream: activate function SUCCESS on subdev[0] ***
[   29.109099] *** tx_isp_video_s_stream: Calling tx_isp_vic_activate_subdev on subdev[1] ***
[   29.109106] VIC activated: state 1 -> 2 (READY)
[   29.109110] *** VIC ACTIVATION: Replenishing free buffer pool ***
[   29.109118] *** VIC ACTIVATION: Added free buffer 0 (aligned struct) ***
[   29.109124] *** VIC ACTIVATION: Added free buffer 1 (aligned struct) ***
[   29.109130] *** VIC ACTIVATION: Added free buffer 2 (aligned struct) ***
[   29.109136] *** VIC ACTIVATION: Added free buffer 3 (aligned struct) ***
[   29.109142] *** VIC ACTIVATION: Added free buffer 4 (aligned struct) ***
[   29.109148] *** VIC ACTIVATION: Free buffer pool replenished - no more 'bank no free' ***
[   29.109154] *** tx_isp_video_s_stream: activate function SUCCESS on subdev[1] ***
[   29.109160] *** tx_isp_video_s_stream: Calling tx_isp_vin_activate_subdev on subdev[2] ***
[   29.109166] *** tx_isp_video_s_stream: activate function SUCCESS on subdev[2] ***
[   29.109172] *** tx_isp_video_s_stream: Calling ispcore_activate_module on subdev[4] ***
[   29.109178] *** ispcore_activate_module: EXACT Binary Ninja implementation ***
[   29.109184] *** ispcore_activate_module: FAILED - result=0x0 ***
[   29.109190] *** tx_isp_video_s_stream: activate function SUCCESS on subdev[4] ***
[   29.109195] *** tx_isp_video_s_stream: Calling core->init ONLY for ISP Core subdev ***
[   29.109202] *** tx_isp_video_s_stream: subdev[0] is sensor - already initialized by activate_module ***
[   29.109208] *** tx_isp_video_s_stream: subdev[1] is sensor - already initialized by activate_module ***
[   29.109214] *** tx_isp_video_s_stream: subdev[2] is sensor - already initialized by activate_module ***
[   29.109220] *** tx_isp_video_s_stream: Calling ispcore_core_ops_init on subdev[4] ***
[   29.109227] *** ispcore_core_ops_init: NEW ARCHITECTURE - Using core device, on=1 ***
[   29.109233] *** ispcore_core_ops_init: core_dev=80538800 ****** ispcore_core_ops_init: Core device valid, current state=2 ***
[   29.109242] *** ispcore_core_ops_init: Frame sync work structure initialized ***<6>[   29.109248] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   29.109255] *** tx_isp_get_sensor: subdevs[0] = 85207400, ops = c0690580 ***
[   29.109262] *** tx_isp_get_sensor: subdevs[0] ops->sensor = c0690598 ***
[   29.109268] *** tx_isp_get_sensor: subdevs[1] = 80538000, ops = c0690510 ***
[   29.109275] *** tx_isp_get_sensor: subdevs[1] ops->sensor = c0690550 ***
[   29.109282] *** tx_isp_get_sensor: subdevs[2] = 853f8e00, ops = c06913b4 ***
[   29.109289] *** tx_isp_get_sensor: subdevs[2] ops->sensor =   (null) ***
[   29.109295] *** tx_isp_get_sensor: subdevs[3] = NULL ***
[   29.109302] *** tx_isp_get_sensor: subdevs[4] = 80538800, ops = c0690338 ***
[   29.109308] *** tx_isp_get_sensor: subdevs[4] ops->sensor = c0690350 ***
[   29.109316] *** tx_isp_get_sensor: subdevs[5] = 80538c00, ops = c06b1ff8 ***
[   29.109322] *** tx_isp_get_sensor: subdevs[5] ops->sensor = c06b200c ***
[   29.109329] *** tx_isp_get_sensor: subdevs[6] = 80538c00, ops = c06b1ff8 ***
[   29.109336] *** tx_isp_get_sensor: subdevs[6] ops->sensor = c06b200c ***
[   29.109341] *** tx_isp_get_sensor: subdevs[7] = NULL ***
[   29.109346] *** tx_isp_get_sensor: subdevs[8] = NULL ***
[   29.109352] *** tx_isp_get_sensor: subdevs[9] = NULL ***
[   29.109358] *** tx_isp_get_sensor: subdevs[10] = NULL ***
[   29.109363] *** tx_isp_get_sensor: subdevs[11] = NULL ***
[   29.109368] *** tx_isp_get_sensor: subdevs[12] = NULL ***
[   29.109374] *** tx_isp_get_sensor: subdevs[13] = NULL ***
[   29.109380] *** tx_isp_get_sensor: subdevs[14] = NULL ***
[   29.109385] *** tx_isp_get_sensor: subdevs[15] = NULL ***
[   29.109392] *** tx_isp_get_sensor: Found real sensor at index 5: 80538c00 ***
[   29.109397] ispcore_core_ops_init: Sensor available, skipping sensor_attr access for now
[   29.109402] ispcore_core_ops_init: Core device=80538800, state=2*** ispcore_core_ops_init: INITIALIZING CORE (on=1) ***
[   29.109410] *** ispcore_core_ops_init: Current vic_state (core state): 2 ****** ispcore_core_ops_init: Core in ready state (2) - normal initialization ***
[   29.109419] *** ispcore_core_ops_init: Core state check passed, proceeding with initialization ***<6>[   29.109424] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   29.109432] *** tx_isp_get_sensor: subdevs[0] = 85207400, ops = c0690580 ***
[   29.109438] *** tx_isp_get_sensor: subdevs[0] ops->sensor = c0690598 ***
[   29.109445] *** tx_isp_get_sensor: subdevs[1] = 80538000, ops = c0690510 ***
[   29.109452] *** tx_isp_get_sensor: subdevs[1] ops->sensor = c0690550 ***
[   29.109459] *** tx_isp_get_sensor: subdevs[2] = 853f8e00, ops = c06913b4 ***
[   29.109465] *** tx_isp_get_sensor: subdevs[2] ops->sensor =   (null) ***
[   29.109470] *** tx_isp_get_sensor: subdevs[3] = NULL ***
[   29.109478] *** tx_isp_get_sensor: subdevs[4] = 80538800, ops = c0690338 ***
[   29.109484] *** tx_isp_get_sensor: subdevs[4] ops->sensor = c0690350 ***
[   29.109491] *** tx_isp_get_sensor: subdevs[5] = 80538c00, ops = c06b1ff8 ***
[   29.109498] *** tx_isp_get_sensor: subdevs[5] ops->sensor = c06b200c ***
[   29.109505] *** tx_isp_get_sensor: subdevs[6] = 80538c00, ops = c06b1ff8 ***
[   29.109512] *** tx_isp_get_sensor: subdevs[6] ops->sensor = c06b200c ***
[   29.109517] *** tx_isp_get_sensor: subdevs[7] = NULL ***
[   29.109522] *** tx_isp_get_sensor: subdevs[8] = NULL ***
[   29.109528] *** tx_isp_get_sensor: subdevs[9] = NULL ***
[   29.109534] *** tx_isp_get_sensor: subdevs[10] = NULL ***
[   29.109539] *** tx_isp_get_sensor: subdevs[11] = NULL ***
[   29.109544] *** tx_isp_get_sensor: subdevs[12] = NULL ***
[   29.109550] *** tx_isp_get_sensor: subdevs[13] = NULL ***
[   29.109556] *** tx_isp_get_sensor: subdevs[14] = NULL ***
[   29.109561] *** tx_isp_get_sensor: subdevs[15] = NULL ***
[   29.109567] *** tx_isp_get_sensor: Found real sensor at index 5: 80538c00 ***
[   29.109572] *** ispcore_core_ops_init: Calling tisp_init with sensor attributes ***
[   29.109577] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   29.109583] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   29.109590] tisp_init: Initializing ISP hardware for sensor (-1066726856x8275)
[   29.109596] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   29.109604] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   29.109610] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   29.109615] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   29.109621] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   29.109631] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size -1066726856x8275)
[   29.109637] *** tisp_init: ISP control register set to enable processing pipeline ***
[   29.109643] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   29.109648] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   29.109654] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   29.109660] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=8, 0x800=1 ***
[   29.109667] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   29.109674] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   29.109679] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   29.109688] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   29.109694] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   29.109699] *** This should eliminate green frames by enabling proper color processing ***
[   29.109706] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   29.109711] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   29.109716] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   29.109722] *** tisp_init: Standard tuning parameters loaded successfully ***
[   29.109727] *** tisp_init: Custom tuning parameters loaded successfully ***
[   29.109733] tisp_set_csc_version: Setting CSC version 0
[   29.109740] *** tisp_init: REFERENCE DRIVER bypass register set to 0xb477effd (exact Binary Ninja logic) ***
[   29.109745] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   29.109750] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   29.109756] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   29.109761] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   29.109766] *** tisp_init: ISP processing pipeline fully enabled ***
[   29.109772] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   29.109778] tisp_init: ISP memory buffers configured
[   29.109783] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   29.109790] tiziano_ae_init: Initializing Auto Exposure (1920x1080@1) - Binary Ninja EXACT
[   29.109798] tiziano_ae_params_refresh: Refreshing AE parameters
[   29.109809] tiziano_ae_params_refresh: AE parameters refreshed
[   29.109815] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   29.109821] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   29.109826] tiziano_ae_para_addr: Setting up AE parameter addresses
[   29.109831] tiziano_ae_para_addr: AE parameter addresses configured
[   29.109838] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   29.109845] tiziano_ae_set_hardware_param: Parameters written to AE0
[   29.109852] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   29.109859] tiziano_ae_set_hardware_param: Parameters written to AE1
[   29.109866] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   29.109883] tiziano_deflicker_expt: Generated 119 LUT entries
[   29.109889] tisp_event_set_cb: Setting callback for event 1
[   29.109896] tisp_event_set_cb: Event 1 callback set to c0666f10
[   29.109901] tisp_event_set_cb: Setting callback for event 6
[   29.109908] tisp_event_set_cb: Event 6 callback set to c0666388
[   29.109913] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   29.109920] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   29.109925] tiziano_awb_init: AWB hardware blocks enabled
[   29.109930] tiziano_gamma_init: Initializing Gamma processing
[   29.109936] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   29.109995] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   29.110001] tiziano_gib_init: Initializing GIB processing
[   29.110006] tiziano_lsc_init: Initializing LSC processing
[   29.110011] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   29.110018] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   29.110023] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   29.110150] tiziano_ccm_init: Initializing Color Correction Matrix
[   29.110158] tiziano_ccm_init: Using linear CCM parameters
[   29.110164] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   29.110171] jz_isp_ccm: EV=64, CT=9984
[   29.110178] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   29.110184] cm_control: saturation=128
[   29.110189] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   29.110196] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   29.110200] tiziano_ccm_init: CCM initialized successfully
[   29.110206] tiziano_dmsc_init: Initializing DMSC processing
[   29.110211] tiziano_sharpen_init: Initializing Sharpening
[   29.110216] tiziano_sharpen_init: Using linear sharpening parameters
[   29.110222] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   29.110229] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   29.110235] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   29.110262] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   29.110267] tiziano_sharpen_init: Sharpening initialized successfully
[   29.110272] tiziano_sdns_init: Initializing SDNS processing
[   29.110280] tiziano_sdns_init: Using linear SDNS parameters
[   29.110286] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   29.110292] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   29.110298] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   29.110331] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   29.110336] tiziano_sdns_init: SDNS processing initialized successfully
[   29.110343] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   29.110348] tiziano_mdns_init: Using linear MDNS parameters
[   29.110358] tiziano_mdns_init: MDNS processing initialized successfully
[   29.110363] tiziano_clm_init: Initializing CLM processing
[   29.110368] tiziano_dpc_init: Initializing DPC processing
[   29.110374] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   29.110380] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   29.110386] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   29.110392] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   29.110406] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   29.110412] tiziano_hldc_init: Initializing HLDC processing
[   29.110418] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   29.110425] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   29.110432] tiziano_adr_params_refresh: Refreshing ADR parameters
[   29.110438] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   29.110443] tiziano_adr_params_init: Initializing ADR parameter arrays
[   29.110450] tisp_adr_set_params: Writing ADR parameters to registers
[   29.110482] tisp_adr_set_params: ADR parameters written to hardware
[   29.110488] tisp_event_set_cb: Setting callback for event 18
[   29.110495] tisp_event_set_cb: Event 18 callback set to c0666024
[   29.110501] tisp_event_set_cb: Setting callback for event 2
[   29.110507] tisp_event_set_cb: Event 2 callback set to c0665ff8
[   29.110512] tiziano_adr_init: ADR processing initialized successfully
[   29.110518] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   29.110524] tiziano_bcsh_init: Initializing BCSH processing
[   29.110529] tiziano_ydns_init: Initializing YDNS processing
[   29.110534] tiziano_rdns_init: Initializing RDNS processing
[   29.110539] *** tisp_init: INITIALIZING WDR-SPECIFIC COMPONENTS ***
[   29.110546] tiziano_wdr_init: Initializing WDR processing (1920x1080)
[   29.110551] tisp_gb_init: Initializing GB processing for WDR
[   29.110558] tisp_dpc_wdr_en: Enable DPC WDR mode
[   29.110563] tisp_lsc_wdr_en: Enable LSC WDR mode
[   29.110568] tisp_gamma_wdr_en: Enable Gamma WDR mode
[   29.110574] tisp_sharpen_wdr_en: Enable Sharpen WDR mode
[   29.110579] tisp_ccm_wdr_en: Enable CCM WDR mode
[   29.110584] tisp_bcsh_wdr_en: Enable BCSH WDR mode
[   29.110590] tisp_rdns_wdr_en: Enable RDNS WDR mode
[   29.110595] tisp_adr_wdr_en: Enable ADR WDR mode
[   29.110600] tisp_defog_wdr_en: Enable Defog WDR mode
[   29.110606] tisp_mdns_wdr_en: Enable MDNS WDR mode
[   29.110611] tisp_dmsc_wdr_en: Enable DMSC WDR mode
[   29.110616] tisp_ae_wdr_en: Enable AE WDR mode
[   29.110622] tisp_sdns_wdr_en: Enable SDNS WDR mode
[   29.110627] tiziano_wdr_init: WDR processing initialized successfully
[   29.110632] tisp_gb_init: Initializing GB processing for WDR
[   29.110638] tisp_dpc_wdr_en: Enable DPC WDR mode
[   29.110643] tisp_lsc_wdr_en: Enable LSC WDR mode
[   29.110648] tisp_gamma_wdr_en: Enable Gamma WDR mode
[   29.110654] tisp_sharpen_wdr_en: Enable Sharpen WDR mode
[   29.110659] tisp_ccm_wdr_en: Enable CCM WDR mode
[   29.110664] tisp_bcsh_wdr_en: Enable BCSH WDR mode
[   29.110670] tisp_rdns_wdr_en: Enable RDNS WDR mode
[   29.110675] tisp_adr_wdr_en: Enable ADR WDR mode
[   29.110680] tisp_defog_wdr_en: Enable Defog WDR mode
[   29.110686] tisp_mdns_wdr_en: Enable MDNS WDR mode
[   29.110691] tisp_dmsc_wdr_en: Enable DMSC WDR mode
[   29.110696] tisp_ae_wdr_en: Enable AE WDR mode
[   29.110702] tisp_sdns_wdr_en: Enable SDNS WDR mode
[   29.110706] *** tisp_init: WDR COMPONENTS INITIALIZED ***
[   29.110712] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   29.110726] *** tisp_init: AE0 buffer allocated at 0x05f40000 ***
[   29.110732] *** CRITICAL FIX: data_b2f3c initialized to 0x85f40000 (prevents stack corruption) ***
[   29.110742] *** tisp_init: AE1 buffer allocated at 0x01178000 ***
[   29.110747] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   29.110754] tiziano_ae_init: Initializing Auto Exposure (1920x1080@1) - Binary Ninja EXACT
[   29.110762] tiziano_ae_params_refresh: Refreshing AE parameters
[   29.110770] tiziano_ae_params_refresh: AE parameters refreshed
[   29.110775] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   29.110780] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   29.110786] tiziano_ae_para_addr: Setting up AE parameter addresses
[   29.110791] tiziano_ae_para_addr: AE parameter addresses configured
[   29.110798] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   29.110805] tiziano_ae_set_hardware_param: Parameters written to AE0
[   29.110812] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   29.110818] tiziano_ae_set_hardware_param: Parameters written to AE1
[   29.110826] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   29.110843] tiziano_deflicker_expt: Generated 119 LUT entries
[   29.110848] tisp_event_set_cb: Setting callback for event 1
[   29.110855] tisp_event_set_cb: Event 1 callback set to c0666f10
[   29.110860] tisp_event_set_cb: Setting callback for event 6
[   29.110867] tisp_event_set_cb: Event 6 callback set to c0666388
[   29.110872] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   29.110879] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   29.110884] tiziano_awb_init: AWB hardware blocks enabled
[   29.110890] tiziano_gamma_init: Initializing Gamma processing
[   29.110895] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   29.110954] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   29.110959] tiziano_gib_init: Initializing GIB processing
[   29.110964] tiziano_lsc_init: Initializing LSC processing
[   29.110970] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   29.110976] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   29.110982] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   29.111036] tiziano_ccm_init: Initializing Color Correction Matrix
[   29.111042] tiziano_ccm_init: Using linear CCM parameters
[   29.111047] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   29.111053] jz_isp_ccm: EV=64, CT=9984
[   29.111059] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   29.111064] cm_control: saturation=128
[   29.111070] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   29.111076] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   29.111082] tiziano_ccm_init: CCM initialized successfully
[   29.111086] tiziano_dmsc_init: Initializing DMSC processing
[   29.111092] tiziano_sharpen_init: Initializing Sharpening
[   29.111097] tiziano_sharpen_init: Using linear sharpening parameters
[   29.111102] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   29.111109] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   29.111114] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   29.111141] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   29.111146] tiziano_sharpen_init: Sharpening initialized successfully
[   29.111152] tiziano_sdns_init: Initializing SDNS processing
[   29.111159] tiziano_sdns_init: Using linear SDNS parameters
[   29.111164] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   29.111171] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   29.111176] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   29.111208] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   29.111214] tiziano_sdns_init: SDNS processing initialized successfully
[   29.111220] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   29.111225] tiziano_mdns_init: Using linear MDNS parameters
[   29.111235] tiziano_mdns_init: MDNS processing initialized successfully
[   29.111241] tiziano_clm_init: Initializing CLM processing
[   29.111246] tiziano_dpc_init: Initializing DPC processing
[   29.111251] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   29.111256] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   29.111263] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   29.111268] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   29.111283] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   29.111288] tiziano_hldc_init: Initializing HLDC processing
[   29.111294] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   29.111301] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   29.111308] tiziano_adr_params_refresh: Refreshing ADR parameters
[   29.111313] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   29.111318] tiziano_adr_params_init: Initializing ADR parameter arrays
[   29.111325] tisp_adr_set_params: Writing ADR parameters to registers
[   29.111357] tisp_adr_set_params: ADR parameters written to hardware
[   29.111362] tisp_event_set_cb: Setting callback for event 18
[   29.111369] tisp_event_set_cb: Event 18 callback set to c0666024
[   29.111374] tisp_event_set_cb: Setting callback for event 2
[   29.111380] tisp_event_set_cb: Event 2 callback set to c0665ff8
[   29.111386] tiziano_adr_init: ADR processing initialized successfully
[   29.111392] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   29.111397] tiziano_bcsh_init: Initializing BCSH processing
[   29.111402] tiziano_ydns_init: Initializing YDNS processing
[   29.111407] tiziano_rdns_init: Initializing RDNS processing
[   29.111412] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   29.111418] tisp_event_init: Initializing ISP event system
[   29.111425] tisp_event_init: SAFE event system initialized with 20 nodes
[   29.111431] tisp_event_set_cb: Setting callback for event 4
[   29.111437] tisp_event_set_cb: Event 4 callback set to c0666050
[   29.111443] tisp_event_set_cb: Setting callback for event 5
[   29.111449] tisp_event_set_cb: Event 5 callback set to c0666518
[   29.111454] tisp_event_set_cb: Setting callback for event 7
[   29.111461] tisp_event_set_cb: Event 7 callback set to c06660e4
[   29.111466] tisp_event_set_cb: Setting callback for event 9
[   29.111473] tisp_event_set_cb: Event 9 callback set to c066616c
[   29.111478] tisp_event_set_cb: Setting callback for event 8
[   29.111484] tisp_event_set_cb: Event 8 callback set to c0666230
[   29.111490] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   29.111496] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   29.111502] *** tisp_init: ISP processing completion callback registered (index=0xd) ***
[   29.111508] tisp_param_operate_init: Initializing parameter operations
[   29.111515] tisp_netlink_init: Initializing netlink communication
[   29.111535] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   29.111542] tisp_code_create_tuning_node: Device already created, skipping
[   29.111548] *** CRITICAL: Calling tx_isp_subdev_pipo to initialize VIC buffer management ***
[   29.111554] *** CRITICAL: Calling tx_isp_subdev_pipo with VIC subdev 80538000 ***
[   29.111560] *** tx_isp_subdev_pipo: EXACT Binary Ninja MCP implementation ***
[   29.111567] tx_isp_subdev_pipo: entry - sd=80538000, arg=84679dd8
[   29.111574] tx_isp_subdev_pipo: vic_dev retrieved from host_priv: 80538000
[   29.111579] tx_isp_subdev_pipo: set processing = 1 (Binary Ninja offset 0x20c)
[   29.111584] tx_isp_subdev_pipo: arg is not NULL - initializing pipe structures (Binary Ninja MCP)
[   29.111590] tx_isp_subdev_pipo: initialized linked list heads (Binary Ninja MCP)
[   29.111596] tx_isp_subdev_pipo: initialized spinlock (Binary Ninja MCP)
[   29.111601] *** CRITICAL: Set ispvic_frame_channel_s_stream at raw_pipe[3] (offset 0xc) ***
[   29.111608] tx_isp_subdev_pipo: added buffer entry 0 to free list (aligned struct)
[   29.111615] tx_isp_subdev_pipo: cleared VIC register at offset 0x318 for buffer 0
[   29.111621] tx_isp_subdev_pipo: added buffer entry 1 to free list (aligned struct)
[   29.111628] tx_isp_subdev_pipo: cleared VIC register at offset 0x31c for buffer 1
[   29.111634] tx_isp_subdev_pipo: added buffer entry 2 to free list (aligned struct)
[   29.111640] tx_isp_subdev_pipo: cleared VIC register at offset 0x320 for buffer 2
[   29.111647] tx_isp_subdev_pipo: added buffer entry 3 to free list (aligned struct)
[   29.111653] tx_isp_subdev_pipo: cleared VIC register at offset 0x324 for buffer 3
[   29.111660] tx_isp_subdev_pipo: added buffer entry 4 to free list (aligned struct)
[   29.111666] tx_isp_subdev_pipo: cleared VIC register at offset 0x328 for buffer 4
[   29.111672] tx_isp_subdev_pipo: initialized 5 buffer structures (safe implementation)
[   29.111678] tx_isp_subdev_pipo: set processing = 1 (pipe enabled, safe struct access)
[   29.111684] *** tx_isp_subdev_pipo: RESETTING stream_state to 0 before calling ispvic_frame_channel_s_stream ***
[   29.111690] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_qbuf to write buffer addresses ***
[   29.111696] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   29.111702] ispvic_frame_channel_qbuf: arg1=80538000, arg2=  (null)
[   29.111709] *** tx_isp_subdev_pipo: ispvic_frame_channel_qbuf SUCCESS - buffer addresses written to VIC hardware ***
[   29.111715] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_s_stream to start VIC streaming ***
[   29.111722] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   29.111728] ispvic_frame_channel_s_stream: arg1=80538000, arg2=1
[   29.111734] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80538000
[   29.111740] ispvic_frame_channel_s_stream[1683]: streamon
[   29.111747] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   29.111753] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   29.111758] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   29.111764] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   29.111771] vic_pipo_mdma_enable: Using vic_dev dimensions 1920x1080 (SAFE struct access)
[   29.111776] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   29.111783] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   29.111789] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   29.111795] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   29.111800] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   29.111806] *** CRITICAL ERROR: No VBM buffer addresses available - VIC cannot generate interrupts! ***
[   29.111813] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   29.111818] *** vic_dev->active_buffer_count=4 ***
[   29.111824] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   29.111829] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   29.111836] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   29.111842] *** tx_isp_subdev_pipo: ispvic_frame_channel_s_stream SUCCESS - VIC streaming started! ***
[   29.111848] *** tx_isp_subdev_pipo: CALLING vic_core_s_stream to enable VIC interrupts ***
[   29.111855] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80538000, enable=1 ***
[   29.111861] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   29.111866] *** vic_core_s_stream: STREAM ON ***
[   29.111871] *** vic_core_s_stream: State != 4, calling VIC start sequence ***
[   29.111876] *** vic_core_s_stream: Step 1 - Disabling VIC interrupts ***
[   29.111882] *** tx_vic_disable_irq: BINARY NINJA EXACT ***
[   29.111888] *** tx_vic_disable_irq: VIC interrupts already disabled ***
[   29.111893] *** vic_core_s_stream: Step 2 - Calling tx_isp_vic_start to initialize VIC hardware ***
[   29.111900] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   29.111907] *** tx_isp_get_sensor: subdevs[0] = 85207400, ops = c0690580 ***
[   29.111914] *** tx_isp_get_sensor: subdevs[0] ops->sensor = c0690598 ***
[   29.111921] *** tx_isp_get_sensor: subdevs[1] = 80538000, ops = c0690510 ***
[   29.111928] *** tx_isp_get_sensor: subdevs[1] ops->sensor = c0690550 ***
[   29.111935] *** tx_isp_get_sensor: subdevs[2] = 853f8e00, ops = c06913b4 ***
[   29.111941] *** tx_isp_get_sensor: subdevs[2] ops->sensor =   (null) ***
[   29.111947] *** tx_isp_get_sensor: subdevs[3] = NULL ***
[   29.111954] *** tx_isp_get_sensor: subdevs[4] = 80538800, ops = c0690338 ***
[   29.111961] *** tx_isp_get_sensor: subdevs[4] ops->sensor = c0690350 ***
[   29.111968] *** tx_isp_get_sensor: subdevs[5] = 80538c00, ops = c06b1ff8 ***
[   29.111975] *** tx_isp_get_sensor: subdevs[5] ops->sensor = c06b200c ***
[   29.111982] *** tx_isp_get_sensor: subdevs[6] = 80538c00, ops = c06b1ff8 ***
[   29.111989] *** tx_isp_get_sensor: subdevs[6] ops->sensor = c06b200c ***
[   29.111994] *** tx_isp_get_sensor: subdevs[7] = NULL ***
[   29.112000] *** tx_isp_get_sensor: subdevs[8] = NULL ***
[   29.112006] *** tx_isp_get_sensor: subdevs[9] = NULL ***
[   29.112011] *** tx_isp_get_sensor: subdevs[10] = NULL ***
[   29.112016] *** tx_isp_get_sensor: subdevs[11] = NULL ***
[   29.112022] *** tx_isp_get_sensor: subdevs[12] = NULL ***
[   29.112028] *** tx_isp_get_sensor: subdevs[13] = NULL ***
[   29.112033] *** tx_isp_get_sensor: subdevs[14] = NULL ***
[   29.112039] *** tx_isp_get_sensor: subdevs[15] = NULL ***
[   29.112045] *** tx_isp_get_sensor: Found real sensor at index 5: 80538c00 ***
[   29.112052] *** tx_isp_vic_start: Using single VIC register base - EXACT Binary Ninja reference ***
[   29.112058] *** tx_isp_vic_start: CRITICAL DEBUG - interface_type=1, checking if == 1 ***
[   29.112064] *** tx_isp_vic_start: MIPI interface detected - configuring VIC for MIPI ***
[   29.112070] *** tx_isp_vic_start: vic_dev->width=1920, vic_dev->height=1080 ***
[   29.112076] *** tx_isp_vic_start: sensor_mode != interface_type, writing 0xa000a to 0x1a4 ***
[   29.112082] *** tx_isp_vic_start: Writing VIC configuration registers - EXACT Binary Ninja sequence ***
[   29.112088] *** tx_isp_vic_start: Frame size 0x07800438 written to register 0x4 ***
[   29.112094] *** tx_isp_vic_start: VIC unlock sequence using SECONDARY VIC space (0x10023000) ***
[   29.123060] ISP isp-w01: [CSI PHY Control] write at offset 0x4: 0x1 -> 0x0 (delta: 6090.000 ms)
[   29.128996] ISP isp-m0: [CSI PHY Control] write at offset 0xc: 0x80700008 -> 0xb477effd (delta: 6250.000 ms)
[   29.129011] ISP isp-m0: [CSI PHY Control] write at offset 0x10: 0x0 -> 0x133 (delta: 0.000 ms)
[   29.129020] ISP isp-m0: [CSI PHY Control] write at offset 0x14: 0x0 -> 0x2b (delta: 0.000 ms)
[   29.129029] ISP isp-m0: [CSI PHY Control] write at offset 0x18: 0x0 -> 0xa (delta: 0.000 ms)
[   29.129038] ISP isp-m0: [CSI PHY Control] write at offset 0x1c: 0x0 -> 0x8 (delta: 0.000 ms)
[   29.129048] ISP isp-m0: [CSI PHY Control] write at offset 0x30: 0x0 -> 0x8fffffff (delta: 0.000 ms)
[   29.129068] ISP isp-m0: [CSI PHY Config] write at offset 0x110: 0x80007000 -> 0x80007123 (delta: 6250.000 ms)
[   29.130960] ISP isp-m0: [ISP Control] write at offset 0x9804: 0x3f00 -> 0x0 (delta: 6250.000 ms)
[   29.131002] ISP isp-m0: [VIC Control] write at offset 0x9ac0: 0x200 -> 0x0 (delta: 6250.000 ms)
[   29.131011] ISP isp-m0: [VIC Control] write at offset 0x9ac8: 0x200 -> 0x0 (delta: 6250.000 ms)
[   29.131264] ISP isp-m0: [Core Control] write at offset 0xb000: 0x0 -> 0x1 (delta: 0.000 ms)
[   29.131273] ISP isp-m0: [Core Control] write at offset 0xb004: 0xf001f001 -> 0x7 (delta: 6250.000 ms)
[   29.131283] ISP isp-m0: [Core Control] write at offset 0xb008: 0x40404040 -> 0x0 (delta: 6250.000 ms)
[   29.131297] ISP isp-m0: [Core Control] write at offset 0xb078: 0x0 -> 0x10000000 (delta: 0.000 ms)
root@ing-wyze-cam3-a000 ~# dmesg 
[   22.885360] ISP isp-m0: [CSI PHY Control] write at offset 0xcc: 0x0 -> 0x100 (delta: 0.000 ms)
[   22.885369] ISP isp-m0: [CSI PHY Control] write at offset 0xd4: 0x0 -> 0xc (delta: 0.000 ms)
[   22.885378] ISP isp-m0: [CSI PHY Control] write at offset 0xd8: 0x0 -> 0xffffff (delta: 0.000 ms)
[   22.885387] ISP isp-m0: [CSI PHY Control] write at offset 0xe0: 0x0 -> 0x100 (delta: 0.000 ms)
[   22.885397] ISP isp-m0: [CSI PHY Control] write at offset 0xe4: 0x0 -> 0x400040 (delta: 0.000 ms)
[   22.885407] ISP isp-m0: [CSI PHY Control] write at offset 0xf0: 0x0 -> 0xff808000 (delta: 0.000 ms)
[   22.885417] ISP isp-m0: [CSI PHY Config] write at offset 0x110: 0x0 -> 0x80007000 (delta: 0.000 ms)
[   22.885427] ISP isp-m0: [CSI PHY Config] write at offset 0x114: 0x0 -> 0x777111 (delta: 0.000 ms)
[   22.887412] ISP isp-m0: [ISP Control] write at offset 0x9804: 0x0 -> 0x3f00 (delta: 0.000 ms)
[   22.887429] ISP isp-m0: [ISP Control] write at offset 0x9864: 0x0 -> 0x7800438 (delta: 0.000 ms)
[   22.887439] ISP isp-m0: [ISP Control] write at offset 0x987c: 0x0 -> 0xc0000000 (delta: 0.000 ms)
[   22.887449] ISP isp-m0: [ISP Control] write at offset 0x9880: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887457] ISP isp-m0: [ISP Control] write at offset 0x9884: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887467] ISP isp-m0: [ISP Control] write at offset 0x9890: 0x0 -> 0x1010001 (delta: 0.000 ms)
[   22.887477] ISP isp-m0: [ISP Control] write at offset 0x989c: 0x0 -> 0x1010001 (delta: 0.000 ms)
[   22.887486] ISP isp-m0: [ISP Control] write at offset 0x98a8: 0x0 -> 0x1010001 (delta: 0.000 ms)
[   22.887512] ISP isp-m0: [VIC Control] write at offset 0x9a00: 0x0 -> 0x50002d0 (delta: 0.000 ms)
[   22.887521] ISP isp-m0: [VIC Control] write at offset 0x9a04: 0x0 -> 0x3000300 (delta: 0.000 ms)
[   22.887532] ISP isp-m0: [VIC Control] write at offset 0x9a2c: 0x0 -> 0x50002d0 (delta: 0.000 ms)
[   22.887541] ISP isp-m0: [VIC Control] write at offset 0x9a34: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887553] ISP isp-m0: [VIC Control] write at offset 0x9a70: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887562] ISP isp-m0: [VIC Control] write at offset 0x9a7c: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887571] ISP isp-m0: [VIC Control] write at offset 0x9a80: 0x0 -> 0x500 (delta: 0.000 ms)
[   22.887580] ISP isp-m0: [VIC Control] write at offset 0x9a88: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887589] ISP isp-m0: [VIC Control] write at offset 0x9a94: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.887598] ISP isp-m0: [VIC Control] write at offset 0x9a98: 0x0 -> 0x500 (delta: 0.000 ms)
[   22.887609] ISP isp-m0: [VIC Control] write at offset 0x9ac0: 0x0 -> 0x200 (delta: 0.000 ms)
[   22.887618] ISP isp-m0: [VIC Control] write at offset 0x9ac8: 0x0 -> 0x200 (delta: 0.000 ms)
[   22.887871] ISP isp-m0: [Core Control] write at offset 0xb004: 0x0 -> 0xf001f001 (delta: 0.000 ms)
[   22.887880] ISP isp-m0: [Core Control] write at offset 0xb008: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887889] ISP isp-m0: [Core Control] write at offset 0xb00c: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887899] ISP isp-m0: [Core Control] write at offset 0xb010: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887908] ISP isp-m0: [Core Control] write at offset 0xb014: 0x0 -> 0x404040 (delta: 0.000 ms)
[   22.887917] ISP isp-m0: [Core Control] write at offset 0xb018: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887927] ISP isp-m0: [Core Control] write at offset 0xb01c: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887936] ISP isp-m0: [Core Control] write at offset 0xb020: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.887945] ISP isp-m0: [Core Control] write at offset 0xb024: 0x0 -> 0x404040 (delta: 0.000 ms)
[   22.887955] ISP isp-m0: [Core Control] write at offset 0xb028: 0x0 -> 0x1000080 (delta: 0.000 ms)
[   22.887964] ISP isp-m0: [Core Control] write at offset 0xb02c: 0x0 -> 0x1000080 (delta: 0.000 ms)
[   22.887973] ISP isp-m0: [Core Control] write at offset 0xb030: 0x0 -> 0x100 (delta: 0.000 ms)
[   22.887983] ISP isp-m0: [Core Control] write at offset 0xb034: 0x0 -> 0xffff0100 (delta: 0.000 ms)
[   22.887991] ISP isp-m0: [Core Control] write at offset 0xb038: 0x0 -> 0x1ff00 (delta: 0.000 ms)
[   22.888001] ISP isp-m0: [Core Control] write at offset 0xb04c: 0x0 -> 0x103 (delta: 0.000 ms)
[   22.888011] ISP isp-m0: [Core Control] write at offset 0xb050: 0x0 -> 0x3 (delta: 0.000 ms)
[   22.888021] ISP isp-m0: [Core Control] write at offset 0xb07c: 0x0 -> 0x1fffff (delta: 0.000 ms)
[   22.888031] ISP isp-m0: [Core Control] write at offset 0xb080: 0x0 -> 0x1fffff (delta: 0.000 ms)
[   22.888040] ISP isp-m0: [Core Control] write at offset 0xb084: 0x0 -> 0x1fffff (delta: 0.000 ms)
[   22.888049] ISP isp-m0: [Core Control] write at offset 0xb088: 0x0 -> 0x1fdfff (delta: 0.000 ms)
[   22.888059] ISP isp-m0: [Core Control] write at offset 0xb08c: 0x0 -> 0x1fff (delta: 0.000 ms)
[   22.899094] CPM clock gates configured
[   22.899108] isp_subdev_init_clks: Successfully initialized 2 clocks
[   22.899117] *** tx_isp_subdev_auto_link: ENTRY - pdev=c068ff80, sd=85207400, ourISPdev=85f84000 ***
[   22.899126] *** tx_isp_subdev_auto_link: Auto-linking device 'tx-isp-csi' to ourISPdev=85f84000 ***
[   22.899132] *** DEBUG: Device name comparison - checking 'tx-isp-csi' ***
[   22.899137] *** DEBUG: About to check device name matches ***
[   22.899143] *** CSI BASIC REGISTERS SET: b0022000 (from tx_isp_subdev_init) ***
[   22.899150] *** LINKED CSI device: 85207400, regs: b0022000 ***
[   22.899157] *** CSI PROBE: Set dev_priv to csi_dev 85207400 AFTER subdev_init ***
[   22.899163] *** CSI PROBE: Set host_priv to csi_dev 85207400 AFTER subdev_init ***
[   22.899169] *** CSI PROBE: Using register mapping from tx_isp_subdev_init: b0022000 ***
[   22.899175] *** CSI PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   22.899198] *** Platform device 0 (tx-isp-csi) registered successfully ***
[   22.899205] *** Registering platform device 1 from platform data ***
[   22.900231] *** VIC PROBE: IRQ numbers initialized to 38 ***
[   22.900247] *** VIC PROBE: Primary VIC registers mapped at 0x133e0000 -> b33e0000 ***
[   22.900253] *** VIC PROBE: VIC control registers mapped at 0x10023000 -> b0023000 ***
[   22.900259] *** VIC PROBE: Hardware IRQ function pointers set using SAFE struct members (tx_isp_enable/disable_irq) ***
[   22.900266] *** VIC PROBE: Secondary VIC register test - 0x1e0 = 0x00000000 (mapping verified) ***
[   22.900272] *** BINARY NINJA MCP: VIC buffer management ENABLED - following reference driver ***
[   22.900277] *** VIC will operate in FULL mode with complete buffer operations ***
[   22.900283] *** BINARY NINJA MCP: VIC full initialization complete - buffer management ENABLED ***
[   22.900289] *** VIC PROBE: Initialized default dimensions 1920x1080 and critical fields ***
[   22.900295] *** VIC PROBE: Event callback structure stored in VIC device field ***
[   22.900302] *** VIC PROBE: Stored vic_dev pointer 80538000 in subdev dev_priv ***
[   22.900308] *** VIC PROBE: Set host_priv to vic_dev 80538000 for Binary Ninja compatibility ***
[   22.900315] *** tx_isp_subdev_init: CALLED for device 'isp-w02' ***
[   22.900323] *** tx_isp_subdev_init: pdev=c0690080, sd=80538000, ops=c0690510 ***
[   22.900329] *** tx_isp_subdev_init: ourISPdev=85f84000 ***
[   22.900335] *** tx_isp_subdev_init: ops=c0690510, ops->core=c0690528 ***
[   22.900341] *** tx_isp_subdev_init: ops->core->init=c0651988 ***
[   22.900348] *** tx_isp_subdev_init: Set sd->dev=c0690090, sd->pdev=c0690080 ***
[   22.900354] *** tx_isp_subdev_init: VIC device linked and registered at index 1 ***
[   22.900360] tx_isp_module_init: Module initialized for isp-w02
[   22.900365] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.900373] *** tx_isp_request_irq: platform_get_irq returned 38 for device isp-w02 ***
[   22.900380] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 38 (device: isp-w02) ***
[   22.900389] *** tx_isp_request_irq: About to call request_threaded_irq(irq=38, handler=c065b63c, thread=c064ec0c, flags=0x80, name=isp-w02, dev_id=85f84000) ***
[   22.904273] *** tx_isp_request_irq: request_threaded_irq returned 0 ***
[   22.904285] *** tx_isp_disable_irq: EXACT Binary Ninja - disabling IRQ 38 ***
[   22.904292] *** tx_isp_disable_irq: IRQ 38 DISABLED ***
[   22.904299] *** tx_isp_request_irq: IRQ 38 registered successfully for isp-w02 ***
[   22.904307] tx_isp_subdev_init: platform_get_resource returned c0690164 for device isp-w02
[   22.904315] tx_isp_subdev_init: Memory resource found: start=0x133e0000, end=0x133effff, size=0x00010000
[   22.904325] isp_subdev_init_clks: Initializing 2 clocks
[   22.904333] Found clock: cgu_isp
[   22.904339] ISP clock enabled at 100MHz
[   22.904347] Found ISP clock: isp
[   22.904351] ISP core clock enabled
[   22.929111] CPM clock gates configured
[   22.929126] isp_subdev_init_clks: Successfully initialized 2 clocks
[   22.929136] *** tx_isp_subdev_auto_link: ENTRY - pdev=c0690080, sd=80538000, ourISPdev=85f84000 ***
[   22.929144] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w02' to ourISPdev=85f84000 ***
[   22.929150] *** DEBUG: Device name comparison - checking 'isp-w02' ***
[   22.929155] *** DEBUG: About to check device name matches ***
[   22.929161] *** DEBUG: VIC DEVICE NAME MATCHED! Processing VIC device linking ***
[   22.929167] *** DEBUG: Retrieved vic_dev from subdev data: 80538000 ***
[   22.929173] *** DEBUG: About to set ourISPdev->vic_dev = 80538000 ***
[   22.929179] *** DEBUG: ourISPdev before linking: 85f84000 ***
[   22.929185] *** DEBUG: ourISPdev->vic_dev set to: 80538000 ***
[   22.929191] *** VIC AUTO-LINK: VIC IRQ already registered (irq=38) ***
[   22.929197] *** MAPPED secondary VIC registers: b0023000 (0x10023000) ***
[   22.929203] *** VIC AUTO-LINK: Registers are mapped, registering interrupt handler ***
[   22.929210] *** VIC PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   22.929235] *** Platform device 1 (isp-w02) registered successfully ***
[   22.929241] *** Registering platform device 2 from platform data ***
[   22.931817] *** tx_isp_subdev_init: CALLED for device 'tx-isp-vin' ***
[   22.931832] *** tx_isp_subdev_init: pdev=c068fea8, sd=853f8e00, ops=c06913b4 ***
[   22.931839] *** tx_isp_subdev_init: ourISPdev=85f84000 ***
[   22.931845] *** tx_isp_subdev_init: ops=c06913b4, ops->core=c06913d4 ***
[   22.931851] *** tx_isp_subdev_init: ops->core->init=c066f7b0 ***
[   22.931858] *** tx_isp_subdev_init: Set sd->dev=c068feb8, sd->pdev=c068fea8 ***
[   22.931865] *** tx_isp_subdev_init: NOT A SENSOR - ops=c06913b4 ***
[   22.931871] *** tx_isp_subdev_init: ops->sensor=  (null), csi_subdev_ops=c0690580 ***
[   22.931877] tx_isp_module_init: Module initialized for tx-isp-vin
[   22.931883] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.931891] *** tx_isp_subdev_auto_link: ENTRY - pdev=c068fea8, sd=853f8e00, ourISPdev=85f84000 ***
[   22.931899] *** tx_isp_subdev_auto_link: Auto-linking device 'tx-isp-vin' to ourISPdev=85f84000 ***
[   22.931905] *** DEBUG: Device name comparison - checking 'tx-isp-vin' ***
[   22.931910] *** DEBUG: About to check device name matches ***
[   22.931915] *** DEBUG: VIN device name matched! Setting up VIN device ***
[   22.931921] *** LINKED VIN device: 853f8e00 ***
[   22.931929] *** VIN SUBDEV OPS CONFIGURED: core=c06913d4, video=c06913c8, s_stream=c066f648 ***
[   22.931934] *** REGISTERED VIN SUBDEV AT INDEX 2 WITH VIDEO OPS ***
[   22.931939] *** VIN INITIALIZATION DEFERRED TO SENSOR REGISTRATION PHASE ***
[   22.931945] *** VIN PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   22.931964] *** Platform device 2 (tx-isp-vin) registered successfully ***
[   22.931971] *** Registering platform device 3 from platform data ***
[   22.941930] *** Platform device 3 (tx-isp-fs) registered successfully ***
[   22.941943] *** Registering platform device 4 from platform data ***
[   22.944443] *** tx_isp_core_probe: NEW ARCHITECTURE - Creating separate core device ***
[   22.944456] *** tx_isp_create_core_device: Creating ISP core device ***
[   22.944465] *** tx_isp_create_core_device: Core device created successfully: 80538800 ***
[   22.944472] *** CORE PROBE: Set dev_priv to core_dev 80538800 ***
[   22.944478] *** CORE PROBE: Set host_priv to core_dev 80538800 - PREVENTS BadVA CRASH ***
[   22.944485] *** tx_isp_subdev_init: CALLED for device 'tx-isp-core' ***
[   22.944493] *** tx_isp_subdev_init: pdev=c068fc30, sd=80538800, ops=c0690338 ***
[   22.944499] *** tx_isp_subdev_init: ourISPdev=85f84000 ***
[   22.944505] *** tx_isp_subdev_init: ops=c0690338, ops->core=c0690368 ***
[   22.944511] *** tx_isp_subdev_init: ops->core->init=c0661a94 ***
[   22.944518] *** tx_isp_subdev_init: Set sd->dev=c068fc40, sd->pdev=c068fc30 ***
[   22.944524] *** tx_isp_subdev_init: Core ISP subdev registration handled by core device ***
[   22.944530] tx_isp_module_init: Module initialized for tx-isp-core
[   22.944536] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.944543] *** tx_isp_request_irq: platform_get_irq returned 37 for device tx-isp-core ***
[   22.944550] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 37 (device: tx-isp-core) ***
[   22.944561] *** tx_isp_request_irq: About to call request_threaded_irq(irq=37, handler=c065b63c, thread=c064ec0c, flags=0x80, name=tx-isp-core, dev_id=85f84000) ***
[   22.949177] *** tx_isp_request_irq: request_threaded_irq returned 0 ***
[   22.949191] *** tx_isp_disable_irq: EXACT Binary Ninja - disabling IRQ 37 ***
[   22.949198] *** tx_isp_disable_irq: IRQ 37 DISABLED ***
[   22.949205] *** tx_isp_request_irq: IRQ 37 registered successfully for tx-isp-core ***
[   22.949214] tx_isp_subdev_init: platform_get_resource returned c068fd14 for device tx-isp-core
[   22.949222] tx_isp_subdev_init: Memory resource found: start=0x13300000, end=0x1330ffff, size=0x00010000
[   22.949233] isp_subdev_init_clks: Initializing 3 clocks
[   22.949241] Found clock: cgu_isp
[   22.949248] ISP clock enabled at 100MHz
[   22.949255] Found ISP clock: isp
[   22.949260] ISP core clock enabled
[   22.949267] Found CSI clock: csi
[   22.949272] CSI/MIPI clock enabled
[   22.979084] CPM clock gates configured
[   22.979098] isp_subdev_init_clks: Successfully initialized 3 clocks
[   22.979108] *** tx_isp_subdev_auto_link: ENTRY - pdev=c068fc30, sd=80538800, ourISPdev=85f84000 ***
[   22.979117] *** tx_isp_subdev_auto_link: Auto-linking device 'tx-isp-core' to ourISPdev=85f84000 ***
[   22.979123] *** DEBUG: Device name comparison - checking 'tx-isp-core' ***
[   22.979127] *** DEBUG: About to check device name matches ***
[   22.979135] *** CRITICAL FIX: CORE regs mapped to core device: b3300000 ***
[   22.979140] *** CRITICAL FIX: Core device linked to global ISP device ***
[   22.979146] *** tx_isp_core_probe: Core subdev initialized successfully ***
[   22.979153] *** tx_isp_core_device_init: Initializing core device: 80538800 ***
[   22.979165] *** tx_isp_core_device_init: Core device initialized successfully ***
[   22.979171] *** tx_isp_core_device_init: Core sensor IOCTL handler set for sensor registration ***
[   22.979178] *** tx_isp_link_core_device: Linking core device 80538800 to ISP device 85f84000 ***
[   22.979183] *** tx_isp_link_core_device: Core device linked successfully ***
[   22.979189] *** Core subdev registered at index 4: 80538800 ***
[   22.979203] *** tx_isp_core_probe: Assigned frame_channels=80538400 to core_dev ***
[   22.979209] *** tx_isp_core_probe: VIC device creation deferred to platform driver system ***
[   22.979215] *** tx_isp_core_probe: Platform drivers will call tx_isp_subdev_init for proper initialization ***
[   22.979220] *** tx_isp_core_probe: Calling sensor_early_init ***
[   22.979225] sensor_early_init: Preparing sensor infrastructure
[   22.979231] sensor_early_init: Calling tx_isp_detect_and_register_sensors
[   22.979236] *** CRITICAL: Creating I2C sensor devices during ISP initialization ***
[   22.979241] *** Calling subdev_sensor_ops_ioctl with IOCTL 0x2000000 to create I2C sensor device ***
[   22.979248] *** Calling sensor IOCTL 0x2000000 on Core subdev 80538800 ***
[   22.979254] subdev_sensor_ops_ioctl: cmd=0x2000000
[   22.979259] *** subdev_sensor_ops_ioctl: IOCTL 0x2000000 - Creating I2C sensor device ***
[   22.979265] *** Creating I2C sensor device on adapter 0 ***
[   22.979273] *** Creating I2C device: gc2053 at 0x37 ***
[   22.979279] *** isp_i2c_new_subdev_board: MIPS-SAFE implementation - FIXED CRASH ***
[   22.979287] Creating I2C subdev: type=gc2053 addr=0x37 on adapter i2c0 (MIPS-safe)
[   22.979292] *** MIPS-SAFE: Requesting sensor module gc2053 ***
[   22.991512] *** MIPS-SAFE: Valid I2C address 0x37, creating device ***
[   22.993385] *** MIPS-SAFE: I2C device created successfully at 0x8547e400 ***
[   22.993397] *** MIPS-SAFE: Device driver not loaded or not aligned ***
[   22.993405] *** I2C DEVICE STORED: gc2053 at 0x37 - probe may complete later ***
[   22.993412] *** I2C sensor device created successfully: gc2053 at 0x37 ***
[   22.993419] *** I2C sensor device created successfully via Core sensor IOCTL ***
[   22.993425] *** tx_isp_core_probe: Core device setup complete ***
[   22.993430] ***   - Core device: 80538800 ***
[   22.993435] ***   - Channel count: 6 ***
[   22.993441] ***   - Linked to ISP device: 85f84000 ***
[   22.993447] *** tx_isp_core_probe: Initializing core tuning system ***
[   22.993452] isp_core_tuning_init: Initializing tuning data structure
[   22.993465] isp_core_tuning_init: Tuning data structure initialized at 84d26000
[   22.993471] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   22.993477] *** SAFE: mode_flag properly initialized using struct member access ***
[   22.993482] *** tx_isp_core_probe: Tuning init SUCCESS ***
[   22.993487] *** tx_isp_core_probe: SUCCESS - Core device fully initialized ***
[   22.993493] ***   - Core device: 80538800 ***
[   22.993499] ***   - Tuning device: 84d26000 ***
[   22.993503] *** tx_isp_core_probe: Creating frame channel devices ***
[   22.993509] *** tx_isp_create_framechan_devices: Creating frame channel devices ***
[   22.999267] *** Created frame channel device: /dev/framechan0 (major=10, minor=54) ***
[   23.003164] *** Created frame channel device: /dev/framechan1 (major=10, minor=53) ***
[   23.009881] *** Created frame channel device: /dev/framechan2 (major=10, minor=52) ***
[   23.013397] *** Created frame channel device: /dev/framechan3 (major=10, minor=51) ***
[   23.013407] *** tx_isp_create_framechan_devices: All frame channel devices created ***
[   23.013413] *** tx_isp_core_probe: Frame channel devices created successfully ***
[   23.013418] *** tx_isp_core_probe: Creating ISP M0 tuning device node ***
[   23.013424] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   23.013433] tisp_code_create_tuning_node: Allocated dynamic major 251
[   23.026956] *** ISP M0 TUNING DEVICE CREATED: /dev/isp-m0 (major=251, minor=0) ***
[   23.026967] *** tx_isp_core_probe: ISP M0 tuning device node created successfully ***
[   23.026973] *** tx_isp_core_probe: Core probe completed successfully ***
[   23.026994] *** Platform device 4 (tx-isp-core) registered successfully ***
[   23.027001] *** tx_isp_create_graph_and_nodes: Initializing frame channels ***
[   23.027009] *** Frame channel 0 initialized: 1920x1080, state=2 ***
[   23.027017] *** Frame channel 1 initialized: 640x360, state=2 ***
[   23.027023] *** tx_isp_create_graph_and_nodes: Binary Ninja reference implementation complete ***
[   23.027031] *** tx_isp_module_init: VIC device linkage check - isp_dev->vic_dev = 80538000 ***
[   23.027036] *** tx_isp_module_init: VIC device successfully linked ***
[   23.027042] *** tx_isp_module_init: Binary Ninja reference implementation complete ***
[   23.027047] *** PROBE: Binary Ninja reference implementation complete ***
[   23.027056] *** SUCCESS: ourISPdev allocated by probe function: 85f84000 ***
[   23.027062] *** Following reference driver: IRQ registration handled by tx_isp_request_irq ***
[   23.027068] TX ISP driver initialized successfully - probe function will handle device setup
[   23.030696] ISP isp-w01: [CSI PHY Control] write at offset 0x0: 0x0 -> 0x3130322a (delta: 0.000 ms)
[   23.030710] ISP isp-w01: [CSI PHY Control] write at offset 0x4: 0x0 -> 0x1 (delta: 0.000 ms)
[   23.030719] ISP isp-w01: [CSI PHY Control] write at offset 0x14: 0x0 -> 0x200 (delta: 0.000 ms)
[   24.208685] === gc2053 SENSOR MODULE INIT ===
[   24.208767] === GC2053 SENSOR PROBE START ===
[   24.208777] sensor_probe: client=8547e400, addr=0x37, adapter=84074c10 (i2c0)
[   24.208783] === PERFORMING GPIO RESET SEQUENCE BEFORE I2C ===
[   24.208789] Requesting reset GPIO 18
[   24.208797] GPIO reset sequence: HIGH -> LOW -> HIGH
[   24.429059] GPIO reset sequence completed successfully
[   24.429071] === GPIO INITIALIZATION COMPLETE ===
[   24.429082] sensor_probe: Initialized sensor info - name=gc2053, i2c_addr=0x37
[   24.429097] sensor_probe: data_interface=1, sensor_max_fps=30
[   24.429102] sensor_probe: MIPI 30fps
[   24.429109] *** tx_isp_subdev_init: CALLED for device 'gc2053' ***
[   24.429117] *** tx_isp_subdev_init: pdev=c06b1f18, sd=80538c00, ops=c06b1ff8 ***
[   24.429123] *** tx_isp_subdev_init: ourISPdev=85f84000 ***
[   24.429130] *** tx_isp_subdev_init: ops=c06b1ff8, ops->core=c06b2024 ***
[   24.429136] *** tx_isp_subdev_init: ops->core->init=c06af678 ***
[   24.429143] *** tx_isp_subdev_init: Set sd->dev=c06b1f28, sd->pdev=c06b1f18 ***
[   24.429150] *** tx_isp_subdev_init: DETECTED SENSOR SUBDEV - ops=c06b1ff8, ops->sensor=c06b200c ***
[   24.429155] *** tx_isp_subdev_init: Set up sensor module notify handler ***
[   24.429163] *** tx_isp_subdev_init: SENSOR subdev registered at index 5, sd=80538c00 ***
[   24.429169] *** tx_isp_subdev_init: SENSOR ops=c06b1ff8, ops->sensor=c06b200c ***
[   24.429175] tx_isp_module_init: Module initialized for (null)
[   24.429181] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   24.429189] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b1f18, sd=80538c00, ourISPdev=85f84000 ***
[   24.429196] *** tx_isp_subdev_auto_link: Auto-linking device 'gc2053' to ourISPdev=85f84000 ***
[   24.429211] *** DEBUG: Device name comparison - checking 'gc2053' ***
[   24.429216] *** DEBUG: About to check device name matches ***
[   24.429223] *** DETECTED SENSOR DEVICE: 'gc2053' - registering in subdev array ***
[   24.429229] *** SENSOR 'gc2053' registered at subdev index 6 ***
[   24.429236] *** SENSOR subdev: 80538c00, ops: c06b1ff8 ***
[   24.429241] *** SENSOR ops->sensor: c06b200c ***
[   24.429247] sensor_probe: I2C client association complete
[   24.429255]   sd=80538c00, client=8547e400, addr=0x37, adapter=i2c0
[   24.429261] === TESTING I2C COMMUNICATION AFTER GPIO RESET ===
[   24.429269] sensor_read: reg=0xf0, client=8547e400, adapter=i2c0, addr=0x37
[   24.429765] sensor_read: reg=0xf0 value=0x20 SUCCESS
[   24.429772] I2C test read (0xf0): ret=0, val=0x20 (expected 0x20)
[   24.429777] *** SUCCESS: I2C communication working after GPIO reset! ***
[   24.429785] sensor_read: reg=0xf1, client=8547e400, adapter=i2c0, addr=0x37
[   24.430271] sensor_read: reg=0xf1 value=0x53 SUCCESS
[   24.430278] I2C test read (0xf1): ret=0, val=0x53 (expected 0x53)
[   24.430283] === I2C COMMUNICATION TEST COMPLETE ===
[   24.430290] Registering gc2053 with ISP framework (sd=80538c00, sensor=80538c00)
[   24.430296] === KERNEL SENSOR REGISTRATION ===
[   24.430302] Sensor: gc2053 (subdev=80538c00)
[   24.430308] gc2053 registered with ISP framework successfully
[   24.439211] gc2053 I2C driver registered, waiting for device creation by ISP
[   29.022526] *** tx_isp_open: SAFE IMPLEMENTATION - preventing dangerous initialization chains ***
[   29.022540] *** tx_isp_open: SAFE MODE - no hardware initialization during open ***
[   29.022546] *** tx_isp_open: Background processing disabled to prevent delayed crashes ***
[   29.022552] *** tx_isp_open: ISP opened safely - no dangerous operations triggered ***
[   29.022874] ISP IOCTL: cmd=0x805056c1 arg=0x76f68d60
[   29.022883] *** DEBUG: Subdev array contents before IOCTL processing ***
[   29.022892] *** DEBUG: subdevs[0] = 85207400 (valid=YES, aligned=YES) ***
[   29.022900] *** DEBUG: subdevs[1] = 80538000 (valid=YES, aligned=YES) ***
[   29.022907] *** DEBUG: subdevs[2] = 853f8e00 (valid=YES, aligned=YES) ***
[   29.022914] *** DEBUG: subdevs[4] = 80538800 (valid=YES, aligned=YES) ***
[   29.022921] *** DEBUG: subdevs[5] = 80538c00 (valid=YES, aligned=YES) ***
[   29.022928] *** DEBUG: subdevs[6] = 80538c00 (valid=YES, aligned=YES) ***
[   29.022938] subdev_sensor_ops_ioctl: cmd=0x2000000
[   29.022944] *** subdev_sensor_ops_ioctl: IOCTL 0x2000000 - Creating I2C sensor device ***
[   29.022949] *** Creating I2C sensor device on adapter 0 ***
[   29.022957] *** Creating I2C device: gc2053 at 0x37 ***
[   29.022962] *** isp_i2c_new_subdev_board: MIPS-SAFE implementation - FIXED CRASH ***
[   29.022970] *** REUSING EXISTING I2C CLIENT: gc2053 at 0x37 (MIPS-safe) ***
[   29.022976] *** I2C sensor device created successfully: gc2053 at 0x37 ***
[   29.022986] ISP IOCTL: cmd=0xc050561a arg=0x7f879a98
[   29.022992] TX_ISP_SENSOR_ENUM_INPUT: Enumerating sensor at index 0
[   29.022998] TX_ISP_SENSOR_ENUM_INPUT: Returning sensor 'gc2053' at index 0
[   29.023006] ISP IOCTL: cmd=0xc050561a arg=0x7f879a98
[   29.023011] TX_ISP_SENSOR_ENUM_INPUT: Enumerating sensor at index 1
[   29.023017] TX_ISP_SENSOR_ENUM_INPUT: No sensor at index 1 - returning error to end enumeration
[   29.023024] ISP IOCTL: cmd=0xc0045627 arg=0x7f879af0
[   29.023032] subdev_sensor_ops_ioctl: cmd=0x2000004
[   29.023037] subdev_sensor_ops_ioctl: IOCTL 0x2000004 - Set sensor input
[   29.023042] subdev_sensor_ops_set_input: EXACT Binary Ninja implementation
[   29.023049] subdev_sensor_ops_set_input: Processing input_index=0 from arg=84679e40
[   29.023055] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   29.023062] *** tx_isp_get_sensor: subdevs[0] = 85207400, ops = c0690580 ***
[   29.023068] *** tx_isp_get_sensor: subdevs[0] ops->sensor = c0690598 ***
[   29.023076] *** tx_isp_get_sensor: subdevs[1] = 80538000, ops = c0690510 ***
[   29.023082] *** tx_isp_get_sensor: subdevs[1] ops->sensor = c0690550 ***
[   29.023090] *** tx_isp_get_sensor: subdevs[2] = 853f8e00, ops = c06913b4 ***
[   29.023096] *** tx_isp_get_sensor: subdevs[2] ops->sensor =   (null) ***
[   29.023102] *** tx_isp_get_sensor: subdevs[3] = NULL ***
[   29.023108] *** tx_isp_get_sensor: subdevs[4] = 80538800, ops = c0690338 ***
[   29.023115] *** tx_isp_get_sensor: subdevs[4] ops->sensor = c0690350 ***
[   29.023122] *** tx_isp_get_sensor: subdevs[5] = 80538c00, ops = c06b1ff8 ***
[   29.023129] *** tx_isp_get_sensor: subdevs[5] ops->sensor = c06b200c ***
[   29.023136] *** tx_isp_get_sensor: subdevs[6] = 80538c00, ops = c06b1ff8 ***
[   29.023142] *** tx_isp_get_sensor: subdevs[6] ops->sensor = c06b200c ***
[   29.023148] *** tx_isp_get_sensor: subdevs[7] = NULL ***
[   29.023154] *** tx_isp_get_sensor: subdevs[8] = NULL ***
[   29.023159] *** tx_isp_get_sensor: subdevs[9] = NULL ***
[   29.023164] *** tx_isp_get_sensor: subdevs[10] = NULL ***
[   29.023170] *** tx_isp_get_sensor: subdevs[11] = NULL ***
[   29.023176] *** tx_isp_get_sensor: subdevs[12] = NULL ***
[   29.023181] *** tx_isp_get_sensor: subdevs[13] = NULL ***
[   29.023186] *** tx_isp_get_sensor: subdevs[14] = NULL ***
[   29.023192] *** tx_isp_get_sensor: subdevs[15] = NULL ***
[   29.023198] *** tx_isp_get_sensor: Found real sensor at index 5: 80538c00 ***
[   29.023204] *** tx_isp_get_sensor: Linking sensor to VIN device active field ***
[   29.023211] *** tx_isp_get_sensor: VIN device active sensor set to 80538c00 ***
[   29.023217] subdev_sensor_ops_set_input: Current sensor from tx_isp_get_sensor: 80538c00
[   29.023223] subdev_sensor_ops_set_input: Requested input_index: 0
[   29.023228] subdev_sensor_ops_set_input: Skipping current sensor stop logic - proceeding to sensor selection
[   29.023234] subdev_sensor_ops_set_input: Checking input_index 0 against 0xffffffff
[   29.023240] subdev_sensor_ops_set_input: input_index is valid, proceeding to sensor search
[   29.023246] subdev_sensor_ops_set_input: Searching for sensor at input_index 0
[   29.023253] subdev_sensor_ops_set_input: Found sensor at subdev[5], current_index=0, target=0
[   29.023260] subdev_sensor_ops_set_input: Selected sensor at subdev[5]: 80538c00
[   29.023266] subdev_sensor_ops_set_input: Found sensor at index 0: 80538c00
[   29.023272] subdev_sensor_ops_set_input: Sensor input set successfully to index 0
[   29.023278] subdev_sensor_ops_set_input: Stored current_sensor_index = 0
[   29.023286] ISP IOCTL: cmd=0x800856d5 arg=0x7f879ae8
[   29.023291] TX_ISP_GET_BUF: IOCTL handler called
[   29.023298] TX_ISP_GET_BUF: core_dev=80538800, isp_dev=85f84000
[   29.023304] TX_ISP_GET_BUF: Using dimensions 1920x1080 from core device
[   29.023311] TX_ISP_GET_BUF: Returning buffer size=4685424, paddr=0x6300000
[   29.095762] ISP IOCTL: cmd=0x800856d4 arg=0x7f879ae8
[   29.095776] TX_ISP_SET_BUF: addr=0x6300000 size=0
[   29.109039] ISP IOCTL: cmd=0x40045626 arg=0x7f879b00
[   29.109053] subdev_sensor_ops_ioctl: cmd=0x2000003
[   29.109059] subdev_sensor_ops_ioctl: IOCTL 0x2000003 - Get sensor input
[   29.109065] subdev_sensor_ops_ioctl: Returning current sensor index 0
[   29.109074] ISP IOCTL: cmd=0x80045612 arg=0x0
[   29.109081] *** tx_isp_video_s_stream: EXACT Binary Ninja reference implementation - enable=1 ***
[   29.109087] *** tx_isp_video_s_stream: Calling specific activate functions before streaming ***
[   29.109093] *** tx_isp_video_s_stream: activate function SUCCESS on subdev[0] ***
[   29.109099] *** tx_isp_video_s_stream: Calling tx_isp_vic_activate_subdev on subdev[1] ***
[   29.109106] VIC activated: state 1 -> 2 (READY)
[   29.109110] *** VIC ACTIVATION: Replenishing free buffer pool ***
[   29.109118] *** VIC ACTIVATION: Added free buffer 0 (aligned struct) ***
[   29.109124] *** VIC ACTIVATION: Added free buffer 1 (aligned struct) ***
[   29.109130] *** VIC ACTIVATION: Added free buffer 2 (aligned struct) ***
[   29.109136] *** VIC ACTIVATION: Added free buffer 3 (aligned struct) ***
[   29.109142] *** VIC ACTIVATION: Added free buffer 4 (aligned struct) ***
[   29.109148] *** VIC ACTIVATION: Free buffer pool replenished - no more 'bank no free' ***
[   29.109154] *** tx_isp_video_s_stream: activate function SUCCESS on subdev[1] ***
[   29.109160] *** tx_isp_video_s_stream: Calling tx_isp_vin_activate_subdev on subdev[2] ***
[   29.109166] *** tx_isp_video_s_stream: activate function SUCCESS on subdev[2] ***
[   29.109172] *** tx_isp_video_s_stream: Calling ispcore_activate_module on subdev[4] ***
[   29.109178] *** ispcore_activate_module: EXACT Binary Ninja implementation ***
[   29.109184] *** ispcore_activate_module: FAILED - result=0x0 ***
[   29.109190] *** tx_isp_video_s_stream: activate function SUCCESS on subdev[4] ***
[   29.109195] *** tx_isp_video_s_stream: Calling core->init ONLY for ISP Core subdev ***
[   29.109202] *** tx_isp_video_s_stream: subdev[0] is sensor - already initialized by activate_module ***
[   29.109208] *** tx_isp_video_s_stream: subdev[1] is sensor - already initialized by activate_module ***
[   29.109214] *** tx_isp_video_s_stream: subdev[2] is sensor - already initialized by activate_module ***
[   29.109220] *** tx_isp_video_s_stream: Calling ispcore_core_ops_init on subdev[4] ***
[   29.109227] *** ispcore_core_ops_init: NEW ARCHITECTURE - Using core device, on=1 ***
[   29.109233] *** ispcore_core_ops_init: core_dev=80538800 ****** ispcore_core_ops_init: Core device valid, current state=2 ***
[   29.109242] *** ispcore_core_ops_init: Frame sync work structure initialized ***<6>[   29.109248] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   29.109255] *** tx_isp_get_sensor: subdevs[0] = 85207400, ops = c0690580 ***
[   29.109262] *** tx_isp_get_sensor: subdevs[0] ops->sensor = c0690598 ***
[   29.109268] *** tx_isp_get_sensor: subdevs[1] = 80538000, ops = c0690510 ***
[   29.109275] *** tx_isp_get_sensor: subdevs[1] ops->sensor = c0690550 ***
[   29.109282] *** tx_isp_get_sensor: subdevs[2] = 853f8e00, ops = c06913b4 ***
[   29.109289] *** tx_isp_get_sensor: subdevs[2] ops->sensor =   (null) ***
[   29.109295] *** tx_isp_get_sensor: subdevs[3] = NULL ***
[   29.109302] *** tx_isp_get_sensor: subdevs[4] = 80538800, ops = c0690338 ***
[   29.109308] *** tx_isp_get_sensor: subdevs[4] ops->sensor = c0690350 ***
[   29.109316] *** tx_isp_get_sensor: subdevs[5] = 80538c00, ops = c06b1ff8 ***
[   29.109322] *** tx_isp_get_sensor: subdevs[5] ops->sensor = c06b200c ***
[   29.109329] *** tx_isp_get_sensor: subdevs[6] = 80538c00, ops = c06b1ff8 ***
[   29.109336] *** tx_isp_get_sensor: subdevs[6] ops->sensor = c06b200c ***
[   29.109341] *** tx_isp_get_sensor: subdevs[7] = NULL ***
[   29.109346] *** tx_isp_get_sensor: subdevs[8] = NULL ***
[   29.109352] *** tx_isp_get_sensor: subdevs[9] = NULL ***
[   29.109358] *** tx_isp_get_sensor: subdevs[10] = NULL ***
[   29.109363] *** tx_isp_get_sensor: subdevs[11] = NULL ***
[   29.109368] *** tx_isp_get_sensor: subdevs[12] = NULL ***
[   29.109374] *** tx_isp_get_sensor: subdevs[13] = NULL ***
[   29.109380] *** tx_isp_get_sensor: subdevs[14] = NULL ***
[   29.109385] *** tx_isp_get_sensor: subdevs[15] = NULL ***
[   29.109392] *** tx_isp_get_sensor: Found real sensor at index 5: 80538c00 ***
[   29.109397] ispcore_core_ops_init: Sensor available, skipping sensor_attr access for now
[   29.109402] ispcore_core_ops_init: Core device=80538800, state=2*** ispcore_core_ops_init: INITIALIZING CORE (on=1) ***
[   29.109410] *** ispcore_core_ops_init: Current vic_state (core state): 2 ****** ispcore_core_ops_init: Core in ready state (2) - normal initialization ***
[   29.109419] *** ispcore_core_ops_init: Core state check passed, proceeding with initialization ***<6>[   29.109424] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   29.109432] *** tx_isp_get_sensor: subdevs[0] = 85207400, ops = c0690580 ***
[   29.109438] *** tx_isp_get_sensor: subdevs[0] ops->sensor = c0690598 ***
[   29.109445] *** tx_isp_get_sensor: subdevs[1] = 80538000, ops = c0690510 ***
[   29.109452] *** tx_isp_get_sensor: subdevs[1] ops->sensor = c0690550 ***
[   29.109459] *** tx_isp_get_sensor: subdevs[2] = 853f8e00, ops = c06913b4 ***
[   29.109465] *** tx_isp_get_sensor: subdevs[2] ops->sensor =   (null) ***
[   29.109470] *** tx_isp_get_sensor: subdevs[3] = NULL ***
[   29.109478] *** tx_isp_get_sensor: subdevs[4] = 80538800, ops = c0690338 ***
[   29.109484] *** tx_isp_get_sensor: subdevs[4] ops->sensor = c0690350 ***
[   29.109491] *** tx_isp_get_sensor: subdevs[5] = 80538c00, ops = c06b1ff8 ***
[   29.109498] *** tx_isp_get_sensor: subdevs[5] ops->sensor = c06b200c ***
[   29.109505] *** tx_isp_get_sensor: subdevs[6] = 80538c00, ops = c06b1ff8 ***
[   29.109512] *** tx_isp_get_sensor: subdevs[6] ops->sensor = c06b200c ***
[   29.109517] *** tx_isp_get_sensor: subdevs[7] = NULL ***
[   29.109522] *** tx_isp_get_sensor: subdevs[8] = NULL ***
[   29.109528] *** tx_isp_get_sensor: subdevs[9] = NULL ***
[   29.109534] *** tx_isp_get_sensor: subdevs[10] = NULL ***
[   29.109539] *** tx_isp_get_sensor: subdevs[11] = NULL ***
[   29.109544] *** tx_isp_get_sensor: subdevs[12] = NULL ***
[   29.109550] *** tx_isp_get_sensor: subdevs[13] = NULL ***
[   29.109556] *** tx_isp_get_sensor: subdevs[14] = NULL ***
[   29.109561] *** tx_isp_get_sensor: subdevs[15] = NULL ***
[   29.109567] *** tx_isp_get_sensor: Found real sensor at index 5: 80538c00 ***
[   29.109572] *** ispcore_core_ops_init: Calling tisp_init with sensor attributes ***
[   29.109577] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   29.109583] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   29.109590] tisp_init: Initializing ISP hardware for sensor (-1066726856x8275)
[   29.109596] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   29.109604] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   29.109610] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   29.109615] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   29.109621] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   29.109631] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size -1066726856x8275)
[   29.109637] *** tisp_init: ISP control register set to enable processing pipeline ***
[   29.109643] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   29.109648] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   29.109654] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   29.109660] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=8, 0x800=1 ***
[   29.109667] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   29.109674] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   29.109679] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   29.109688] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   29.109694] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   29.109699] *** This should eliminate green frames by enabling proper color processing ***
[   29.109706] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   29.109711] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   29.109716] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   29.109722] *** tisp_init: Standard tuning parameters loaded successfully ***
[   29.109727] *** tisp_init: Custom tuning parameters loaded successfully ***
[   29.109733] tisp_set_csc_version: Setting CSC version 0
[   29.109740] *** tisp_init: REFERENCE DRIVER bypass register set to 0xb477effd (exact Binary Ninja logic) ***
[   29.109745] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   29.109750] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   29.109756] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   29.109761] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   29.109766] *** tisp_init: ISP processing pipeline fully enabled ***
[   29.109772] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   29.109778] tisp_init: ISP memory buffers configured
[   29.109783] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   29.109790] tiziano_ae_init: Initializing Auto Exposure (1920x1080@1) - Binary Ninja EXACT
[   29.109798] tiziano_ae_params_refresh: Refreshing AE parameters
[   29.109809] tiziano_ae_params_refresh: AE parameters refreshed
[   29.109815] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   29.109821] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   29.109826] tiziano_ae_para_addr: Setting up AE parameter addresses
[   29.109831] tiziano_ae_para_addr: AE parameter addresses configured
[   29.109838] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   29.109845] tiziano_ae_set_hardware_param: Parameters written to AE0
[   29.109852] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   29.109859] tiziano_ae_set_hardware_param: Parameters written to AE1
[   29.109866] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   29.109883] tiziano_deflicker_expt: Generated 119 LUT entries
[   29.109889] tisp_event_set_cb: Setting callback for event 1
[   29.109896] tisp_event_set_cb: Event 1 callback set to c0666f10
[   29.109901] tisp_event_set_cb: Setting callback for event 6
[   29.109908] tisp_event_set_cb: Event 6 callback set to c0666388
[   29.109913] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   29.109920] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   29.109925] tiziano_awb_init: AWB hardware blocks enabled
[   29.109930] tiziano_gamma_init: Initializing Gamma processing
[   29.109936] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   29.109995] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   29.110001] tiziano_gib_init: Initializing GIB processing
[   29.110006] tiziano_lsc_init: Initializing LSC processing
[   29.110011] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   29.110018] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   29.110023] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   29.110150] tiziano_ccm_init: Initializing Color Correction Matrix
[   29.110158] tiziano_ccm_init: Using linear CCM parameters
[   29.110164] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   29.110171] jz_isp_ccm: EV=64, CT=9984
[   29.110178] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   29.110184] cm_control: saturation=128
[   29.110189] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   29.110196] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   29.110200] tiziano_ccm_init: CCM initialized successfully
[   29.110206] tiziano_dmsc_init: Initializing DMSC processing
[   29.110211] tiziano_sharpen_init: Initializing Sharpening
[   29.110216] tiziano_sharpen_init: Using linear sharpening parameters
[   29.110222] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   29.110229] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   29.110235] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   29.110262] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   29.110267] tiziano_sharpen_init: Sharpening initialized successfully
[   29.110272] tiziano_sdns_init: Initializing SDNS processing
[   29.110280] tiziano_sdns_init: Using linear SDNS parameters
[   29.110286] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   29.110292] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   29.110298] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   29.110331] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   29.110336] tiziano_sdns_init: SDNS processing initialized successfully
[   29.110343] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   29.110348] tiziano_mdns_init: Using linear MDNS parameters
[   29.110358] tiziano_mdns_init: MDNS processing initialized successfully
[   29.110363] tiziano_clm_init: Initializing CLM processing
[   29.110368] tiziano_dpc_init: Initializing DPC processing
[   29.110374] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   29.110380] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   29.110386] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   29.110392] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   29.110406] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   29.110412] tiziano_hldc_init: Initializing HLDC processing
[   29.110418] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   29.110425] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   29.110432] tiziano_adr_params_refresh: Refreshing ADR parameters
[   29.110438] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   29.110443] tiziano_adr_params_init: Initializing ADR parameter arrays
[   29.110450] tisp_adr_set_params: Writing ADR parameters to registers
[   29.110482] tisp_adr_set_params: ADR parameters written to hardware
[   29.110488] tisp_event_set_cb: Setting callback for event 18
[   29.110495] tisp_event_set_cb: Event 18 callback set to c0666024
[   29.110501] tisp_event_set_cb: Setting callback for event 2
[   29.110507] tisp_event_set_cb: Event 2 callback set to c0665ff8
[   29.110512] tiziano_adr_init: ADR processing initialized successfully
[   29.110518] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   29.110524] tiziano_bcsh_init: Initializing BCSH processing
[   29.110529] tiziano_ydns_init: Initializing YDNS processing
[   29.110534] tiziano_rdns_init: Initializing RDNS processing
[   29.110539] *** tisp_init: INITIALIZING WDR-SPECIFIC COMPONENTS ***
[   29.110546] tiziano_wdr_init: Initializing WDR processing (1920x1080)
[   29.110551] tisp_gb_init: Initializing GB processing for WDR
[   29.110558] tisp_dpc_wdr_en: Enable DPC WDR mode
[   29.110563] tisp_lsc_wdr_en: Enable LSC WDR mode
[   29.110568] tisp_gamma_wdr_en: Enable Gamma WDR mode
[   29.110574] tisp_sharpen_wdr_en: Enable Sharpen WDR mode
[   29.110579] tisp_ccm_wdr_en: Enable CCM WDR mode
[   29.110584] tisp_bcsh_wdr_en: Enable BCSH WDR mode
[   29.110590] tisp_rdns_wdr_en: Enable RDNS WDR mode
[   29.110595] tisp_adr_wdr_en: Enable ADR WDR mode
[   29.110600] tisp_defog_wdr_en: Enable Defog WDR mode
[   29.110606] tisp_mdns_wdr_en: Enable MDNS WDR mode
[   29.110611] tisp_dmsc_wdr_en: Enable DMSC WDR mode
[   29.110616] tisp_ae_wdr_en: Enable AE WDR mode
[   29.110622] tisp_sdns_wdr_en: Enable SDNS WDR mode
[   29.110627] tiziano_wdr_init: WDR processing initialized successfully
[   29.110632] tisp_gb_init: Initializing GB processing for WDR
[   29.110638] tisp_dpc_wdr_en: Enable DPC WDR mode
[   29.110643] tisp_lsc_wdr_en: Enable LSC WDR mode
[   29.110648] tisp_gamma_wdr_en: Enable Gamma WDR mode
[   29.110654] tisp_sharpen_wdr_en: Enable Sharpen WDR mode
[   29.110659] tisp_ccm_wdr_en: Enable CCM WDR mode
[   29.110664] tisp_bcsh_wdr_en: Enable BCSH WDR mode
[   29.110670] tisp_rdns_wdr_en: Enable RDNS WDR mode
[   29.110675] tisp_adr_wdr_en: Enable ADR WDR mode
[   29.110680] tisp_defog_wdr_en: Enable Defog WDR mode
[   29.110686] tisp_mdns_wdr_en: Enable MDNS WDR mode
[   29.110691] tisp_dmsc_wdr_en: Enable DMSC WDR mode
[   29.110696] tisp_ae_wdr_en: Enable AE WDR mode
[   29.110702] tisp_sdns_wdr_en: Enable SDNS WDR mode
[   29.110706] *** tisp_init: WDR COMPONENTS INITIALIZED ***
[   29.110712] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   29.110726] *** tisp_init: AE0 buffer allocated at 0x05f40000 ***
[   29.110732] *** CRITICAL FIX: data_b2f3c initialized to 0x85f40000 (prevents stack corruption) ***
[   29.110742] *** tisp_init: AE1 buffer allocated at 0x01178000 ***
[   29.110747] *** tisp_init: INITIALIZING ISP SUB-MODULES ***
[   29.110754] tiziano_ae_init: Initializing Auto Exposure (1920x1080@1) - Binary Ninja EXACT
[   29.110762] tiziano_ae_params_refresh: Refreshing AE parameters
[   29.110770] tiziano_ae_params_refresh: AE parameters refreshed
[   29.110775] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   29.110780] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   29.110786] tiziano_ae_para_addr: Setting up AE parameter addresses
[   29.110791] tiziano_ae_para_addr: AE parameter addresses configured
[   29.110798] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   29.110805] tiziano_ae_set_hardware_param: Parameters written to AE0
[   29.110812] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   29.110818] tiziano_ae_set_hardware_param: Parameters written to AE1
[   29.110826] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   29.110843] tiziano_deflicker_expt: Generated 119 LUT entries
[   29.110848] tisp_event_set_cb: Setting callback for event 1
[   29.110855] tisp_event_set_cb: Event 1 callback set to c0666f10
[   29.110860] tisp_event_set_cb: Setting callback for event 6
[   29.110867] tisp_event_set_cb: Event 6 callback set to c0666388
[   29.110872] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   29.110879] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   29.110884] tiziano_awb_init: AWB hardware blocks enabled
[   29.110890] tiziano_gamma_init: Initializing Gamma processing
[   29.110895] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   29.110954] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   29.110959] tiziano_gib_init: Initializing GIB processing
[   29.110964] tiziano_lsc_init: Initializing LSC processing
[   29.110970] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   29.110976] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   29.110982] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   29.111036] tiziano_ccm_init: Initializing Color Correction Matrix
[   29.111042] tiziano_ccm_init: Using linear CCM parameters
[   29.111047] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   29.111053] jz_isp_ccm: EV=64, CT=9984
[   29.111059] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   29.111064] cm_control: saturation=128
[   29.111070] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   29.111076] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   29.111082] tiziano_ccm_init: CCM initialized successfully
[   29.111086] tiziano_dmsc_init: Initializing DMSC processing
[   29.111092] tiziano_sharpen_init: Initializing Sharpening
[   29.111097] tiziano_sharpen_init: Using linear sharpening parameters
[   29.111102] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   29.111109] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   29.111114] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   29.111141] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   29.111146] tiziano_sharpen_init: Sharpening initialized successfully
[   29.111152] tiziano_sdns_init: Initializing SDNS processing
[   29.111159] tiziano_sdns_init: Using linear SDNS parameters
[   29.111164] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   29.111171] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   29.111176] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   29.111208] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   29.111214] tiziano_sdns_init: SDNS processing initialized successfully
[   29.111220] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   29.111225] tiziano_mdns_init: Using linear MDNS parameters
[   29.111235] tiziano_mdns_init: MDNS processing initialized successfully
[   29.111241] tiziano_clm_init: Initializing CLM processing
[   29.111246] tiziano_dpc_init: Initializing DPC processing
[   29.111251] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   29.111256] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   29.111263] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   29.111268] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   29.111283] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   29.111288] tiziano_hldc_init: Initializing HLDC processing
[   29.111294] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   29.111301] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   29.111308] tiziano_adr_params_refresh: Refreshing ADR parameters
[   29.111313] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   29.111318] tiziano_adr_params_init: Initializing ADR parameter arrays
[   29.111325] tisp_adr_set_params: Writing ADR parameters to registers
[   29.111357] tisp_adr_set_params: ADR parameters written to hardware
[   29.111362] tisp_event_set_cb: Setting callback for event 18
[   29.111369] tisp_event_set_cb: Event 18 callback set to c0666024
[   29.111374] tisp_event_set_cb: Setting callback for event 2
[   29.111380] tisp_event_set_cb: Event 2 callback set to c0665ff8
[   29.111386] tiziano_adr_init: ADR processing initialized successfully
[   29.111392] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   29.111397] tiziano_bcsh_init: Initializing BCSH processing
[   29.111402] tiziano_ydns_init: Initializing YDNS processing
[   29.111407] tiziano_rdns_init: Initializing RDNS processing
[   29.111412] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   29.111418] tisp_event_init: Initializing ISP event system
[   29.111425] tisp_event_init: SAFE event system initialized with 20 nodes
[   29.111431] tisp_event_set_cb: Setting callback for event 4
[   29.111437] tisp_event_set_cb: Event 4 callback set to c0666050
[   29.111443] tisp_event_set_cb: Setting callback for event 5
[   29.111449] tisp_event_set_cb: Event 5 callback set to c0666518
[   29.111454] tisp_event_set_cb: Setting callback for event 7
[   29.111461] tisp_event_set_cb: Event 7 callback set to c06660e4
[   29.111466] tisp_event_set_cb: Setting callback for event 9
[   29.111473] tisp_event_set_cb: Event 9 callback set to c066616c
[   29.111478] tisp_event_set_cb: Setting callback for event 8
[   29.111484] tisp_event_set_cb: Event 8 callback set to c0666230
[   29.111490] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   29.111496] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   29.111502] *** tisp_init: ISP processing completion callback registered (index=0xd) ***
[   29.111508] tisp_param_operate_init: Initializing parameter operations
[   29.111515] tisp_netlink_init: Initializing netlink communication
[   29.111535] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   29.111542] tisp_code_create_tuning_node: Device already created, skipping
[   29.111548] *** CRITICAL: Calling tx_isp_subdev_pipo to initialize VIC buffer management ***
[   29.111554] *** CRITICAL: Calling tx_isp_subdev_pipo with VIC subdev 80538000 ***
[   29.111560] *** tx_isp_subdev_pipo: EXACT Binary Ninja MCP implementation ***
[   29.111567] tx_isp_subdev_pipo: entry - sd=80538000, arg=84679dd8
[   29.111574] tx_isp_subdev_pipo: vic_dev retrieved from host_priv: 80538000
[   29.111579] tx_isp_subdev_pipo: set processing = 1 (Binary Ninja offset 0x20c)
[   29.111584] tx_isp_subdev_pipo: arg is not NULL - initializing pipe structures (Binary Ninja MCP)
[   29.111590] tx_isp_subdev_pipo: initialized linked list heads (Binary Ninja MCP)
[   29.111596] tx_isp_subdev_pipo: initialized spinlock (Binary Ninja MCP)
[   29.111601] *** CRITICAL: Set ispvic_frame_channel_s_stream at raw_pipe[3] (offset 0xc) ***
[   29.111608] tx_isp_subdev_pipo: added buffer entry 0 to free list (aligned struct)
[   29.111615] tx_isp_subdev_pipo: cleared VIC register at offset 0x318 for buffer 0
[   29.111621] tx_isp_subdev_pipo: added buffer entry 1 to free list (aligned struct)
[   29.111628] tx_isp_subdev_pipo: cleared VIC register at offset 0x31c for buffer 1
[   29.111634] tx_isp_subdev_pipo: added buffer entry 2 to free list (aligned struct)
[   29.111640] tx_isp_subdev_pipo: cleared VIC register at offset 0x320 for buffer 2
[   29.111647] tx_isp_subdev_pipo: added buffer entry 3 to free list (aligned struct)
[   29.111653] tx_isp_subdev_pipo: cleared VIC register at offset 0x324 for buffer 3
[   29.111660] tx_isp_subdev_pipo: added buffer entry 4 to free list (aligned struct)
[   29.111666] tx_isp_subdev_pipo: cleared VIC register at offset 0x328 for buffer 4
[   29.111672] tx_isp_subdev_pipo: initialized 5 buffer structures (safe implementation)
[   29.111678] tx_isp_subdev_pipo: set processing = 1 (pipe enabled, safe struct access)
[   29.111684] *** tx_isp_subdev_pipo: RESETTING stream_state to 0 before calling ispvic_frame_channel_s_stream ***
[   29.111690] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_qbuf to write buffer addresses ***
[   29.111696] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   29.111702] ispvic_frame_channel_qbuf: arg1=80538000, arg2=  (null)
[   29.111709] *** tx_isp_subdev_pipo: ispvic_frame_channel_qbuf SUCCESS - buffer addresses written to VIC hardware ***
[   29.111715] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_s_stream to start VIC streaming ***
[   29.111722] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   29.111728] ispvic_frame_channel_s_stream: arg1=80538000, arg2=1
[   29.111734] ispvic_frame_channel_s_stream: s0 (vic_dev) = 80538000
[   29.111740] ispvic_frame_channel_s_stream[1683]: streamon
[   29.111747] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   29.111753] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   29.111758] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   29.111764] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   29.111771] vic_pipo_mdma_enable: Using vic_dev dimensions 1920x1080 (SAFE struct access)
[   29.111776] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   29.111783] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   29.111789] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   29.111795] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   29.111800] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   29.111806] *** CRITICAL ERROR: No VBM buffer addresses available - VIC cannot generate interrupts! ***
[   29.111813] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   29.111818] *** vic_dev->active_buffer_count=4 ***
[   29.111824] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   29.111829] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   29.111836] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   29.111842] *** tx_isp_subdev_pipo: ispvic_frame_channel_s_stream SUCCESS - VIC streaming started! ***
[   29.111848] *** tx_isp_subdev_pipo: CALLING vic_core_s_stream to enable VIC interrupts ***
[   29.111855] *** vic_core_s_stream: BINARY NINJA EXACT - sd=80538000, enable=1 ***
[   29.111861] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   29.111866] *** vic_core_s_stream: STREAM ON ***
[   29.111871] *** vic_core_s_stream: State != 4, calling VIC start sequence ***
[   29.111876] *** vic_core_s_stream: Step 1 - Disabling VIC interrupts ***
[   29.111882] *** tx_vic_disable_irq: BINARY NINJA EXACT ***
[   29.111888] *** tx_vic_disable_irq: VIC interrupts already disabled ***
[   29.111893] *** vic_core_s_stream: Step 2 - Calling tx_isp_vic_start to initialize VIC hardware ***
[   29.111900] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   29.111907] *** tx_isp_get_sensor: subdevs[0] = 85207400, ops = c0690580 ***
[   29.111914] *** tx_isp_get_sensor: subdevs[0] ops->sensor = c0690598 ***
[   29.111921] *** tx_isp_get_sensor: subdevs[1] = 80538000, ops = c0690510 ***
[   29.111928] *** tx_isp_get_sensor: subdevs[1] ops->sensor = c0690550 ***
[   29.111935] *** tx_isp_get_sensor: subdevs[2] = 853f8e00, ops = c06913b4 ***
[   29.111941] *** tx_isp_get_sensor: subdevs[2] ops->sensor =   (null) ***
[   29.111947] *** tx_isp_get_sensor: subdevs[3] = NULL ***
[   29.111954] *** tx_isp_get_sensor: subdevs[4] = 80538800, ops = c0690338 ***
[   29.111961] *** tx_isp_get_sensor: subdevs[4] ops->sensor = c0690350 ***
[   29.111968] *** tx_isp_get_sensor: subdevs[5] = 80538c00, ops = c06b1ff8 ***
[   29.111975] *** tx_isp_get_sensor: subdevs[5] ops->sensor = c06b200c ***
[   29.111982] *** tx_isp_get_sensor: subdevs[6] = 80538c00, ops = c06b1ff8 ***
[   29.111989] *** tx_isp_get_sensor: subdevs[6] ops->sensor = c06b200c ***
[   29.111994] *** tx_isp_get_sensor: subdevs[7] = NULL ***
[   29.112000] *** tx_isp_get_sensor: subdevs[8] = NULL ***
[   29.112006] *** tx_isp_get_sensor: subdevs[9] = NULL ***
[   29.112011] *** tx_isp_get_sensor: subdevs[10] = NULL ***
[   29.112016] *** tx_isp_get_sensor: subdevs[11] = NULL ***
[   29.112022] *** tx_isp_get_sensor: subdevs[12] = NULL ***
[   29.112028] *** tx_isp_get_sensor: subdevs[13] = NULL ***
[   29.112033] *** tx_isp_get_sensor: subdevs[14] = NULL ***
[   29.112039] *** tx_isp_get_sensor: subdevs[15] = NULL ***
[   29.112045] *** tx_isp_get_sensor: Found real sensor at index 5: 80538c00 ***
[   29.112052] *** tx_isp_vic_start: Using single VIC register base - EXACT Binary Ninja reference ***
[   29.112058] *** tx_isp_vic_start: CRITICAL DEBUG - interface_type=1, checking if == 1 ***
[   29.112064] *** tx_isp_vic_start: MIPI interface detected - configuring VIC for MIPI ***
[   29.112070] *** tx_isp_vic_start: vic_dev->width=1920, vic_dev->height=1080 ***
[   29.112076] *** tx_isp_vic_start: sensor_mode != interface_type, writing 0xa000a to 0x1a4 ***
[   29.112082] *** tx_isp_vic_start: Writing VIC configuration registers - EXACT Binary Ninja sequence ***
[   29.112088] *** tx_isp_vic_start: Frame size 0x07800438 written to register 0x4 ***
[   29.112094] *** tx_isp_vic_start: VIC unlock sequence using SECONDARY VIC space (0x10023000) ***
[   29.123060] ISP isp-w01: [CSI PHY Control] write at offset 0x4: 0x1 -> 0x0 (delta: 6090.000 ms)
[   29.128996] ISP isp-m0: [CSI PHY Control] write at offset 0xc: 0x80700008 -> 0xb477effd (delta: 6250.000 ms)
[   29.129011] ISP isp-m0: [CSI PHY Control] write at offset 0x10: 0x0 -> 0x133 (delta: 0.000 ms)
[   29.129020] ISP isp-m0: [CSI PHY Control] write at offset 0x14: 0x0 -> 0x2b (delta: 0.000 ms)
[   29.129029] ISP isp-m0: [CSI PHY Control] write at offset 0x18: 0x0 -> 0xa (delta: 0.000 ms)
[   29.129038] ISP isp-m0: [CSI PHY Control] write at offset 0x1c: 0x0 -> 0x8 (delta: 0.000 ms)
[   29.129048] ISP isp-m0: [CSI PHY Control] write at offset 0x30: 0x0 -> 0x8fffffff (delta: 0.000 ms)
[   29.129068] ISP isp-m0: [CSI PHY Config] write at offset 0x110: 0x80007000 -> 0x80007123 (delta: 6250.000 ms)
[   29.130960] ISP isp-m0: [ISP Control] write at offset 0x9804: 0x3f00 -> 0x0 (delta: 6250.000 ms)
[   29.131002] ISP isp-m0: [VIC Control] write at offset 0x9ac0: 0x200 -> 0x0 (delta: 6250.000 ms)
[   29.131011] ISP isp-m0: [VIC Control] write at offset 0x9ac8: 0x200 -> 0x0 (delta: 6250.000 ms)
[   29.131264] ISP isp-m0: [Core Control] write at offset 0xb000: 0x0 -> 0x1 (delta: 0.000 ms)
[   29.131273] ISP isp-m0: [Core Control] write at offset 0xb004: 0xf001f001 -> 0x7 (delta: 6250.000 ms)
[   29.131283] ISP isp-m0: [Core Control] write at offset 0xb008: 0x40404040 -> 0x0 (delta: 6250.000 ms)
[   29.131297] ISP isp-m0: [Core Control] write at offset 0xb078: 0x0 -> 0x10000000 (delta: 0.000 ms)
root@ing-wyze-cam3-a000 ~# cat /proc/interrupts 
           CPU0       
  9:          0   jz-intc  i2s_irq
 11:       6525   jz-intc  jz-timerost
 14:          0   jz-intc  ipu
 15:      53728   jz-intc  jz-sfc
 18:          0   jz-intc  pdma
 23:          0   jz-intc  GPIO C
 24:          1   jz-intc  GPIO B
 25:          0   jz-intc  GPIO A
 29:          1   jz-intc  dwc2
 37:          0   jz-intc  tx-isp-core
 38:          0   jz-intc  isp-w02
 44:       7295   jz-intc  jzmmc_v1.2.1
 45:          0   jz-intc  jzmmc_v1.2.0
 58:        382   jz-intc  uart1
 68:          4   jz-intc  jz-i2c.0
 70:          0   jz-intc  avpu.0
126:          0    GPIO B  GPIO Button
134:          1    GPIO B  mmc-insert-detect
ERR:          0
root@ing-wyze-cam3-a000 ~# 

