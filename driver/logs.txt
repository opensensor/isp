   20.275069] ISP Register Monitor v1.3 initializing
[   20.275209] ISP Monitor: initialized region isp-w01 at phys 0x0x10023000 size 0x1000
[   20.302550] ISP Monitor: initialized region isp-m0 at phys 0x0x13300000 size 0x100000
[   20.304225] ISP Monitor: initialized region isp-w02 at phys 0x0x133e0000 size 0x10000
[   20.304364] ISP Monitor: initialized region isp-csi at phys 0x0x10022000 size 0x1000
[   22.546947] *** tx_isp_init: EXACT Binary Ninja MCP reference implementation ***
[   22.549412] *** PROBE: tx_isp_platform_probe CALLED for device tx-isp ***
[   22.549431] *** PROBE: ISP device allocated successfully: 80514000 ***
[   22.549447] *** PROBE: ISP core registers mapped at 0x13300000 for system_reg_write ***
[   22.549453] *** PROBE: ISP device mutex and spinlock initialized ***
[   22.549461] *** PROBE: Event callback structure initialized at 0x856fac80 (offset 0xc from isp_dev) ***
[   22.549471] parse_rmem_bootarg: Found rmem=29M@0x06300000 (size=0x01d00000)
[   22.549479] *** PROBE: Initialized rmem_addr=0x06300000, size=0x01d00000 ***
[   22.549485] *** PROBE: Platform data: c06b4180 ***
[   22.549489] *** PROBE: Platform data validation passed ***
[   22.549495] *** REFERENCE DRIVER: Individual subdevices will initialize their own memory regions ***
[   22.549501] *** PLATFORM DEVICES ALREADY REGISTERED IN INIT - SKIPPING DUPLICATE REGISTRATION ***
[   22.549507] *** tx_isp_module_init: EXACT Binary Ninja reference implementation ***
[   22.549512] *** tx_isp_module_init: Registering subdev platform drivers FIRST ***
[   22.549517] *** TX ISP SUBDEV PLATFORM DRIVERS REGISTRATION ***
[   22.567100] All ISP subdev platform drivers registered successfully
[   22.569433] *** tx_isp_create_graph_and_nodes: EXACT Binary Ninja reference implementation ***
[   22.569447] *** Registering platform device 0 from platform data ***
[   22.576833] *** tx_isp_subdev_init: CALLED for device 'isp-w00' ***
[   22.576849] *** tx_isp_subdev_init: pdev=c06b3e60, sd=8521bc00, ops=c06b4480 ***
[   22.576855] *** tx_isp_subdev_init: ourISPdev=80514000 ***
[   22.576862] *** tx_isp_subdev_init: ops=c06b4480, ops->core=c06b44b4 ***
[   22.576868] *** tx_isp_subdev_init: ops->core->init=c066b028 ***
[   22.576875] *** tx_isp_subdev_init: Set sd->dev=c06b3e70, sd->pdev=c06b3e60 ***
[   22.576881] *** tx_isp_subdev_init: CSI subdev registered at slot 0 ***
[   22.576887] tx_isp_module_init: Module initialized for isp-w00
[   22.576893] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.576899] *** isp-w00: Skipping IRQ request - device has no IRQ resource ***
[   22.576906] tx_isp_subdev_init: platform_get_resource returned c06b3f58 for device isp-w00
[   22.576914] tx_isp_subdev_init: Memory resource found: start=0x10022000, end=0x10022fff, size=0x00001000
[   22.576923] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 2 clocks
[   22.576929] isp_subdev_init_clks: Using platform data clock arrays: c06b3f48
[   22.576935] isp_subdev_init_clks: Using platform data clock configs
[   22.576942] Platform data clock[0]: name=cgu_isp, rate=100000000
[   22.576953] Clock cgu_isp: set rate 100000000 Hz, result=0
[   22.576961] Clock cgu_isp enabled successfully
[   22.576967] Platform data clock[1]: name=isp, rate=65535
[   22.576997] Clock isp enabled successfully
[   22.579371] ISP isp-m0: [CSI PHY Control] write at offset 0x0: 0x0 -> 0x54560031 (delta: 0.000 ms)
[   22.579385] ISP isp-m0: [CSI PHY Control] write at offset 0x4: 0x0 -> 0x7800438 (delta: 0.000 ms)
[   22.579394] ISP isp-m0: [CSI PHY Control] write at offset 0x8: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.579403] ISP isp-m0: [CSI PHY Control] write at offset 0xc: 0x0 -> 0x80700008 (delta: 0.000 ms)
[   22.579413] ISP isp-m0: [CSI PHY Control] write at offset 0x28: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.579423] ISP isp-m0: [CSI PHY Control] write at offset 0x2c: 0x0 -> 0x400040 (delta: 0.000 ms)
[   22.579436] ISP isp-m0: [CSI PHY Control] write at offset 0x90: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.579445] ISP isp-m0: [CSI PHY Control] write at offset 0x94: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.579454] ISP isp-m0: [CSI PHY Control] write at offset 0x98: 0x0 -> 0x30000 (delta: 0.000 ms)
[   22.579464] ISP isp-m0: [CSI PHY Control] write at offset 0xa8: 0x0 -> 0x58050000 (delta: 0.000 ms)
[   22.579473] ISP isp-m0: [CSI PHY Control] write at offset 0xac: 0x0 -> 0x58050000 (delta: 0.000 ms)
[   22.579484] ISP isp-m0: [CSI PHY Control] write at offset 0xc4: 0x0 -> 0x40000 (delta: 0.000 ms)
[   22.579493] ISP isp-m0: [CSI PHY Control] write at offset 0xc8: 0x0 -> 0x400040 (delta: 0.000 ms)
[   22.579502] ISP isp-m0: [CSI PHY Control] write at offset 0xcc: 0x0 -> 0x100 (delta: 0.000 ms)
[   22.579511] ISP isp-m0: [CSI PHY Control] write at offset 0xd4: 0x0 -> 0xc (delta: 0.000 ms)
[   22.579521] ISP isp-m0: [CSI PHY Control] write at offset 0xd8: 0x0 -> 0xffffff (delta: 0.000 ms)
[   22.579530] ISP isp-m0: [CSI PHY Control] write at offset 0xe0: 0x0 -> 0x100 (delta: 0.000 ms)
[   22.579539] ISP isp-m0: [CSI PHY Control] write at offset 0xe4: 0x0 -> 0x400040 (delta: 0.000 ms)
[   22.579549] ISP isp-m0: [CSI PHY Control] write at offset 0xf0: 0x0 -> 0xff808000 (delta: 0.000 ms)
[   22.579559] ISP isp-m0: [CSI PHY Config] write at offset 0x110: 0x0 -> 0x80007000 (delta: 0.000 ms)
[   22.579569] ISP isp-m0: [CSI PHY Config] write at offset 0x114: 0x0 -> 0x777111 (delta: 0.000 ms)
[   22.581587] ISP isp-m0: [ISP Control] write at offset 0x9804: 0x0 -> 0x3f00 (delta: 0.000 ms)
[   22.581605] ISP isp-m0: [ISP Control] write at offset 0x9864: 0x0 -> 0x7800438 (delta: 0.000 ms)
[   22.581615] ISP isp-m0: [ISP Control] write at offset 0x987c: 0x0 -> 0xc0000000 (delta: 0.000 ms)
[   22.581624] ISP isp-m0: [ISP Control] write at offset 0x9880: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.581633] ISP isp-m0: [ISP Control] write at offset 0x9884: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.581643] ISP isp-m0: [ISP Control] write at offset 0x9890: 0x0 -> 0x1010001 (delta: 0.000 ms)
[   22.581652] ISP isp-m0: [ISP Control] write at offset 0x989c: 0x0 -> 0x1010001 (delta: 0.000 ms)
[   22.581662] ISP isp-m0: [ISP Control] write at offset 0x98a8: 0x0 -> 0x1010001 (delta: 0.000 ms)
[   22.581687] ISP isp-m0: [VIC Control] write at offset 0x9a00: 0x0 -> 0x50002d0 (delta: 0.000 ms)
[   22.581697] ISP isp-m0: [VIC Control] write at offset 0x9a04: 0x0 -> 0x3000300 (delta: 0.000 ms)
[   22.581707] ISP isp-m0: [VIC Control] write at offset 0x9a2c: 0x0 -> 0x50002d0 (delta: 0.000 ms)
[   22.581717] ISP isp-m0: [VIC Control] write at offset 0x9a34: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.581728] ISP isp-m0: [VIC Control] write at offset 0x9a70: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.581737] ISP isp-m0: [VIC Control] write at offset 0x9a7c: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.581747] ISP isp-m0: [VIC Control] write at offset 0x9a80: 0x0 -> 0x500 (delta: 0.000 ms)
[   22.581755] ISP isp-m0: [VIC Control] write at offset 0x9a88: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.581765] ISP isp-m0: [VIC Control] write at offset 0x9a94: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.581774] ISP isp-m0: [VIC Control] write at offset 0x9a98: 0x0 -> 0x500 (delta: 0.000 ms)
[   22.581785] ISP isp-m0: [VIC Control] write at offset 0x9ac0: 0x0 -> 0x200 (delta: 0.000 ms)
[   22.581794] ISP isp-m0: [VIC Control] write at offset 0x9ac8: 0x0 -> 0x200 (delta: 0.000 ms)
[   22.582047] ISP isp-m0: [Core Control] write at offset 0xb004: 0x0 -> 0xf001f001 (delta: 0.000 ms)
[   22.582056] ISP isp-m0: [Core Control] write at offset 0xb008: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.582065] ISP isp-m0: [Core Control] write at offset 0xb00c: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.582075] ISP isp-m0: [Core Control] write at offset 0xb010: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.582084] ISP isp-m0: [Core Control] write at offset 0xb014: 0x0 -> 0x404040 (delta: 0.000 ms)
[   22.582093] ISP isp-m0: [Core Control] write at offset 0xb018: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.582103] ISP isp-m0: [Core Control] write at offset 0xb01c: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.582112] ISP isp-m0: [Core Control] write at offset 0xb020: 0x0 -> 0x40404040 (delta: 0.000 ms)
[   22.582121] ISP isp-m0: [Core Control] write at offset 0xb024: 0x0 -> 0x404040 (delta: 0.000 ms)
[   22.582131] ISP isp-m0: [Core Control] write at offset 0xb028: 0x0 -> 0x1000080 (delta: 0.000 ms)
[   22.582140] ISP isp-m0: [Core Control] write at offset 0xb02c: 0x0 -> 0x1000080 (delta: 0.000 ms)
[   22.582149] ISP isp-m0: [Core Control] write at offset 0xb030: 0x0 -> 0x100 (delta: 0.000 ms)
[   22.582159] ISP isp-m0: [Core Control] write at offset 0xb034: 0x0 -> 0xffff0100 (delta: 0.000 ms)
[   22.582168] ISP isp-m0: [Core Control] write at offset 0xb038: 0x0 -> 0x1ff00 (delta: 0.000 ms)
[   22.582177] ISP isp-m0: [Core Control] write at offset 0xb04c: 0x0 -> 0x103 (delta: 0.000 ms)
[   22.582187] ISP isp-m0: [Core Control] write at offset 0xb050: 0x0 -> 0x3 (delta: 0.000 ms)
[   22.599171] CPM clock gates configured
[   22.599185] isp_subdev_init_clks: Successfully initialized 2 clocks
[   22.599195] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b3e60, sd=8521bc00, ourISPdev=80514000 ***
[   22.599203] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w00' to ourISPdev=80514000 ***
[   22.599209] *** DEBUG: Device name comparison - checking 'isp-w00' ***
[   22.599214] *** DEBUG: About to check device name matches ***
[   22.599220] *** CSI BASIC REGISTERS SET: b0022000 (from tx_isp_subdev_init) ***
[   22.599227] *** LINKED CSI device: 8521bc00, regs: b0022000 ***
[   22.599233] *** CSI PROBE: Set dev_priv to csi_dev 8521bc00 AFTER subdev_init ***
[   22.599240] *** CSI PROBE: Set host_priv to csi_dev 8521bc00 AFTER subdev_init ***
[   22.599246] *** CSI PROBE: Using register mapping from tx_isp_subdev_init: b0022000 ***
[   22.599253] *** CSI PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   22.599276] *** Platform device 0 (isp-w00) registered successfully ***
[   22.599283] *** Registering platform device 1 from platform data ***
[   22.607599] *** VIC PROBE: IRQ numbers initialized to 38 ***
[   22.607613] *** VIC PROBE: Primary VIC registers mapped at 0x133e0000 -> b33e0000 ***
[   22.607619] *** VIC PROBE: VIC control registers mapped at 0x10023000 -> b0023000 ***
[   22.607625] *** VIC PROBE: Hardware IRQ function pointers set using SAFE struct members (tx_isp_enable/disable_irq) ***
[   22.607632] *** VIC PROBE: Secondary VIC register test - 0x1e0 = 0x00000000 (mapping verified) ***
[   22.607638] *** VIC PROBE: VIC interrupt registers will be configured during tx_isp_vic_start ***
[   22.607644] *** BINARY NINJA MCP: VIC buffer management ENABLED - following reference driver ***
[   22.607649] *** VIC will operate in FULL mode with complete buffer operations ***
[   22.607655] *** BINARY NINJA MCP: VIC full initialization complete - buffer management ENABLED ***
[   22.607661] *** VIC PROBE: Initialized default dimensions 1920x1080 and critical fields ***
[   22.607667] *** VIC PROBE: Event callback structure stored in VIC device field ***
[   22.607674] *** VIC PROBE: Stored vic_dev pointer 8047a000 in subdev dev_priv ***
[   22.607680] *** VIC PROBE: Set host_priv to vic_dev 8047a000 for Binary Ninja compatibility ***
[   22.607685] *** VIC PROBE: CRITICAL - Configuring VIC interrupts BEFORE clock enablement ***
[   22.607692] *** VIC HW INIT: Using SECONDARY VIC space (0x10023000) - avoids ISP Core register conflicts ***
[   22.607697] *** VIC HW INIT: Configuring ACTUAL VIC interrupt registers (0x1e0-0x1f4 range) ***
[   22.607705] *** VIC HW INIT: ACTUAL VIC interrupt registers: 0x1e0=0x00000000, 0x1e4=0x00000000 ***
[   22.607711] *** VIC HW INIT: ACTUAL VIC interrupt registers configured - using Binary Ninja reference ***
[   22.607718] *** VIC HW INIT VERIFY: 0x1e0=0x00000000 (expected 0x1), 0x1e4=0x00000000 (expected 0x3) ***
[   22.607725] *** VIC HW INIT VERIFY: 0x1e8=0x00000000 (expected 0xFFFFFFFE), 0x1ec=0x00000000 (expected 0xFFFFFFFC) ***
[   22.607731] *** VIC HW INIT: Interrupt handler registration SKIPPED - main module handles IRQ 38 routing ***
[   22.607737] *** VIC HW INIT: WARNING - Some ACTUAL VIC interrupt registers may not be configured correctly ***
[   22.607743] *** VIC HW INIT: This may be normal if VIC hardware manages some registers automatically ***
[   22.607749] *** VIC HW INIT: Basic hardware initialization complete - ready for full VIC configuration ***
[   22.607755] *** VIC PROBE: SUCCESS - VIC interrupts configured BEFORE clocks enabled ***
[   22.607762] *** tx_isp_subdev_init: CALLED for device 'isp-w02' ***
[   22.607769] *** tx_isp_subdev_init: pdev=c06b3f78, sd=8047a000, ops=c06b4400 ***
[   22.607775] *** tx_isp_subdev_init: ourISPdev=80514000 ***
[   22.607782] *** tx_isp_subdev_init: ops=c06b4400, ops->core=c06b441c ***
[   22.607788] *** tx_isp_subdev_init: ops->core->init=c06806cc ***
[   22.607795] *** tx_isp_subdev_init: Set sd->dev=c06b3f88, sd->pdev=c06b3f78 ***
[   22.607801] *** tx_isp_subdev_init: VIC device linked and registered at slot 1 ***
[   22.607807] tx_isp_module_init: Module initialized for isp-w02
[   22.607813] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.607822] *** tx_isp_request_irq: platform_get_irq returned 38 for device isp-w02 ***
[   22.607829] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 38 (device: isp-w02) ***
[   22.607838] *** tx_isp_request_irq: About to call request_threaded_irq(irq=38, handler=c06736c8, thread=c0666584, flags=0x80, name=isp-w02, dev_id=80514000) ***
[   22.607847] *** tx_isp_request_irq: About to register IRQ 38 with handlers: main=c06736c8, thread=c0666584 ***
[   22.610219] *** tx_isp_request_irq: request_threaded_irq returned 0 ***
[   22.610231] *** tx_isp_request_irq: IRQ 38 LEFT ENABLED (working version behavior) ***
[   22.610237] *** tx_isp_request_irq: IRQ 38 registered successfully for isp-w02 ***
[   22.610246] tx_isp_subdev_init: platform_get_resource returned c06b4070 for device isp-w02
[   22.610254] tx_isp_subdev_init: Memory resource found: start=0x10023000, end=0x10023fff, size=0x00001000
[   22.610263] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 2 clocks
[   22.610270] isp_subdev_init_clks: Using platform data clock arrays: c06b4060
[   22.610283] isp_subdev_init_clks: Using platform data clock configs
[   22.610291] Platform data clock[0]: name=cgu_isp, rate=100000000
[   22.610300] Clock cgu_isp: set rate 100000000 Hz, result=0
[   22.610306] Clock cgu_isp enabled successfully
[   22.610313] Platform data clock[1]: name=isp, rate=65535
[   22.610319] Clock isp enabled successfully
[   22.638390] ISP isp-w02: [CSI PHY Control] write at offset 0x4: 0x0 -> 0x7800438 (delta: 0.000 ms)
[   22.638404] ISP isp-w02: [CSI PHY Control] write at offset 0xc: 0x0 -> 0x2 (delta: 0.000 ms)
[   22.638413] ISP isp-w02: [CSI PHY Control] write at offset 0x14: 0x0 -> 0x2 (delta: 0.000 ms)
[   22.638423] ISP isp-w02: [CSI PHY Control] write at offset 0x18: 0x0 -> 0xf00 (delta: 0.000 ms)
[   22.638435] ISP isp-w02: [CSI PHY Control] write at offset 0x60: 0x0 -> 0x800800 (delta: 0.000 ms)
[   22.638444] ISP isp-w02: [CSI PHY Control] write at offset 0x64: 0x0 -> 0x9d09d0 (delta: 0.000 ms)
[   22.638454] ISP isp-w02: [CSI PHY Control] write at offset 0x70: 0x0 -> 0x6002 (delta: 0.000 ms)
[   22.638463] ISP isp-w02: [CSI PHY Control] write at offset 0x74: 0x0 -> 0x7003 (delta: 0.000 ms)
[   22.638475] ISP isp-w02: [CSI PHY Control] write at offset 0xc0: 0x0 -> 0xeb8080 (delta: 0.000 ms)
[   22.638485] ISP isp-w02: [CSI PHY Control] write at offset 0xc4: 0x0 -> 0x108080 (delta: 0.000 ms)
[   22.638494] ISP isp-w02: [CSI PHY Control] write at offset 0xc8: 0x0 -> 0x29f06e (delta: 0.000 ms)
[   22.638503] ISP isp-w02: [CSI PHY Control] write at offset 0xcc: 0x0 -> 0x913622 (delta: 0.000 ms)
[   22.638512] ISP isp-w02: [CSI PHY Control] write at offset 0xd0: 0x0 -> 0x515af0 (delta: 0.000 ms)
[   22.638521] ISP isp-w02: [CSI PHY Control] write at offset 0xd4: 0x0 -> 0xaaa610 (delta: 0.000 ms)
[   22.638531] ISP isp-w02: [CSI PHY Control] write at offset 0xd8: 0x0 -> 0xd21092 (delta: 0.000 ms)
[   22.638540] ISP isp-w02: [CSI PHY Control] write at offset 0xdc: 0x0 -> 0x6acade (delta: 0.000 ms)
[   22.638549] ISP isp-w02: [CSI PHY Control] write at offset 0xe0: 0x0 -> 0xeb8080 (delta: 0.000 ms)
[   22.638559] ISP isp-w02: [CSI PHY Control] write at offset 0xe4: 0x0 -> 0x108080 (delta: 0.000 ms)
[   22.638568] ISP isp-w02: [CSI PHY Control] write at offset 0xe8: 0x0 -> 0x29f06e (delta: 0.000 ms)
[   22.638577] ISP isp-w02: [CSI PHY Control] write at offset 0xec: 0x0 -> 0x913622 (delta: 0.000 ms)
[   22.638586] ISP isp-w02: [CSI PHY Control] write at offset 0xf0: 0x0 -> 0x515af0 (delta: 0.000 ms)
[   22.638595] ISP isp-w02: [CSI PHY Control] write at offset 0xf4: 0x0 -> 0xaaa610 (delta: 0.000 ms)
[   22.638605] ISP isp-w02: [CSI PHY Control] write at offset 0xf8: 0x0 -> 0xd21092 (delta: 0.000 ms)
[   22.638614] ISP isp-w02: [CSI PHY Control] write at offset 0xfc: 0x0 -> 0x6acade (delta: 0.000 ms)
[   22.638623] ISP isp-w02: [CSI PHY Config] write at offset 0x100: 0x0 -> 0x2d0 (delta: 0.000 ms)
[   22.638633] ISP isp-w02: [CSI PHY Config] write at offset 0x10c: 0x0 -> 0x2c000 (delta: 0.000 ms)
[   22.638642] ISP isp-w02: [CSI PHY Config] write at offset 0x110: 0x0 -> 0x7800000 (delta: 0.000 ms)
[   22.638657] ISP isp-w02: [CSI PHY Config] write at offset 0x1a4: 0x0 -> 0x100010 (delta: 0.000 ms)
[   22.638667] ISP isp-w02: [CSI PHY Config] write at offset 0x1a8: 0x0 -> 0x4440 (delta: 0.000 ms)
[   22.638676] ISP isp-w02: [CSI PHY Config] write at offset 0x1b0: 0x0 -> 0x10 (delta: 0.000 ms)
[   22.639160] CPM clock gates configured
[   22.639167] isp_subdev_init_clks: Successfully initialized 2 clocks
[   22.639177] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b3f78, sd=8047a000, ourISPdev=80514000 ***
[   22.639184] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w02' to ourISPdev=80514000 ***
[   22.639190] *** DEBUG: Device name comparison - checking 'isp-w02' ***
[   22.639195] *** DEBUG: About to check device name matches ***
[   22.639201] *** DEBUG: VIC DEVICE NAME MATCHED! Processing VIC device linking ***
[   22.639207] *** DEBUG: Retrieved vic_dev from subdev data: 8047a000 ***
[   22.639213] *** DEBUG: About to set ourISPdev->vic_dev = 8047a000 ***
[   22.639219] *** DEBUG: ourISPdev before linking: 80514000 ***
[   22.639225] *** DEBUG: ourISPdev->vic_dev set to: 8047a000 ***
[   22.639231] *** VIC AUTO-LINK: VIC IRQ already registered (irq=38) ***
[   22.639236] *** VIC AUTO-LINK: Using existing VIC register mapping (0x133e0000) - NOT remapping ***
[   22.639241] *** VIC AUTO-LINK: Registers are mapped, registering interrupt handler ***
[   22.639249] *** VIC PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   22.639255] *** VIC PROBE: Sensor dimensions will be cached when sensor module loads ***
[   22.639260] *** VIC PROBE: VIC frame channel streaming will be initialized via tisp_init ***
[   22.639266] *** VIC PROBE: Waiting for core subdev init to call tisp_init which calls tx_isp_subdev_pipo ***
[   22.639287] *** Platform device 1 (isp-w02) registered successfully ***
[   22.639293] *** Registering platform device 2 from platform data ***
[   22.648041] *** tx_isp_subdev_init: CALLED for device 'isp-w01' ***
[   22.648056] *** tx_isp_subdev_init: pdev=c06b3d88, sd=85212a00, ops=c06b52e4 ***
[   22.648063] *** tx_isp_subdev_init: ourISPdev=80514000 ***
[   22.648069] *** tx_isp_subdev_init: ops=c06b52e4, ops->core=c06b5304 ***
[   22.648075] *** tx_isp_subdev_init: ops->core->init=c068c8e0 ***
[   22.648082] *** tx_isp_subdev_init: Set sd->dev=c06b3d98, sd->pdev=c06b3d88 ***
[   22.648089] *** tx_isp_subdev_init: NOT A SENSOR - ops=c06b52e4 ***
[   22.648095] *** tx_isp_subdev_init: ops->sensor=  (null), csi_subdev_ops=c06b4480 ***
[   22.648101] tx_isp_module_init: Module initialized for isp-w01
[   22.648107] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.648115] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b3d88, sd=85212a00, ourISPdev=80514000 ***
[   22.648122] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-w01' to ourISPdev=80514000 ***
[   22.648128] *** DEBUG: Device name comparison - checking 'isp-w01' ***
[   22.648133] *** DEBUG: About to check device name matches ***
[   22.648139] *** DEBUG: VIN device name matched! Setting up VIN device ***
[   22.648144] *** LINKED VIN device: 85212a00 ***
[   22.648151] *** VIN SUBDEV OPS CONFIGURED: core=c06b5304, video=c06b52f8, s_stream=c068cad8 ***
[   22.648159] *** REGISTERED VIN SUBDEV AT SLOT 2 WITH VIDEO OPS ***
[   22.648165] *** VIN PROBE: Set dev_priv to vin_dev 85212a00 AFTER subdev_init ***
[   22.648171] *** VIN PROBE: Device linking handled automatically by tx_isp_subdev_init ***
[   22.648190] *** Platform device 2 (isp-w01) registered successfully ***
[   22.648197] *** Registering platform device 3 from platform data ***
[   22.650741] *** tx_isp_subdev_init: CALLED for device 'isp-fs' ***
[   22.650756] *** tx_isp_subdev_init: pdev=c06b3c48, sd=85212c00, ops=c06b4534 ***
[   22.650763] *** tx_isp_subdev_init: ourISPdev=80514000 ***
[   22.650769] *** tx_isp_subdev_init: ops=c06b4534, ops->core=c06bb39c ***
[   22.650775] *** tx_isp_subdev_init: WARNING - ops->core->init is NULL! ***
[   22.650782] *** tx_isp_subdev_init: Set sd->dev=c06b3c58, sd->pdev=c06b3c48 ***
[   22.650788] *** tx_isp_subdev_init: NOT A SENSOR - ops=c06b4534 ***
[   22.650795] *** tx_isp_subdev_init: ops->sensor=c06bb390, csi_subdev_ops=c06b4480 ***
[   22.650801] tx_isp_module_init: Module initialized for isp-fs
[   22.650807] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.650813] *** isp-fs: Skipping IRQ request - device has no IRQ resource ***
[   22.650819] tx_isp_subdev_init: platform_get_resource returned   (null) for device isp-fs
[   22.650825] tx_isp_subdev_init: No memory resource for device isp-fs (logical device - OK)
[   22.650833] *** FS PROBE: Set dev_priv to fs_dev 85212c00 AFTER subdev_init ***
[   22.650839] *** FS PROBE: Device linking handled automatically by tx_isp_subdev_auto_link() ***
[   22.650858] *** Platform device 3 (isp-fs) registered successfully ***
[   22.650865] *** Registering platform device 4 from platform data ***
[   22.653363] *** tx_isp_core_probe: NEW ARCHITECTURE - Creating separate core device ***
[   22.653377] *** tx_isp_create_core_device: Creating ISP core device ***
[   22.653387] *** tx_isp_create_core_device: Core device created successfully: 8047a400 ***
[   22.653393] *** CORE PROBE: Set dev_priv to core_dev 8047a400 ***
[   22.653399] *** CORE PROBE: Set host_priv to core_dev 8047a400 - PREVENTS BadVA CRASH ***
d[   22.653406] *** tx_isp_subdev_init: CALLED for device 'isp-m0' ***
[   22.653413] *** tx_isp_subdev_init: pdev=c06b3b10, sd=8047a400, ops=c06b4238 ***
[   22.653419] *** tx_isp_subdev_init: ourISPdev=80514000 ***
[   22.653427] *** tx_isp_subdev_init: ops=c06b4238, ops->core=c06b4264 ***
[   22.653433] *** tx_isp_subdev_init: ops->core->init=c067d358 ***
[   22.653439] *** tx_isp_subdev_init: Set sd->dev=c06b3b20, sd->pdev=c06b3b10 ***
[   22.653446] *** tx_isp_subdev_init: Core ISP subdev registered at slot 3 ***
[   22.653452] tx_isp_module_init: Module initialized for isp-m0
[   22.653457] *** tx_isp_subdev_init: VIC interrupt registration will happen in auto-linking function ***
[   22.653465] *** tx_isp_request_irq: platform_get_irq returned 37 for device isp-m0 ***
[   22.653472] *** tx_isp_request_irq: Using main ISP device as dev_id for IRQ 37 (device: isp-m0) ***
[   22.653482] *** tx_isp_request_irq: About to call request_threaded_irq(irq=37, handler=c06736c8, thread=c0666584, flags=0x80, name=isp-m0, dev_id=80514000) ***
[   22.653490] *** tx_isp_request_irq: About to register IRQ 37 with handlers: main=c06736c8, thread=c0666584 ***
[   22.655768] *** tx_isp_request_irq: request_threaded_irq returned 0 ***
[   22.655779] *** tx_isp_request_irq: IRQ 37 LEFT ENABLED (working version behavior) ***
[   22.655786] *** tx_isp_request_irq: IRQ 37 registered successfully for isp-m0 ***
[   22.655795] tx_isp_subdev_init: platform_get_resource returned c06b3c10 for device isp-m0
[   22.655803] tx_isp_subdev_init: Memory resource found: start=0x13300000, end=0x133fffff, size=0x00100000
[   22.655813] isp_subdev_init_clks: EXACT Binary Ninja MCP - Initializing 3 clocks
[   22.655820] isp_subdev_init_clks: Using platform data clock arrays: c06b3bf8
[   22.655826] isp_subdev_init_clks: Using platform data clock configs
[   22.655833] Platform data clock[0]: name=cgu_isp, rate=100000000
[   22.655843] Clock cgu_isp: set rate 100000000 Hz, result=0
[   22.655849] Clock cgu_isp enabled successfully
[   22.655855] Platform data clock[1]: name=isp, rate=65535
[   22.655863] Clock isp enabled successfully
[   22.655869] Platform data clock[2]: name=csi, rate=65535
[   22.655876] Clock csi enabled successfully
[   22.679158] CPM clock gates configured
[   22.679172] isp_subdev_init_clks: Successfully initialized 3 clocks
[   22.679182] *** tx_isp_subdev_auto_link: ENTRY - pdev=c06b3b10, sd=8047a400, ourISPdev=80514000 ***
[   22.679190] *** tx_isp_subdev_auto_link: Auto-linking device 'isp-m0' to ourISPdev=80514000 ***
[   22.679196] *** DEBUG: Device name comparison - checking 'isp-m0' ***
[   22.679201] *** DEBUG: About to check device name matches ***
[   22.679207] *** DEBUG: CORE device name matched! Setting up Core device ***
[   22.679213] *** CRITICAL FIX: CORE regs mapped to core device: b3300000 ***
[   22.679221] *** tx_isp_link_core_device: Linking core device 8047a400 to ISP device 80514000 ***
[   22.679227] *** tx_isp_link_core_device: Core device linked successfully ***
[   22.679233] *** Core subdev already registered at slot 3: 8047a400 ***
[   22.679239] *** LINKED CORE device: 8047a400 ***
[   22.679244] *** CORE SUBDEV REGISTERED AT INDEX 0 ***
[   22.679249] *** tx_isp_core_probe: Core subdev initialized successfully ***
[   22.679256] *** tx_isp_core_device_init: Initializing core device: 8047a400 ***
[   22.679276] *** tx_isp_core_device_init: State transitions handled by slake_module ***
[   22.679282] *** tx_isp_core_device_init: Core device initialized successfully ***
[   22.679288] *** tx_isp_core_device_init: Core sensor IOCTL handler set for sensor registration ***
[   22.679295] *** tx_isp_link_core_device: Linking core device 8047a400 to ISP device 80514000 ***
m[   22.679301] *** tx_isp_link_core_device: Core device linked successfully ***
[   22.679307] *** Core subdev already registered at slot 3: 8047a400 ***
[   22.679321] *** tx_isp_core_probe: Assigned frame_channels=8047a800 to core_dev ***
[   22.679326] *** tx_isp_core_probe: VIC device creation deferred to platform driver system ***
[   22.679332] *** tx_isp_core_probe: Platform drivers will call tx_isp_subdev_init for proper initialization ***
[   22.679337] *** tx_isp_core_probe: Calling sensor_early_init ***
[   22.679343] *** tx_isp_core_probe: ISP clock management handled by infrastructure ***
[   22.679348] *** tx_isp_core_probe: Calling ispcore_slake_module for state initialization ***
[   22.679354] *** ispcore_slake_module: EXACT Binary Ninja MCP implementation ***
[   22.679361] ispcore_slake_module: VIC device=8047a000, state=1ispcore_slake_module: Processing subdevices
[   22.679369] *** DEBUG: isp_dev=80514000, isp_dev->subdevs=80517274 ***<6>[   22.679377] *** ispcore_slake_module: Calling slake_module for CSI subdev ***
[   22.679384] *** tx_isp_csi_slake_subdev: CSI slake/shutdown - current state=1 ***
[   22.679391] *** tx_isp_csi_slake_subdev: CSI slake complete, final state=1 ***
[   22.679395] ispcore_slake_module: CSI slake success
[   22.679399] *** ispcore_slake_module: Calling slake_module for VIC subdev ***
[   22.679406] *** tx_isp_vic_slake_subdev: ENTRY - sd=8047a000 ***
[   22.679413] *** tx_isp_vic_slake_subdev: VIC slake/shutdown - vic_dev=8047a000, current state=1 ***
[   22.679419] *** tx_isp_vic_slake_subdev: VIC slake complete, final state=1 ***
[   22.679424] ispcore_slake_module: VIC slake success
[   22.679429] *** ispcore_slake_module: Calling slake_module for Sensor subdev ***
[   22.679435] *** tx_isp_csi_slake_subdev: CSI slake/shutdown - current state=1 ***
[   22.679441] *** tx_isp_csi_slake_subdev: CSI slake complete, final state=1 ***
[   22.679445] ispcore_slake_module: Sensor slake success
[   22.679450] *** ispcore_slake_module: All subdev slake operations completed using helper functions ***
[   22.679455] ispcore_slake_module: Managing ISP clocks
[   22.679459] ispcore_slake_module: Disabled IPU clockispcore_slake_module: Disabled ISP clock
[   22.679467] ispcore_slake_module: Complete, result=0<6>[   22.679472] *** tx_isp_core_probe: ispcore_slake_module completed successfully ***
[   22.679477] *** tx_isp_core_probe: Core device setup complete ***
[   22.679483] ***   - Core device: 8047a400 ***
[   22.679488] ***   - Channel count: 6 ***
[   22.679494] ***   - Linked to ISP device: 80514000 ***
[   22.679499] *** tx_isp_core_probe: Initializing core tuning system ***
[   22.679505] isp_core_tuning_init: Initializing tuning data structure
[   22.679516] isp_core_tuning_init: Tuning data structure initialized at 84bf6000
[   22.679522] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   22.679527] *** SAFE: mode_flag properly initialized using struct member access ***
[   22.679533] *** tx_isp_core_probe: Tuning init SUCCESS ***
[   22.679537] *** tx_isp_core_probe: Set platform driver data ***
[   22.679543] *** tx_isp_core_probe: Set global core device reference ***
[   22.679548] *** tx_isp_core_probe: SUCCESS - Core device fully initialized ***
[   22.679553] ***   - Core device: 8047a400 ***
[   22.679559] ***   - Tuning device: 84bf6000 ***
[   22.679564] *** tx_isp_core_probe: Creating frame channel devices ***
[   22.679569] *** tx_isp_create_framechan_devices: Creating frame channel devices ***
[   22.682739] *** Created frame channel device: /dev/framechan0 (major=10, minor=54) ***
[   22.688464] *** Created frame channel device: /dev/framechan1 (major=10, minor=53) ***
[   22.691083] *** Created frame channel device: /dev/framechan2 (major=10, minor=52) ***
[   22.698589] *** Created frame channel device: /dev/framechan3 (major=10, minor=51) ***
[   22.698599] *** tx_isp_create_framechan_devices: All frame channel devices created ***
[   22.698605] *** tx_isp_core_probe: Frame channel devices created successfully ***
[   22.698610] *** tx_isp_core_probe: Creating ISP M0 tuning device node ***
[   22.698616] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   22.698625] tisp_code_create_tuning_node: Allocated dynamic major 251
[   22.703631] *** ISP M0 TUNING DEVICE CREATED: /dev/isp-m0 (major=251, minor=0) ***
[   22.703641] *** tx_isp_core_probe: ISP M0 tuning device node created successfully ***
[   22.703647] *** tx_isp_core_probe: Core probe completed successfully ***
[   22.703668] *** Platform device 4 (isp-m0) registered successfully ***
[   22.703674] *** tx_isp_create_graph_and_nodes: Creating /proc/jz/isp entries ***
[   22.703697] *** Created /proc/jz/isp directory ***
[   22.703706] *** PROC ENTRY DEBUG: Using isp_vic_frd_fops for isp-w00 (with ioctl handler) ***
[   22.703715] *** Created /proc/jz/isp/isp-w00 entry with file ops ***
[   22.703721] *** PROC ENTRY DEBUG: Using vic_w02_proc_fops for isp-w02 (with write handler) ***
[   22.703729] *** PROC ENTRY DEBUG: vic_w02_proc_fops.write=c06823e8 ***
[   22.703737] *** PROC ENTRY FIX: Using ISP device 80514000 instead of VIC device 8047a000 for isp-w02 ***
[   22.703745] *** Created /proc/jz/isp/isp-w02 entry with file ops ***
[   22.703752] *** PROC ENTRY DEBUG: Using isp_vic_frd_fops for isp-w01 (with ioctl handler) ***
[   22.703761] *** Created /proc/jz/isp/isp-w01 entry with file ops ***
[   22.703770] *** Created /proc/jz/isp/isp-fs entry with file ops ***
[   22.703779] *** Created /proc/jz/isp/isp-m0 entry with file ops ***
[   22.703784] *** tx_isp_create_graph_and_nodes: Registering misc devices ***
[   22.703789] *** Misc device registration handled via main tx-isp device ***
[   22.703795] *** Misc device registration handled via main tx-isp device ***
[   22.703800] *** Misc device registration handled via main tx-isp device ***
[   22.703805] *** Misc device registration handled via main tx-isp device ***
[   22.703811] *** Misc device registration handled via main tx-isp device ***
[   22.703816] *** tx_isp_create_graph_and_nodes: Initializing frame channels ***
[   22.703825] *** Frame channel 0 initialized: 1920x1080, state=2 ***
[   22.703833] *** Frame channel 1 initialized: 640x360, state=2 ***
[   22.703838] *** tx_isp_create_graph_and_nodes: Binary Ninja reference implementation complete ***
[   22.703845] *** tx_isp_module_init: VIC device linkage check - isp_dev->vic_dev = 8047a000 ***
[   22.703850] *** ENABLING HARDWARE INTERRUPT GENERATION ***
[   22.703855] *** WRITING VIC INTERRUPT ENABLE REGISTERS ***
[   22.703861] *** VIC INTERRUPT REGISTERS ENABLED - INTERRUPTS SHOULD NOW FIRE! ***
[   22.703866] *** ENABLING ISP CORE INTERRUPT REGISTERS FOR MIPI DATA ***
[   22.703873] *** ISP CORE INTERRUPT REGISTERS ENABLED at legacy(+0xb*) and new(+0x98b*) ***
[   22.703878] *** BOTH VIC AND ISP CORE INTERRUPTS NOW ENABLED! ***
[   22.703883] *** vic_start_ok SET TO 1 - INTERRUPTS WILL NOW BE PROCESSED! ***
[   22.703889] *** BOTH VIC AND ISP CORE INTERRUPTS NOW ENABLED! ***
[   22.703894] *** tx_isp_module_init: Binary Ninja reference implementation complete ***
[   22.703899] *** PROBE: Binary Ninja reference implementation complete ***
[   22.708701] *** tx_isp_init: Platform device and driver registered successfully ***
[   22.727597] ISP isp-w01: [CSI PHY Control] write at offset 0x0: 0x0 -> 0x3130322a (delta: 0.000 ms)
[   22.727611] ISP isp-w01: [CSI PHY Control] write at offset 0x4: 0x0 -> 0x1 (delta: 0.000 ms)
[   22.727621] ISP isp-w01: [CSI PHY Control] write at offset 0x14: 0x0 -> 0x200 (delta: 0.000 ms)
[   22.729214] ISP isp-m0: [CSI PHY Control] write at offset 0xb0: 0x0 -> 0x3fff (delta: 0.000 ms)
[   23.841470] === gc2053 SENSOR MODULE INIT ===
[   23.849517] gc2053 I2C driver registered, waiting for device creation by ISP
[   26.479956] *** tx_isp_open: SAFE IMPLEMENTATION - preventing dangerous initialization chains ***
[   26.479970] === ISP Subdevice Array Status ===
[   26.479978]   [0]: isp-w00 (sd=8521bc00)
[   26.479985]   [1]: isp-w02 (sd=8047a000)
[   26.479992]   [2]: isp-w01 (sd=85212a00)
[   26.479998]   [3]: isp-m0 (sd=8047a400)
[   26.480004]   [4]: (empty)
[   26.480009]   [5]: (empty)
[   26.480014]   [6]: (empty)
[   26.480018]   [7]: (empty)
[   26.480024]   [8]: (empty)
[   26.480028]   [9]: (empty)
[   26.480034]   [10]: (empty)
[   26.480038]   [11]: (empty)
[   26.480044]   [12]: (empty)
[   26.480048]   [13]: (empty)
[   26.480054]   [14]: (empty)
[   26.480058]   [15]: (empty)
[   26.480063] === End Subdevice Array ===
[   26.480070] *** tx_isp_open: Found core subdev 8047a400, calling ispcore_core_ops_init(1) - FIRST TIME ONLY ***
[   26.480076] *** DEBUG: core_sd->dev_priv=8047a400, core_sd->host_priv=8047a400 ***
	[   26.480084] *** DEBUG: core_sd->pdev=c06b3b10, core_sd->ops=c06b4238 ***
[   26.480090] *** ispcore_core_ops_init: ENTRY - sd=8047a400, on=1 ***
[   26.480097] *** ispcore_core_ops_init: sd->dev_priv=8047a400, sd->host_priv=8047a400 ***
[   26.480104] *** ispcore_core_ops_init: sd->pdev=c06b3b10, sd->ops=c06b4238 ***
[   26.480110] *** ispcore_core_ops_init: EXACT Binary Ninja MCP implementation, on=1 ***
[   26.480116] *** ispcore_core_ops_init: ISP device=80514000 ****** ispcore_core_ops_init: Frame sync work structure initialized ***
[   26.480124] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   26.480130] *** tx_isp_get_sensor: No real sensor modules found - returning NULL ***
[   26.480135] ispcore_core_ops_init: No sensor found - sensor_attr will be NULL
[   26.480140] *** ispcore_core_ops_init: s0 (core_dev) = 8047a400 from sd->host_priv ***
[   26.480148] ispcore_core_ops_init: core_dev=8047a400, vic_dev=8047a000, vic_state=1
[   26.480152] ispcore_core_ops_init: Complete, result=0<6>[   26.480158] *** tx_isp_open: ispcore_core_ops_init SUCCESS - ISP core initialized ONCE ***
[   26.480163] *** tx_isp_open: ISP opened safely - no dangerous operations triggered ***
[   26.480511] ISP IOCTL: cmd=0x805056c1 arg=0x77af2d60
[   26.480525] subdev_sensor_ops_ioctl: cmd=0x2000000
[   26.480531] *** subdev_sensor_ops_ioctl: IOCTL 0x2000000 - Creating I2C sensor device ***
[   26.480537] *** Creating I2C sensor device on adapter 0 ***
[   26.480546] *** Creating I2C device: gc2053 at 0x37 ***
[   26.480551] *** isp_i2c_new_subdev_board: MIPS-SAFE implementation - FIXED CRASH ***
[   26.480558] Creating I2C subdev: type=gc2053 addr=0x37 on adapter i2c0 (MIPS-safe)
[   26.480564] *** MIPS-SAFE: Requesting sensor module gc2053 ***
[   26.487026] *** MIPS-SAFE: Valid I2C address 0x37, creating device ***
[   26.489422] === GC2053 SENSOR PROBE START ===
[   26.489439] sensor_probe: client=854b4b00, addr=0x37, adapter=84074c10 (i2c0)
[   26.489445] === PERFORMING GPIO RESET SEQUENCE BEFORE I2C ===
[   26.489450] Requesting reset GPIO 18
[   26.489458] GPIO reset sequence: HIGH -> LOW -> HIGH
root@ing-wyze-cam3-a000 ~# dmesg 
[   26.882207] sensor_write: reg=0x9a val=0x06, client=854b4b00, adapter=i2c0, addr=0x37
[   26.882529] sensor_write: reg=0x9a val=0x06 SUCCESS
[   26.882537] sensor_write: reg=0xfe val=0x00, client=854b4b00, adapter=i2c0, addr=0x37
[   26.882853] sensor_write: reg=0xfe val=0x00 SUCCESS
[   26.882863] sensor_write: reg=0x7b val=0x2a, client=854b4b00, adapter=i2c0, addr=0x37
[   26.883176] sensor_write: reg=0x7b val=0x2a SUCCESS
[   26.883185] sensor_write: reg=0x23 val=0x2d, client=854b4b00, adapter=i2c0, addr=0x37
[   26.883498] sensor_write: reg=0x23 val=0x2d SUCCESS
[   26.883506] sensor_write: reg=0xfe val=0x03, client=854b4b00, adapter=i2c0, addr=0x37
[   26.883819] sensor_write: reg=0xfe val=0x03 SUCCESS
[   26.883827] sensor_write: reg=0x01 val=0x27, client=854b4b00, adapter=i2c0, addr=0x37
[   26.888658] sensor_write: reg=0x01 val=0x27 SUCCESS
[   26.888673] sensor_write: reg=0x02 val=0x56, client=854b4b00, adapter=i2c0, addr=0x37
[   26.888991] sensor_write: reg=0x02 val=0x56 SUCCESS
[   26.889001] sensor_write: reg=0x03 val=0x8e, client=854b4b00, adapter=i2c0, addr=0x37
[   26.889341] sensor_write: reg=0x03 val=0x8e SUCCESS
[   26.889352] sensor_write: reg=0x12 val=0x80, client=854b4b00, adapter=i2c0, addr=0x37
[   26.889665] sensor_write: reg=0x12 val=0x80 SUCCESS
[   26.889673] sensor_write: reg=0x13 val=0x07, client=854b4b00, adapter=i2c0, addr=0x37
[   26.889991] sensor_write: reg=0x13 val=0x07 SUCCESS
[   26.890001] sensor_write: reg=0x15 val=0x12, client=854b4b00, adapter=i2c0, addr=0x37
[   26.890313] sensor_write: reg=0x15 val=0x12 SUCCESS
[   26.890321] sensor_write: reg=0xfe val=0x00, client=854b4b00, adapter=i2c0, addr=0x37
[   26.890634] sensor_write: reg=0xfe val=0x00 SUCCESS
[   26.890643] sensor_write: reg=0x3e val=0x91, client=854b4b00, adapter=i2c0, addr=0x37
[   26.890956] sensor_write: reg=0x3e val=0x91 SUCCESS
[   26.890963] sensor_write_array: Complete - wrote 137 registers, 0 errors
[   26.890969] *** SENSOR_WRITE_ARRAY RETURNED: 0 ***
[   26.890975] *** SENSOR_INIT: gc2053 initialization complete - marked as initialized ***
[   26.890982] Calling subdev 4 initialization (REVERSE ORDER - sensors first)
[   26.890989] *** SENSOR_INIT: gc2053 enable=1 ***
[   26.890995] *** SENSOR_INIT: gc2053 already initialized, skipping to prevent CSI PHY reconfiguration ***
[   26.891001] *** SENSOR_INIT: This prevents register reset that disables ISP/VIC interrupts ***
[   26.891007] Calling subdev 3 initialization (REVERSE ORDER - sensors first)
[   26.891014] *** ispcore_core_ops_init: ENTRY - sd=8047a400, on=1 ***
[   26.891021] *** ispcore_core_ops_init: sd->dev_priv=8047a400, sd->host_priv=8047a400 ***
[   26.891028] *** ispcore_core_ops_init: sd->pdev=c06b3b10, sd->ops=c06b4238 ***
[   26.891035] *** ispcore_core_ops_init: EXACT Binary Ninja MCP implementation, on=1 ***
[   26.891040] *** ispcore_core_ops_init: ISP device=80514000 ****** ispcore_core_ops_init: Frame sync work structure initialized ***
[   26.891049] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   26.891055] *** tx_isp_get_sensor: Found real sensor: 8521bc00 ***
[   26.891061] *** tx_isp_get_sensor: Sensor attributes are NULL - setting up default attributes ***
[   26.891067] *** tx_isp_get_sensor: Default sensor attributes set up successfully ***
[   26.891073] ispcore_core_ops_init: Using sensor attributes from sensor: gc2053
[   26.891077] *** ispcore_core_ops_init: s0 (core_dev) = 8047a400 from sd->host_priv ***
[   26.891085] ispcore_core_ops_init: core_dev=8047a400, vic_dev=8047a000, vic_state=2
[   26.891090] *** ispcore_core_ops_init: INITIALIZING CORE (on=1) ****** ispcore_core_ops_init: Current vic_state (VIC state): 2 ***
[   26.891099] *** ispcore_core_ops_init: VIC in ready state (2) - normal initialization ****** ispcore_core_ops_init: VIC state check passed, proceeding with initialization ***
[   26.891107] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   26.891113] *** tx_isp_get_sensor: Found real sensor: 8521bc00 ***
[   26.891118] *** ispcore_core_ops_init: BINARY NINJA MCP - Second tisp_init call (00079058) ***
[   26.891123] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   26.891128] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   26.891135] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 2200x1418 ***
[   26.891141] tisp_init: Initializing ISP hardware for sensor (2200x1418)
[   26.891147] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   26.891152] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   26.891157] tisp_event_init: Initializing ISP event system
[   26.891165] tisp_event_init: SAFE event system initialized with 20 nodes
[   26.891171] tisp_event_set_cb: Setting callback for event 4
[   26.891177] tisp_event_set_cb: Event 4 callback set to c0683028
[   26.891183] tisp_event_set_cb: Setting callback for event 5
[   26.891189] tisp_event_set_cb: Event 5 callback set to c06834f0
[   26.891195] tisp_event_set_cb: Setting callback for event 7
[   26.891201] tisp_event_set_cb: Event 7 callback set to c06830bc
[   26.891206] tisp_event_set_cb: Setting callback for event 9
[   26.891213] tisp_event_set_cb: Event 9 callback set to c0683144
[   26.891218] tisp_event_set_cb: Setting callback for event 8
[   26.891224] tisp_event_set_cb: Event 8 callback set to c0683208
[   26.891231] *** system_irq_func_set: Registered handler c067bfb4 at index 13 ***
[   26.909003] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   26.909018] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   26.909025] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   26.909032] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   26.909039] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   26.909045] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   26.909053] *** SYSTEM_REG_WRITE: reg[0xb018] = 0x40404040 (Binary Ninja EXACT) ***
[   26.909059] *** SYSTEM_REG_WRITE: reg[0xb01c] = 0x40404040 (Binary Ninja EXACT) ***
[   26.909066] *** SYSTEM_REG_WRITE: reg[0xb020] = 0x40404040 (Binary Ninja EXACT) ***
[   26.909073] *** SYSTEM_REG_WRITE: reg[0xb024] = 0x404040 (Binary Ninja EXACT) ***
[   26.909080] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   26.909087] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   26.909093] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   26.909100] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***
[   26.909107] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   26.909113] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   26.909147] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   26.909153] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   26.909160] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   26.909167] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   26.909173] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   26.909180] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   26.909185] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   26.909191] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   26.909197] *** SYSTEM_REG_WRITE: reg[0x9804] = 0x3f00 (Binary Ninja EXACT) ***
[   26.909205] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   26.909211] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   26.909218] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   26.909224] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   26.909231] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   26.909238] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   26.909245] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   26.909250] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   26.909257] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   26.909263] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   26.909271] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   26.909277] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   26.909283] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   26.909290] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   26.909297] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   26.909303] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   26.909309] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   26.909316] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   26.909323] *** SYSTEM_REG_WRITE: reg[0x9ac0] = 0x200 (Binary Ninja EXACT) ***
[   26.909329] *** SYSTEM_REG_WRITE: reg[0x9ac8] = 0x200 (Binary Ninja EXACT) ***
[   26.909337] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 2200x1418)
[   26.909344] *** SYSTEM_REG_WRITE: reg[0x4] = 0x898058a (Binary Ninja EXACT) ***
[   26.909351] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   26.909357] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   26.909363] *** tisp_init: ISP control register set to enable processing pipeline ***
[   26.909369] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   26.909375] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   26.909381] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   26.909387] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   26.909393] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   26.909400] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   26.909409] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=80514000 ***
[   26.916867] *** isp_irq_handle: IRQ 37 received, dev_id=80514000 ***
[   26.916873] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   26.924591] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=80514000 ***
[   26.932037] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   26.939753] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
d[   26.947290] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   26.953478] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   26.961554] *** ISP CORE: Callback[10] for bit 10 is NULL - skipping ***
[   26.968469] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
[   27.000313] ISP isp-m0: [CSI PHY Control] write at offset 0x4: 0x7800438 -> 0x898058a (delta: 4420.000 ms)
[   27.000327] ISP isp-m0: [CSI PHY Control] write at offset 0x8: 0x1 -> 0x0 (delta: 4420.000 ms)
[   27.000337] ISP isp-m0: [CSI PHY Control] write at offset 0x1c: 0x0 -> 0x8 (delta: 0.000 ms)
[   27.000347] ISP isp-m0: [CSI PHY Control] write at offset 0x30: 0x0 -> 0x8fffffff (delta: 0.000 ms)
[   27.000367] ISP isp-m0: [CSI PHY Config] write at offset 0x110: 0x80007000 -> 0x80007001 (delta: 4420.000 ms)
[   27.002595] ISP isp-m0: [ISP Control] write at offset 0x9804: 0x3f00 -> 0x0 (delta: 4420.000 ms)
[   27.002641] ISP isp-m0: [VIC Control] write at offset 0x9ac0: 0x200 -> 0x0 (delta: 4420.000 ms)
[   27.002651] ISP isp-m0: [VIC Control] write at offset 0x9ac8: 0x200 -> 0x0 (delta: 4420.000 ms)
[   27.047634] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   27.047649] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   27.047656] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   27.047663] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   27.047669] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=8, 0x800=1 ***
[   27.047675] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   27.047682] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   27.047689] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   27.047695] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   27.047701] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   27.047707] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   27.047714] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   27.047720] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   27.047727] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   27.047733] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   27.047740] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   27.047747] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   27.047755] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   27.047762] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   27.047769] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   27.047775] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   27.047782] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   27.047789] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   27.047794] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   27.047800] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   27.047805] *** This should eliminate green frames by enabling proper color processing ***
[   27.047812] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   27.047819] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   27.047825] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   27.047831] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   27.047838] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   27.047845] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   27.047851] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   27.047857] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   27.047864] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   27.047869] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   27.047875] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   27.047880] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   27.047885] *** tisp_init: Standard tuning parameters loaded successfully ***
[   27.047891] *** tisp_init: Custom tuning parameters loaded successfully ***
[   27.047897] tisp_set_csc_version: Setting CSC version 0
[   27.047903] *** SYSTEM_REG_WRITE: reg[0xc] = 0xb477effd (Binary Ninja EXACT) ***
[   27.047910] *** tisp_init: REFERENCE DRIVER bypass register set to 0xb477effd (exact Binary Ninja logic) ***
[   27.047915] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   27.047922] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   27.047929] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   27.047934] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   27.047939] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   27.047946] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   27.047952] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   27.047957] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   27.047964] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   27.047970] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   27.047975] *** tisp_init: ISP processing pipeline fully enabled ***
[   27.047982] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   27.047989] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   27.047994] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   27.048001] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   27.048007] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   27.048012] tisp_init: ISP memory buffers configured
[   27.048017] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   27.048025] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   27.048033] tiziano_ae_params_refresh: Refreshing AE parameters
[   27.048044] tiziano_ae_params_refresh: AE parameters refreshed
[   27.048049] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   27.048055] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   27.048061] tiziano_ae_para_addr: Setting up AE parameter addresses
[   27.048066] tiziano_ae_para_addr: AE parameter addresses configured
[   27.048072] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   27.048079] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   27.048086] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   27.048093] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   27.048099] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   27.048106] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   27.048113] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   27.048120] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b524814 (Binary Ninja EXACT) ***
[   27.048127] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   27.048133] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   27.048140] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   27.048147] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   27.048153] tiziano_ae_set_hardware_param: Parameters written to AE0
[   27.048159] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   27.048165] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   27.048171] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   27.048178] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   27.048185] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   27.048191] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   27.048197] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   27.048204] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   27.048211] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   27.048217] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   27.048223] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   27.048230] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   27.048236] tiziano_ae_set_hardware_param: Parameters written to AE1
[   27.048241] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   27.048249] *** system_irq_func_set: Registered handler c0684200 at index 10 ***
[   27.067837] *** system_irq_func_set: Registered handler c0684318 at index 27 ***
[   27.077278] ISP isp-m0: [CSI PHY Control] write at offset 0x4: 0x898058a -> 0x7800438 (delta: 70.000 ms)
[   27.077293] ISP isp-m0: [CSI PHY Control] write at offset 0x8: 0x0 -> 0x1 (delta: 70.000 ms)
[   27.077303] ISP isp-m0: [CSI PHY Control] write at offset 0xc: 0x80700008 -> 0xb477effd (delta: 4490.000 ms)
[   27.077312] ISP isp-m0: [CSI PHY Control] write at offset 0x10: 0x0 -> 0x133 (delta: 0.000 ms)
[   27.077321] ISP isp-m0: [CSI PHY Control] write at offset 0x14: 0x0 -> 0x2b (delta: 0.000 ms)
[   27.077330] ISP isp-m0: [CSI PHY Control] write at offset 0x18: 0x0 -> 0xa (delta: 0.000 ms)
[   27.077351] ISP isp-m0: [CSI PHY Config] write at offset 0x110: 0x80007001 -> 0x80007123 (delta: 70.000 ms)
[   27.079572] ISP isp-m0: [Core Control] write at offset 0xb078: 0x0 -> 0x10000000 (delta: 0.000 ms)
[   27.085729] *** system_irq_func_set: Registered handler c0684200 at index 26 ***
[   27.099161] *** system_irq_func_set: Registered handler c0684400 at index 29 ***
[   27.116963] *** system_irq_func_set: Registered handler c068438c at index 28 ***
[   27.137177] *** system_irq_func_set: Registered handler c0684474 at index 30 ***
[   27.144844] *** system_irq_func_set: Registered handler c06844c8 at index 20 ***
[   27.159153] *** system_irq_func_set: Registered handler c068451c at index 18 ***
[   27.176953] *** system_irq_func_set: Registered handler c0684570 at index 31 ***
[   27.192390] *** system_irq_func_set: Registered handler c06845c4 at index 11 ***
[   27.209173] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   27.209195] tiziano_deflicker_expt: Generated 119 LUT entries
[   27.209202] tisp_event_set_cb: Setting callback for event 1
[   27.209209] tisp_event_set_cb: Event 1 callback set to c0683e00
[   27.209215] tisp_event_set_cb: Setting callback for event 6
[   27.209221] tisp_event_set_cb: Event 6 callback set to c0683360
[   27.209227] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   27.209233] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   27.209240] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   27.209247] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   27.209253] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   27.209259] tiziano_awb_init: AWB hardware blocks enabled
[   27.209264] tiziano_gamma_init: Initializing Gamma processing
[   27.209269] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   27.209329] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   27.209335] tiziano_gib_init: Initializing GIB processing
[   27.209339] tiziano_lsc_init: Initializing LSC processing
[   27.209345] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   27.209351] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   27.209358] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   27.209365] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   27.209370] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   27.209427] tiziano_ccm_init: Initializing Color Correction Matrix
[   27.209432] tiziano_ccm_init: Using linear CCM parameters
[   27.209437] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   27.209444] jz_isp_ccm: EV=64, CT=9984
[   27.209450] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   27.209456] cm_control: saturation=128
[   27.209461] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   27.209467] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   27.209473] tiziano_ccm_init: CCM initialized successfully
[   27.209477] tiziano_dmsc_init: Initializing DMSC processing
[   27.209483] tiziano_sharpen_init: Initializing Sharpening
[   27.209488] tiziano_sharpen_init: Using linear sharpening parameters
[   27.209493] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   27.209501] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   27.209506] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   27.209533] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   27.209539] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   27.209544] tiziano_sharpen_init: Sharpening initialized successfully
[   27.209550] tiziano_sdns_init: Initializing SDNS processing
[   27.209557] tiziano_sdns_init: Using linear SDNS parameters
[   27.209563] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   27.209570] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   27.209575] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   27.209608] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   27.209615] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   27.209620] tiziano_sdns_init: SDNS processing initialized successfully
[   27.209627] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   27.209631] tiziano_mdns_init: Using linear MDNS parameters
[   27.209642] tiziano_mdns_init: MDNS processing initialized successfully
[   27.209647] tiziano_clm_init: Initializing CLM processing
[   27.209652] tiziano_dpc_init: Initializing DPC processing
[   27.209657] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   27.209663] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   27.209670] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   27.209675] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   27.209690] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   27.209696] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   27.209702] tiziano_hldc_init: Initializing HLDC processing
[   27.209708] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   27.209715] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   27.209721] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   27.209727] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   27.209735] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   27.209741] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   27.209748] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   27.209755] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   27.209761] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   27.209769] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   27.209775] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   27.209782] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   27.209789] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   27.209794] tiziano_adr_params_refresh: Refreshing ADR parameters
[   27.209800] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   27.209805] tiziano_adr_params_init: Initializing ADR parameter arrays
[   27.209812] tisp_adr_set_params: Writing ADR parameters to registers
[   27.209844] tisp_adr_set_params: ADR parameters written to hardware
[   27.209849] tisp_event_set_cb: Setting callback for event 18
[   27.209856] tisp_event_set_cb: Event 18 callback set to c068451c
[   27.209861] tisp_event_set_cb: Setting callback for event 2
[   27.209868] tisp_event_set_cb: Event 2 callback set to c0682ffc
[   27.209873] tiziano_adr_init: ADR processing initialized successfully
[   27.209879] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   27.209884] tiziano_bcsh_init: Initializing BCSH processing
[   27.209889] tiziano_ydns_init: Initializing YDNS processing
[   27.209895] tiziano_rdns_init: Initializing RDNS processing
[   27.209899] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   27.209913] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x518000 (Binary Ninja EXACT) ***
[   27.209919] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x519000 (Binary Ninja EXACT) ***
[   27.209927] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x51a000 (Binary Ninja EXACT) ***
[   27.209933] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x51b000 (Binary Ninja EXACT) ***
[   27.209940] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x51c000 (Binary Ninja EXACT) ***
[   27.209947] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x51c800 (Binary Ninja EXACT) ***
[   27.209953] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x51d000 (Binary Ninja EXACT) ***
[   27.209960] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x51d800 (Binary Ninja EXACT) ***
[   27.209967] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   27.209973] *** tisp_init: AE0 buffer allocated at 0x00518000 ***
[   27.209979] *** CRITICAL FIX: data_b2f3c initialized to 0x80518000 (prevents stack corruption) ***
[   27.209987] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x488000 (Binary Ninja EXACT) ***
[   27.209994] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x489000 (Binary Ninja EXACT) ***
[   27.210001] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x48a000 (Binary Ninja EXACT) ***
[   27.210008] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x48b000 (Binary Ninja EXACT) ***
[   27.210015] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x48c000 (Binary Ninja EXACT) ***
[   27.210021] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x48c800 (Binary Ninja EXACT) ***
[   27.210028] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x48d000 (Binary Ninja EXACT) ***
[   27.210035] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x48d800 (Binary Ninja EXACT) ***
[   27.210041] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   27.210048] *** tisp_init: AE1 buffer allocated at 0x00488000 ***
[   27.210053] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   27.210059] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   27.210065] *** tisp_init: STREAMING ACTIVE - Skipping second ISP control register write ***
[   27.210071] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
m[   27.210076] *** tisp_init: ISP processing completion callback registered (index=0xd) ***
[   27.210082] tisp_param_operate_init: Initializing parameter operations
[   27.210089] tisp_netlink_init: Initializing netlink communication
[   27.210095] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   27.210125] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   27.210135] tisp_netlink_init: Netlink socket created successfully
[   27.210141] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   27.210147] tisp_code_create_tuning_node: Device already created, skipping
[   27.210152] *** CRITICAL: Calling tx_isp_subdev_pipo to initialize VIC buffer management ***
[   27.210159] *** tx_isp_subdev_pipo: EXACT Binary Ninja MCP implementation ***
[   27.210233] tx_isp_subdev_pipo: entry - sd=8047a000, arg=84655dd8
[   27.210243] tx_isp_subdev_pipo: vic_dev retrieved from host_priv: 8047a000
[   27.210249] tx_isp_subdev_pipo: set processing = 1 (Binary Ninja offset 0x20c)
[   27.210254] tx_isp_subdev_pipo: arg is not NULL - initializing pipe structures (Binary Ninja MCP)
[   27.210260] tx_isp_subdev_pipo: initialized linked list heads (Binary Ninja MCP)
[   27.210265] tx_isp_subdev_pipo: initialized spinlock (Binary Ninja MCP)
[   27.210271] *** CRITICAL: Set ispvic_frame_channel_s_stream at raw_pipe[3] (offset 0xc) ***
[   27.210279] tx_isp_subdev_pipo: added buffer entry 0 to free list (aligned struct)
[   27.210285] tx_isp_subdev_pipo: cleared VIC register at offset 0x318 for buffer 0
[   27.210292] tx_isp_subdev_pipo: added buffer entry 1 to free list (aligned struct)
[   27.210298] tx_isp_subdev_pipo: cleared VIC register at offset 0x31c for buffer 1
[   27.210305] tx_isp_subdev_pipo: added buffer entry 2 to free list (aligned struct)
[   27.210311] tx_isp_subdev_pipo: cleared VIC register at offset 0x320 for buffer 2
[   27.210317] tx_isp_subdev_pipo: added buffer entry 3 to free list (aligned struct)
[   27.210324] tx_isp_subdev_pipo: cleared VIC register at offset 0x324 for buffer 3
[   27.210330] tx_isp_subdev_pipo: added buffer entry 4 to free list (aligned struct)
[   27.210337] tx_isp_subdev_pipo: cleared VIC register at offset 0x328 for buffer 4
[   27.210343] tx_isp_subdev_pipo: initialized 5 buffer structures (safe implementation)
[   27.210349] tx_isp_subdev_pipo: set processing = 1 (pipe enabled, safe struct access)
[   27.210354] *** tx_isp_subdev_pipo: RESETTING stream_state to 0 before calling ispvic_frame_channel_s_stream ***
[   27.210360] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_qbuf to write buffer addresses ***
[   27.210366] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   27.210373] ispvic_frame_channel_qbuf: arg1=8047a000, arg2=  (null)
[   27.210380] *** tx_isp_subdev_pipo: ispvic_frame_channel_qbuf SUCCESS - buffer addresses written to VIC hardware ***
[   27.210386] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_s_stream to start VIC streaming ***
[   27.210392] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   27.210399] ispvic_frame_channel_s_stream: arg1=8047a000, arg2=1
[   27.210405] ispvic_frame_channel_s_stream: s0 (vic_dev) = 8047a000
[   27.210411] ispvic_frame_channel_s_stream[2517]: streamon
[   27.210418] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   27.210424] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   27.210430] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   27.210435] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   27.210443] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   27.210448] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   27.210455] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   27.210461] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   27.210467] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   27.210472] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   27.210478] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   27.210485] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   27.210492] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   27.210499] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   27.210507] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   27.210514] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   27.210522] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   27.210528] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   27.210533] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   27.210539] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   27.210546] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   27.210552] *** tx_isp_subdev_pipo: ispvic_frame_channel_s_stream SUCCESS - VIC streaming started! ***
[   27.210557] *** tx_isp_subdev_pipo: CALLING vic_core_s_stream to enable VIC interrupts ***
[   27.210565] *** vic_core_s_stream: BINARY NINJA EXACT - sd=8047a000, enable=1 ***
[   27.210571] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=2 ***
[   27.210575] *** vic_core_s_stream: STREAM ON ***
[   27.210581] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   27.210587] *** vic_core_s_stream: CRITICAL FIX - Skipping VIC interrupt disable to keep IRQ 38 enabled ***
[   27.210593] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.210601] *** tx_isp_get_sensor: Found real sensor: 8521bc00 ***
[   27.210607] *** tx_isp_vic_start: Using single VIC register base - EXACT Binary Ninja reference ***
[   27.210613] *** STREAMING: SKIPPING CPM clock reconfiguration to preserve CSI PHY configuration ***
[   27.210619] *** STREAMING: CPM clocks should already be configured during module init ***
[   27.210624] STREAMING: CPM clocks preserved - CSI PHY configuration should remain intact
[   27.210630] *** tx_isp_vic_start: Writing CRITICAL interrupt-enabling registers from working commits ***
[   27.210636] *** tx_isp_vic_start: CRITICAL interrupt-enabling registers written (0x3130322a, 0x1, 0x200) ***
[   27.210643] *** tx_isp_vic_start: CRITICAL DEBUG - interface_type=1, checking if == 1 ***
[   27.210648] *** tx_isp_vic_start: MIPI interface detected - configuring VIC for MIPI ***
[   27.210655] *** tx_isp_vic_start: vic_dev->width=1920, vic_dev->height=1080 ***
[   27.210660] *** tx_isp_vic_start: sensor_mode != interface_type, writing 0xa000a to 0x1a4 ***
[   27.210666] *** tx_isp_vic_start: Writing VIC configuration registers - EXACT Binary Ninja sequence ***
[   27.210672] *** tx_isp_vic_start: Adding CRITICAL missing VIC configuration registers ***
[   27.210679] *** tx_isp_vic_start: CRITICAL VIC configuration registers written - hardware protection should be prevented ***
[   27.210687] *** tx_isp_vic_start: Frame size 0x07800438 calculated but NOT written to 0x4 (interrupt register) ***
[   27.210693] *** tx_isp_vic_start: VIC unlock sequence using SECONDARY VIC space (0x10023000) ***
[   27.210699] *** tx_isp_vic_start: VIC unlock sequence - FIXED register space issue ***
[   27.210705] *** VIC unlock: Commands written, checking VIC status register ***
[   27.210711] *** VIC unlock: Completed with final status=0x0 after 0 iterations ***
[   27.210717] *** tx_isp_vic_start: VIC unlock completed using SECONDARY VIC space ***
[   27.210723] *** tx_isp_vic_start: VIC enabled using SECONDARY VIC space ***
[   27.210728] *** tx_isp_vic_start: CRITICAL FIX - Writing VIC Control register sequence ***
[   27.210734] *** tx_isp_vic_start: VIC processing enabled (0x0=0x1, 0x4=0x1) ***
[   27.210739] *** tx_isp_vic_start: Configuring VIC hardware prerequisites for interrupt registers ***
[   27.210746] *** VIC DIMENSIONS: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE) ***
[   27.210752] *** VIC REGISTER CONFIG: FORCE writing VIC configuration registers (required for interrupts) ***
[   27.210759] *** VIC REGISTER CONFIG: VIC configuration registers written (0xc=2, 0x10=0x07800438, 0x14=3840) ***
[   27.210767] *** VIC HARDWARE PREREQUISITES: Dimensions 1920x1080, stride 3840, MIPI mode 2 ***
[   27.210773] *** VIC INTERRUPT CONFIG: Configuring VIC interrupt registers (0x1e0-0x1f4) - FROM WORKING VERSION ***
[   27.210779] *** VIC INTERRUPT CONFIG: VIC interrupt registers configured - VIC should now generate IRQ 38! ***
[   27.210785] *** VIC start completed - vic_start_ok = 1 ***
[   27.210792] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   27.210797] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   27.210803] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   27.210810] *** ISP CORE IRQ: enable_irq(37) called ***
[   27.210817] *** vic_core_s_stream: VIC state 2 - letting tx_isp_video_s_stream handle state 2  3 transition ***
[   27.210823] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   27.210828] tx_vic_enable_irq: VIC interrupts enabled (irq_enabled = 1)
---- FPGA board is ready ----
  Board UID : 30AB6E51
  Board HW ID : 72000460
  Board rev.  : 5DE5A975
  Board date  : 20190326
-----------------------------
[   27.210835] *** tx_vic_enable_irq: CRITICAL FIX - Enabling VIC interrupt (IRQ 38) at kernel level ***
[   27.210841] *** tx_vic_enable_irq: VIC interrupt (IRQ 38) ENABLED at kernel level ***
[   27.210847] tx_vic_enable_irq: VIC interrupt flag set and kernel interrupt enabled
[   27.210852] *** tx_vic_enable_irq: completed successfully ***
[   27.210858] *** vic_core_s_stream: VIC initialized, final state=2 ***
[   27.210863] *** tx_isp_subdev_pipo: vic_core_s_stream SUCCESS - VIC interrupts should now be ENABLED! ***
[   27.210869] tx_isp_subdev_pipo: completed successfully, returning 0
[   27.210875] *** SUCCESS: tx_isp_subdev_pipo completed - VIC buffer management initialized ***
[   27.210881] *** NO MORE 'qbuffer null' or 'bank no free' errors should occur ***
[   27.210887] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   27.210892] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   27.210899] *** ispcore_core_ops_init: Second tisp_init completed ***
[   27.210903] *** ispcore_core_ops_init: VIC state set to 3 (ACTIVE) - CORE READY FOR STREAMING ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[   27.210913] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[   27.210920] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   27.210926] *** ISP CORE: Hardware interrupt generation ENABLED ***
[   27.210931] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   27.210937] *** ispcore_core_ops_init: ISP Core hardware interrupts ENABLED - Frame sync should now work! ***
[   27.210942] ispcore_core_ops_init: Complete, result=0<6>[   27.210949] Calling subdev 2 initialization (REVERSE ORDER - sensors first)
[   27.210955] VIN: tx_isp_vin_init: EXACT Binary Ninja implementation with safety checks = 0x1
[   27.210961] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.210967] *** tx_isp_get_sensor: Found real sensor: 8521bc00 ***
[   27.210973] VIN: tx_isp_vin_init: a0 (sensor) = 8521bc00
[   27.210979] VIN: tx_isp_vin_init: using VIN device from global ISP: 85212a00
[   27.210985] VIN: tx_isp_vin_init: calling sensor init function = 0x1
[   27.210993] csi_core_ops_init: sd=8521bc00, csi_dev=8521bc00, enable=1
[   27.210999] VIN: tx_isp_vin_init: sensor init returned = 0x0
[   27.211005] VIN: tx_isp_vin_init: *** VIN STATE SET SAFELY *** = 0x3
[   27.211011] VIN: tx_isp_vin_init: EXACT Binary Ninja result = 0x0
[   27.217301] Calling subdev 1 initialization (REVERSE ORDER - sensors first)
[   27.217308] *** vic_core_ops_init: ENTRY - sd=8047a000, enable=1 ***
[   27.217314] *** vic_core_ops_init: vic_dev=8047a000, current state check ***
[   27.217321] *** vic_core_ops_init: current_state=3, enable=1 ***
[   27.217326] Calling subdev 0 initialization (REVERSE ORDER - sensors first)
[   27.217333] csi_core_ops_init: sd=8521bc00, csi_dev=8521bc00, enable=1
[   27.217339] *** VIC device final state set to 2 (fully activated) ***
[   27.217345] *** ispcore_activate_module: SUCCESS - ALL REGISTER WRITES SHOULD NOW BE TRIGGERED ***
[   27.217351] *** tx_isp_video_s_stream: ispcore_activate_module completed ***
[   27.217356] *** tx_isp_video_s_stream: VIC state is 2, calling VIC core->init ***
[   27.217363] *** vic_core_ops_init: ENTRY - sd=8047a000, enable=1 ***
[   27.217369] *** vic_core_ops_init: vic_dev=8047a000, current state check ***
[   27.217375] *** vic_core_ops_init: current_state=2, enable=1 ***
[   27.217381] *** vic_core_ops_init: Calling VIC hardware init for interrupt setup ***
[   27.217387] *** VIC HW INIT: Using SECONDARY VIC space (0x10023000) - avoids ISP Core register conflicts ***
[   27.217393] *** VIC HW INIT: Configuring ACTUAL VIC interrupt registers (0x1e0-0x1f4 range) ***
[   27.217399] *** VIC HW INIT: ACTUAL VIC interrupt registers: 0x1e0=0x00000000, 0x1e4=0x00000000 ***
[   27.217406] *** VIC HW INIT: ACTUAL VIC interrupt registers configured - using Binary Ninja reference ***
[   27.217413] *** VIC HW INIT VERIFY: 0x1e0=0x00000000 (expected 0x1), 0x1e4=0x00000000 (expected 0x3) ***
[   27.217421] *** VIC HW INIT VERIFY: 0x1e8=0x00000000 (expected 0xFFFFFFFE), 0x1ec=0x00000000 (expected 0xFFFFFFFC) ***
[   27.217427] *** VIC HW INIT: Interrupt handler registration SKIPPED - main module handles IRQ 38 routing ***
[   27.217433] *** VIC HW INIT: WARNING - Some ACTUAL VIC interrupt registers may not be configured correctly ***
[   27.217439] *** VIC HW INIT: This may be normal if VIC hardware manages some registers automatically ***
[   27.217444] *** VIC HW INIT: Basic hardware initialization complete - ready for full VIC configuration ***
[   27.217450] *** vic_core_ops_init: VIC hardware init SUCCESS - interrupts should now work ***
[   27.217456] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   27.217461] tx_vic_enable_irq: VIC interrupts already enabled
[   27.217467] *** tx_vic_enable_irq: completed successfully ***
[   27.217472] *** tx_isp_video_s_stream: VIC core->init completed, VIC should now be state 3 ***
[   27.217478] *** tx_isp_video_s_stream: Core initialization complete, proceeding with subdev streaming ***
[   27.217484] *** tx_isp_video_s_stream: CRITICAL FIX - Initializing all subdevs before streaming ***
[   27.217491] *** tx_isp_video_s_stream: Initializing CSI subdev ***
[   27.217499] csi_core_ops_init: sd=8521bc00, csi_dev=8521bc00, enable=1
[   27.217504] *** tx_isp_video_s_stream: CSI init SUCCESS ***
[   27.217509] *** tx_isp_video_s_stream: Initializing VIC subdev ***
[   27.217516] *** vic_core_ops_init: ENTRY - sd=8047a000, enable=1 ***
[   27.217522] *** vic_core_ops_init: vic_dev=8047a000, current state check ***
[   27.217528] *** vic_core_ops_init: current_state=3, enable=1 ***
[   27.217533] *** tx_isp_video_s_stream: VIC init SUCCESS ***
[   27.217539] *** tx_isp_video_s_stream: Initializing Core subdev ***
[   27.217545] *** ispcore_core_ops_init: ENTRY - sd=8047a400, on=1 ***
[   27.217553] *** ispcore_core_ops_init: sd->dev_priv=8047a400, sd->host_priv=8047a400 ***
[   27.217559] *** ispcore_core_ops_init: sd->pdev=c06b3b10, sd->ops=c06b4238 ***
[   27.217565] *** ispcore_core_ops_init: EXACT Binary Ninja MCP implementation, on=1 ***
[   27.217571] *** ispcore_core_ops_init: ISP device=80514000 ****** ispcore_core_ops_init: Frame sync work structure initialized ***
[   27.217578] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.217585] *** tx_isp_get_sensor: Found real sensor: 8521bc00 ***
[   27.217590] ispcore_core_ops_init: Using sensor attributes from sensor: gc2053
[   27.217595] *** ispcore_core_ops_init: s0 (core_dev) = 8047a400 from sd->host_priv ***
[   27.217603] ispcore_core_ops_init: core_dev=8047a400, vic_dev=8047a000, vic_state=3
[   27.217607] *** ispcore_core_ops_init: INITIALIZING CORE (on=1) ****** ispcore_core_ops_init: Current vic_state (VIC state): 3 ***
[   27.217617] *** ispcore_core_ops_init: VIC in ready state (3) - normal initialization ****** ispcore_core_ops_init: VIC state check passed, proceeding with initialization ***
[   27.217625] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.217631] *** tx_isp_get_sensor: Found real sensor: 8521bc00 ***
[   27.217636] *** ispcore_core_ops_init: BINARY NINJA MCP - Second tisp_init call (00079058) ***
[   27.217640] *** tisp_init: IMPLEMENTING MISSING HARDWARE REGISTER INITIALIZATION ***
[   27.217646] *** THIS FUNCTION CONTAINS ALL THE system_reg_write CALLS FROM REFERENCE ***
[   27.217653] *** tisp_init: FIXED - Extracted dimensions from sensor_attr: 2200x1418 ***
[   27.217659] tisp_init: Initializing ISP hardware for sensor (2200x1418)
[   27.217665] *** tisp_init: Event system ready for on-demand processing (Binary Ninja reference) ***
[   27.217671] *** tisp_init: INITIALIZING ISP EVENT SYSTEM ***
[   27.217676] tisp_event_init: Initializing ISP event system
[   27.217683] tisp_event_init: SAFE event system initialized with 20 nodes
[   27.217689] tisp_event_set_cb: Setting callback for event 4
[   27.217696] tisp_event_set_cb: Event 4 callback set to c0683028
[   27.217701] tisp_event_set_cb: Setting callback for event 5
[   27.217707] tisp_event_set_cb: Event 5 callback set to c06834f0
[   27.217713] tisp_event_set_cb: Setting callback for event 7
[   27.217719] tisp_event_set_cb: Event 7 callback set to c06830bc
[   27.217725] tisp_event_set_cb: Setting callback for event 9
[   27.217731] tisp_event_set_cb: Event 9 callback set to c0683144
[   27.217737] tisp_event_set_cb: Setting callback for event 8
[   27.217743] tisp_event_set_cb: Event 8 callback set to c0683208
[   27.217750] *** system_irq_func_set: Registered handler c067bfb4 at index 13 ***
[   27.245673] *** WRITING ISP CORE CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   27.245689] *** SYSTEM_REG_WRITE: reg[0xb004] = 0xf001f001 (Binary Ninja EXACT) ***
[   27.245697] *** SYSTEM_REG_WRITE: reg[0xb008] = 0x40404040 (Binary Ninja EXACT) ***
[   27.245703] *** SYSTEM_REG_WRITE: reg[0xb00c] = 0x40404040 (Binary Ninja EXACT) ***
[   27.245711] *** SYSTEM_REG_WRITE: reg[0xb010] = 0x40404040 (Binary Ninja EXACT) ***
[   27.245717] *** SYSTEM_REG_WRITE: reg[0xb014] = 0x404040 (Binary Ninja EXACT) ***
[   27.245724] *** SYSTEM_REG_WRITE: reg[0xb018] = 0x40404040 (Binary Ninja EXACT) ***
[   27.245731] *** SYSTEM_REG_WRITE: reg[0xb01c] = 0x40404040 (Binary Ninja EXACT) ***
[   27.245738] *** SYSTEM_REG_WRITE: reg[0xb020] = 0x40404040 (Binary Ninja EXACT) ***
[   27.245745] *** SYSTEM_REG_WRITE: reg[0xb024] = 0x404040 (Binary Ninja EXACT) ***
[   27.245751] *** SYSTEM_REG_WRITE: reg[0xb028] = 0x1000080 (Binary Ninja EXACT) ***
[   27.245758] *** SYSTEM_REG_WRITE: reg[0xb02c] = 0x1000080 (Binary Ninja EXACT) ***
[   27.245765] *** SYSTEM_REG_WRITE: reg[0xb030] = 0x100 (Binary Ninja EXACT) ***
[   27.245772] *** SYSTEM_REG_WRITE: reg[0xb034] = 0xffff0100 (Binary Ninja EXACT) ***	
[   27.245779] *** SYSTEM_REG_WRITE: reg[0xb038] = 0x1ff00 (Binary Ninja EXACT) ***
[   27.245785] *** SYSTEM_REG_WRITE: reg[0xb04c] = 0x103 (Binary Ninja EXACT) ***
[   27.245792] *** SYSTEM_REG_WRITE: reg[0xb050] = 0x3 (Binary Ninja EXACT) ***
[   27.245797] *** WRITING CRITICAL VARYING REGISTERS - USING EXACT REFERENCE VALUES ***
[   27.245804] *** SYSTEM_REG_WRITE: reg[0xb07c] = 0x341b (Binary Ninja EXACT) ***
[   27.245811] *** SYSTEM_REG_WRITE: reg[0xb080] = 0x46b0 (Binary Ninja EXACT) ***
[   27.245817] *** SYSTEM_REG_WRITE: reg[0xb084] = 0x1813 (Binary Ninja EXACT) ***
[   27.245824] *** SYSTEM_REG_WRITE: reg[0xb08c] = 0x10a (Binary Ninja EXACT) ***
[   27.245829] *** ISP CORE CONTROL REGISTERS WRITTEN - NOW MATCHES REFERENCE DRIVER ***
[   27.245835] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   27.245841] *** SYSTEM_REG_WRITE: reg[0x9804] = 0x3f00 (Binary Ninja EXACT) ***
[   27.245848] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   27.245855] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   27.245861] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   27.245868] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   27.245875] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   27.245882] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   27.245889] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   27.245894] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   27.245901] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   27.245908] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   27.245915] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   27.245921] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   27.245928] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   27.245934] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   27.245941] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   27.245947] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   27.245954] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   27.245961] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   27.245967] *** SYSTEM_REG_WRITE: reg[0x9ac0] = 0x200 (Binary Ninja EXACT) ***
[   27.245974] *** SYSTEM_REG_WRITE: reg[0x9ac8] = 0x200 (Binary Ninja EXACT) ***
[   27.245981] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 2200x1418)
[   27.245989] *** SYSTEM_REG_WRITE: reg[0x4] = 0x898058a (Binary Ninja EXACT) ***
[   27.245995] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   27.246001] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   27.246007] *** tisp_init: ISP control register set to enable processing pipeline ***
[   27.246013] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   27.246019] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   27.246026] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   27.246032] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   27.246038] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   27.246045] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   27.246055] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=80514000 ***
[   27.253508] *** isp_irq_handle: IRQ 37 received, dev_id=80514000 ***
[   27.253513] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   27.261233] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=80514000 ***
[   27.268677] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   27.276396] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
[   27.283940] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   27.290135] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   27.298219] *** ISP CORE: ABOUT TO CALL callback[10] for bit 10 - callback=c0684200 ***
[   27.306481] *** ISP CORE: CALLING CALLBACK NOW - IF SYSTEM HANGS, THIS CALLBACK IS THE PROBLEM ***
[   27.315726] ae0_interrupt_static: Processing AE0 static interrupt
[   27.315732] *** AE0: Processing interrupt using register-based statistics (Binary Ninja MCP) ***
[   27.315738] ae0_interrupt_static: AE0 static interrupt processed
[   27.315744] *** ISP CORE: CALLBACK RETURNED SUCCESSFULLY - callback[10] returned 1 ***
[   27.323911] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
[   27.362338] ISP isp-w01: [CSI PHY Control] write at offset 0x14: 0x200 -> 0xa00 (delta: 4640.000 ms)
[   27.363871] ISP isp-m0: [CSI PHY Control] write at offset 0x4: 0x7800438 -> 0x898058a (delta: 290.000 ms)
[   27.363886] ISP isp-m0: [CSI PHY Control] write at offset 0x8: 0x1 -> 0x0 (delta: 290.000 ms)
[   27.363907] ISP isp-m0: [CSI PHY Config] write at offset 0x110: 0x80007123 -> 0xffbf7123 (delta: 290.000 ms)
[   27.419158] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   27.419174] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   27.419180] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   27.419186] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   27.419193] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=8, 0x800=1 ***
[   27.419200] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   27.419206] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   27.419213] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   27.419220] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   27.419226] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   27.419232] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   27.419238] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   27.419245] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   27.419251] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   27.419258] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   27.419264] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   27.419271] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   27.419280] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   27.419287] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   27.419294] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   27.419300] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   27.419307] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   27.419314] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   27.419319] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   27.419324] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   27.419330] *** This should eliminate green frames by enabling proper color processing ***
[   27.419336] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   27.419343] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   27.419350] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   27.419356] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   27.419362] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   27.419369] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   27.419376] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   27.419382] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   27.419389] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   27.419394] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   27.419400] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   27.419405] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   27.419410] *** tisp_init: Standard tuning parameters loaded successfully ***
[   27.419416] *** tisp_init: Custom tuning parameters loaded successfully ***
[   27.419422] tisp_set_csc_version: Setting CSC version 0
[   27.419428] *** SYSTEM_REG_WRITE: reg[0xc] = 0xb477effd (Binary Ninja EXACT) ***
[   27.419434] *** tisp_init: REFERENCE DRIVER bypass register set to 0xb477effd (exact Binary Ninja logic) ***
[   27.419440] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   27.419446] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   27.419453] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   27.419459] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   27.419464] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   27.419470] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   27.419477] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   27.419482] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   27.419488] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   27.419495] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   27.419500] *** tisp_init: ISP processing pipeline fully enabled ***
[   27.419507] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   27.419513] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   27.419519] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   27.419526] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   27.419532] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   27.419538] tisp_init: ISP memory buffers configured
[   27.419542] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   27.419550] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   27.419558] tiziano_ae_params_refresh: Refreshing AE parameters
[   27.419569] tiziano_ae_params_refresh: AE parameters refreshed
[   27.419574] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   27.419580] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   27.419586] tiziano_ae_para_addr: Setting up AE parameter addresses
[   27.419591] tiziano_ae_para_addr: AE parameter addresses configured
[   27.419597] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   27.419604] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   27.419611] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   27.419618] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   27.419625] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   27.419632] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   27.419638] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   27.419645] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b524814 (Binary Ninja EXACT) ***
[   27.419652] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   27.419659] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   27.419665] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   27.419672] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   27.419678] tiziano_ae_set_hardware_param: Parameters written to AE0
[   27.419684] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   27.419690] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   27.419697] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   27.419704] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   27.419710] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   27.419716] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   27.419723] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   27.419730] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   27.419736] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   27.419742] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   27.419749] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   27.419756] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   27.419761] tiziano_ae_set_hardware_param: Parameters written to AE1
[   27.419767] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   27.419774] *** system_irq_func_set: Registered handler c0684200 at index 10 ***
[   27.434474] ISP isp-m0: [CSI PHY Control] write at offset 0x4: 0x898058a -> 0x7800438 (delta: 70.000 ms)
[   27.434488] ISP isp-m0: [CSI PHY Control] write at offset 0x8: 0x0 -> 0x1 (delta: 70.000 ms)
[   27.436830] *** system_irq_func_set: Registered handler c0684318 at index 27 ***
[   27.453314] *** system_irq_func_set: Registered handler c0684200 at index 26 ***
[   27.469187] *** system_irq_func_set: Registered handler c0684400 at index 29 ***
[   27.487004] *** system_irq_func_set: Registered handler c068438c at index 28 ***
[   27.507223] *** system_irq_func_set: Registered handler c0684474 at index 30 ***
[   27.514894] *** system_irq_func_set: Registered handler c06844c8 at index 20 ***
[   27.532671] *** system_irq_func_set: Registered handler c068451c at index 18 ***
[   27.547958] *** system_irq_func_set: Registered handler c0684570 at index 31 ***
root@ing-wyze-cam3-a000 ~# dmesg 
[   27.245835] *** WRITING ISP CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   27.245841] *** SYSTEM_REG_WRITE: reg[0x9804] = 0x3f00 (Binary Ninja EXACT) ***
[   27.245848] *** SYSTEM_REG_WRITE: reg[0x9864] = 0x7800438 (Binary Ninja EXACT) ***
[   27.245855] *** SYSTEM_REG_WRITE: reg[0x987c] = 0xc0000000 (Binary Ninja EXACT) ***
[   27.245861] *** SYSTEM_REG_WRITE: reg[0x9880] = 0x1 (Binary Ninja EXACT) ***
[   27.245868] *** SYSTEM_REG_WRITE: reg[0x9884] = 0x1 (Binary Ninja EXACT) ***
[   27.245875] *** SYSTEM_REG_WRITE: reg[0x9890] = 0x1010001 (Binary Ninja EXACT) ***
[   27.245882] *** SYSTEM_REG_WRITE: reg[0x989c] = 0x1010001 (Binary Ninja EXACT) ***
[   27.245889] *** SYSTEM_REG_WRITE: reg[0x98a8] = 0x1010001 (Binary Ninja EXACT) ***
[   27.245894] *** WRITING VIC CONTROL REGISTERS - FROM BINARY NINJA tisp_init ***
[   27.245901] *** SYSTEM_REG_WRITE: reg[0x9a00] = 0x50002d0 (Binary Ninja EXACT) ***
[   27.245908] *** SYSTEM_REG_WRITE: reg[0x9a04] = 0x3000300 (Binary Ninja EXACT) ***
[   27.245915] *** SYSTEM_REG_WRITE: reg[0x9a2c] = 0x50002d0 (Binary Ninja EXACT) ***
[   27.245921] *** SYSTEM_REG_WRITE: reg[0x9a34] = 0x1 (Binary Ninja EXACT) ***
[   27.245928] *** SYSTEM_REG_WRITE: reg[0x9a70] = 0x1 (Binary Ninja EXACT) ***
[   27.245934] *** SYSTEM_REG_WRITE: reg[0x9a7c] = 0x1 (Binary Ninja EXACT) ***
[   27.245941] *** SYSTEM_REG_WRITE: reg[0x9a80] = 0x500 (Binary Ninja EXACT) ***
[   27.245947] *** SYSTEM_REG_WRITE: reg[0x9a88] = 0x1 (Binary Ninja EXACT) ***
[   27.245954] *** SYSTEM_REG_WRITE: reg[0x9a94] = 0x1 (Binary Ninja EXACT) ***
[   27.245961] *** SYSTEM_REG_WRITE: reg[0x9a98] = 0x500 (Binary Ninja EXACT) ***
[   27.245967] *** SYSTEM_REG_WRITE: reg[0x9ac0] = 0x200 (Binary Ninja EXACT) ***
[   27.245974] *** SYSTEM_REG_WRITE: reg[0x9ac8] = 0x200 (Binary Ninja EXACT) ***
[   27.245981] tisp_init: CRITICAL FIX - Using ACTUAL sensor image dimensions 1920x1080 (not frame size 2200x1418)
[   27.245989] *** SYSTEM_REG_WRITE: reg[0x4] = 0x898058a (Binary Ninja EXACT) ***
[   27.245995] *** SYSTEM_REG_WRITE: reg[0x8] = 0x0 (Binary Ninja EXACT) ***
[   27.246001] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x3f08 (Binary Ninja EXACT) ***
[   27.246007] *** tisp_init: ISP control register set to enable processing pipeline ***
[   27.246013] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   27.246019] *** tisp_init: REFERENCE DRIVER format register 0x10 = 0x133 ***
[   27.246026] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   27.246032] *** tisp_init: REFERENCE DRIVER register 0x30 = 0xffffffff ***
[   27.246038] *** SYSTEM_REG_WRITE: reg[0x24] = 0x1 (Binary Ninja EXACT) ***
[   27.246045] *** SYSTEM_REG_WRITE: reg[0x28] = 0x1 (Binary Ninja EXACT) ***
[   27.246055] *** CRITICAL: isp_irq_handle: IRQ 37 received, dev_id=80514000 ***
[   27.253508] *** isp_irq_handle: IRQ 37 received, dev_id=80514000 ***
[   27.253513] *** INTERRUPT HANDLER CALLED - THIS PROVES THE HANDLER IS WORKING ***
[   27.261233] *** ISP CORE INTERRUPT HANDLER: IRQ 37 called, dev_id=80514000 ***
[   27.268677] *** ISP CORE: Read interrupt status - interrupt_status=0x00000400 ***
[   27.276396] *** ISP CORE: Clearing legacy interrupt 0x00000400 to reg +0xb8 ***
[   27.283940] *** ISP CORE: After clearing - legacy=0x00000000 ***
[   27.290135] *** ISP CORE: About to process IRQ callbacks - interrupt_status=0x400 ***
[   27.298219] *** ISP CORE: ABOUT TO CALL callback[10] for bit 10 - callback=c0684200 ***
[   27.306481] *** ISP CORE: CALLING CALLBACK NOW - IF SYSTEM HANGS, THIS CALLBACK IS THE PROBLEM ***
[   27.315726] ae0_interrupt_static: Processing AE0 static interrupt
[   27.315732] *** AE0: Processing interrupt using register-based statistics (Binary Ninja MCP) ***
[   27.315738] ae0_interrupt_static: AE0 static interrupt processed
[   27.315744] *** ISP CORE: CALLBACK RETURNED SUCCESSFULLY - callback[10] returned 1 ***
[   27.323911] *** ISP CORE INTERRUPT PROCESSING COMPLETE - returning IRQ_HANDLED ***
[   27.362338] ISP isp-w01: [CSI PHY Control] write at offset 0x14: 0x200 -> 0xa00 (delta: 4640.000 ms)
[   27.363871] ISP isp-m0: [CSI PHY Control] write at offset 0x4: 0x7800438 -> 0x898058a (delta: 290.000 ms)
[   27.363886] ISP isp-m0: [CSI PHY Control] write at offset 0x8: 0x1 -> 0x0 (delta: 290.000 ms)
[   27.363907] ISP isp-m0: [CSI PHY Config] write at offset 0x110: 0x80007123 -> 0xffbf7123 (delta: 290.000 ms)
[   27.419158] *** tisp_init: ISP data flow configured (input->processing->output) ***
[   27.419174] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   27.419180] *** SYSTEM_REG_WRITE: reg[0x1c] = 0x8 (Binary Ninja EXACT) ***
[   27.419186] *** SYSTEM_REG_WRITE: reg[0x800] = 0x1 (Binary Ninja EXACT) ***
[   27.419193] *** tisp_init: REFERENCE DRIVER final configuration - 0x804=0x1c, 0x1c=8, 0x800=1 ***
[   27.419200] *** SYSTEM_REG_WRITE: reg[0x4] = 0x7800438 (Binary Ninja EXACT) ***
[   27.419206] *** tisp_init: ISP frame size configured - 1920x1080 (ACTUAL sensor image) ***
[   27.419213] *** SYSTEM_REG_WRITE: reg[0x8] = 0x1 (Binary Ninja EXACT) ***
[   27.419220] *** tisp_init: CRITICAL FIX - Bayer pattern configured: mbus=0x3001 -> pattern=1 (register 8) ***
[   27.419226] *** tisp_init: CONFIGURING RAW10 BAYER PROCESSING PIPELINE ***
[   27.419232] *** SYSTEM_REG_WRITE: reg[0x14] = 0x2b (Binary Ninja EXACT) ***
[   27.419238] *** SYSTEM_REG_WRITE: reg[0x18] = 0xa0a (Binary Ninja EXACT) ***
[   27.419245] *** SYSTEM_REG_WRITE: reg[0x40] = 0x1 (Binary Ninja EXACT) ***
[   27.419251] *** SYSTEM_REG_WRITE: reg[0x44] = 0x1 (Binary Ninja EXACT) ***
[   27.419258] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   27.419264] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x1000000 (Binary Ninja EXACT) ***
[   27.419271] *** SYSTEM_REG_WRITE: reg[0x5006] = 0x100 (Binary Ninja EXACT) ***
[   27.419280] *** SYSTEM_REG_WRITE: reg[0x5008] = 0x0 (Binary Ninja EXACT) ***
[   27.419287] *** SYSTEM_REG_WRITE: reg[0x500a] = 0x1000000 (Binary Ninja EXACT) ***
[   27.419294] *** SYSTEM_REG_WRITE: reg[0x500c] = 0x100 (Binary Ninja EXACT) ***
[   27.419300] *** SYSTEM_REG_WRITE: reg[0x5018] = 0x0 (Binary Ninja EXACT) ***
[   27.419307] *** SYSTEM_REG_WRITE: reg[0x501c] = 0x1 (Binary Ninja EXACT) ***
[   27.419314] *** SYSTEM_REG_WRITE: reg[0x5020] = 0x0 (Binary Ninja EXACT) ***
[   27.419319] *** CRITICAL FIX: CCM configured using EXACT Binary Ninja register addresses ***
[   27.419324] *** CCM registers 0x5004-0x5014 programmed with identity matrix ***
[   27.419330] *** This should eliminate green frames by enabling proper color processing ***
[   27.419336] *** SYSTEM_REG_WRITE: reg[0x200] = 0x4d (Binary Ninja EXACT) ***
[   27.419343] *** SYSTEM_REG_WRITE: reg[0x204] = 0x96 (Binary Ninja EXACT) ***
[   27.419350] *** SYSTEM_REG_WRITE: reg[0x208] = 0x1d (Binary Ninja EXACT) ***
[   27.419356] *** SYSTEM_REG_WRITE: reg[0x20c] = 0x70 (Binary Ninja EXACT) ***
[   27.419362] *** SYSTEM_REG_WRITE: reg[0x210] = 0x5a (Binary Ninja EXACT) ***
[   27.419369] *** SYSTEM_REG_WRITE: reg[0x214] = 0x80 (Binary Ninja EXACT) ***
[   27.419376] *** SYSTEM_REG_WRITE: reg[0x218] = 0x80 (Binary Ninja EXACT) ***
[   27.419382] *** SYSTEM_REG_WRITE: reg[0x21c] = 0x6a (Binary Ninja EXACT) ***
[   27.419389] *** SYSTEM_REG_WRITE: reg[0x220] = 0x16 (Binary Ninja EXACT) ***
[   27.419394] *** CRITICAL FIX: RGB to YUV conversion matrix configured properly ***
[   27.419400] *** tisp_init: RAW10 BAYER PROCESSING PIPELINE CONFIGURED ***
[   27.419405] *** tisp_init: Loading ISP tuning parameters from /etc/sensor/ ***
[   27.419410] *** tisp_init: Standard tuning parameters loaded successfully ***
[   27.419416] *** tisp_init: Custom tuning parameters loaded successfully ***
[   27.419422] tisp_set_csc_version: Setting CSC version 0
[   27.419428] *** SYSTEM_REG_WRITE: reg[0xc] = 0xb477effd (Binary Ninja EXACT) ***
[   27.419434] *** tisp_init: REFERENCE DRIVER bypass register set to 0xb477effd (exact Binary Ninja logic) ***
[   27.419440] *** tisp_init: CONFIGURING ISP FOR NV12 OUTPUT FORMAT ***
[   27.419446] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   27.419453] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   27.419459] *** tisp_init: ISP configured for NV12 4:2:0 output format ***
[   27.419464] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   27.419470] *** SYSTEM_REG_WRITE: reg[0x5000] = 0x1 (Binary Ninja EXACT) ***
[   27.419477] *** SYSTEM_REG_WRITE: reg[0x5004] = 0x0 (Binary Ninja EXACT) ***
[   27.419482] *** tisp_init: ISP-VIC frame synchronization enabled ***
[   27.419488] *** SYSTEM_REG_WRITE: reg[0x6000] = 0x1 (Binary Ninja EXACT) ***
[   27.419495] *** SYSTEM_REG_WRITE: reg[0x6004] = 0x1 (Binary Ninja EXACT) ***
[   27.419500] *** tisp_init: ISP processing pipeline fully enabled ***
[   27.419507] *** SYSTEM_REG_WRITE: reg[0x7000] = 0x1 (Binary Ninja EXACT) ***
[   27.419513] *** SYSTEM_REG_WRITE: reg[0x7004] = 0x1 (Binary Ninja EXACT) ***
[   27.419519] *** tisp_init: ISP master processing enabled - pipeline should now work ***
[   27.419526] *** SYSTEM_REG_WRITE: reg[0x30] = 0xffffffff (Binary Ninja EXACT) ***
[   27.419532] *** SYSTEM_REG_WRITE: reg[0x10] = 0x133 (Binary Ninja EXACT) ***
[   27.419538] tisp_init: ISP memory buffers configured
[   27.419542] *** tisp_init: INITIALIZING ALL ISP PIPELINE COMPONENTS ***
[   27.419550] tiziano_ae_init: Initializing Auto Exposure (1920x1080@25) - Binary Ninja EXACT
[   27.419558] tiziano_ae_params_refresh: Refreshing AE parameters
[   27.419569] tiziano_ae_params_refresh: AE parameters refreshed
[   27.419574] tiziano_ae_init_exp_th: Initializing AE exposure thresholds
[   27.419580] tiziano_ae_init_exp_th: AE exposure thresholds initialized
[   27.419586] tiziano_ae_para_addr: Setting up AE parameter addresses
[   27.419591] tiziano_ae_para_addr: AE parameter addresses configured
[   27.419597] tiziano_ae_set_hardware_param: ae_id=0, update_only=0
[   27.419604] *** SYSTEM_REG_WRITE: reg[0xa004] = 0xff0ff (Binary Ninja EXACT) ***
[   27.419611] *** SYSTEM_REG_WRITE: reg[0xa008] = 0x40d0b00 (Binary Ninja EXACT) ***
[   27.419618] *** SYSTEM_REG_WRITE: reg[0xa00c] = 0x80d0b00 (Binary Ninja EXACT) ***
[   27.419625] *** SYSTEM_REG_WRITE: reg[0xa010] = 0xc0d0b00 (Binary Ninja EXACT) ***
[   27.419632] *** SYSTEM_REG_WRITE: reg[0xa014] = 0xd0b00 (Binary Ninja EXACT) ***
[   27.419638] *** SYSTEM_REG_WRITE: reg[0xa018] = 0xd0b0010 (Binary Ninja EXACT) ***
[   27.419645] *** SYSTEM_REG_WRITE: reg[0xa01c] = 0x6b524814 (Binary Ninja EXACT) ***
[   27.419652] *** SYSTEM_REG_WRITE: reg[0xa020] = 0x1000c0 (Binary Ninja EXACT) ***
[   27.419659] *** SYSTEM_REG_WRITE: reg[0xa024] = 0x43800 (Binary Ninja EXACT) ***
[   27.419665] *** SYSTEM_REG_WRITE: reg[0xa000] = 0x1 (Binary Ninja EXACT) ***
[   27.419672] *** SYSTEM_REG_WRITE: reg[0xa028] = 0x100000 (Binary Ninja EXACT) ***
[   27.419678] tiziano_ae_set_hardware_param: Parameters written to AE0
[   27.419684] tiziano_ae_set_hardware_param: ae_id=1, update_only=0
[   27.419690] *** SYSTEM_REG_WRITE: reg[0xa804] = 0x0 (Binary Ninja EXACT) ***
[   27.419697] *** SYSTEM_REG_WRITE: reg[0xa808] = 0x0 (Binary Ninja EXACT) ***
[   27.419704] *** SYSTEM_REG_WRITE: reg[0xa80c] = 0x0 (Binary Ninja EXACT) ***
[   27.419710] *** SYSTEM_REG_WRITE: reg[0xa810] = 0x0 (Binary Ninja EXACT) ***
[   27.419716] *** SYSTEM_REG_WRITE: reg[0xa814] = 0x0 (Binary Ninja EXACT) ***
[   27.419723] *** SYSTEM_REG_WRITE: reg[0xa818] = 0x0 (Binary Ninja EXACT) ***
[   27.419730] *** SYSTEM_REG_WRITE: reg[0xa81c] = 0x0 (Binary Ninja EXACT) ***
[   27.419736] *** SYSTEM_REG_WRITE: reg[0xa820] = 0x0 (Binary Ninja EXACT) ***
[   27.419742] *** SYSTEM_REG_WRITE: reg[0xa824] = 0x0 (Binary Ninja EXACT) ***
[   27.419749] *** SYSTEM_REG_WRITE: reg[0xa800] = 0x1 (Binary Ninja EXACT) ***
[   27.419756] *** SYSTEM_REG_WRITE: reg[0xa828] = 0x0 (Binary Ninja EXACT) ***
[   27.419761] tiziano_ae_set_hardware_param: Parameters written to AE1
[   27.419767] *** DEBUGGING: Registering ONLY callback for bit 10 (status 0x400) ***
[   27.419774] *** system_irq_func_set: Registered handler c0684200 at index 10 ***
[   27.434474] ISP isp-m0: [CSI PHY Control] write at offset 0x4: 0x898058a -> 0x7800438 (delta: 70.000 ms)
[   27.434488] ISP isp-m0: [CSI PHY Control] write at offset 0x8: 0x0 -> 0x1 (delta: 70.000 ms)
[   27.436830] *** system_irq_func_set: Registered handler c0684318 at index 27 ***
[   27.453314] *** system_irq_func_set: Registered handler c0684200 at index 26 ***
[   27.469187] *** system_irq_func_set: Registered handler c0684400 at index 29 ***
[   27.487004] *** system_irq_func_set: Registered handler c068438c at index 28 ***
[   27.507223] *** system_irq_func_set: Registered handler c0684474 at index 30 ***
[   27.514894] *** system_irq_func_set: Registered handler c06844c8 at index 20 ***
[   27.532671] *** system_irq_func_set: Registered handler c068451c at index 18 ***
[   27.547958] *** system_irq_func_set: Registered handler c0684570 at index 31 ***
[   27.568958] *** system_irq_func_set: Registered handler c06845c4 at index 11 ***
[   27.586780] tiziano_deflicker_expt: flicker_t=0, param2=4096, param3=25, param4=1
[   27.586802] tiziano_deflicker_expt: Generated 119 LUT entries
[   27.586809] tisp_event_set_cb: Setting callback for event 1
[   27.586816] tisp_event_set_cb: Event 1 callback set to c0683e00
[   27.586822] tisp_event_set_cb: Setting callback for event 6
[   27.586828] tisp_event_set_cb: Event 6 callback set to c0683360
[   27.586834] *** CRITICAL FIX: Skipping NULL spinlock initialization that was causing 6+ second delays ***
[   27.586840] tiziano_ae_init: AE initialization complete - Binary Ninja EXACT implementation
[   27.586846] tiziano_awb_init: Initializing Auto White Balance (1920x1080)
[   27.586854] *** SYSTEM_REG_WRITE: reg[0xb000] = 0x1 (Binary Ninja EXACT) ***
[   27.586860] *** SYSTEM_REG_WRITE: reg[0x1800] = 0x1 (Binary Ninja EXACT) ***
[   27.586866] tiziano_awb_init: AWB hardware blocks enabled
[   27.586871] tiziano_gamma_init: Initializing Gamma processing
[   27.586876] tiziano_gamma_lut_parameter: Writing gamma LUT to registers
[   27.586936] tiziano_gamma_lut_parameter: Gamma LUT written to hardware
[   27.586941] tiziano_gib_init: Initializing GIB processing
[   27.586946] tiziano_lsc_init: Initializing LSC processing
[   27.586952] tiziano_lsc_params_refresh: Refreshing LSC parameters
[   27.586958] tiziano_lsc_params_refresh: Updated LSC strength=0x800, CT=9984
[   27.586964] *** SYSTEM_REG_WRITE: reg[0x3800] = 0x11 (Binary Ninja EXACT) ***
[   27.586972] *** SYSTEM_REG_WRITE: reg[0x3804] = 0x108002 (Binary Ninja EXACT) ***
[   27.586977] tisp_lsc_write_lut_datas: Writing LSC LUT data
[   27.587034] tiziano_ccm_init: Initializing Color Correction Matrix
[   27.587039] tiziano_ccm_init: Using linear CCM parameters
[   27.587044] tiziano_ccm_params_refresh: Refreshing CCM parameters
[   27.587051] jz_isp_ccm: EV=64, CT=9984
[   27.587057] tiziano_ct_ccm_interpolation: CT=9984, threshold=100
[   27.587063] cm_control: saturation=128
[   27.587068] tiziano_ccm_lut_parameter: Writing CCM matrix to registers
[   27.587075] tiziano_ccm_lut_parameter: CCM matrix written to hardware
[   27.587080] tiziano_ccm_init: CCM initialized successfully
[   27.587085] tiziano_dmsc_init: Initializing DMSC processing
[   27.587090] tiziano_sharpen_init: Initializing Sharpening
[   27.587096] tiziano_sharpen_init: Using linear sharpening parameters
[   27.587101] tiziano_sharpen_params_refresh: Refreshing sharpening parameters (simple version)
[   27.587108] tisp_sharpen_par_refresh: EV=0, threshold=0, enable=1
[   27.587114] tisp_sharpen_all_reg_refresh: Writing sharpening parameters to registers
[   27.587140] tisp_sharpen_all_reg_refresh: Sharpening registers written to hardware
[   27.587146] *** SYSTEM_REG_WRITE: reg[0xb400] = 0x1 (Binary Ninja EXACT) ***
[   27.587152] tiziano_sharpen_init: Sharpening initialized successfully
[   27.587158] tiziano_sdns_init: Initializing SDNS processing
[   27.587165] tiziano_sdns_init: Using linear SDNS parameters
[   27.587170] tiziano_sdns_params_refresh: Refreshing SDNS parameters (simple version)
[   27.587178] tisp_sdns_par_refresh: EV=0, threshold=0, enable=1
[   27.587183] tisp_sdns_all_reg_refresh: Writing SDNS parameters to registers
[   27.587216] tisp_sdns_all_reg_refresh: SDNS registers written to hardware
[   27.587222] *** SYSTEM_REG_WRITE: reg[0x8b4c] = 0x1 (Binary Ninja EXACT) ***
[   27.587228] tiziano_sdns_init: SDNS processing initialized successfully
[   27.587234] tiziano_mdns_init: Initializing MDNS processing (1920x1080)
[   27.587239] tiziano_mdns_init: Using linear MDNS parameters
[   27.587249] tiziano_mdns_init: MDNS processing initialized successfully
[   27.587254] tiziano_clm_init: Initializing CLM processing
[   27.587260] tiziano_dpc_init: Initializing DPC processing
[   27.587265] tiziano_dpc_params_refresh: Refreshing DPC parameters
[   27.587270] tiziano_dpc_params_refresh: DPC parameters updated based on EV
[   27.587277] tisp_dpc_par_refresh: EV=0, threshold=0, enable=1
[   27.587283] tisp_dpc_all_reg_refresh: Writing DPC parameters to registers
[   27.587298] tisp_dpc_all_reg_refresh: DPC registers written to hardware
[   27.587304] *** SYSTEM_REG_WRITE: reg[0xa200] = 0x1 (Binary Ninja EXACT) ***
[   27.587309] tiziano_hldc_init: Initializing HLDC processing
[   27.587316] *** SYSTEM_REG_WRITE: reg[0x9044] = 0x3 (Binary Ninja EXACT) ***
[   27.587322] tiziano_defog_init: Initializing Defog processing (1920x1080)
[   27.587328] tiziano_adr_init: Initializing ADR processing (1920x1080)
[   27.587335] *** SYSTEM_REG_WRITE: reg[0x4000] = 0x10e0140 (Binary Ninja EXACT) ***
[   27.587342] *** SYSTEM_REG_WRITE: reg[0x4010] = 0x10e0000 (Binary Ninja EXACT) ***
[   27.587349] *** SYSTEM_REG_WRITE: reg[0x4014] = 0x21c021c (Binary Ninja EXACT) ***
[   27.587356] *** SYSTEM_REG_WRITE: reg[0x4018] = 0x438 (Binary Ninja EXACT) ***
[   27.587362] *** SYSTEM_REG_WRITE: reg[0x401c] = 0x1400000 (Binary Ninja EXACT) ***
[   27.587369] *** SYSTEM_REG_WRITE: reg[0x4020] = 0x3c00280 (Binary Ninja EXACT) ***
[   27.587376] *** SYSTEM_REG_WRITE: reg[0x4024] = 0x50003c0 (Binary Ninja EXACT) ***
[   27.587382] *** SYSTEM_REG_WRITE: reg[0x4028] = 0x780 (Binary Ninja EXACT) ***
[   27.587390] *** SYSTEM_REG_WRITE: reg[0x4454] = 0x3f60042 (Binary Ninja EXACT) ***
[   27.587396] *** SYSTEM_REG_WRITE: reg[0x4458] = 0x7300050 (Binary Ninja EXACT) ***
[   27.587402] tiziano_adr_params_refresh: Refreshing ADR parameters
[   27.587408] tiziano_adr_params_refresh: ADR ratio updated to 0x180
[   27.587412] tiziano_adr_params_init: Initializing ADR parameter arrays
[   27.587419] tisp_adr_set_params: Writing ADR parameters to registers
[   27.587452] tisp_adr_set_params: ADR parameters written to hardware
[   27.587457] tisp_event_set_cb: Setting callback for event 18
[   27.587464] tisp_event_set_cb: Event 18 callback set to c068451c
[   27.587469] tisp_event_set_cb: Setting callback for event 2
[   27.587476] tisp_event_set_cb: Event 2 callback set to c0682ffc
[   27.587481] tiziano_adr_init: ADR processing initialized successfully
[   27.587487] tiziano_af_init: Initializing Auto Focus (1920x1080)
[   27.587492] tiziano_bcsh_init: Initializing BCSH processing
[   27.587497] tiziano_ydns_init: Initializing YDNS processing
[   27.587502] tiziano_rdns_init: Initializing RDNS processing
[   27.587508] *** tisp_init: ALLOCATING ISP PROCESSING BUFFERS ***
[   27.587520] *** SYSTEM_REG_WRITE: reg[0xa02c] = 0x5fb0000 (Binary Ninja EXACT) ***
[   27.587528] *** SYSTEM_REG_WRITE: reg[0xa030] = 0x5fb1000 (Binary Ninja EXACT) ***
[   27.587534] *** SYSTEM_REG_WRITE: reg[0xa034] = 0x5fb2000 (Binary Ninja EXACT) ***
[   27.587542] *** SYSTEM_REG_WRITE: reg[0xa038] = 0x5fb3000 (Binary Ninja EXACT) ***
[   27.587548] *** SYSTEM_REG_WRITE: reg[0xa03c] = 0x5fb4000 (Binary Ninja EXACT) ***
[   27.587555] *** SYSTEM_REG_WRITE: reg[0xa040] = 0x5fb4800 (Binary Ninja EXACT) ***
[   27.587562] *** SYSTEM_REG_WRITE: reg[0xa044] = 0x5fb5000 (Binary Ninja EXACT) ***
[   27.587569] *** SYSTEM_REG_WRITE: reg[0xa048] = 0x5fb5800 (Binary Ninja EXACT) ***
[   27.587575] *** SYSTEM_REG_WRITE: reg[0xa04c] = 0x33 (Binary Ninja EXACT) ***
[   27.587582] *** tisp_init: AE0 buffer allocated at 0x05fb0000 ***
[   27.587588] *** CRITICAL FIX: data_b2f3c initialized to 0x85fb0000 (prevents stack corruption) ***
[   27.587596] *** SYSTEM_REG_WRITE: reg[0xa82c] = 0x5fb8000 (Binary Ninja EXACT) ***
[   27.587602] *** SYSTEM_REG_WRITE: reg[0xa830] = 0x5fb9000 (Binary Ninja EXACT) ***
[   27.587610] *** SYSTEM_REG_WRITE: reg[0xa834] = 0x5fba000 (Binary Ninja EXACT) ***
[   27.587616] *** SYSTEM_REG_WRITE: reg[0xa838] = 0x5fbb000 (Binary Ninja EXACT) ***
[   27.587623] *** SYSTEM_REG_WRITE: reg[0xa83c] = 0x5fbc000 (Binary Ninja EXACT) ***
[   27.587630] *** SYSTEM_REG_WRITE: reg[0xa840] = 0x5fbc800 (Binary Ninja EXACT) ***
[   27.587637] *** SYSTEM_REG_WRITE: reg[0xa844] = 0x5fbd000 (Binary Ninja EXACT) ***
[   27.587644] *** SYSTEM_REG_WRITE: reg[0xa848] = 0x5fbd800 (Binary Ninja EXACT) ***
[   27.587650] *** SYSTEM_REG_WRITE: reg[0xa84c] = 0x33 (Binary Ninja EXACT) ***
[   27.587656] *** tisp_init: AE1 buffer allocated at 0x05fb8000 ***
[   27.587662] *** tisp_init: FINAL REGISTER SEQUENCE ***
[   27.587668] *** SYSTEM_REG_WRITE: reg[0x804] = 0x1c (Binary Ninja EXACT) ***
[   27.587674] *** tisp_init: STREAMING ACTIVE - Skipping second ISP control register write ***
[   27.587679] *** tisp_init: BINARY NINJA REFERENCE - No event processing thread created ***
[   27.587685] *** tisp_init: ISP processing completion callback registered (index=0xd) ***
[   27.587690] tisp_param_operate_init: Initializing parameter operations
[   27.587698] tisp_netlink_init: Initializing netlink communication
[   27.587704] tisp_netlink_init: Trying standard NETLINK_GENERIC protocol (16)
[   27.587734] tisp_netlink_init: NETLINK_GENERIC failed, trying custom protocol 0x17
[   27.587747] tisp_netlink_init: Custom protocol failed, trying with nlcfg structure
[   27.587758] tisp_netlink_init: Failed to create netlink socket - continuing without netlink support
[   27.587765] tisp_netlink_init: ISP tuning parameters may not be available, but VIC interrupts should still work
[   27.587771] tisp_code_create_tuning_node: Creating ISP M0 tuning device node
[   27.587776] tisp_code_create_tuning_node: Device already created, skipping
[   27.587782] *** CRITICAL: Calling tx_isp_subdev_pipo to initialize VIC buffer management ***
[   27.587788] *** tx_isp_subdev_pipo: EXACT Binary Ninja MCP implementation ***[INFO:Opus.cpp]: Encoder bitrate: 40000
[INFO:WS.cpp]: Server started on port 8089

[   27.587795] tx_isp_subdev_pipo: entry - sd=8047a000, arg=84655e18
[   27.587802] tx_isp_subdev_pipo: vic_dev retrieved from host_priv: 8047a000
[   27.587807] tx_isp_subdev_pipo: set processing = 1 (Binary Ninja offset 0x20c)
[   27.587812] tx_isp_subdev_pipo: arg is not NULL - initializing pipe structures (Binary Ninja MCP)
[   27.587818] tx_isp_subdev_pipo: initialized linked list heads (Binary Ninja MCP)
[   27.587824] tx_isp_subdev_pipo: initialized spinlock (Binary Ninja MCP)
[   27.587829] *** CRITICAL: Set ispvic_frame_channel_s_stream at raw_pipe[3] (offset 0xc) ***
[   27.587836] tx_isp_subdev_pipo: added buffer entry 0 to free list (aligned struct)
[   27.587842] tx_isp_subdev_pipo: cleared VIC register at offset 0x318 for buffer 0
[   27.587849] tx_isp_subdev_pipo: added buffer entry 1 to free list (aligned struct)
[   27.587856] tx_isp_subdev_pipo: cleared VIC register at offset 0x31c for buffer 1
[   27.587862] tx_isp_subdev_pipo: added buffer entry 2 to free list (aligned struct)
[   27.587868] tx_isp_subdev_pipo: cleared VIC register at offset 0x320 for buffer 2
[   27.587875] tx_isp_subdev_pipo: added buffer entry 3 to free list (aligned struct)
[   27.587882] tx_isp_subdev_pipo: cleared VIC register at offset 0x324 for buffer 3
[   27.587888] tx_isp_subdev_pipo: added buffer entry 4 to free list (aligned struct)
[   27.587894] tx_isp_subdev_pipo: cleared VIC register at offset 0x328 for buffer 4
[   27.587900] tx_isp_subdev_pipo: initialized 5 buffer structures (safe implementation)
[   27.587906] tx_isp_subdev_pipo: set processing = 1 (pipe enabled, safe struct access)
[   27.587912] *** tx_isp_subdev_pipo: RESETTING stream_state to 0 before calling ispvic_frame_channel_s_stream ***
[   27.587918] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_qbuf to write buffer addresses ***
[   27.587924] *** ispvic_frame_channel_qbuf: EXACT Binary Ninja MCP implementation ***
[   27.587931] ispvic_frame_channel_qbuf: arg1=8047a000, arg2=  (null)
[   27.587937] *** tx_isp_subdev_pipo: ispvic_frame_channel_qbuf SUCCESS - buffer addresses written to VIC hardware ***
[   27.587943] *** tx_isp_subdev_pipo: CALLING ispvic_frame_channel_s_stream to start VIC streaming ***
[   27.587949] *** ispvic_frame_channel_s_stream: EXACT Binary Ninja implementation ***
[   27.587956] ispvic_frame_channel_s_stream: arg1=8047a000, arg2=1
[   27.587962] ispvic_frame_channel_s_stream: s0 (vic_dev) = 8047a000
[   27.587968] ispvic_frame_channel_s_stream[2517]: streamon
[   27.587975] *** ispvic_frame_channel_s_stream: Checking stream state - current=0, requested=1 ***
[   27.587981] *** ispvic_frame_channel_s_stream: Stream state different - proceeding with streaming setup ***
[   27.587986] *** CRITICAL: Calling vic_pipo_mdma_enable - required for VIC interrupts ***
[   27.587992] *** vic_pipo_mdma_enable: EXACT Binary Ninja MCP implementation ***
[   27.587999] vic_pipo_mdma_enable: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE)
[   27.588004] vic_pipo_mdma_enable: reg 0x308 = 1 (MDMA enable)
[   27.588012] vic_pipo_mdma_enable: reg 0x304 = 0x7800438 (dimensions 1920x1080)
[   27.588018] vic_pipo_mdma_enable: reg 0x310 = 3840 (stride)
[   27.588024] vic_pipo_mdma_enable: reg 0x314 = 3840 (stride)
[   27.588028] *** CRITICAL FIX: Writing buffer addresses to VIC hardware registers ***
[   27.588034] *** CRITICAL: No VBM buffer addresses - using fallback addresses from reserved memory ***
[   27.588041] *** vbm_buffer_addresses=  (null), vbm_buffer_count=0 ***
[   27.588048] *** VIC FALLBACK BUFFER 0: Wrote reserved memory address 0x6300000 to reg 0x318 ***
[   27.588056] *** VIC FALLBACK BUFFER 1: Wrote reserved memory address 0x66f4800 to reg 0x31c ***
[   27.588063] *** VIC FALLBACK BUFFER 2: Wrote reserved memory address 0x6ae9000 to reg 0x320 ***
[   27.588071] *** VIC FALLBACK BUFFER 3: Wrote reserved memory address 0x6edd800 to reg 0x324 ***
[   27.588078] *** VIC FALLBACK BUFFER 4: Wrote reserved memory address 0x72d2000 to reg 0x328 ***
[   27.588084] *** CRITICAL: VIC fallback buffer addresses configured - hardware can now generate interrupts! ***
[   27.588090] *** VIC PIPO MDMA ENABLE COMPLETE - VIC should now generate interrupts! ***
[   27.588096] *** vic_pipo_mdma_enable completed - VIC MDMA should now generate interrupts! ***
[   27.588102] *** Binary Ninja EXACT: Wrote 0x80040020 to reg 0x300 (4 buffers) ***
[   27.588108] *** tx_isp_subdev_pipo: ispvic_frame_channel_s_stream SUCCESS - VIC streaming started! ***
[   27.588114] *** tx_isp_subdev_pipo: CALLING vic_core_s_stream to enable VIC interrupts ***
[   27.588121] *** vic_core_s_stream: BINARY NINJA EXACT - sd=8047a000, enable=1 ***
[   27.588127] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=3 ***
[   27.588132] *** vic_core_s_stream: STREAM ON ***
[   27.588137] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   27.588143] *** vic_core_s_stream: CRITICAL FIX - Skipping VIC interrupt disable to keep IRQ 38 enabled ***
[   27.588149] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.588157] *** tx_isp_get_sensor: Found real sensor: 8521bc00 ***
[   27.588163] *** tx_isp_vic_start: Using single VIC register base - EXACT Binary Ninja reference ***
[   27.588169] *** STREAMING: SKIPPING CPM clock reconfiguration to preserve CSI PHY configuration ***
[   27.588175] *** STREAMING: CPM clocks should already be configured during module init ***
[   27.588180] STREAMING: CPM clocks preserved - CSI PHY configuration should remain intact
[   27.588186] *** tx_isp_vic_start: Writing CRITICAL interrupt-enabling registers from working commits ***
[   27.588192] *** tx_isp_vic_start: CRITICAL interrupt-enabling registers written (0x3130322a, 0x1, 0x200) ***
[   27.588198] *** tx_isp_vic_start: CRITICAL DEBUG - interface_type=1, checking if == 1 ***
[   27.588204] *** tx_isp_vic_start: MIPI interface detected - configuring VIC for MIPI ***
[   27.588211] *** tx_isp_vic_start: vic_dev->width=1920, vic_dev->height=1080 ***
[   27.588216] *** tx_isp_vic_start: sensor_mode != interface_type, writing 0xa000a to 0x1a4 ***
[   27.588222] *** tx_isp_vic_start: Writing VIC configuration registers - EXACT Binary Ninja sequence ***
[   27.588228] *** tx_isp_vic_start: Adding CRITICAL missing VIC configuration registers ***
[   27.588236] *** tx_isp_vic_start: CRITICAL VIC configuration registers written - hardware protection should be prevented ***
[   27.588243] *** tx_isp_vic_start: Frame size 0x07800438 calculated but NOT written to 0x4 (interrupt register) ***
[   27.588250] *** tx_isp_vic_start: VIC unlock sequence using SECONDARY VIC space (0x10023000) ***
[   27.588256] *** tx_isp_vic_start: VIC unlock sequence - FIXED register space issue ***
[   27.588261] *** VIC unlock: Commands written, checking VIC status register ***
[   27.588268] *** VIC unlock: Completed with final status=0x0 after 0 iterations ***
[   27.588273] *** tx_isp_vic_start: VIC unlock completed using SECONDARY VIC space ***
[   27.588279] *** tx_isp_vic_start: VIC enabled using SECONDARY VIC space ***
[   27.588284] *** tx_isp_vic_start: CRITICAL FIX - Writing VIC Control register sequence ***
[   27.588290] *** tx_isp_vic_start: VIC processing enabled (0x0=0x1, 0x4=0x1) ***
[   27.588296] *** tx_isp_vic_start: Configuring VIC hardware prerequisites for interrupt registers ***
[   27.588302] *** VIC DIMENSIONS: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE) ***
[   27.588308] *** VIC REGISTER CONFIG: FORCE writing VIC configuration registers (required for interrupts) ***
[   27.588316] *** VIC REGISTER CONFIG: VIC configuration registers written (0xc=2, 0x10=0x07800438, 0x14=3840) ***
[   27.588323] *** VIC HARDWARE PREREQUISITES: Dimensions 1920x1080, stride 3840, MIPI mode 2 ***
[   27.588329] *** VIC INTERRUPT CONFIG: Configuring VIC interrupt registers (0x1e0-0x1f4) - FROM WORKING VERSION ***
[   27.588336] *** VIC INTERRUPT CONFIG: VIC interrupt registers configured - VIC should now generate IRQ 38! ***
[   27.588341] *** VIC start completed - vic_start_ok = 1 ***
[   27.588348] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   27.588354] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   27.588360] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   27.588366] *** ISP CORE IRQ: enable_irq(37) called ***
[   27.588372] *** vic_core_s_stream: VIC state transition 3  4 (STREAMING) ***
[   27.588378] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   27.588384] tx_vic_enable_irq: VIC interrupts already enabled
[   27.588389] *** tx_vic_enable_irq: completed successfully ***
[   27.588394] *** vic_core_s_stream: VIC initialized, final state=4 ***
[   27.588400] *** tx_isp_subdev_pipo: vic_core_s_stream SUCCESS - VIC interrupts should now be ENABLED! ***
[   27.588406] tx_isp_subdev_pipo: completed successfully, returning 0
[   27.588412] *** SUCCESS: tx_isp_subdev_pipo completed - VIC buffer management initialized ***
[   27.588417] *** NO MORE 'qbuffer null' or 'bank no free' errors should occur ***
[   27.588423] *** tisp_init: ISP HARDWARE PIPELINE FULLY INITIALIZED - THIS SHOULD TRIGGER REGISTER ACTIVITY ***
[   27.588429] *** tisp_init: All hardware blocks enabled, registers configured, events ready ***
[   27.588435] *** ispcore_core_ops_init: Second tisp_init completed ***
[   27.588441] *** ispcore_core_ops_init: VIC already streaming (state 4) - preserving state to avoid reinitialization ****** ispcore_core_ops_init: Core device is stateless - only VIC state matters ***
[   27.588450] *** tx_isp_core_enable_irq: Enabling ISP Core hardware interrupts ***
[   27.588457] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   27.588462] *** ISP CORE: Hardware interrupt generation ENABLED ***
[   27.588468] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   27.588474] *** ispcore_core_ops_init: ISP Core hardware interrupts ENABLED - Frame sync should now work! ***
[   27.588479] ispcore_core_ops_init: Complete, result=0<6>[   27.588484] *** tx_isp_video_s_stream: Core init SUCCESS ***
[   27.588490] *** tx_isp_video_s_stream: Initializing Sensor subdev ***
[   27.588497] csi_core_ops_init: sd=8521bc00, csi_dev=8521bc00, enable=1
[   27.588503] *** tx_isp_video_s_stream: Sensor init SUCCESS ***
[   27.588508] *** tx_isp_video_s_stream: All subdev initialization complete - proceeding with s_stream ***
[   27.588515] *** tx_isp_video_s_stream: Calling subdev[0]->ops->video->s_stream(1) ***
[   27.588521] *** csi_video_s_stream: EXACT Binary Ninja implementation - FIXED for MIPS ***
[   27.588527] csi_video_s_stream: sd=8521bc00, enable=1
[   27.588532] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.588538] *** tx_isp_get_sensor: Found real sensor: 8521bc00 ***
[   27.588544] csi_video_s_stream: Stream ON - CSI state set to 4
[   27.588550] *** tx_isp_video_s_stream: subdev[0] s_stream SUCCESS ***
[   27.588556] *** tx_isp_video_s_stream: Calling subdev[1]->ops->video->s_stream(1) ***
[   27.588563] *** vic_core_s_stream: BINARY NINJA EXACT - sd=8047a000, enable=1 ***
[   27.588569] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=4 ***
[   27.588574] *** vic_core_s_stream: STREAM ON ***
[   27.588579] *** vic_core_s_stream: EXACT Binary Ninja - State=4, no action needed ***
[   27.588585] *** tx_isp_video_s_stream: subdev[1] s_stream SUCCESS ***
[   27.588592] *** tx_isp_video_s_stream: Calling subdev[2]->ops->video->s_stream(1) ***
[   27.588599] *** vin_s_stream: SAFE implementation - sd=85212a00, enable=1 ***
[   27.588605] vin_s_stream: VIN state = 3, enable = 1
[   27.588610] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.588616] *** tx_isp_get_sensor: Found real sensor: 8521bc00 ***
[   27.588622] vin_s_stream: VIN processing complete - sensor will be handled by core loop
[   27.588628] vin_s_stream: VIN state set to 4 (SAFE implementation)
[   27.588633] *** tx_isp_video_s_stream: subdev[2] s_stream SUCCESS ***
[   27.588640] *** tx_isp_video_s_stream: Calling subdev[4]->ops->video->s_stream(1) ***
[   27.588648] gc2053: s_stream called with enable=1
[   27.588655] gc2053: module data_interface=1, sensor data_interface=1 (1=DVP, 2=MIPI)
[   27.588661] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   27.588668] gc2053: About to write streaming registers for interface 1
[   27.588674] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   27.588684] sensor_write: reg=0xfe val=0x00, client=854b4b00, adapter=i2c0, addr=0x37
[   27.589010] sensor_write: reg=0xfe val=0x00 SUCCESS
[   27.589018] sensor_write_array: reg[1] 0xfe=0x00 OK
[   27.589026] sensor_write: reg=0x3e val=0x91, client=854b4b00, adapter=i2c0, addr=0x37
[   27.589335] sensor_write: reg=0x3e val=0x91 SUCCESS
[   27.589345] sensor_write_array: reg[2] 0x3e=0x91 OK
[   27.589352] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   27.589359] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   27.589365] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   27.589372] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   27.589377] *** tx_isp_video_s_stream: subdev[4] s_stream SUCCESS ***
[   27.589384] *** tx_isp_video_s_stream: Calling subdev[5]->ops->video->s_stream(1) ***
[   27.589390] gc2053: s_stream called with enable=1
[   27.589396] gc2053: module data_interface=1, sensor data_interface=1 (1=DVP, 2=MIPI)
[   27.589402] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   27.589408] gc2053: About to write streaming registers for interface 1
[   27.589415] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   27.589424] sensor_write: reg=0xfe val=0x00, client=854b4b00, adapter=i2c0, addr=0x37
[   27.589736] sensor_write: reg=0xfe val=0x00 SUCCESS
[   27.589742] sensor_write_array: reg[1] 0xfe=0x00 OK
[   27.589751] sensor_write: reg=0x3e val=0x91, client=854b4b00, adapter=i2c0, addr=0x37
[   27.590066] sensor_write: reg=0x3e val=0x91 SUCCESS
[   27.590072] sensor_write_array: reg[2] 0x3e=0x91 OK
[   27.590079] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   27.590085] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   27.590091] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   27.590097] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   27.590103] *** tx_isp_video_s_stream: subdev[5] s_stream SUCCESS ***
[   27.590117] ISP IOCTL: cmd=0x800456d0 arg=0x7feafa90
[   27.590124] TX_ISP_VIDEO_LINK_SETUP: config=0
[   27.590130] TX_ISP_VIDEO_LINK_SETUP: Link config unchanged (0)
[   27.590136] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   27.590143] tx_isp_video_link_stream: Starting streaming on all subdevices
[   27.590148] tx_isp_video_link_stream: Activating all subdevice modules first
[   27.590155] tx_isp_video_link_stream: Activating subdev[1] (isp-w02)
[   27.590162] tx_isp_video_link_stream: All subdevice modules activated
[   27.590168] tx_isp_video_link_stream: Calling link_stream on subdev[0] (isp-w00)
[   27.590174] *** csi_video_s_stream: EXACT Binary Ninja implementation - FIXED for MIPS ***
[   27.590180] csi_video_s_stream: sd=8521bc00, enable=1
[   27.590186] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.590192] *** tx_isp_get_sensor: Found real sensor: 8521bc00 ***
[   27.590198] csi_video_s_stream: Stream ON - CSI state set to 4
[   27.590204] tx_isp_video_link_stream: Calling link_stream on subdev[1] (isp-w02)
[   27.590211] *** vic_core_s_stream: BINARY NINJA EXACT - sd=8047a000, enable=1 ***
[   27.590217] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=4 ***
[   27.590222] *** vic_core_s_stream: STREAM ON ***
[   27.590228] *** vic_core_s_stream: EXACT Binary Ninja - State=4, no action needed ***
[   27.590234] tx_isp_video_link_stream: Calling link_stream on subdev[2] (isp-w01)
[   27.590241] *** vin_s_stream: SAFE implementation - sd=85212a00, enable=1 ***
[   27.590247] vin_s_stream: VIN state = 4, enable = 1
[   27.590252] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.590258] *** tx_isp_get_sensor: Found real sensor: 8521bc00 ***
[   27.590264] vin_s_stream: VIN processing complete - sensor will be handled by core loop
[   27.590270] vin_s_stream: VIN state set to 4 (SAFE implementation)
[   27.590276] tx_isp_video_link_stream: Calling link_stream on subdev[4] (gc2053)
[   27.590282] gc2053: s_stream called with enable=1
[   27.590290] gc2053: module data_interface=1, sensor data_interface=1 (1=DVP, 2=MIPI)
[   27.590295] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   27.590302] gc2053: About to write streaming registers for interface 1
[   27.590308] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   27.590316] sensor_write: reg=0xfe val=0x00, client=854b4b00, adapter=i2c0, addr=0x37
[   27.590629] sensor_write: reg=0xfe val=0x00 SUCCESS
[   27.590636] sensor_write_array: reg[1] 0xfe=0x00 OK
[   27.590644] sensor_write: reg=0x3e val=0x91, client=854b4b00, adapter=i2c0, addr=0x37
[   27.596906] sensor_write: reg=0x3e val=0x91 SUCCESS
[   27.596920] sensor_write_array: reg[2] 0x3e=0x91 OK
[   27.596926] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   27.596934] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   27.596940] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   27.596946] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   27.596954] tx_isp_video_link_stream: Calling link_stream on subdev[5] (gc2053)
[   27.596960] gc2053: s_stream called with enable=1
[   27.596967] gc2053: module data_interface=1, sensor data_interface=1 (1=DVP, 2=MIPI)
[   27.596973] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   27.596979] gc2053: About to write streaming registers for interface 1
[   27.596985] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   27.596995] sensor_write: reg=0xfe val=0x00, client=854b4b00, adapter=i2c0, addr=0x37
[   27.597312] sensor_write: reg=0xfe val=0x00 SUCCESS
[   27.597318] sensor_write_array: reg[1] 0xfe=0x00 OK
[   27.597327] sensor_write: reg=0x3e val=0x91, client=854b4b00, adapter=i2c0, addr=0x37
[   27.597710] sensor_write: reg=0x3e val=0x91 SUCCESS
[   27.597718] sensor_write_array: reg[2] 0x3e=0x91 OK
[   27.597724] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   27.597730] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   27.597736] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   27.597742] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   27.597748] tx_isp_video_link_stream: Successfully started streaming on all subdevices
[   27.642902] ISP isp-m0: [Core Control] write at offset 0xb004: 0xf001f001 -> 0x7 (delta: 5060.000 ms)
[   27.642917] ISP isp-m0: [Core Control] write at offset 0xb008: 0x40404040 -> 0x0 (delta: 5060.000 ms)
[   27.808926] ISP M0 device open called from pid 2246
[   27.808960] *** REFERENCE DRIVER IMPLEMENTATION ***
[   27.808968] ISP M0 tuning buffer allocated: 81198000 (size=0x500c, aligned)
[   27.808974] tisp_par_ioctl global variable set: 81198000
[   27.809029] isp_core_tunning_unlocked_ioctl: Auto-initializing tuning for V4L2 control (one-time)
[   27.809036] isp_core_tunning_unlocked_ioctl: Initializing tuning data structure
[   27.809042] isp_core_tuning_init: Initializing tuning data structure
[   27.809061] isp_core_tuning_init: Tuning data structure initialized at 811a0000
[   27.809068] isp_core_tuning_init: Structure size: 4356 bytes (vs Binary Ninja 0x40d0)
[   27.809073] *** SAFE: mode_flag properly initialized using struct member access ***
[   27.809080] isp_core_tunning_unlocked_ioctl: Tuning data allocated at 811a0000
[   27.809085] *** BINARY NINJA REFERENCE: Skipping auto-initialization - no hardware reset during tuning setup ***
[   27.809091] isp_core_tunning_unlocked_ioctl: ISP tuning auto-enabled for V4L2 controls (permanent)
[   27.809098] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   27.809104] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   27.809111] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   27.809161] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   27.809170] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   27.809196] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   27.809204] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980900
[   27.809209] CRITICAL: Cannot access brightness field - PREVENTS BadVA CRASH
[   27.809217] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561b
[   27.809224] isp_core_tunning_unlocked_ioctl: Get control cmd=0x980902
[   27.809230] CRITICAL: Cannot access saturation field at 811a0024 - PREVENTING BadVA CRASH
[   27.809593] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   27.809606] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   27.809613] Set control: cmd=0x980901 value=128
[   27.809674] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   27.809682] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   27.809688] Set control: cmd=0x98091b value=128
[   27.810006] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   27.810016] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   27.810023] Set control: cmd=0x980902 value=128
[   27.810029] tisp_bcsh_saturation: saturation=128
[   27.810034] tiziano_bcsh_update: Updating BCSH parameters
[   27.810042]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   27.810048] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   27.810458] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   27.810468] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   27.810474] Set control: cmd=0x980900 value=128
[   27.810890] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   27.810934] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980901 value=128
[   27.810942] Set control: cmd=0x980901 value=128
[   27.811140] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   27.811150] isp_core_tunning_unlocked_ioctl: Set control cmd=0x98091b value=128
[   27.811157] Set control: cmd=0x98091b value=128
[   27.811272] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   27.811282] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980902 value=128
[   27.811288] Set control: cmd=0x980902 value=128
[   27.811295] tisp_bcsh_saturation: saturation=128
[   27.811300] tiziano_bcsh_update: Updating BCSH parameters
[   27.811308]   Brightness: 128, Contrast: 128, Saturation: 128, Hue: 0
[   27.811313] tiziano_bcsh_update: BCSH update completed (simplified implementation)
[   27.811425] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   27.811434] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980900 value=128
[   27.811440] Set control: cmd=0x980900 value=128
[   27.811807] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   27.811819] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   27.811825] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   27.811984] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   27.811992] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   27.811998] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   27.812110] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   27.812119] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980914 value=0
[   27.812126] Set control: cmd=0x980914 value=0
[   27.812232] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   27.812241] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980915 value=0
[   27.812248] Set control: cmd=0x980915 value=0
[   27.812356] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   27.812364] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   27.812370] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   27.812494] ISP IOCTL: cmd=0x800456d3 arg=0x0
[   27.812505] tx_isp_video_link_stream: Stopping streaming on all subdevices
[   27.812512] tx_isp_video_link_stream: Calling link_stream on subdev[0] (isp-w00)
[   27.812519] *** csi_video_s_stream: EXACT Binary Ninja implementation - FIXED for MIPS ***
[   27.812526] csi_video_s_stream: sd=8521bc00, enable=0
[   27.812532] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.812538] *** tx_isp_get_sensor: Found real sensor: 8521bc00 ***
[   27.812544] csi_video_s_stream: Stream OFF - CSI state set to 3
[   27.812551] tx_isp_video_link_stream: Calling link_stream on subdev[1] (isp-w02)
[   27.812558] *** vic_core_s_stream: BINARY NINJA EXACT - sd=8047a000, enable=0 ***
[   27.812564] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=4 ***
[   27.812570] *** vic_core_s_stream: STREAM OFF ***
[   27.812574] vic_core_s_stream: Stream OFF - state 4 -> 3
[   27.812582] tx_isp_video_link_stream: Calling link_stream on subdev[2] (isp-w01)
[   27.812588] *** vin_s_stream: SAFE implementation - sd=85212a00, enable=0 ***
[   27.812595] vin_s_stream: VIN state = 4, enable = 0
[   27.812600] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.812606] *** tx_isp_get_sensor: Found real sensor: 8521bc00 ***
[   27.812612] vin_s_stream: VIN processing complete - sensor will be handled by core loop
[   27.812618] vin_s_stream: VIN state set to 3 (SAFE implementation)
[   27.812624] tx_isp_video_link_stream: Calling link_stream on subdev[4] (gc2053)
[   27.812632] gc2053: s_stream called with enable=0
[   27.812640] gc2053: module data_interface=1, sensor data_interface=1 (1=DVP, 2=MIPI)
[   27.812646] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   27.812652] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   27.812661] sensor_write: reg=0xfe val=0x00, client=854b4b00, adapter=i2c0, addr=0x37
[   27.812984] sensor_write: reg=0xfe val=0x00 SUCCESS
[   27.812992] sensor_write_array: reg[1] 0xfe=0x00 OK
[   27.813001] sensor_write: reg=0x3e val=0x00, client=854b4b00, adapter=i2c0, addr=0x37
[   27.815829] sensor_write: reg=0x3e val=0x00 SUCCESS
[   27.815979] sensor_write_array: reg[2] 0x3e=0x00 OK
[   27.815987] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   27.815994] gc2053: Sensor hardware streaming stopped
[   27.816002] tx_isp_video_link_stream: Calling link_stream on subdev[5] (gc2053)
[   27.816008] gc2053: s_stream called with enable=0
[   27.816015] gc2053: module data_interface=1, sensor data_interface=1 (1=DVP, 2=MIPI)
[   27.816021] gc2053: *** STOPPING SENSOR HARDWARE STREAMING ***
[   27.816027] gc2053: Writing MIPI stream OFF registers (0x3e=0x00)
[   27.816036] sensor_write: reg=0xfe val=0x00, client=854b4b00, adapter=i2c0, addr=0x37
[   27.816358] sensor_write: reg=0xfe val=0x00 SUCCESS
[   27.816364] sensor_write_array: reg[1] 0xfe=0x00 OK
[   27.816373] sensor_write: reg=0x3e val=0x00, client=854b4b00, adapter=i2c0, addr=0x37
[   27.817784] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   27.817796] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: ENABLE
[   27.817802] *** DEBUG: enable=1, dev->core_dev->tuning_enabled=1 ***
[   27.817808] *** BINARY NINJA REFERENCE: Tuning enable - no hardware reset performed ***
[   27.817813] isp_core_tunning_unlocked_ioctl: ISP tuning enabled
[   27.817940] sensor_write: reg=0x3e val=0x00 SUCCESS
[   27.817950] sensor_write_array: reg[2] 0x3e=0x00 OK
[   27.817956] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   27.817963] gc2053: Sensor hardware streaming stopped
[   27.817970] tx_isp_video_link_stream: Successfully stopped streaming on all subdevices
[   27.817980] ISP IOCTL: cmd=0x800456d1 arg=0x7feafa90
[   27.817988] tx_isp_video_link_destroy: Destroying links for config 0
[   27.817995] tx_isp_video_link_destroy: All links destroyed, config reset to -1
[   27.818004] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   27.818011] isp_core_tunning_unlocked_ioctl: Set control cmd=0x8000164 value=1
[   27.818017] Set control: cmd=0x8000164 value=1
[   27.818025] ISP IOCTL: cmd=0x800456d0 arg=0x7feafa90
[   27.818030] TX_ISP_VIDEO_LINK_SETUP: config=0
[   27.818036] TX_ISP_VIDEO_LINK_SETUP: Link config changed from -1 to 0
[   27.818042] TX_ISP_VIDEO_LINK_SETUP: Link config updated to 0
[   27.818049] ISP IOCTL: cmd=0x800456d2 arg=0x0
[   27.818055] tx_isp_video_link_stream: Starting streaming on all subdevices
[   27.818060] tx_isp_video_link_stream: Activating all subdevice modules first
[   27.818068] tx_isp_video_link_stream: Activating subdev[1] (isp-w02)
[   27.818075] tx_isp_video_link_stream: All subdevice modules activated
[   27.818082] tx_isp_video_link_stream: Calling link_stream on subdev[0] (isp-w00)
[   27.818088] *** csi_video_s_stream: EXACT Binary Ninja implementation - FIXED for MIPS ***
[   27.818094] csi_video_s_stream: sd=8521bc00, enable=1
[   27.818100] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.818106] *** tx_isp_get_sensor: Found real sensor: 8521bc00 ***
[   27.818112] csi_video_s_stream: Stream ON - CSI state set to 4
[   27.818118] tx_isp_video_link_stream: Calling link_stream on subdev[1] (isp-w02)
[   27.818125] *** vic_core_s_stream: BINARY NINJA EXACT - sd=8047a000, enable=1 ***
[   27.818131] *** vic_core_s_stream: BINARY NINJA EXACT - current_state=3 ***
[   27.818136] *** vic_core_s_stream: STREAM ON ***
[   27.818142] *** vic_core_s_stream: EXACT Binary Ninja - State != 4, calling VIC start sequence ***
[   27.818148] *** vic_core_s_stream: CRITICAL FIX - Skipping VIC interrupt disable to keep IRQ 38 enabled ***
[   27.818154] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.818160] *** tx_isp_get_sensor: Found real sensor: 8521bc00 ***
[   27.818165] *** tx_isp_vic_start: Using single VIC register base - EXACT Binary Ninja reference ***
[   27.818171] *** STREAMING: SKIPPING CPM clock reconfiguration to preserve CSI PHY configuration ***
[   27.818177] *** STREAMING: CPM clocks should already be configured during module init ***
[   27.818182] STREAMING: CPM clocks preserved - CSI PHY configuration should remain intact
[   27.818188] *** tx_isp_vic_start: Writing CRITICAL interrupt-enabling registers from working commits ***
[   27.818194] *** tx_isp_vic_start: CRITICAL interrupt-enabling registers written (0x3130322a, 0x1, 0x200) ***
[   27.818200] *** tx_isp_vic_start: CRITICAL DEBUG - interface_type=1, checking if == 1 ***
[   27.818206] *** tx_isp_vic_start: MIPI interface detected - configuring VIC for MIPI ***
[   27.818213] *** tx_isp_vic_start: vic_dev->width=1920, vic_dev->height=1080 ***
[   27.818218] *** tx_isp_vic_start: sensor_mode != interface_type, writing 0xa000a to 0x1a4 ***
[   27.818224] *** tx_isp_vic_start: Writing VIC configuration registers - EXACT Binary Ninja sequence ***
[   27.818230] *** tx_isp_vic_start: Adding CRITICAL missing VIC configuration registers ***
[   27.818238] *** tx_isp_vic_start: CRITICAL VIC configuration registers written - hardware protection should be prevented ***
[   27.818245] *** tx_isp_vic_start: Frame size 0x07800438 calculated but NOT written to 0x4 (interrupt register) ***
[   27.818252] *** tx_isp_vic_start: VIC unlock sequence using SECONDARY VIC space (0x10023000) ***
[   27.818258] *** tx_isp_vic_start: VIC unlock sequence - FIXED register space issue ***
[   27.818263] *** VIC unlock: Commands written, checking VIC status register ***
[   27.818270] *** VIC unlock: Completed with final status=0x0 after 0 iterations ***
[   27.818275] *** tx_isp_vic_start: VIC unlock completed using SECONDARY VIC space ***
[   27.818281] *** tx_isp_vic_start: VIC enabled using SECONDARY VIC space ***
[   27.818286] *** tx_isp_vic_start: CRITICAL FIX - Writing VIC Control register sequence ***
[   27.818292] *** tx_isp_vic_start: VIC processing enabled (0x0=0x1, 0x4=0x1) ***
[   27.818298] *** tx_isp_vic_start: Configuring VIC hardware prerequisites for interrupt registers ***
[   27.818305] *** VIC DIMENSIONS: Using cached sensor dimensions 1920x1080 (ATOMIC CONTEXT SAFE) ***
[   27.818311] *** VIC REGISTER CONFIG: FORCE writing VIC configuration registers (required for interrupts) ***
[   27.818319] *** VIC REGISTER CONFIG: VIC configuration registers written (0xc=2, 0x10=0x07800438, 0x14=3840) ***
[   27.818326] *** VIC HARDWARE PREREQUISITES: Dimensions 1920x1080, stride 3840, MIPI mode 2 ***
[   27.818332] *** VIC INTERRUPT CONFIG: Configuring VIC interrupt registers (0x1e0-0x1f4) - FROM WORKING VERSION ***
[   27.818339] *** VIC INTERRUPT CONFIG: VIC interrupt registers configured - VIC should now generate IRQ 38! ***
[   27.818344] *** VIC start completed - vic_start_ok = 1 ***
[   27.818352] *** ISP PIPELINE: VIC->ISP connection ENABLED (0x800=1, 0x804=0x1c, 0x1c=8) ***
[   27.818357] *** ISP CORE: Hardware interrupt generation ENABLED during VIC init ***
[   27.818363] *** VIC->ISP: Pipeline should now generate hardware interrupts when VIC completes frames! ***
[   27.818370] *** ISP CORE IRQ: enable_irq(37) called ***
[   27.818376] *** vic_core_s_stream: VIC state transition 3  4 (STREAMING) ***
[   27.818381] *** tx_vic_enable_irq: EXACT Binary Ninja implementation from working reference ***
[   27.818387] tx_vic_enable_irq: VIC interrupts already enabled
[   27.818392] *** tx_vic_enable_irq: completed successfully ***
[   27.818398] *** vic_core_s_stream: VIC initialized, final state=4 ***
[   27.818405] tx_isp_video_link_stream: Calling link_stream on subdev[2] (isp-w01)
[   27.818412] *** vin_s_stream: SAFE implementation - sd=85212a00, enable=1 ***
[   27.818418] vin_s_stream: VIN state = 3, enable = 1
[   27.818424] *** tx_isp_get_sensor: Searching subdev array for sensors ***
[   27.818430] *** tx_isp_get_sensor: Found real sensor: 8521bc00 ***
[   27.818435] vin_s_stream: VIN processing complete - sensor will be handled by core loop
[   27.818441] vin_s_stream: VIN state set to 4 (SAFE implementation)
[   27.818448] tx_isp_video_link_stream: Calling link_stream on subdev[4] (gc2053)
[   27.818454] gc2053: s_stream called with enable=1
[   27.818462] gc2053: module data_interface=1, sensor data_interface=1 (1=DVP, 2=MIPI)
[   27.818468] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   27.818474] gc2053: About to write streaming registers for interface 1
[   27.818480] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   27.818489] sensor_write: reg=0xfe val=0x00, client=854b4b00, adapter=i2c0, addr=0x37
[   27.819977] sensor_write: reg=0xfe val=0x00 SUCCESS
[   27.819989] sensor_write_array: reg[1] 0xfe=0x00 OK
[   27.820000] sensor_write: reg=0x3e val=0x91, client=854b4b00, adapter=i2c0, addr=0x37
[   27.820320] sensor_write: reg=0x3e val=0x91 SUCCESS
[   27.820328] sensor_write_array: reg[2] 0x3e=0x91 OK
[   27.820334] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   27.820341] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   27.820348] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   27.820354] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   27.820361] tx_isp_video_link_stream: Calling link_stream on subdev[5] (gc2053)
[   27.820368] gc2053: s_stream called with enable=1
[   27.820374] gc2053: module data_interface=1, sensor data_interface=1 (1=DVP, 2=MIPI)
[   27.820380] gc2053: *** STARTING SENSOR HARDWARE STREAMING ***
[   27.820386] gc2053: About to write streaming registers for interface 1
[   27.820392] gc2053: *** WRITING MIPI STREAM ON REGISTERS - INCLUDING 0x3e=0x91 ***
[   27.820401] sensor_write: reg=0xfe val=0x00, client=854b4b00, adapter=i2c0, addr=0x37
[   27.820713] sensor_write: reg=0xfe val=0x00 SUCCESS
[   27.820720] sensor_write_array: reg[1] 0xfe=0x00 OK
[   27.820728] sensor_write: reg=0x3e val=0x91, client=854b4b00, adapter=i2c0, addr=0x37
[   27.829192] sensor_write: reg=0x3e val=0x91 SUCCESS
[   27.829204] sensor_write_array: reg[2] 0x3e=0x91 OK
[   27.829211] sensor_write_array: Complete - wrote 2 registers, 0 errors
[   27.829219] gc2053: *** MIPI STREAM ON REGISTER WRITE COMPLETE, ret=0 ***
[   27.829225] gc2053: *** STREAMING REGISTERS WRITTEN SUCCESSFULLY ***
[   27.829231] gc2053: CRITICAL: 0x3e=0x91 should now be written - sensor outputting MIPI data
[   27.829238] tx_isp_video_link_stream: Successfully started streaming on all subdevices
[   27.829444] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc008561c
[   27.829454] isp_core_tunning_unlocked_ioctl: Set control cmd=0x980918 value=2
[   27.829461] Set control: cmd=0x980918 value=2
[   27.829594] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   27.829603] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   27.829609] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   27.829734] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   27.829743] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   27.829749] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   27.829864] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   27.829872] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   27.829878] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   27.830048] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   27.830059] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   27.830065] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   27.830252] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   27.830262] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   27.830267] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   27.830389] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   27.830398] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   27.830404] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   27.830520] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   27.830528] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   27.830534] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   27.830650] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   27.830658] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   27.830664] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   27.830856] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   27.830866] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   27.830871] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
[   27.830993] isp_core_tunning_unlocked_ioctl: Handling ISP core control command 0xc00c56c6
[   27.831002] isp_core_tunning_unlocked_ioctl: Tuning enable/disable: DISABLE
[   27.831007] *** BINARY NINJA REFERENCE: Tuning disable - no hardware reset performed ***
(reverse-i-search)'': warn: shm_init,53shm init already
[INFO:IMPAudio.cpp]: Audio In: format:OPUS, vol:80, gain:25, samplerate:16000, bitwidth:16, soundmode:1, frmNum:30, numPerFrm:640, chnCnt:1, usrFrmDepth:30
(reverse-i-search)'c': insmod /opt/sensor_gset jpeg streamMngCtx suceess
root@ing-wyze-cam3-a000 ~# cat /proc/interrupts 
           CPU0       
  9:          0   jz-intc  i2s_irq
 11:       5899   jz-intc  jz-timerost
 14:         16   jz-intc  ipu
 15:      67969   jz-intc  jz-sfc
 18:          0   jz-intc  pdma
 23:          0   jz-intc  GPIO C
 24:          1   jz-intc  GPIO B
 25:          0   jz-intc  GPIO A
 29:          1   jz-intc  dwc2
 37:          2   jz-intc  isp-m0
 38:          0   jz-intc  isp-w02
 44:       7638   jz-intc  jzmmc_v1.2.1
 45:          0   jz-intc  jzmmc_v1.2.0
 58:        388   jz-intc  uart1
 68:        159   jz-intc  jz-i2c.0
 70:          8   jz-intc  avpu.0
126:          0    GPIO B  GPIO Button
134:          1    GPIO B  mmc-insert-detect
ERR:          0
root@ing-wyze-cam3-a000 ~# [INFO:IMPAudioServerMediaSubsession.cpp]: IMPAudioServerMediaSubsession init
[INFO:RTSP.cpp]: Audio stream 0 added to session
[INFO:RTSP.cpp]: stream 0 available at: rtsp://192.168.50.211/ch0
[INFO:IMPAudioServerMediaSubsession.cpp]: IMPAudioServerMediaSubsession init
[INFO:RTSP.cpp]: Audio stream 1 added to session
[INFO:RTSP.cpp]: stream 1 available at: rtsp://192.168.50.211/ch1

